Sjasm Z80 Assembler v0.42c - www.xl2s.tk             [2018.09.07 - 20:00:14]

BURNUSEXPROMCASTRADO.ASM
Errors: 0

       1   00:0000                      	output "BURNUSexpcast.rom"
       2   00:0000                      	
       3   00:0000                      	
       4   00:0000  (00:00C3)           CLS			equ	#00C3	;CLS											;borra la pantalla
       5   00:0000  (00:006C)           SCREEN0		equ	#006C	;INITXT											;pasa a modo screen 0
       6   00:0000  (00:006F)           SCREEN1		equ	#006F	;INIT32											;pasa a modo screen 1 
       7   00:0000  (00:00D2)           MODOTEXTO	equ	#00D2	;TOTEXT											:fuerza a modo texto
       8   00:0000  (00:00C6)           LOCATE		equ	#00C6	;POSIT											;coloca el cursor en una rectrices h,l
       9   00:0000  (00:00A2)           CHPUT		equ	#00A2	;CHPUT											;escribe un caracter en pantalla
      10   00:0000  (00:00CC)           KEYOFF		equ	#00CC	;ERAFNK											;hace desaparecer las teclas de función
      11   00:0000  (00:0062)           COLOR		equ	#0062	;CHGCLR											;da color a la pantalla
      12   00:0000  (00:F3E9)           COLLETRA	equ	#F3E9	;FORCLR											;define el color de letras para CHGCLR
      13   00:0000  (00:F3EA)           COLFONDO	equ	#F3EA	;BAKCLR											;define el color de fondo para CHGCLR
      14   00:0000  (00:F3EB)           COLBORDE	equ	#F3EB	;BDRCLR											;defeine el color de bordes para CHGCLR
      15   00:0000  (00:009F)           INPUT		equ	#009F	;CHGET											;espera que pulses una tecla y manda el valor a registro a
      16   00:0000  (00:F3AF)           ANCHOSC0	equ	#F3AF	;LINL40											;define el width de screen 0
      17   00:0000  (00:F3AF)           ANCHOSC1	equ	#f3AF	;LINL32											;define el width de screen 1
      18   00:0000  (00:F3DB)           CLICKOFF	equ	#f3DB	;CLIKSW											;quita el sonido del toque de teclas
      19   00:0000  (00:0041)           DISSCR		equ	#0041													;desconecta la pantalla_en_blanco
      20   00:0000  (00:0044)           ENASCR		equ	#0044													;conecta la pantalla
      21   00:0000                      
      22   00:0000                      
      23   00:0000  (00:013E)           RDVDP		equ	#013E													;lee registro 8 del VDP
      24   00:0000  (00:0047)           WRTVDP		equ	#0047													;escribe registros del VDP
      25   00:0000  (00:005C)           GRABAVRAM	equ	#005C	;LDIRVM											;graba en vram una parte de ram
      26   00:0000  (00:0059)           GRABARAM	equ	#0059	;LDIRMV											;grava en ram una parte de vram
      27   00:0000                      
      28   00:0000  (00:005F)           SCREENX		equ	#005F	;CHGMOD											;elige el modo grafico
      29   00:0000  (00:00D5)           ONSTICK		equ	#00D5	;GTSTCK											;controla el stick
      30   00:0000  (00:00D8)           ONSTRIG		equ	#00D8	;GTTRIG											;controla los botones del joystick o la barra espaciadora
      31   00:0000  (00:003B)           RESET		equ #003B	;INITIO											;reinicia el ordenador
      32   00:0000                      
      33   00:0000  (00:FD9A)           H.KEYI		equ	#FD9A	;H.KEYI
      34   00:0000  (00:FD9F)           H.TIMI		equ	#FD9F	;H.TIMI
      35   00:0000                      
      36   00:0000  (00:0141)           SNSMAT		equ	#0141	;INKEY$											;controla si se ha pulsado una tecla
      37   00:0000                      
      38   00:0000  (00:0024)           ENASLT		equ	#0024													;para ampliar la rom
      39   00:0000  (00:FCC1)           EXPTBL		equ	#FCC1
      40   00:0000  (00:FCC5)           SLTTBL		equ	#FCC5		
      41   00:0000  (00:0138)           RSLREG  	equ	#0138
      42   00:0000  (00:C000)           SLOTVAR		equ	#C000
      43   00:0000                      
      44   00:0000  (00:F3DF)           RG0SAV		equ	#F3DF													;COPIA DE vdp DEL REGISTRO 0 (BASIC:VDP(0))
      45   00:0000  (00:F3E0)           RG1SAV		equ	#F3E0													;COPIA DE vdp DEL REGISTRO 1 (BASIC:VDP(1))
      46   00:0000  (00:F3E1)           RG2SAV		equ	#F3E1													;COPIA DE vdp DEL REGISTRO 2 (BASIC:VDP(2))
      47   00:0000  (00:F3E2)           RG3SAV		equ	#F3E2													;COPIA DE vdp DEL REGISTRO 3 (BASIC:VDP(3))
      48   00:0000  (00:F3E3)           RG4SAV		equ	#F3E3													;COPIA DE vdp DEL REGISTRO 4 (BASIC:VDP(4))
      49   00:0000  (00:F3E4)           RG5SAV		equ	#F3E4													;COPIA DE vdp DEL REGISTRO 5 (BASIC:VDP(5))
      50   00:0000  (00:F3E5)           RG6SAV		equ	#F3E5													;COPIA DE vdp DEL REGISTRO 6 (BASIC:VDP(6))
      51   00:0000  (00:F3E6)           RG7SAV		equ	#F3E6													;COPIA DE vdp DEL REGISTRO 7 (BASIC:VDP(7))
      52   00:0000  (00:FFE8)           RG9SAV		equ	#FfE8													;COPIA DE vdp DEL REGISTRO 9 (BASIC:VDP(9)) para control de los MSX2
      53   00:0000                      
      54   00:0000  (00:F3E7)           STATFL		equ	#F3E7													;COPIA DE vdp DEL REGISTRO 8 (EL QUE ES DE ESCRITURA (S#0))
      55   00:0000  (00:0069)           CLRSPR		equ	#0069													;inicializa todos los sprites
      56   00:0000                      
      57   00:0000                      ;PÀGINA 0		(#0000 - #3FFF)
      58   00:0000                      
      59   00:0000                      	org		#0000
      60   00:0000                      
      61   00:0000  (011E)              instru_caste:		incbin	"INSTRUCCIONES.DAT"							;las instrucciones en catellano
      62   00:011E  (010F)              instru_ingle:		incbin	"INSTRUCTIONS.DAT"							;las instrucciones en inglés
      63   00:022D                      
      64   00:022D  (05AD)              CANCION:			incbin	"MUSICMENUPLETTER.99"						;incluye la cancion de apertura desde el modo binario
      65   00:07DA  (001C)              SILENCIO:			incbin	"MUTEPLETTER.99"							;para crear un mute a la música
      66   00:07F6  (00C6)              MUSICA_GAMEOVER:	incbin	"GAMEOVERPLETTER.99"						;música de game over
      67   00:08BC  (034C)              MUSICA_FASES:		incbin	"FASESPLETTER.99"							;música de fases
      68   00:0C08  (00E3)              MUSICA_MUERTO:		incbin	"MUERTOPLETTER.99"							;musica de muere
      69   00:0CEB  (00EE)              MUSICA_ENTRE_FASES:	incbin	"ENTRE_FASESPLETTER.99"						;musica de entre fases
      70   00:0DD9                      
      71   00:0DD9  (0AD1)              pant_carga_til:	incbin	"PANTALLA_DE_CARGA_TILES.til"					;tiles de pantalla de carga
      72   00:18AA  (04D8)              pant_carga_col:	incbin	"PANTALLA_DE_CARGA_TILES.col"					;colores de pantalla de carga
      73   00:1D82  (0128)              pant_carga:		incbin	"PANTALLA_DE_CARGA.DAT"							;pantalla de carga
      74   00:1EAA                      
      75   00:1EAA  (0567)              tiles_1:		incbin	"TILESFpletter.til"								;tiles de juego 1
      76   00:2411  (0317)              colores_1:		incbin	"TILESFpletter.col"								;colores de juego 1
      77   00:2728                      
      78   00:2728                      
      79   00:2728  (0098)              fase_1:			incbin	"FASE_1_pletter.dat"							;pantalla fase 1
      80   00:27C0  (00F9)              fase_2:			incbin	"FASE_2_pletter.dat"
      81   00:28B9  (012D)              fase_3:			incbin	"FASE_3_pletter.dat"
      82   00:29E6                      	
      83   00:29E6                      relleno_page_0_:	
      84   00:29E6  00 (5658)           		ds      04000h-$,0000h       									;Rellena hasta completar los 16KB de la pagina 0
      85   00:4000                      
      86   00:4000                      ;PÁGINAS 1 Y 2	(#4000 - #BFFF)
      87   00:4000                      
      88   00:4000                      	org		#4000	
      89   00:4000                      
      90   00:4000  41 42               	db	"AB"															;Cabecera de fichero ROM
      91   00:4002  10 40               	word	START														;Dónde empieza la ejecución
      92   00:4004                      	word	0,0,0,0,0,0
      92   00:4004  00 00 00 00 00 00 00 00 00 00 00 00 
      93   00:4010                      		
      94   00:4010                      	
      95   00:4010                      	
      96   00:4010                      START:
      97   00:4010                      
      98   00:4010                      ; pasamos a 50 herzios si es un msx2 o superior
      99   00:4010                      
     100   00:4010  3A 2D 00            		ld		a,[#002D]												;si se trata de un msx1 no tocamos la vdp registro 9
     101   00:4013  B7                  		or		a
     102   00:4014  28 14               		jr.		z,ampliamos_lectura_a_32kb
     103   00:4016                      		
     104   00:4016  3E 07               		ld		a,7
     105   00:4018  CD 41 01            		call	SNSMAT
     106   00:401B  CB 7F               		bit		7,a
     107   00:401D  28 0B               		jr.		z,ampliamos_lectura_a_32kb
     108   00:401F                      
     109   00:401F  3A E8 FF            		ld		a,(RG9SAV)
     110   00:4022  F6 02               		or		00000010b												;a 50 hz
     111   00:4024  47                  		ld		b,a
     112   00:4025  0E 09               		ld		c,9
     113   00:4027  CD 47 00            		call	WRTVDP													;lo escribe en el registro 9 del VDP
     114   00:402A                      
     115   00:402A                      ampliamos_lectura_a_32kb:
     116   00:402A                      
     117   00:402A                      ; ampliamos la lectura de rom a 32 k
     118   00:402A                      
     119   00:402A  F3                  		di
     120   00:402B                      		
     121   00:402B  ED 56               		im		1														;modo de interrupciones 1
     122   00:402D  3E C9               		ld		a,#C9													;a tiene el valor de ret
     123   00:402F  32 9F FD            		ld		(#FD9F),A												;colocamos ese ret en el gancho H.Timi POR SI EL ORDENADOR TUVIERA ALGO (ALGUN MSX 2 CONTROL DE DISQUETERA)
     124   00:4032  32 9A FD            		ld		(#FD9A),A												;colocamos ese ret en el gancho H.Key POR SI EL ORDENADOR TUVIERA ALGO
     125   00:4035  31 80 F3             		ld		sp,#F380												; colocmos la pila en esta posicion, que suele ser donde empieza las zona ram que usa el S.O. del MSX. Recuerda que la pila crece hacia abajo así que no pisaremos nada
     126   00:4038                      
     127   00:4038                      ; borramos la vram entera
     128   00:4038                      
     129   00:4038  21 00 C0                    ld  hl,inicio_ram
     130   00:403B  11 01 C0                    ld  de,inicio_ram + 1
     131   00:403E  01 80 33                    ld  bc,#F380 - inicio_ram
     132   00:4041  36 00                       ld  (hl),0
     133   00:4043  ED B0                       ldir
     134   00:4045                              
     135   00:4045  CD 94 40            		call	search_slotset
     136   00:4048                      		
     137   00:4048  FB                  		ei
     138   00:4049                      
     139   00:4049                      ;descomprimimos la musica
     140   00:4049                      
     141   00:4049  F3                  		di																;desconectamos las interrupciones
     142   00:404A  CD 16 A5            		call	setrompage0												;con la pagina 0 de la rom pisamos la bios
     143   00:404D                      				
     144   00:404D  21 F6 07            		ld		hl,MUSICA_GAMEOVER										;descomprime musica game over
     145   00:4050  11 97 C6            		ld		de,GAME_OVER
     146   00:4053  CD 28 79            		call	depack
     147   00:4056                      		
     148   00:4056  21 DA 07            		ld		hl,SILENCIO												;descomprime musica mute
     149   00:4059  11 1D C8            		ld		de,MUTE
     150   00:405C  CD 28 79            		call	depack
     151   00:405F                      		
     152   00:405F  21 08 0C            		ld		hl,MUSICA_MUERTO										;descomprime musica mute
     153   00:4062  11 92 C8            		ld		de,MUERTO
     154   00:4065  CD 28 79            		call	depack
     155   00:4068                      		
     156   00:4068  21 EB 0C            		ld		hl,MUSICA_ENTRE_FASES									;descomprime musica entre fases
     157   00:406B  11 08 CA            		ld		de,ENTRE_FASES
     158   00:406E  CD 28 79            		call	depack
     159   00:4071                      		
     160   00:4071  21 C5 80            		ld		hl,EFECTOS_BAN_P
     161   00:4074  11 DF CB            		LD		DE,EFECTOS_BANCO
     162   00:4077                      		
     163   00:4077  CD 28 79            		CALL	depack
     164   00:407A                      		
     165   00:407A  CD 1B A5            		call	recbios
     166   00:407D                      											
     167   00:407D                      ;inicializamos la música
     168   00:407D                      		        						
     169   00:407D  21 DF CB            		ld		hl,EFECTOS_BANCO										;hl ahora vale la direccion donde se encuentran los efectos
     170   00:4080  CD E8 7F            		call	ayFX_SETUP												;inicia el reproductor de efectos
     171   00:4083                      		
     172   00:4083                      ;engancha nuestra rutina de servicio al gancho que djea preparada la BIOS cuando se termina de pintar la pantalla (50 o 60 veces por segundo)
     173   00:4083                      
     174   00:4083  3E C3               		ld		a,#C3													;#c3 es el código binario de jump (jp)
     175   00:4085  32 9F FD            		ld		[H.TIMI],a												;metemos en H.TIMI ese jp
     176   00:4088  21 D2 79            		ld		hl,nuestra_isr											;cargamos nuestra secuencia en hl
     177   00:408B  22 A0 FD            		ld		[H.TIMI+1],hl											;la ponemos a continuación del jp
     178   00:408E                      		
     179   00:408E  FB                  		ei																;conectamos las interrupciones
     180   00:408F                      		
     181   00:408F  CD F4 59            		call	musica_con_bucle
     182   00:4092                      		
     183   00:4092  18 27               		jr.		PANTALLA_DE_CARGA
     184   00:4094                      
     185   00:4094                      ;original from Ramones (http://karoshi.auic.es/index.php?topic=628.0)
     186   00:4094                      ; -----------------------
     187   00:4094                      ; SEARCH_SLOTSET
     188   00:4094                      ; Posiciona en pagina 2
     189   00:4094                      ; Nuestro ROM.
     190   00:4094                      ; -----------------------
     191   00:4094                      
     192   00:4094                      search_slotset:
     193   00:4094  CD 9A 40            		call search_slot
     194   00:4097  C3 24 00            		jp ENASLT
     195   00:409A                      
     196   00:409A                      
     197   00:409A                      ; -----------------------
     198   00:409A                      ; SEARCH_SLOT
     199   00:409A                      ; Busca slot de nuestro rom
     200   00:409A                      ; -----------------------
     201   00:409A                      
     202   00:409A                      search_slot:
     203   00:409A                      
     204   00:409A  CD 38 01            	call RSLREG
     205   00:409D  0F                  	rrca
     206   00:409E  0F                  	rrca
     207   00:409F  E6 03               	and 3
     208   00:40A1  4F                  	ld c,a
     209   00:40A2  06 00               	ld b,0
     210   00:40A4  21 C1 FC            	ld hl,0FCC1h
     211   00:40A7  09                  	add hl,bc
     212   00:40A8  7E                  	ld a,(hl)
     213   00:40A9  E6 80               	and 080h
     214   00:40AB  B1                  	or c
     215   00:40AC  4F                  	ld c,a
     216   00:40AD  23                  	inc hl
     217   00:40AE  23                  	inc hl
     218   00:40AF  23                  	inc hl
     219   00:40B0  23                  	inc hl
     220   00:40B1  7E                  	ld a,(hl)
     221   00:40B2  E6 0C               	and 0Ch
     222   00:40B4  B1                  	or c
     223   00:40B5  26 80               	ld h,080h
     224   00:40B7  32 00 C0            	ld (SLOTVAR),a
     225   00:40BA  C9                  	ret	
     226   00:40BB                      	
     227   00:40BB                      PANTALLA_DE_CARGA:
     228   00:40BB                      		
     229   00:40BB  CD 0F 4C            		call	PREPARACION_SCREEN_2
     230   00:40BE  CD 41 00            		call	DISSCR													;desconectamos la pantalla
     231   00:40C1  CD A2 45            		call	limpia_sprites
     232   00:40C4  CD C9 40            		call	colores_inicio
     233   00:40C7  18 0F               		jr.		cargando_patrones
     234   00:40C9                      		
     235   00:40C9                      colores_inicio:
     236   00:40C9                      		
     237   00:40C9  3E 07               		ld		a,7
     238   00:40CB  32 E9 F3            		ld		[COLLETRA],a											;aunque sólo quieras cambiar uno de los colores, tienes que volver a definir los otros dos para que te acepte un cambio
     239   00:40CE  AF                  		xor		a
     240   00:40CF  32 EA F3            		ld		[COLFONDO],a
     241   00:40D2  32 EB F3            		ld		[COLBORDE],a
     242   00:40D5  C3 62 00            		jr.		COLOR
     243   00:40D8                      
     244   00:40D8                      cargando_patrones:
     245   00:40D8                      
     246   00:40D8  F3                  		di
     247   00:40D9  CD 16 A5            		call	setrompage0
     248   00:40DC                      		
     249   00:40DC  21 D9 0D            		ld		hl,pant_carga_til										;cargamos patrones
     250   00:40DF  11 00 00            		ld		de,#0000
     251   00:40E2  CD 4A 78            		call	depack_VRAM
     252   00:40E5                      		
     253   00:40E5  21 82 1D            		ld		hl,pant_carga											;carga el marcador
     254   00:40E8  11 00 18            		ld		de,#1800
     255   00:40EB  CD 4A 78            		call	depack_VRAM
     256   00:40EE                      		
     257   00:40EE  21 AA 18            		ld		hl,pant_carga_col										;cargamos colores de patrones
     258   00:40F1  11 00 20            		ld		de,#2000
     259   00:40F4  CD 4A 78            		call	depack_VRAM
     260   00:40F7                      		
     261   00:40F7  CD 1B A5            		call	recbios
     262   00:40FA  FB                  		ei
     263   00:40FB                      		
     264   00:40FB                      			
     265   00:40FB  CD F7 4A            		call	SPRITES_PETISOS
     266   00:40FE                      		
     267   00:40FE  CD 44 00            		call	ENASCR													;conectamos la pantalla
     268   00:4101                      		
     269   00:4101  CD D0 4B            		call	activa_musica_menu
     270   00:4104                      
     271   00:4104                      INICIA_MUSICA:
     272   00:4104                      
     273   00:4104  CD D0 4B            		call	activa_musica_menu										;inicia el reproductor de PT3
     274   00:4107                      		
     275   00:4107  3E 01               		ld		a,1
     276   00:4109  32 0A C0            		ld		(direccion_exp),a
     277   00:410C  3E 0F               		ld		a,15
     278   00:410E  32 04 C0            		ld		(petisoy),a
     279   00:4111  3E 6E               		ld		a,110
     280   00:4113  32 03 C0            		ld		(petisox),a
     281   00:4116  3E 28               		ld		a,40
     282   00:4118  32 05 C0            		ld		(espera_petiso),a
     283   00:411B  32 07 C0            		ld		(espera_petiso_resta_2),a
     284   00:411E  32 06 C0            		ld		(espera_petiso_resta),a
     285   00:4121                      petisos:
     286   00:4121                      		
     287   00:4121  AF                  		xor		a
     288   00:4122  CD D8 00            		CALL	ONSTRIG
     289   00:4125  B7                  		or		a
     290   00:4126  C2 90 42            		jr.		nz,MENU
     291   00:4129                      		
     292   00:4129  3E 01               		ld		a,1
     293   00:412B  CD D8 00            		CALL	ONSTRIG
     294   00:412E  B7                  		or		a
     295   00:412F  C2 90 42            		jr.		nz,MENU
     296   00:4132                      		
     297   00:4132  CD 3A 41            		call	petiso_activity
     298   00:4135                      		
     299   00:4135  18 EA               		jr.		petisos
     300   00:4137                      		
     301   00:4137  C3 90 42            		jr.		MENU
     302   00:413A                      
     303   00:413A                      petiso_activity:
     304   00:413A                      
     305   00:413A  3A 06 C0            		ld		a,(espera_petiso_resta)
     306   00:413D  3D                  		dec		a
     307   00:413E  B7                  		or		a
     308   00:413F  32 06 C0            		ld		(espera_petiso_resta),a
     309   00:4142  C0                  		ret		nz
     310   00:4143  3A 05 C0            		ld		a,(espera_petiso)
     311   00:4146  32 06 C0            		ld		(espera_petiso_resta),a
     312   00:4149  3A 07 C0            		ld		a,(espera_petiso_resta_2)
     313   00:414C  3D                  		dec		a
     314   00:414D  B7                  		or		a
     315   00:414E  32 07 C0            		ld		(espera_petiso_resta_2),a
     316   00:4151  C0                  		ret		nz
     317   00:4152  3A 05 C0            		ld		a,(espera_petiso)
     318   00:4155  32 06 C0            		ld		(espera_petiso_resta),a
     319   00:4158  32 07 C0            		ld		(espera_petiso_resta_2),a
     320   00:415B                      		
     321   00:415B  2A 05 C0            		ld		hl,(espera_petiso)
     322   00:415E  22 06 C0            		ld		(espera_petiso_resta),hl
     323   00:4161                      
     324   00:4161  3A 02 C0            		ld		a,(petiso_que_toca)
     325   00:4164  B7                  		or		a
     326   00:4165  28 0E               		jr.		z,petiso_a_saltar
     327   00:4167                      		
     328   00:4167  AF                  		xor		a
     329   00:4168  32 02 C0            		ld		(petiso_que_toca),a
     330   00:416B  3A 04 C0            		ld		a,(petisoy)
     331   00:416E  C6 03               		add		3
     332   00:4170  32 04 C0            		ld		(petisoy),a
     333   00:4173  18 0F               		jr.		registros_petiso
     334   00:4175                      		
     335   00:4175                      petiso_a_saltar:
     336   00:4175                      		
     337   00:4175  3E 10               		ld		a,16
     338   00:4177  32 02 C0            		ld		(petiso_que_toca),a
     339   00:417A  3A 04 C0            		ld		a,(petisoy)
     340   00:417D  D6 03               		sub		3
     341   00:417F  32 04 C0            		ld		(petisoy),a
     342   00:4182  18 00               		jr.		registros_petiso
     343   00:4184                      
     344   00:4184                      registros_petiso:
     345   00:4184                      
     346   00:4184  76                  		halt
     347   00:4185  DD 21 2A C0         		ld		ix,atributos_sprite_general
     348   00:4189  3A 04 C0            		ld		a,(petisoy)
     349   00:418C  CD 28 78            		call	CERO_CUATRO_OCHO
     350   00:418F  DD 77 0C            		ld		(ix+12),a
     351   00:4192  3A 03 C0            		ld		a,(petisox)
     352   00:4195  CD 32 78            		call	UNO_CINCO_NUEVE
     353   00:4198  DD 77 0D            		ld		(ix+13),a
     354   00:419B  3A 02 C0            		ld		a,(petiso_que_toca)
     355   00:419E  CD 3C 78            		call	DOS_SEIS_DIEZ
     356   00:41A1  C6 04               		add		4
     357   00:41A3  DD 77 0E            		ld		(ix+14),a
     358   00:41A6  3E 01               		ld		a,1
     359   00:41A8  DD 77 03            		ld		(ix+3),a
     360   00:41AB  3E 04               		ld		a,4
     361   00:41AD  DD 77 07            		ld		(ix+7),a
     362   00:41B0  3E 0A               		ld		a,10
     363   00:41B2  DD 77 0B            		ld		(ix+11),a
     364   00:41B5  3E 0F               		ld		a,15
     365   00:41B7  DD 77 0F            		ld		(ix+15),a
     366   00:41BA                      		
     367   00:41BA  C3 14 5D            		jr.		atributos_sprites
     368   00:41BD                      
     369   00:41BD                      exp_activity:
     370   00:41BD                      
     371   00:41BD  3A 0C C0            		ld		a,(retardo_exp)
     372   00:41C0  3C                  		inc		a
     373   00:41C1  32 0C C0            		ld		(retardo_exp),a
     374   00:41C4  FE 14               		cp		20
     375   00:41C6  C0                  		ret		nz
     376   00:41C7  AF                  		xor		a
     377   00:41C8  32 0C C0            		ld		(retardo_exp),a
     378   00:41CB                      		
     379   00:41CB  3A 0A C0            		ld		a,(direccion_exp)
     380   00:41CE  B7                  		or		a
     381   00:41CF  28 1C               		jr.		z,exp_resta_posicion
     382   00:41D1                      		
     383   00:41D1                      exp_suma_posicion:
     384   00:41D1                      
     385   00:41D1  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     386   00:41D4  47                  		ld		b,a
     387   00:41D5  3A 08 C0            		ld		a,(y_exp)
     388   00:41D8  80                  		add		b
     389   00:41D9  32 08 C0            		ld		(y_exp),a
     390   00:41DC  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     391   00:41DF  3C                  		inc		a
     392   00:41E0  32 09 C0            		ld		(valor_suma_resta_exp),a
     393   00:41E3  FE 04               		cp		4
     394   00:41E5  38 2C               		jr.		c,exp_sprites
     395   00:41E7                      		
     396   00:41E7  AF                  		xor		a
     397   00:41E8  32 0A C0            		ld		(direccion_exp),a
     398   00:41EB  18 26               		jr.		exp_sprites
     399   00:41ED                      
     400   00:41ED                      exp_resta_posicion:
     401   00:41ED                      
     402   00:41ED  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     403   00:41F0  47                  		ld		b,a
     404   00:41F1  3A 08 C0            		ld		a,(y_exp)
     405   00:41F4  90                  		sub		b
     406   00:41F5  32 08 C0            		ld		(y_exp),a
     407   00:41F8  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     408   00:41FB  3D                  		dec		a
     409   00:41FC  32 09 C0            		ld		(valor_suma_resta_exp),a
     410   00:41FF  B7                  		or		a
     411   00:4200  20 11               		jr.		nz,exp_sprites
     412   00:4202                      		
     413   00:4202  3E 01               		ld		a,1
     414   00:4204  32 0A C0            		ld		(direccion_exp),a
     415   00:4207                      		
     416   00:4207  3A 08 C0            		ld		a,(y_exp)
     417   00:420A  FE 46               		cp		70
     418   00:420C  30 05               		jr.		nc,exp_sprites
     419   00:420E                      		
     420   00:420E  3E 46               		ld		a,70
     421   00:4210  32 08 C0            		ld		(y_exp),a
     422   00:4213                      		
     423   00:4213                      exp_sprites:		
     424   00:4213                      		
     425   00:4213  3A 0B C0            		ld		a,(cuenta_gira_exp)
     426   00:4216  FE 14               		cp		20
     427   00:4218  30 04               		jr.		nc,exp_sprites_diferente
     428   00:421A                      
     429   00:421A                      exp_sprite_1:
     430   00:421A                      		
     431   00:421A  3E 20               		ld		a,8*4
     432   00:421C  18 2C               		jr.		registros_exp		
     433   00:421E                      
     434   00:421E                      exp_sprites_diferente:
     435   00:421E                      
     436   00:421E  FE 14               		cp		20
     437   00:4220  28 18               		jr.		z,exp_sprite_2
     438   00:4222  FE 1A               		cp		26
     439   00:4224  28 14               		jr.		z,exp_sprite_2
     440   00:4226  FE 15               		cp		21
     441   00:4228  28 14               		jr.		z,exp_sprite_3
     442   00:422A  FE 19               		cp		25
     443   00:422C  28 10               		jr.		z,exp_sprite_3
     444   00:422E  FE 16               		cp		22
     445   00:4230  28 10               		jr.		z,exp_sprite_4
     446   00:4232  FE 18               		cp		24
     447   00:4234  28 0C               		jr.		z,exp_sprite_4
     448   00:4236  FE 17               		cp		23
     449   00:4238  28 0C               		jr.		z,exp_sprite_5
     450   00:423A                      
     451   00:423A                      exp_sprite_2:
     452   00:423A                      		
     453   00:423A  3E 2C               		ld		a,11*4
     454   00:423C  18 0C               		jr.		registros_exp
     455   00:423E                      
     456   00:423E                      exp_sprite_3:
     457   00:423E                      		
     458   00:423E  3E 38               		ld		a,14*4
     459   00:4240  18 08               		jr.		registros_exp
     460   00:4242                      
     461   00:4242                      exp_sprite_4:
     462   00:4242                      		
     463   00:4242  3E 44               		ld		a,17*4
     464   00:4244  18 04               		jr.		registros_exp
     465   00:4246                      
     466   00:4246                      exp_sprite_5:
     467   00:4246                      		
     468   00:4246  3E 50               		ld		a,20*4
     469   00:4248  18 00               		jr.		registros_exp		
     470   00:424A                      		
     471   00:424A                      registros_exp:
     472   00:424A                      
     473   00:424A  DD 77 12            		ld		(ix+18),a
     474   00:424D  C6 04               		add		4
     475   00:424F  DD 77 16            		ld		(ix+22),a
     476   00:4252  C6 04               		add		4
     477   00:4254  DD 77 1A            		ld		(ix+26),a
     478   00:4257  3A 08 C0            		ld		a,(y_exp)
     479   00:425A  DD 77 10            		ld		(ix+16),a
     480   00:425D  DD 77 14            		ld		(ix+20),a
     481   00:4260  DD 77 18            		ld		(ix+24),a
     482   00:4263  3E 78               		ld		a,120
     483   00:4265  DD 77 11            		ld		(ix+17),a
     484   00:4268  DD 77 15            		ld		(ix+21),a
     485   00:426B  DD 77 19            		ld		(ix+25),a
     486   00:426E  3E 01               		ld		a,1
     487   00:4270  DD 77 13            		ld		(ix+19),a
     488   00:4273  3E 0A               		ld		a,10
     489   00:4275  DD 77 17            		ld		(ix+23),a
     490   00:4278  3E 0F               		ld		a,15
     491   00:427A  DD 77 1B            		ld		(ix+27),a
     492   00:427D                      		
     493   00:427D  3A 0B C0            		ld		a,(cuenta_gira_exp)
     494   00:4280  3C                  		inc		a
     495   00:4281  32 0B C0            		ld		(cuenta_gira_exp),a
     496   00:4284  FE 1B               		cp		27
     497   00:4286  C2 14 5D            		jr.		nz,atributos_sprites
     498   00:4289  AF                  		xor		a
     499   00:428A  32 0B C0            		ld		(cuenta_gira_exp),a
     500   00:428D  C3 14 5D            		jr.		atributos_sprites
     501   00:4290                      		
     502   00:4290                      MENU:		
     503   00:4290                      
     504   00:4290                      		;prepara la pantalla
     505   00:4290                      		
     506   00:4290  CD C9 40            		call	colores_inicio
     507   00:4293  CD A2 45            		call	limpia_sprites
     508   00:4296  CD 0F 4C            		call	PREPARACION_SCREEN_2
     509   00:4299                      		
     510   00:4299  AF                  		xor		a														;XOR se lo carga todo poniendolo a 0, es como un ld a,0 pero ocupa menos
     511   00:429A  CD C3 00            		call	CLS
     512   00:429D                      		
     513   00:429D  3E 20               		ld		a,32													;pone el width a 32
     514   00:429F  32 AF F3            		ld		[ANCHOSC1],a
     515   00:42A2  AF                  		xor		a
     516   00:42A3  32 DB F3            		ld		[CLICKOFF],a											;quita el click de las teclas
     517   00:42A6  CD 6F 00            		call	SCREEN1													;pasa a modo screen 1
     518   00:42A9                      	
     519   00:42A9  CD CC 00            		call	KEYOFF													;borramos las teclas de función
     520   00:42AC  CD F7 4A            		call	SPRITES_PETISOS											;carga sprites petisos y exp
     521   00:42AF                      
     522   00:42AF                      PREPARA_VARIABLES_SERPIENTE:
     523   00:42AF                      
     524   00:42AF  3E 10               		ld		a,16
     525   00:42B1  32 15 C0            		ld		(y_serp),a
     526   00:42B4  01 B8 0B            		ld		bc,3000
     527   00:42B7  ED 43 17 C0         		ld		(clock),bc
     528   00:42BB                      		
     529   00:42BB  3E AE               		ld		a,174
     530   00:42BD  32 04 C0            		ld		(petisoy),a
     531   00:42C0  3E 1E               		ld		a,30
     532   00:42C2  32 03 C0            		ld		(petisox),a
     533   00:42C5  3E 07               		ld		a,7
     534   00:42C7  32 05 C0            		ld		(espera_petiso),a
     535   00:42CA  32 07 C0            		ld		(espera_petiso_resta_2),a
     536   00:42CD  32 06 C0            		ld		(espera_petiso_resta),a
     537   00:42D0  AF                  		xor		a
     538   00:42D1  32 09 C0            		ld		(valor_suma_resta_exp),a
     539   00:42D4  32 0B C0            		ld		(cuenta_gira_exp),a
     540   00:42D7  32 0C C0            		ld		(retardo_exp),a
     541   00:42DA  32 12 C0            		ld		(fuego_cambia),a
     542   00:42DD  3E 01               		ld		a,1
     543   00:42DF  32 0A C0            		ld		(direccion_exp),a
     544   00:42E2  3E 46               		ld		a,70
     545   00:42E4  32 08 C0            		ld		(y_exp),a
     546   00:42E7                      				
     547   00:42E7                      RUTINA_DE_MENU:
     548   00:42E7                      
     549   00:42E7  21 4C A2            		ld		hl,letras_A												;redefine las letras
     550   00:42EA  11 08 02            		ld		de,#0208
     551   00:42ED  01 D0 00            		ld		bc,8*26
     552   00:42F0  CD 5C 00            		call	GRABAVRAM
     553   00:42F3                      		
     554   00:42F3  21 1C A3            		ld		hl,titulo_centro1										;redefine tiles de título
     555   00:42F6  11 08 03            		ld		de,#0308
     556   00:42F9  01 C0 00            		ld		bc,8*24
     557   00:42FC  CD 5C 00            		call	GRABAVRAM
     558   00:42FF                      		
     559   00:42FF  21 DC A3            		ld		hl,parentesis_a											;redefine parentesis
     560   00:4302  11 40 01            		ld		de,#0140
     561   00:4305  01 10 00            		ld		bc,8*2
     562   00:4308  CD 5C 00            		call	GRABAVRAM
     563   00:430B                      		
     564   00:430B  21 EC A3            		ld		hl,guion												;redefine guion y punto
     565   00:430E  11 58 01            		ld		de,#0158
     566   00:4311  01 10 00            		ld		bc,8*2
     567   00:4314  CD 5C 00            		call	GRABAVRAM
     568   00:4317                      		
     569   00:4317  21 FC A3            		ld		hl,numero0												;redefine numeros y dos puntos
     570   00:431A  11 80 01            		ld		de,#0180	
     571   00:431D  01 58 00            		ld		bc,8*11
     572   00:4320  CD 5C 00            		call	GRABAVRAM
     573   00:4323                      								
     574   00:4323                      PANTALLA_DE_SELECCION:
     575   00:4323                      		
     576   00:4323  AF                  		xor		a
     577   00:4324  CD C3 00            		call	CLS
     578   00:4327                      				
     579   00:4327  26 01               		ld		h,1
     580   00:4329  2E 04               		ld		l,4
     581   00:432B  CD C6 00            		call	LOCATE
     582   00:432E  21 F5 A0            		ld		hl,titulo_1
     583   00:4331  CD 2D 45            		call	lee_pinta_una
     584   00:4334                      						
     585   00:4334  26 02               		ld		h,2
     586   00:4336  2E 18               		ld		l,24
     587   00:4338  CD C6 00            		call	LOCATE
     588   00:433B  21 2B A2            		ld		hl,copyright
     589   00:433E  CD 2D 45            		call	lee_pinta_una
     590   00:4341                      		
     591   00:4341  3A 01 C0            		ld		a,(idioma)
     592   00:4344  B7                  		or		a
     593   00:4345  28 50               		jr.		z,menu_castellano
     594   00:4347                      
     595   00:4347                      menu_ingles:
     596   00:4347                      
     597   00:4347  26 03               		ld		h,3														;escribe pantalla de menu
     598   00:4349  2E 01               		ld		l,1
     599   00:434B  CD C6 00            		call	LOCATE
     600   00:434E  21 BB A0            		ld		hl,empresa
     601   00:4351  CD 2D 45            		call	lee_pinta_una
     602   00:4354                      			
     603   00:4354  26 0C               		ld		h,12
     604   00:4356  2E 10               		ld		l,16
     605   00:4358  CD C6 00            		call	LOCATE
     606   00:435B  21 E0 A1            		ld		hl,teclado
     607   00:435E  CD 2D 45            		call	lee_pinta_una	
     608   00:4361                      		
     609   00:4361  26 0C               		ld		h,12
     610   00:4363  2E 12               		ld		l,18
     611   00:4365  CD C6 00            		call	LOCATE
     612   00:4368  21 E7 A1            		ld		hl,mando
     613   00:436B  CD 2D 45            		call	lee_pinta_una
     614   00:436E                      		
     615   00:436E  26 0F               		ld		h,15
     616   00:4370  2E 0D               		ld		l,13
     617   00:4372  CD C6 00            		call	LOCATE
     618   00:4375  21 DB A1            		ld		hl,mensaje_ING
     619   00:4378  CD 2D 45            		call	lee_pinta_una
     620   00:437B                      				
     621   00:437B  26 0C               		ld		h,12
     622   00:437D  2E 14               		ld		l,20
     623   00:437F  CD C6 00            		call	LOCATE
     624   00:4382  21 EE A1            		ld		hl,instrucciones
     625   00:4385  CD 2D 45            		call	lee_pinta_una
     626   00:4388                      		
     627   00:4388  26 0C               		ld		h,12
     628   00:438A  2E 16               		ld		l,22
     629   00:438C  CD C6 00            		call	LOCATE
     630   00:438F  21 14 A2            		ld		hl,salir
     631   00:4392  CD 2D 45            		call	lee_pinta_una
     632   00:4395                      		
     633   00:4395  18 4E               		jr.		rutina_colores_inicio
     634   00:4397                      		
     635   00:4397                      menu_castellano:
     636   00:4397                      
     637   00:4397  26 03               		ld		h,3														;escribe pantalla de menu
     638   00:4399  2E 01               		ld		l,1
     639   00:439B  CD C6 00            		call	LOCATE
     640   00:439E  21 D8 A0            		ld		hl,empresa_e
     641   00:43A1  CD 2D 45            		call	lee_pinta_una
     642   00:43A4                      		
     643   00:43A4  26 0F               		ld		h,15
     644   00:43A6  2E 0D               		ld		l,13
     645   00:43A8  CD C6 00            		call	LOCATE
     646   00:43AB  21 D6 A1            		ld		hl,mensaje
     647   00:43AE  CD 2D 45            		call	lee_pinta_una
     648   00:43B1                      		
     649   00:43B1  26 0C               		ld		h,12
     650   00:43B3  2E 10               		ld		l,16
     651   00:43B5  CD C6 00            		call	LOCATE
     652   00:43B8  21 F9 A1            		ld		hl,teclado_e
     653   00:43BB  CD 2D 45            		call	lee_pinta_una	
     654   00:43BE                      		
     655   00:43BE  26 0C               		ld		h,12
     656   00:43C0  2E 12               		ld		l,18
     657   00:43C2  CD C6 00            		call	LOCATE
     658   00:43C5  21 01 A2            		ld		hl,mando_e
     659   00:43C8  CD 2D 45            		call	lee_pinta_una
     660   00:43CB                      				
     661   00:43CB  26 0C               		ld		h,12
     662   00:43CD  2E 14               		ld		l,20
     663   00:43CF  CD C6 00            		call	LOCATE
     664   00:43D2  21 0B A2            		ld		hl,instruccion_e
     665   00:43D5  CD 2D 45            		call	lee_pinta_una
     666   00:43D8                      		
     667   00:43D8  26 0C               		ld		h,12
     668   00:43DA  2E 16               		ld		l,22
     669   00:43DC  CD C6 00            		call	LOCATE
     670   00:43DF  21 21 A2            		ld		hl,salir_e
     671   00:43E2  CD 2D 45            		call	lee_pinta_una		
     672   00:43E5                      				
     673   00:43E5                      rutina_colores_inicio:													;rutina de colores
     674   00:43E5                      		
     675   00:43E5  21 61 8A            		ld		hl,col_letras_10
     676   00:43E8  CD F3 43            		call	rutina_colores_pinto
     677   00:43EB  21 5D 8A            		ld		hl,col_letras_9
     678   00:43EE  CD F3 43            		call	rutina_colores_pinto
     679   00:43F1                      		
     680   00:43F1                      								
     681   00:43F1  18 21               		jr.		anima_fuego
     682   00:43F3                      		
     683   00:43F3                      rutina_colores_pinto:
     684   00:43F3                      																		;redefine los colores de las letras
     685   00:43F3  11 0C 20            		ld		de,#200c
     686   00:43F6  01 04 00            		ld		bc,4
     687   00:43F9  CD 5C 00            		call	GRABAVRAM
     688   00:43FC                      		
     689   00:43FC                      reinicia_fuego:
     690   00:43FC                      
     691   00:43FC  21 E8 FD            		ld		hl,65000
     692   00:43FF  22 12 C0            		ld		(fuego_cambia),hl
     693   00:4402  C9                  		ret
     694   00:4403                      
     695   00:4403                      cambia_variable_fuego:
     696   00:4403                      
     697   00:4403  3A 14 C0            		ld		a,(fuego_cambiante)
     698   00:4406  B7                  		or		a
     699   00:4407  28 05               		jr.		z,cambia_variable_fuego_2
     700   00:4409  AF                  		xor		a
     701   00:440A  32 14 C0            		ld		(fuego_cambiante),a
     702   00:440D                      		
     703   00:440D  C9                  		ret
     704   00:440E                      		
     705   00:440E                      cambia_variable_fuego_2:
     706   00:440E                      
     707   00:440E  3E 01               		ld		a,1
     708   00:4410  32 14 C0            		ld		(fuego_cambiante),a
     709   00:4413                      		
     710   00:4413  C9                  		ret
     711   00:4414                      				
     712   00:4414                      anima_fuego:
     713   00:4414                      
     714   00:4414  2A 12 C0            		ld		hl,(fuego_cambia)
     715   00:4417  B7                  		or		a
     716   00:4418  CC 03 44            		call	z,cambia_variable_fuego
     717   00:441B  2A 14 C0            		ld		hl,(fuego_cambiante)
     718   00:441E  B7                  		or		a
     719   00:441F  CC FC 43            		call	z,reinicia_fuego
     720   00:4422                      						
     721   00:4422  3A 14 C0            		ld		a,(fuego_cambiante)
     722   00:4425  B7                  		or		a
     723   00:4426  28 23               		jr.		z,anima_fuego_2
     724   00:4428                      		
     725   00:4428  21 54 A3            		ld		hl,fueguito_1	
     726   00:442B  11 40 03            		ld		de,#0340
     727   00:442E  01 10 00            		ld		bc,8*2
     728   00:4431  CD 5C 00            		call	GRABAVRAM
     729   00:4434                      		
     730   00:4434  21 AC A3            		ld		hl,fuego_quema	
     731   00:4437  11 C0 03            		ld		de,#03c0
     732   00:443A  01 18 00            		ld		bc,8*3
     733   00:443D  CD 5C 00            		call	GRABAVRAM
     734   00:4440                      		
     735   00:4440  21 84 A3            		ld		hl,flame_1	
     736   00:4443  11 70 03            		ld		de,#0370
     737   00:4446  CD 2A 4F            		call	standard_tiles_cambiantes
     738   00:4449                      				
     739   00:4449  18 30               		jr.		contro_serpiente_a_pintar
     740   00:444B                      		
     741   00:444B                      anima_fuego_2:
     742   00:444B                      
     743   00:444B  21 01 00            		ld		hl,1
     744   00:444E  22 12 C0            		ld		(fuego_cambia),hl
     745   00:4451                      		
     746   00:4451  21 5C A3            		ld		hl,fueguito_2	
     747   00:4454  11 40 03            		ld		de,#0340
     748   00:4457  CD 2A 4F            		call	standard_tiles_cambiantes
     749   00:445A                      		
     750   00:445A  21 54 A3            		ld		hl,fueguito_1											;redefine tiles de fuego
     751   00:445D  11 48 03            		ld		de,#0348
     752   00:4460  CD 2A 4F            		call	standard_tiles_cambiantes
     753   00:4463                      		
     754   00:4463  21 C4 A3            		ld		hl,fuego_quema_2
     755   00:4466  11 C0 03            		ld		de,#03c0
     756   00:4469  01 18 00            		ld		bc,8*3
     757   00:446C  CD 5C 00            		call	GRABAVRAM
     758   00:446F                      		
     759   00:446F  21 8C A3            		ld		hl,flame_2
     760   00:4472  11 70 03            		ld		de,#0370
     761   00:4475  01 08 00            		ld		bc,8*1
     762   00:4478  CD 5C 00            		call	GRABAVRAM
     763   00:447B                      		
     764   00:447B                      contro_serpiente_a_pintar:
     765   00:447B                      		
     766   00:447B  2A 12 C0            		ld		hl,(fuego_cambia)
     767   00:447E  2B                  		dec		hl
     768   00:447F  22 12 C0            		ld		(fuego_cambia),hl
     769   00:4482                      		
     770   00:4482  CD 3A 41            		call	petiso_activity
     771   00:4485                      		
     772   00:4485  21 59 8A            		ld		hl,col_letras_8
     773   00:4488  CD F3 43            		call	rutina_colores_pinto
     774   00:448B                      		
     775   00:448B  CD BD 41            		call	exp_activity											;llama al exp en movimiento
     776   00:448E                      		
     777   00:448E  21 55 8A            		ld		hl,col_letras_7
     778   00:4491  CD F3 43            		call	rutina_colores_pinto
     779   00:4494                      		
     780   00:4494  C3 37 45            		jr.		pinta_serpiente_1
     781   00:4497                      				
     782   00:4497                      control_stick_menu:
     783   00:4497                      		
     784   00:4497  21 51 8A            		ld		hl,col_letras_5
     785   00:449A  CD F3 43            		call	rutina_colores_pinto
     786   00:449D                      		
     787   00:449D  AF                  		xor		a
     788   00:449E  CD D5 00            		call	ONSTICK
     789   00:44A1  B7                  		or		a
     790   00:44A2  C2 B1 44            		jp		nz,mas_control
     791   00:44A5  3E 01               		ld		a,1
     792   00:44A7  CD D5 00            		call	ONSTICK
     793   00:44AA  B7                  		or		a
     794   00:44AB  C2 B1 44            		jp		nz,mas_control
     795   00:44AE  C3 D1 44            		jp		limpiamos_la_ultima_opcion
     796   00:44B1                      
     797   00:44B1                      mas_control:
     798   00:44B1                      		
     799   00:44B1  3A E0 DE            		ld		a,(sigue_pulsando)
     800   00:44B4  B7                  		or		a
     801   00:44B5  C2 D5 44            		jp		nz,control_strig_menu
     802   00:44B8                      		
     803   00:44B8  AF                  		xor		a														;controla el movimiento de la serpiente en menu
     804   00:44B9  CD C3 44            		call	control_stick_menu_para_dos_sticks
     805   00:44BC                      		
     806   00:44BC  3E 01               		ld		a,1
     807   00:44BE  CD C3 44            		call	control_stick_menu_para_dos_sticks
     808   00:44C1                      		
     809   00:44C1  18 12               		jr.		control_strig_menu
     810   00:44C3                      
     811   00:44C3                      control_stick_menu_para_dos_sticks:
     812   00:44C3                      		
     813   00:44C3  CD D5 00            		call	ONSTICK
     814   00:44C6  FE 01               		cp		1
     815   00:44C8  CA 4E 45            		jr.		z,sube_cursor
     816   00:44CB  FE 05               		cp		5
     817   00:44CD  CA 78 45            		jr.		z,baja_cursor
     818   00:44D0                      		
     819   00:44D0  C9                  		ret
     820   00:44D1                      
     821   00:44D1                      limpiamos_la_ultima_opcion:
     822   00:44D1                      
     823   00:44D1  AF                  		xor		a
     824   00:44D2  32 E0 DE            		ld		(sigue_pulsando),a
     825   00:44D5                      				
     826   00:44D5                      control_strig_menu:														;controla si pulsa espacio para seleccionar una opcion
     827   00:44D5                      		
     828   00:44D5  21 65 8A            		ld		hl,col_letras_12
     829   00:44D8  CD F3 43            		call	rutina_colores_pinto
     830   00:44DB                      		
     831   00:44DB  AF                  		xor		a
     832   00:44DC  CD D8 00            		CALL	ONSTRIG
     833   00:44DF  B7                  		or		a
     834   00:44E0  20 0B               		jr.		nz,que_ha_elegido
     835   00:44E2                      		
     836   00:44E2  3E 01               		ld		a,1
     837   00:44E4  CD D8 00            		CALL	ONSTRIG
     838   00:44E7  B7                  		or		a
     839   00:44E8  20 03               		jr.		nz,que_ha_elegido
     840   00:44EA                      				
     841   00:44EA                      controla_tiempo_para_cambio:											;contador para ir a mostrar los creditos
     842   00:44EA                      		
     843   00:44EA                      ;		ld		hl,(clock)
     844   00:44EA                      ;		ld		bc,1		
     845   00:44EA                      ;		sbc		hl,bc
     846   00:44EA                      ;		ld		(clock),hl
     847   00:44EA                      ;		jr.		nz,rutina_colores_inicio			
     848   00:44EA                      ;		ld		bc,30000
     849   00:44EA                      ;		ld		(clock),bc
     850   00:44EA  C3 E5 43            		jr.		rutina_colores_inicio									;quitamos creditos para ahorrar memoria								
     851   00:44ED                      
     852   00:44ED                      ;CREDITOS:
     853   00:44ED                      		
     854   00:44ED                      ;		call	limpia_sprites
     855   00:44ED                      						
     856   00:44ED                      ;		xor		a
     857   00:44ED                      ;		call	CLS
     858   00:44ED                      				
     859   00:44ED                      ;		ld		h,18
     860   00:44ED                      ;		ld		l,1
     861   00:44ED                      ;		call	LOCATE
     862   00:44ED                      ;		ld		hl,benja
     863   00:44ED                      ;		call	lee_pinta_una
     864   00:44ED                      				
     865   00:44ED                      ;		ld		h,21
     866   00:44ED                      ;		ld		l,9
     867   00:44ED                      ;		call	LOCATE
     868   00:44ED                      ;		ld		hl,john
     869   00:44ED                      ;		call	lee_pinta_una
     870   00:44ED                      					
     871   00:44ED                      ;		ld		h,17
     872   00:44ED                      ;		ld		l,13
     873   00:44ED                      ;		call	LOCATE
     874   00:44ED                      ;		ld		hl,salguero
     875   00:44ED                      ;		call	lee_pinta_una
     876   00:44ED                      				
     877   00:44ED                      ;		ld		h,21
     878   00:44ED                      ;		ld		l,17
     879   00:44ED                      ;		call	LOCATE
     880   00:44ED                      ;		ld		hl,jorge
     881   00:44ED                      ;		call	lee_pinta_una
     882   00:44ED                      		
     883   00:44ED                      ;		ld		h,2
     884   00:44ED                      ;		ld		l,24
     885   00:44ED                      ;		call	LOCATE
     886   00:44ED                      ;		ld		hl,mis_chicos
     887   00:44ED                      ;		call	lee_pinta_una
     888   00:44ED                      				
     889   00:44ED                      ;		ld		h,14
     890   00:44ED                      ;		ld		l,5
     891   00:44ED                      ;		call	LOCATE
     892   00:44ED                      ;		ld		hl,tromax
     893   00:44ED                      ;		call	lee_pinta_una
     894   00:44ED                      		
     895   00:44ED                      ;		call	SPRITES_ONIRIC
     896   00:44ED                      		
     897   00:44ED                      ;		ld		a,140
     898   00:44ED                      ;		ld		ix,atributos_sprite_general
     899   00:44ED                      ;		ld		(ix),a
     900   00:44ED                      ;		ld		(ix+8),a
     901   00:44ED                      ;		add		16
     902   00:44ED                      ;		ld		(ix+4),a
     903   00:44ED                      ;		ld		(ix+12),a
     904   00:44ED                      ;		ld		a,90
     905   00:44ED                      ;		ld		(ix+1),a
     906   00:44ED                      ;		ld		(ix+5),a
     907   00:44ED                      ;		add		16
     908   00:44ED                      ;		ld		(ix+9),a
     909   00:44ED                      ;		ld		(ix+13),a
     910   00:44ED                      ;		ld		a,15
     911   00:44ED                      ;		ld		(ix+3),a
     912   00:44ED                      ;		ld		(ix+7),a
     913   00:44ED                      ;		ld		(ix+11),a
     914   00:44ED                      ;		ld		(ix+15),a
     915   00:44ED                      ;		xor		a
     916   00:44ED                      ;		ld		(ix+2),a
     917   00:44ED                      ;		add		4
     918   00:44ED                      ;		ld		(ix+10),a
     919   00:44ED                      ;		add		4
     920   00:44ED                      ;		ld		(ix+6),a
     921   00:44ED                      ;		add		4
     922   00:44ED                      ;		ld		(ix+14),a
     923   00:44ED                      		
     924   00:44ED                      ;		call	atributos_sprites
     925   00:44ED                      		
     926   00:44ED                      ;		ld		a,(idioma)
     927   00:44ED                      ;		cp		0
     928   00:44ED                      ;		jr.		z,creditos_castellano
     929   00:44ED                      		
     930   00:44ED                      	
     931   00:44ED                      ;creditos_ingles:
     932   00:44ED                      
     933   00:44ED                      ;		ld		h,1
     934   00:44ED                      ;		ld		l,5
     935   00:44ED                      ;		call	LOCATE
     936   00:44ED                      ;		ld		hl,mano_derecha_e
     937   00:44ED                      ;		call	lee_pinta_una
     938   00:44ED                      		
     939   00:44ED                      ;		ld		h,1
     940   00:44ED                      ;		ld		l,1
     941   00:44ED                      ;		call	LOCATE
     942   00:44ED                      ;		ld		hl,programacion
     943   00:44ED                      ;		call	lee_pinta_una
     944   00:44ED                      		
     945   00:44ED                      ;		ld		h,1
     946   00:44ED                      ;		ld		l,9
     947   00:44ED                      ;		call	LOCATE
     948   00:44ED                      ;		ld		hl,musica
     949   00:44ED                      ;		call	lee_pinta_una
     950   00:44ED                      		
     951   00:44ED                      ;		ld		h,1
     952   00:44ED                      ;		ld		l,13
     953   00:44ED                      ;		call	LOCATE
     954   00:44ED                      ;		ld		hl,ilustrations
     955   00:44ED                      ;		call	lee_pinta_una
     956   00:44ED                      		
     957   00:44ED                      ;		ld		h,1
     958   00:44ED                      ;		ld		l,17
     959   00:44ED                      ;		call	LOCATE
     960   00:44ED                      ;		ld		hl,graficos
     961   00:44ED                      ;		call	lee_pinta_una
     962   00:44ED                      		
     963   00:44ED                      ;		ld		h,1
     964   00:44ED                      ;		ld		l,20
     965   00:44ED                      ;		call	LOCATE
     966   00:44ED                      ;		ld		hl,thanks
     967   00:44ED                      ;		call	lee_pinta_una
     968   00:44ED                      		
     969   00:44ED                      ;		jr.		controla_tiempo_para_cambio_2
     970   00:44ED                      		
     971   00:44ED                      ;creditos_castellano:
     972   00:44ED                      		
     973   00:44ED                      ;		ld		h,1
     974   00:44ED                      ;		ld		l,5
     975   00:44ED                      ;		call	LOCATE
     976   00:44ED                      ;		ld		hl,mano_derecha
     977   00:44ED                      ;		call	lee_pinta_una
     978   00:44ED                      ;		
     979   00:44ED                      ;		ld		h,1
     980   00:44ED                      ;		ld		l,1
     981   00:44ED                      ;		call	LOCATE
     982   00:44ED                      ;		ld		hl,programacion_e
     983   00:44ED                      ;		call	lee_pinta_una
     984   00:44ED                      		
     985   00:44ED                      ;		ld		h,1
     986   00:44ED                      ;		ld		l,9
     987   00:44ED                      ;		call	LOCATE
     988   00:44ED                      ;		ld		hl,musica_e
     989   00:44ED                      ;		call	lee_pinta_una
     990   00:44ED                      		
     991   00:44ED                      ;		ld		h,1
     992   00:44ED                      ;		ld		l,13
     993   00:44ED                      ;		call	LOCATE
     994   00:44ED                      ;		ld		hl,ilustraciones
     995   00:44ED                      ;		call	lee_pinta_una
     996   00:44ED                      		
     997   00:44ED                      ;		ld		h,1
     998   00:44ED                      ;		ld		l,17
     999   00:44ED                      ;		call	LOCATE
    1000   00:44ED                      ;		ld		hl,graficos_e
    1001   00:44ED                      ;		call	lee_pinta_una
    1002   00:44ED                      		
    1003   00:44ED                      ;		ld		h,1
    1004   00:44ED                      ;		ld		l,20
    1005   00:44ED                      ;		call	LOCATE
    1006   00:44ED                      ;		ld		hl,agradecido
    1007   00:44ED                      ;		call	lee_pinta_una
    1008   00:44ED                      		
    1009   00:44ED                      ;controla_tiempo_para_cambio_2:
    1010   00:44ED                      
    1011   00:44ED                      ;		xor		a
    1012   00:44ED                      ;		CALL	ONSTRIG
    1013   00:44ED                      ;		cp		0
    1014   00:44ED                      ;		jr.		nz,prepara_contador_para_menu
    1015   00:44ED                      		
    1016   00:44ED                      ;		ld		a,1
    1017   00:44ED                      ;		CALL	ONSTRIG
    1018   00:44ED                      ;		cp		0
    1019   00:44ED                      ;		jr.		nz,prepara_contador_para_menu
    1020   00:44ED                      		
    1021   00:44ED                      ;		ld		hl,(clock)	
    1022   00:44ED                      ;		ld		bc,1				
    1023   00:44ED                      ;		sbc		hl,bc
    1024   00:44ED                      ;		ld		(clock),hl
    1025   00:44ED                      		
    1026   00:44ED                      ;		jr.		nz,controla_tiempo_para_cambio_2
    1027   00:44ED                      			
    1028   00:44ED                      ;prepara_contador_para_menu:
    1029   00:44ED                      
    1030   00:44ED                      ;		ld		bc,60000
    1031   00:44ED                      ;		ld		(clock),bc
    1032   00:44ED                      
    1033   00:44ED                      ;		jr.		MENU
    1034   00:44ED                      				
    1035   00:44ED                      que_ha_elegido:
    1036   00:44ED                      
    1037   00:44ED  3E 01               		ld		a,1														;efecto de pinchar opción
    1038   00:44EF  CD 24 78            		call	efecto_sonido
    1039   00:44F2                      		
    1040   00:44F2  3A 15 C0            		ld		a,(y_serp)
    1041   00:44F5  FE 10               		cp		16
    1042   00:44F7  CA 1E 45            		jp		z,prepara_nivel_1
    1043   00:44FA  FE 12               		cp		18
    1044   00:44FC  CA 25 45            		jp		z,prepara_nivel_2
    1045   00:44FF  FE 14               		cp		20
    1046   00:4501  CA 09 45            		jp		z,idioma_a_pintar
    1047   00:4504  FE 16               		cp		22
    1048   00:4506  CA BB 40            		jp		z,PANTALLA_DE_CARGA
    1049   00:4509                      
    1050   00:4509                      idioma_a_pintar:
    1051   00:4509                      		
    1052   00:4509  3A 01 C0            		ld		a,(idioma)
    1053   00:450C  B7                  		or		a
    1054   00:450D  20 08               		jr.		nz,ingles
    1055   00:450F                      
    1056   00:450F                      castellano
    1057   00:450F                      
    1058   00:450F  3E 01               		ld		a,1
    1059   00:4511  32 01 C0            		ld		(idioma),a
    1060   00:4514                      		
    1061   00:4514  C3 90 42            		jr.		MENU
    1062   00:4517                      		
    1063   00:4517                      ingles:
    1064   00:4517                      	
    1065   00:4517  AF                  		xor		a
    1066   00:4518  32 01 C0            		ld		(idioma),a
    1067   00:451B                      		
    1068   00:451B  C3 90 42            		JR.		MENU
    1069   00:451E                      					
    1070   00:451E                      prepara_nivel_1:
    1071   00:451E                      
    1072   00:451E  AF                  		xor		a
    1073   00:451F  32 16 C0            		ld		(nivel),a
    1074   00:4522  CD D0 45            		call	prepara_juego
    1075   00:4525                      
    1076   00:4525                      prepara_nivel_2:
    1077   00:4525                      
    1078   00:4525  3E 01               		ld		a,1
    1079   00:4527  32 16 C0            		ld		(nivel),a
    1080   00:452A  CD D0 45            		call	prepara_juego
    1081   00:452D                      		
    1082   00:452D                      lee_pinta_una:															;imprime el texto fijo
    1083   00:452D  7E                  		ld		a,[hl]
    1084   00:452E  47                  		ld		b,a
    1085   00:452F                      		
    1086   00:452F                      loop_lee_pinta_una:
    1087   00:452F  23                  		inc		hl
    1088   00:4530  7E                  		ld		a,[hl]
    1089   00:4531  CD A2 00            		call	CHPUT
    1090   00:4534  10 F9               		djnz	loop_lee_pinta_una
    1091   00:4536  C9                  		ret
    1092   00:4537                      				
    1093   00:4537                      pinta_serpiente_1:
    1094   00:4537                      		
    1095   00:4537  ED 4B 15 C0         		ld		bc,[y_serp]
    1096   00:453B  26 0A               		ld		h,10
    1097   00:453D  69                  		ld		l,c
    1098   00:453E  CD C6 00            		call	LOCATE
    1099   00:4541  21 48 A2            		ld		hl,serp_1
    1100   00:4544  CD 2D 45            		call	lee_pinta_una
    1101   00:4547  ED 43 15 C0         		ld		[y_serp],bc
    1102   00:454B  C3 97 44            		jp		control_stick_menu
    1103   00:454E                      	
    1104   00:454E                      sube_cursor:															;comprueva si lo puede subir
    1105   00:454E                       		
    1106   00:454E  3E 01               		ld		a,1
    1107   00:4550  32 E0 DE            		ld		(sigue_pulsando),a
    1108   00:4553                      		
    1109   00:4553  3A 15 C0             		ld		a,(y_serp)
    1110   00:4556  FE 10                		cp		16
    1111   00:4558  C2 5C 45             		jp		nz,lo_sube
    1112   00:455B                       		
    1113   00:455B  C9                   		ret
    1114   00:455C                      
    1115   00:455C                      lo_sube:																;lo sube porque es posible
    1116   00:455C                      
    1117   00:455C  AF                  		xor		a														;efecto de movimiento
    1118   00:455D  CD 24 78            		call	efecto_sonido
    1119   00:4560                      		
    1120   00:4560  3A 15 C0            		ld		a,(y_serp)
    1121   00:4563  26 0A               		ld		h,10
    1122   00:4565  6F                  		ld		l,a
    1123   00:4566  CD C6 00            		call	LOCATE
    1124   00:4569  21 4A A2            		ld		hl,nada
    1125   00:456C  CD 2D 45            		call	lee_pinta_una
    1126   00:456F                      		
    1127   00:456F  3A 15 C0            		ld		a,(y_serp)
    1128   00:4572  D6 02               		sub		2														;decrementa a 2 veces
    1129   00:4574  32 15 C0            		ld		(y_serp),a
    1130   00:4577                      		
    1131   00:4577  C9                  		ret
    1132   00:4578                      
    1133   00:4578                      baja_cursor:															;comprueva si lo puede bajar
    1134   00:4578                      
    1135   00:4578  3E 05               		ld		a,5
    1136   00:457A  32 E0 DE            		ld		(sigue_pulsando),a
    1137   00:457D                      			
    1138   00:457D  3A 15 C0            		ld		a,(y_serp)
    1139   00:4580  FE 16                		cp		22
    1140   00:4582  C2 86 45             		jp		nz,lo_baja
    1141   00:4585                       		
    1142   00:4585  C9                   		ret
    1143   00:4586                      
    1144   00:4586                      lo_baja:																;lo baja porque es posbile
    1145   00:4586                      
    1146   00:4586  AF                  		xor		a														;efecto de movimiento
    1147   00:4587  CD 24 78            		call	efecto_sonido
    1148   00:458A                      		
    1149   00:458A  3A 15 C0            		ld		a,(y_serp)
    1150   00:458D  26 0A               		ld		h,10
    1151   00:458F  6F                  		ld		l,a
    1152   00:4590  CD C6 00            		call	LOCATE
    1153   00:4593  21 4A A2            		ld		hl,nada
    1154   00:4596  CD 2D 45            		call	lee_pinta_una
    1155   00:4599                      				
    1156   00:4599  3A 15 C0            		ld		a,(y_serp)
    1157   00:459C  C6 02               		add		2														;incrementa a 2 veces
    1158   00:459E  32 15 C0            		ld		(y_serp),a
    1159   00:45A1                      		
    1160   00:45A1  C9                  		ret
    1161   00:45A2                      		
    1162   00:45A2                      limpia_sprites:
    1163   00:45A2                      
    1164   00:45A2  DD 21 2A C0         		ld		ix,atributos_sprite_general
    1165   00:45A6  3E D1               		ld		a,209
    1166   00:45A8  DD 77 00            		ld		(ix),a
    1167   00:45AB  DD 77 04            		ld		(ix+4),a
    1168   00:45AE  DD 77 08            		ld		(ix+8),a
    1169   00:45B1  DD 77 0C            		ld		(ix+12),a
    1170   00:45B4  DD 77 10            		ld		(ix+16),a
    1171   00:45B7  DD 77 14            		ld		(ix+20),a
    1172   00:45BA  DD 77 18            		ld		(ix+24),a
    1173   00:45BD  DD 77 1C            		ld		(ix+28),a
    1174   00:45C0  DD 77 20            		ld		(ix+32),a
    1175   00:45C3  DD 77 24            		ld		(ix+36),a
    1176   00:45C6  DD 77 28            		ld		(ix+40),a
    1177   00:45C9  DD 77 2C            		ld		(ix+44),a
    1178   00:45CC  76                  		halt
    1179   00:45CD  C3 14 5D            		jr.		atributos_sprites
    1180   00:45D0                      				
    1181   00:45D0                      prepara_juego:
    1182   00:45D0                      		
    1183   00:45D0  CD A2 45            		call	limpia_sprites
    1184   00:45D3                      		
    1185   00:45D3  CD 9B 4B            		call	activa_mute												
    1186   00:45D6                      		
    1187   00:45D6  CD 0F 4C            		call	PREPARACION_SCREEN_2
    1188   00:45D9                      
    1189   00:45D9                      		
    1190   00:45D9  CD 0F 4B            		call	SPRITES_UNO
    1191   00:45DC                      		
    1192   00:45DC  CD 41 00            		call	DISSCR													;desconectamos la pantalla
    1193   00:45DF                      		
    1194   00:45DF  CD A2 45            		call	limpia_sprites
    1195   00:45E2                      		
    1196   00:45E2  F3                  		di
    1197   00:45E3  CD 16 A5            		call	setrompage0
    1198   00:45E6                      		
    1199   00:45E6  21 AA 1E            		ld		hl,tiles_1												;cargamos patrones
    1200   00:45E9  11 00 00            		ld		de,#0000
    1201   00:45EC  CD 4A 78            		call	depack_VRAM
    1202   00:45EF                      		
    1203   00:45EF  21 11 24            		ld		hl,colores_1											;cargamos colores de patrones
    1204   00:45F2  11 00 20            		ld		de,#2000
    1205   00:45F5  CD 4A 78            		call	depack_VRAM
    1206   00:45F8                      		
    1207   00:45F8  AF                  		xor		a
    1208   00:45F9  32 1C C0            		ld		(py),a
    1209   00:45FC  3A 01 C0            		ld		a,(idioma)
    1210   00:45FF  B7                  		or		a
    1211   00:4600  28 0B               		jr.		z,instrucciones_en_castellano
    1212   00:4602                      
    1213   00:4602                      instrucciones_en_ingles:		
    1214   00:4602                      																			
    1215   00:4602  21 1E 01            		ld		hl,instru_ingle											;instrucciones en ingles
    1216   00:4605  11 00 18            		ld		de,#1800
    1217   00:4608  CD 4A 78            		call	depack_VRAM
    1218   00:460B                      				
    1219   00:460B  18 09               		jr.		animaciones_de_instrucciones
    1220   00:460D                      		
    1221   00:460D                      instrucciones_en_castellano:
    1222   00:460D                      
    1223   00:460D  21 00 00            		ld		hl,instru_caste											;instrucciones en castellano
    1224   00:4610  11 00 18            		ld		de,#1800
    1225   00:4613  CD 4A 78            		call	depack_VRAM
    1226   00:4616                      		
    1227   00:4616                      animaciones_de_instrucciones:
    1228   00:4616                      		
    1229   00:4616  CD 1B A5            		call	recbios													;recuperamos la bios
    1230   00:4619  FB                  		ei
    1231   00:461A  CD 44 00            		call	ENASCR
    1232   00:461D                      		
    1233   00:461D  DD 21 2A C0         		ld		ix,atributos_sprite_general
    1234   00:4621  CD 5C 4B            		call	SPRITES_BOMBA
    1235   00:4624                      		
    1236   00:4624                      animaciones_de_instrucciones_1:
    1237   00:4624                      		
    1238   00:4624  3E 98               		ld		a,152													;camina hacia la derecha lento con o sin bomba
    1239   00:4626  DD 77 00            		ld		(ix),a
    1240   00:4629  D6 07               		sub		7
    1241   00:462B  DD 77 08            		ld		(ix+8),a
    1242   00:462E  C6 10               		add		16
    1243   00:4630  DD 77 04            		ld		(ix+4),a
    1244   00:4633                      		
    1245   00:4633  3A 1C C0            		ld		a,(py)
    1246   00:4636  C6 05               		add		5
    1247   00:4638  32 1C C0            		ld		(py),a
    1248   00:463B  CD 32 78            		call	UNO_CINCO_NUEVE
    1249   00:463E                      		
    1250   00:463E  AF                  		xor		a
    1251   00:463F  CD 3C 78            		call	DOS_SEIS_DIEZ
    1252   00:4642                      		
    1253   00:4642  3E 01               		ld		a,1
    1254   00:4644  DD 77 03            		ld		(ix+3),a
    1255   00:4647  3E 03               		ld		a,3
    1256   00:4649  DD 77 07            		ld		(ix+7),a
    1257   00:464C  3E 09               		ld		a,9
    1258   00:464E  DD 77 0B            		ld		(ix+11),a
    1259   00:4651                      		
    1260   00:4651  3E 11               		ld		a,17													;efecto sonoro de paso lento
    1261   00:4653  CD 24 78            		call	efecto_sonido
    1262   00:4656                      		
    1263   00:4656  CD 14 5D            		call	atributos_sprites
    1264   00:4659                      
    1265   00:4659  3E 05               		ld		a,5
    1266   00:465B  32 17 C0            		ld		(clock),a
    1267   00:465E                      		
    1268   00:465E  CD 68 74            		call	espera_de_animaciones
    1269   00:4661                      		
    1270   00:4661  3A 1C C0            		ld		a,(py)
    1271   00:4664  C6 05               		add		5
    1272   00:4666  32 1C C0            		ld		(py),a
    1273   00:4669  CD 32 78            		call	UNO_CINCO_NUEVE
    1274   00:466C                      		
    1275   00:466C  3E 0C               		ld		a,3*4
    1276   00:466E  CD 3C 78            		call	DOS_SEIS_DIEZ
    1277   00:4671                      		
    1278   00:4671  CD 14 5D            		call	atributos_sprites
    1279   00:4674                      
    1280   00:4674  3E 05               		ld		a,5
    1281   00:4676  32 17 C0            		ld		(clock),a
    1282   00:4679                      				
    1283   00:4679  CD 68 74            		call	espera_de_animaciones
    1284   00:467C                      		
    1285   00:467C  AF                  		xor		a
    1286   00:467D  CD D8 00            		CALL	ONSTRIG
    1287   00:4680  B7                  		or		a
    1288   00:4681  C2 94 47            		jr.		nz,vamos_alla
    1289   00:4684                      		
    1290   00:4684  3E 01               		ld		a,1
    1291   00:4686  CD D8 00            		CALL	ONSTRIG
    1292   00:4689  B7                  		or		a
    1293   00:468A  C2 94 47            		jr.		nz,vamos_alla
    1294   00:468D                      				
    1295   00:468D  3A 1C C0            		ld		a,(py)
    1296   00:4690  FE 78               		cp		120
    1297   00:4692  28 08               		jr.		z,animaciones_de_instrucciones_2
    1298   00:4694  38 8E               		jr.		c,animaciones_de_instrucciones_1
    1299   00:4696  FE FA               		cp		250
    1300   00:4698  28 5C               		jr.		z,animaciones_de_instrucciones_3
    1301   00:469A  38 88               		jr.		c,animaciones_de_instrucciones_1
    1302   00:469C                      
    1303   00:469C                      
    1304   00:469C                      animaciones_de_instrucciones_2:									
    1305   00:469C                      		
    1306   00:469C  CD 0F 4B            		call	SPRITES_UNO
    1307   00:469F                      		
    1308   00:469F  3E 03               		ld		a,3														;efecto sonoro de bomba
    1309   00:46A1  CD 24 78            		call	efecto_sonido
    1310   00:46A4                      		
    1311   00:46A4  3E A0               		ld		a,160													; lanza la bomba
    1312   00:46A6  DD 77 0C            		ld		(ix+12),a
    1313   00:46A9  3E 87               		ld		a,135
    1314   00:46AB  DD 77 0D            		ld		(ix+13),a
    1315   00:46AE  3E 54               		ld		a,21*4
    1316   00:46B0  DD 77 0E            		ld		(ix+14),a
    1317   00:46B3  3E 0F               		ld		a,15
    1318   00:46B5  DD 77 0F            		ld		(ix+15),a
    1319   00:46B8                      		
    1320   00:46B8  CD 14 5D            		call	atributos_sprites
    1321   00:46BB                      		
    1322   00:46BB  3E 0A               		ld		a,10
    1323   00:46BD  32 17 C0            		ld		(clock),a
    1324   00:46C0                      		
    1325   00:46C0  CD 68 74            		call	espera_de_animaciones
    1326   00:46C3                      		
    1327   00:46C3  3E 58               		ld		a,22*4
    1328   00:46C5  DD 77 0E            		ld		(ix+14),a
    1329   00:46C8                      		
    1330   00:46C8  CD 14 5D            		call	atributos_sprites
    1331   00:46CB                      		
    1332   00:46CB  3E 0A               		ld		a,10
    1333   00:46CD  32 17 C0            		ld		(clock),a
    1334   00:46D0                      		
    1335   00:46D0  CD 68 74            		call	espera_de_animaciones
    1336   00:46D3                      		
    1337   00:46D3  3E 5C               		ld		a,23*4
    1338   00:46D5  DD 77 0E            		ld		(ix+14),a
    1339   00:46D8                      		
    1340   00:46D8  CD 14 5D            		call	atributos_sprites
    1341   00:46DB                      		
    1342   00:46DB  3E 0A               		ld		a,10
    1343   00:46DD  32 17 C0            		ld		(clock),a
    1344   00:46E0                      		
    1345   00:46E0  CD 68 74            		call	espera_de_animaciones
    1346   00:46E3                      		
    1347   00:46E3  3E 60               		ld		a,24*4
    1348   00:46E5  DD 77 0E            		ld		(ix+14),a
    1349   00:46E8                      		
    1350   00:46E8  CD 14 5D            		call	atributos_sprites
    1351   00:46EB                      		
    1352   00:46EB  3E 1E               		ld		a,30
    1353   00:46ED  32 17 C0            		ld		(clock),a
    1354   00:46F0                      		
    1355   00:46F0  CD 68 74            		call	espera_de_animaciones
    1356   00:46F3                      		
    1357   00:46F3  C3 24 46            		jr.		animaciones_de_instrucciones_1
    1358   00:46F6                      		
    1359   00:46F6                      animaciones_de_instrucciones_3:
    1360   00:46F6                      
    1361   00:46F6  3A 1C C0            		ld		a,(py)													;camina hacia la izquierda rápido
    1362   00:46F9  D6 05               		sub		5
    1363   00:46FB  32 1C C0            		ld		(py),a
    1364   00:46FE  CD 32 78            		call	UNO_CINCO_NUEVE
    1365   00:4701                      		
    1366   00:4701  3E 18               		ld		a,6*4
    1367   00:4703  CD 3C 78            		call	DOS_SEIS_DIEZ
    1368   00:4706                      		
    1369   00:4706  3E 12               		ld		a,18													;efecto sonoro de paso rápido
    1370   00:4708  CD 24 78            		call	efecto_sonido
    1371   00:470B                      		
    1372   00:470B  CD 14 5D            		call	atributos_sprites
    1373   00:470E                      
    1374   00:470E  3E 04               		ld		a,4
    1375   00:4710  32 17 C0            		ld		(clock),a
    1376   00:4713                      		
    1377   00:4713  CD 68 74            		call	espera_de_animaciones
    1378   00:4716                      		
    1379   00:4716  AF                  		xor		a
    1380   00:4717  CD D8 00            		CALL	ONSTRIG
    1381   00:471A  B7                  		or		a
    1382   00:471B  20 77               		jr.		nz,vamos_alla
    1383   00:471D                      		
    1384   00:471D  3E 01               		ld		a,1
    1385   00:471F  CD D8 00            		CALL	ONSTRIG
    1386   00:4722  B7                  		or		a
    1387   00:4723  20 6F               		jr.		nz,vamos_alla
    1388   00:4725                      		
    1389   00:4725  3A 1C C0            		ld		a,(py)
    1390   00:4728  FE C8               		cp		200
    1391   00:472A  30 24               		jr.		nc,animaciones_de_instrucciones_4
    1392   00:472C                      		
    1393   00:472C  C6 32               		add		50
    1394   00:472E  DD 77 0D            		ld		(ix+13),a
    1395   00:4731  DD 77 11            		ld		(ix+17),a
    1396   00:4734  3E 98               		ld		a,152
    1397   00:4736  DD 77 0C            		ld		(ix+12),a
    1398   00:4739  DD 77 10            		ld		(ix+16),a
    1399   00:473C  3E 64               		ld		a,25*4
    1400   00:473E  DD 77 0E            		ld		(ix+14),a
    1401   00:4741  3E 74               		ld		a,29*4
    1402   00:4743  DD 77 12            		ld		(ix+18),a
    1403   00:4746  3E 0B               		ld		a,11
    1404   00:4748  DD 77 0F            		ld		(ix+15),a
    1405   00:474B  3E 01               		ld		a,1
    1406   00:474D  DD 77 13            		ld		(ix+19),a
    1407   00:4750                      		
    1408   00:4750                      animaciones_de_instrucciones_4:		
    1409   00:4750                      		
    1410   00:4750  3A 1C C0            		ld		a,(py)
    1411   00:4753  D6 05               		sub		5
    1412   00:4755  32 1C C0            		ld		(py),a
    1413   00:4758  CD 32 78            		call	UNO_CINCO_NUEVE
    1414   00:475B                      		
    1415   00:475B  3E 24               		ld		a,9*4
    1416   00:475D  CD 3C 78            		call	DOS_SEIS_DIEZ
    1417   00:4760                      		
    1418   00:4760  CD 14 5D            		call	atributos_sprites
    1419   00:4763                      
    1420   00:4763  3E 04               		ld		a,4
    1421   00:4765  32 17 C0            		ld		(clock),a
    1422   00:4768                      		
    1423   00:4768  CD 68 74            		call	espera_de_animaciones
    1424   00:476B                      		
    1425   00:476B  3A 1C C0            		ld		a,(py)
    1426   00:476E  FE C8               		cp		200
    1427   00:4770  30 12               		jr.		nc,animaciones_de_instrucciones_5
    1428   00:4772                      		
    1429   00:4772  C6 32               		add		50
    1430   00:4774  DD 77 0D            		ld		(ix+13),a
    1431   00:4777  DD 77 11            		ld		(ix+17),a
    1432   00:477A  3E 68               		ld		a,26*4
    1433   00:477C  DD 77 0E            		ld		(ix+14),a
    1434   00:477F  3E 78               		ld		a,30*4
    1435   00:4781  DD 77 12            		ld		(ix+18),a
    1436   00:4784                      
    1437   00:4784                      animaciones_de_instrucciones_5:
    1438   00:4784                      				
    1439   00:4784  3A 1C C0            		ld		a,(py)
    1440   00:4787  B7                  		or		a
    1441   00:4788  C2 F6 46            		jr.		nz,animaciones_de_instrucciones_3
    1442   00:478B                      		
    1443   00:478B  CD 68 4B            		call	SPRITES_CUCHILLO
    1444   00:478E                      		
    1445   00:478E  CD A2 45            		call	limpia_sprites
    1446   00:4791  CD 99 47            		call	esperando
    1447   00:4794                      
    1448   00:4794                      vamos_alla:
    1449   00:4794                      
    1450   00:4794  CD AB 47            		call	datos_a_preparar
    1451   00:4797  18 78               		jr.		bloque_sanctuary_1
    1452   00:4799                      		
    1453   00:4799                      esperando:
    1454   00:4799                      		
    1455   00:4799  CD 44 00            		call	ENASCR													;conectamos la pantalla
    1456   00:479C  AF                  		xor		a
    1457   00:479D  CD D8 00            		CALL	ONSTRIG
    1458   00:47A0  B7                  		or		a
    1459   00:47A1  C0                  		ret		nz
    1460   00:47A2                      		
    1461   00:47A2  3E 01               		ld		a,1
    1462   00:47A4  CD D8 00            		CALL	ONSTRIG
    1463   00:47A7  B7                  		or		a
    1464   00:47A8  28 EF               		jr.		z,esperando
    1465   00:47AA                      		
    1466   00:47AA  C9                  		ret
    1467   00:47AB                      		
    1468   00:47AB                      datos_a_preparar:
    1469   00:47AB                      		
    1470   00:47AB  CD A2 45            		call	limpia_sprites
    1471   00:47AE  CD 0F 4B            		call	SPRITES_UNO
    1472   00:47B1                      		
    1473   00:47B1  CD 41 00            		call	DISSCR		
    1474   00:47B4                      		
    1475   00:47B4  21 69 8A            		ld		hl,blanco												;tiles de base de pantalla
    1476   00:47B7  11 20 18            		ld		de,#1820
    1477   00:47BA  F3                  		di
    1478   00:47BB  CD 4A 78            		call	depack_VRAM
    1479   00:47BE  FB                  		ei
    1480   00:47BF  21 37 8B            		ld		hl,marcador												;carga el marcador
    1481   00:47C2  11 00 18            		ld		de,#1800
    1482   00:47C5  F3                  		di
    1483   00:47C6  CD 4A 78            		call	depack_VRAM
    1484   00:47C9  FB                  		ei
    1485   00:47CA  CD 44 00            		CALL	ENASCR
    1486   00:47CD                      		
    1487   00:47CD  3E C0               		ld		a,192
    1488   00:47CF  32 31 C6            		ld		(posicion_del_punto_centenas),a
    1489   00:47D2  32 30 C6            		ld		(posicion_del_punto_decenas),a
    1490   00:47D5  32 32 C6            		ld		(posicion_del_punto_millares),a
    1491   00:47D8  32 2F C6            		ld		(posicion_del_punto_unidades),a
    1492   00:47DB                      		
    1493   00:47DB  3E 06               		ld		a,6
    1494   00:47DD  32 1E C0            		ld		(vidas_prota),a
    1495   00:47E0                      		
    1496   00:47E0  3E 01               		ld		a,1
    1497   00:47E2  32 78 C6            		ld		(ESTADO_MUSICA),a
    1498   00:47E5                      		
    1499   00:47E5  AF                  		xor		a
    1500   00:47E6  32 2D C6            		ld		(contador_para_puntuacion),a
    1501   00:47E9  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    1502   00:47EC  32 2B C6            		ld		(score),a
    1503   00:47EF  32 73 C6            		ld		(OUS_ACTIU),a
    1504   00:47F2  32 74 C6            		ld		(trampa),a
    1505   00:47F5  32 75 C6            		ld		(inmune_serp),a
    1506   00:47F8  32 76 C6            		ld		(inmune_bomb),a
    1507   00:47FB                      
    1508   00:47FB  C9                  		ret
    1509   00:47FC                      		
    1510   00:47FC                      define_espera_entre_fases:
    1511   00:47FC                      
    1512   00:47FC  21 F0 00            		ld		hl,240
    1513   00:47FF  22 17 C0            		ld		(clock),hl	
    1514   00:4802  C9                  		ret
    1515   00:4803                      
    1516   00:4803                      coordenadas_prota:
    1517   00:4803                      
    1518   00:4803  32 1C C0            		ld		(py),a
    1519   00:4806  32 5C C0            		ld		(py_salida),a
    1520   00:4809  78                  		ld		a,b
    1521   00:480A  32 1B C0            		ld		(px),a
    1522   00:480D  32 5B C0            		ld		(px_salida),a
    1523   00:4810                      				
    1524   00:4810  C9                  		ret
    1525   00:4811                      		
    1526   00:4811                      bloque_sanctuary_1:
    1527   00:4811                      				
    1528   00:4811  CD 9E 49            		call	pantalla_en_blanco
    1529   00:4814                      		
    1530   00:4814  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 1
    1531   00:4817  B7                  		or		a
    1532   00:4818  28 05               		jr.		z,bloque_sanctuary_1_esp
    1533   00:481A  21 53 87            		ld		hl,sanctuary_x
    1534   00:481D  18 03               		jr.		bloque_sanctuary_1_cont
    1535   00:481F                      
    1536   00:481F                      bloque_sanctuary_1_esp:
    1537   00:481F                      
    1538   00:481F  21 81 87            		ld		hl,santuario_x
    1539   00:4822                      
    1540   00:4822                      bloque_sanctuary_1_cont:
    1541   00:4822                      		
    1542   00:4822                      		
    1543   00:4822  CD D0 49            		call	anunciamos_el_santuario_correspondiente
    1544   00:4825  21 5D 87            		ld		hl,sanctuary_1
    1545   00:4828  CD D9 49            		call	anunciamos_el_santuario_correspondiente_numero
    1546   00:482B                      		;		coordenadas prota
    1547   00:482B  3E 78               		ld		a,120													;define variables
    1548   00:482D  47                  		ld		b,a
    1549   00:482E  3E 18               		ld		a,24						
    1550   00:4830  CD 03 48            		call	coordenadas_prota
    1551   00:4833                      		
    1552   00:4833  CD E5 49            		call	variables_iguales
    1553   00:4836                      				
    1554   00:4836                      		;		coordenadas serpientes
    1555   00:4836                      		
    1556   00:4836  FD 21 35 C6         		ld		iy,variables_serpiente_1
    1557   00:483A  3E 48               		ld		a,72
    1558   00:483C  FD 77 00            		ld		(iy),a
    1559   00:483F  3E A8               		ld		a,168
    1560   00:4841  FD 77 01            		ld		(iy+1),a
    1561   00:4844  AF                  		xor	a
    1562   00:4845  FD 77 02            		ld		(iy+2),a
    1563   00:4848  3E 0B               		ld		a,11
    1564   00:484A  FD 77 04            		ld		(iy+4),a
    1565   00:484D  3E 08               		ld		a,8
    1566   00:484F  FD 77 05            		ld		(iy+5),a
    1567   00:4852  3E 01               		ld		a,1
    1568   00:4854  FD 77 07            		ld		(iy+7),a
    1569   00:4857                      						
    1570   00:4857  3E 01               		ld		a,1
    1571   00:4859  32 5E C6            		ld		(serp1),a
    1572   00:485C                      		
    1573   00:485C                      		;		otras variables
    1574   00:485C  3E 01               		ld		a,1
    1575   00:485E  32 22 C0            		ld		(fase_en_la_que_esta),a
    1576   00:4861  21 6F 00            		ld		hl,111
    1577   00:4864  22 25 C6            		ld		(posicion_puerta),hl
    1578   00:4867                      		
    1579   00:4867  CD FC 47            		call	define_espera_entre_fases					
    1580   00:486A  CD 00 4C            		call	rutina_de_esperar_un_rato
    1581   00:486D                      
    1582   00:486D  CD A6 4B            		call	activa_musica_fases										;inicia el reproductor de PT3
    1583   00:4870                      		
    1584   00:4870  F3                  		di
    1585   00:4871  CD 16 A5            		call	setrompage0
    1586   00:4874                      		
    1587   00:4874  21 28 27            		ld		hl,fase_1												;cargamos sanctuary 1 en ram
    1588   00:4877  11 61 C0            		ld		de,buffer_colisiones
    1589   00:487A  CD 28 79            		call	depack
    1590   00:487D                      		
    1591   00:487D  CD 1B A5            		call	recbios
    1592   00:4880  FB                  		ei
    1593   00:4881                      		
    1594   00:4881  CD 4C 50            		call	diferencias_en_las_fases
    1595   00:4884                      				
    1596   00:4884  CD B8 49            		call	copiamos_en_pantalla_lo_de_memoria
    1597   00:4887                      
    1598   00:4887  CD 21 4C            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1599   00:488A                      		
    1600   00:488A  C3 29 59            		jr.		repite_fase
    1601   00:488D                      								
    1602   00:488D                      bloque_sanctuary_2:
    1603   00:488D                      		
    1604   00:488D  CD 9E 49            		call	pantalla_en_blanco
    1605   00:4890                      		
    1606   00:4890  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 1
    1607   00:4893  B7                  		or		a
    1608   00:4894  28 05               		jr.		z,bloque_sanctuary_2_esp
    1609   00:4896  21 53 87            		ld		hl,sanctuary_x
    1610   00:4899  18 03               		jr.		bloque_sanctuary_2_cont
    1611   00:489B                      
    1612   00:489B                      bloque_sanctuary_2_esp:
    1613   00:489B                      
    1614   00:489B  21 81 87            		ld		hl,santuario_x
    1615   00:489E                      
    1616   00:489E                      bloque_sanctuary_2_cont:
    1617   00:489E                      		
    1618   00:489E  CD D0 49            		call	anunciamos_el_santuario_correspondiente
    1619   00:48A1  21 5F 87            		ld		hl,sanctuary_2
    1620   00:48A4  CD D9 49            		call	anunciamos_el_santuario_correspondiente_numero
    1621   00:48A7                      		;		coordenadas prota
    1622   00:48A7  3E 18               		ld		a,24													;define variables
    1623   00:48A9  47                  		ld		b,a
    1624   00:48AA  3E 10               		ld		a,16						
    1625   00:48AC  CD 03 48            		call	coordenadas_prota
    1626   00:48AF                      		
    1627   00:48AF  CD E5 49            		call	variables_iguales
    1628   00:48B2                      				
    1629   00:48B2                      		;		coordenadas serpientes
    1630   00:48B2                      		
    1631   00:48B2  FD 21 35 C6         		ld		iy,variables_serpiente_1
    1632   00:48B6  3E D8               		ld		a,216
    1633   00:48B8  FD 77 00            		ld		(iy),a
    1634   00:48BB  3E 10               		ld		a,16
    1635   00:48BD  FD 77 01            		ld		(iy+1),a
    1636   00:48C0  AF                  		xor	a
    1637   00:48C1  FD 77 02            		ld		(iy+2),a
    1638   00:48C4  3E 0B               		ld		a,11
    1639   00:48C6  FD 77 04            		ld		(iy+4),a
    1640   00:48C9  3E 01               		ld		a,1
    1641   00:48CB  FD 77 07            		ld		(iy+7),a
    1642   00:48CE                      						
    1643   00:48CE  3E 01               		ld		a,1
    1644   00:48D0  32 5E C6            		ld		(serp1),a
    1645   00:48D3                      		
    1646   00:48D3                      		;		otras variables
    1647   00:48D3  3E 02               		ld		a,2
    1648   00:48D5  32 22 C0            		ld		(fase_en_la_que_esta),a
    1649   00:48D8  21 43 00            		ld		hl,67
    1650   00:48DB  22 25 C6            		ld		(posicion_puerta),hl
    1651   00:48DE                      		
    1652   00:48DE  CD FC 47            		call	define_espera_entre_fases					
    1653   00:48E1  CD 00 4C            		call	rutina_de_esperar_un_rato
    1654   00:48E4                      
    1655   00:48E4  CD A6 4B            		call	activa_musica_fases										;inicia el reproductor de PT3
    1656   00:48E7                      		
    1657   00:48E7  F3                  		di
    1658   00:48E8  CD 16 A5            		call	setrompage0
    1659   00:48EB                      		
    1660   00:48EB  21 C0 27            		ld		hl,fase_2												;cargamos sanctuary 1 en ram
    1661   00:48EE  11 61 C0            		ld		de,buffer_colisiones
    1662   00:48F1  CD 28 79            		call	depack
    1663   00:48F4                      		
    1664   00:48F4  CD 1B A5            		call	recbios
    1665   00:48F7  FB                  		ei
    1666   00:48F8                      
    1667   00:48F8  CD 4C 50            		call	diferencias_en_las_fases
    1668   00:48FB                      				
    1669   00:48FB  CD B8 49            		call	copiamos_en_pantalla_lo_de_memoria
    1670   00:48FE                      
    1671   00:48FE  CD 21 4C            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1672   00:4901                      		
    1673   00:4901  C3 29 59            		jr.		repite_fase
    1674   00:4904                      		
    1675   00:4904                      bloque_sanctuary_3:
    1676   00:4904                      		
    1677   00:4904  CD 9E 49            		call	pantalla_en_blanco
    1678   00:4907                      		
    1679   00:4907  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 3
    1680   00:490A  B7                  		or		a
    1681   00:490B  28 05               		jr.		z,bloque_sanctuary_3_esp
    1682   00:490D  21 53 87            		ld		hl,sanctuary_x
    1683   00:4910  18 03               		jr.		bloque_sanctuary_3_cont
    1684   00:4912                      
    1685   00:4912                      bloque_sanctuary_3_esp:
    1686   00:4912                      
    1687   00:4912  21 81 87            		ld		hl,santuario_x
    1688   00:4915                      
    1689   00:4915                      bloque_sanctuary_3_cont:
    1690   00:4915                      
    1691   00:4915  CD D0 49            		call	anunciamos_el_santuario_correspondiente
    1692   00:4918  21 61 87            		ld		hl,sanctuary_3
    1693   00:491B  CD D9 49            		call	anunciamos_el_santuario_correspondiente_numero
    1694   00:491E                      		
    1695   00:491E                      		;		variables coordenadas prota
    1696   00:491E                      		
    1697   00:491E  3E 78               		ld		a,120													;define variables
    1698   00:4920  47                  		ld		b,a
    1699   00:4921  3E 58               		ld		a,88						
    1700   00:4923  CD 03 48            		call	coordenadas_prota
    1701   00:4926                      		
    1702   00:4926  CD E5 49            		call	variables_iguales
    1703   00:4929                      		
    1704   00:4929                      		;variables coordenadas serpientes
    1705   00:4929                      		
    1706   00:4929  FD 21 35 C6         		ld		iy,variables_serpiente_1
    1707   00:492D                      		
    1708   00:492D  3E 18               		ld		a,24
    1709   00:492F  FD 77 01            		ld		(iy+1),a
    1710   00:4932  3E 78               		ld		a,120
    1711   00:4934  FD 77 00            		ld		(iy),a
    1712   00:4937  3E 05               		ld		a,5
    1713   00:4939  FD 77 05            		ld		(iy+5),a
    1714   00:493C  3E 0D               		ld		a,13
    1715   00:493E  FD 77 04            		ld		(iy+4),a
    1716   00:4941                      				
    1717   00:4941  3E 01               		ld		a,1	
    1718   00:4943  32 5E C6            		ld		(serp1),a
    1719   00:4946                      		
    1720   00:4946                      		;		otras variables
    1721   00:4946                      			
    1722   00:4946  3E 03               		ld		a,3
    1723   00:4948  32 22 C0            		ld		(fase_en_la_que_esta),a
    1724   00:494B  21 6F 01            		ld		hl,367
    1725   00:494E  22 25 C6            		ld		(posicion_puerta),hl
    1726   00:4951  3E 01               		ld		a,1
    1727   00:4953  32 89 C6            		ld		(toca_bombero),a
    1728   00:4956                      
    1729   00:4956  CD FC 47            		call	define_espera_entre_fases
    1730   00:4959  CD 00 4C            		call	rutina_de_esperar_un_rato
    1731   00:495C                      		
    1732   00:495C  CD A6 4B            		call	activa_musica_fases
    1733   00:495F                      		
    1734   00:495F  F3                  		di
    1735   00:4960  CD 16 A5            		call	setrompage0
    1736   00:4963                      		
    1737   00:4963  21 B9 28            		ld		hl,fase_3												;cargamos sanctuary 3 en ram
    1738   00:4966  11 61 C0            		ld		de,buffer_colisiones
    1739   00:4969  CD 28 79            		call	depack
    1740   00:496C                      		
    1741   00:496C  CD 1B A5            		call	recbios
    1742   00:496F  FB                  		ei
    1743   00:4970                      		
    1744   00:4970  CD 4C 50            		call	diferencias_en_las_fases
    1745   00:4973                      		
    1746   00:4973  CD B8 49            		call	copiamos_en_pantalla_lo_de_memoria
    1747   00:4976                      
    1748   00:4976  CD 21 4C            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1749   00:4979                      		
    1750   00:4979  C3 29 59            		jr.		repite_fase
    1751   00:497C                      
    1752   00:497C                      bloque_sanctuary_4:
    1753   00:497C                      				
    1754   00:497C  C3 90 42            		jr.		MENU
    1755   00:497F                      
    1756   00:497F                      pinta_mando_de_luz_en_su_sitio:
    1757   00:497F                      
    1758   00:497F  3E 5D               		ld		a,93
    1759   00:4981  32 EE EE            		ld		[#eeee],a
    1760   00:4984  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    1761   00:4987  01 01 00            		ld		bc,1
    1762   00:498A  C3 5C 00            		jr.		GRABAVRAM
    1763   00:498D                      
    1764   00:498D                      pantalla_en_mas_blanco:
    1765   00:498D                      		
    1766   00:498D  CD 41 00            		call	DISSCR
    1767   00:4990                      		
    1768   00:4990  F3                  		di
    1769   00:4991  21 E2 8A            		ld		hl,mas_blanco											;tiles de base de pantalla
    1770   00:4994  11 20 18            		ld		de,#1820
    1771   00:4997  CD 4A 78            		call	depack_VRAM
    1772   00:499A                      				
    1773   00:499A  FB                  		ei
    1774   00:499B                      		
    1775   00:499B  C3 44 00            		jp		ENASCR
    1776   00:499E                      				
    1777   00:499E                      pantalla_en_blanco:
    1778   00:499E                      		
    1779   00:499E  CD 41 00            		call	DISSCR
    1780   00:49A1                      		
    1781   00:49A1  F3                  		di
    1782   00:49A2  21 69 8A            		ld		hl,blanco												;tiles de base de pantalla
    1783   00:49A5  11 20 18            		ld		de,#1820
    1784   00:49A8  CD 4A 78            		call	depack_VRAM
    1785   00:49AB                      		
    1786   00:49AB                      		
    1787   00:49AB  21 51 8B            		ld		hl,trofeos												;carga objetos
    1788   00:49AE  11 18 18            		ld		de,#1818
    1789   00:49B1  CD 4A 78            		call	depack_VRAM
    1790   00:49B4                      		
    1791   00:49B4  FB                  		ei
    1792   00:49B5                      		
    1793   00:49B5  C3 44 00            		jp		ENASCR
    1794   00:49B8                      
    1795   00:49B8                      copiamos_en_pantalla_lo_de_memoria:
    1796   00:49B8  3A 21 C6            		ld		a,(pantalla_activa)
    1797   00:49BB  FE 01               		cp		1
    1798   00:49BD  20 05               		jr.		nz,copiamos_en_pantalla_lo_de_memoria_2
    1799   00:49BF                      		
    1800   00:49BF  21 61 C0            		ld		hl,buffer_colisiones									;copia en vram para que lo vea el jugador
    1801   00:49C2  18 03               		jr.		copiamos_en_pantalla_lo_de_memoria_tras_buffer
    1802   00:49C4                      		
    1803   00:49C4                      copiamos_en_pantalla_lo_de_memoria_2:
    1804   00:49C4                      
    1805   00:49C4  21 41 C3            		ld		hl,buffer_colisiones_2
    1806   00:49C7                      		
    1807   00:49C7                      copiamos_en_pantalla_lo_de_memoria_tras_buffer:
    1808   00:49C7                      
    1809   00:49C7  11 20 18            		ld		de,#1820
    1810   00:49CA  01 E0 02            		ld		bc,736
    1811   00:49CD  C3 5C 00            		jr.		GRABAVRAM
    1812   00:49D0                      
    1813   00:49D0                      anunciamos_el_santuario_correspondiente:
    1814   00:49D0                      
    1815   00:49D0  11 8A 19            		ld		de,#198a
    1816   00:49D3  01 0A 00            		ld		bc,10
    1817   00:49D6  C3 5C 00            		jr.		GRABAVRAM
    1818   00:49D9                      
    1819   00:49D9                      anunciamos_el_santuario_correspondiente_numero:
    1820   00:49D9                      
    1821   00:49D9  11 94 19            		ld		de,#1994
    1822   00:49DC  01 02 00            		ld		bc,2
    1823   00:49DF  CD 5C 00            		call	GRABAVRAM
    1824   00:49E2  C3 A0 71            		jr.		rutina_pone_consejo
    1825   00:49E5                      				
    1826   00:49E5                      variables_iguales:
    1827   00:49E5                      
    1828   00:49E5  3E 02               		ld		a,2
    1829   00:49E7  32 1F C0            		ld		(color_prota),a
    1830   00:49EA  3E 01               		ld		a,1
    1831   00:49EC  32 20 C0            		ld		(color_lineas_prota),a
    1832   00:49EF  32 21 C0            		ld		(muerto),a
    1833   00:49F2  32 77 C6            		ld		(grifo_estado),a
    1834   00:49F5  32 79 C6            		ld		(vision_estado),a
    1835   00:49F8  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    1836   00:49FB  32 21 C6            		ld		(pantalla_activa),a
    1837   00:49FE                      
    1838   00:49FE  AF                  		xor		a
    1839   00:49FF  32 23 C0            		ld		(estado_prota),a
    1840   00:4A02  32 63 C6            		ld		(pasamos_la_fase),a
    1841   00:4A05  32 24 C6            		ld		(gasolina),a
    1842   00:4A08  32 23 C6            		ld		(mechero),a
    1843   00:4A0B  32 28 C6            		ld		(ya_ha_cambiado_puerta),a
    1844   00:4A0E  32 5A C0            		ld		(tiene_objeto),a
    1845   00:4A11  32 26 C0            		ld		(pasos_de_salto),a
    1846   00:4A14  32 22 C6            		ld		(estado_de_salto),a
    1847   00:4A17  32 64 C6            		ld		(momento_lanzamiento),a
    1848   00:4A1A  32 6C C6            		ld		(escalera_activada),a
    1849   00:4A1D  32 5E C6            		ld		(serp1),a
    1850   00:4A20  32 5F C6            		ld		(serp2),a
    1851   00:4A23  32 60 C6            		ld		(serp3),a
    1852   00:4A26  32 61 C6            		ld		(serp4),a
    1853   00:4A29  32 7B C6            		ld		(bombero_1),a
    1854   00:4A2C  32 7A C6            		ld		(colision_bombero_prota_real),a
    1855   00:4A2F  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    1856   00:4A32  32 24 C0            		ld		(prev_dir_prota),a
    1857   00:4A35  32 27 C0            		ld		(dir_prota),a
    1858   00:4A38  32 5F C0            		ld		(estado_de_explosion),a
    1859   00:4A3B  32 29 C0            		ld		(retard_anim),a
    1860   00:4A3E  32 92 C6            		ld		(balsa_activa),a
    1861   00:4A41  32 89 C6            		ld		(toca_bombero),a
    1862   00:4A44  32 2A C6            		ld		(tile_a_poner_agua),a
    1863   00:4A47  32 5F C0            		ld		(estado_de_explosion),a
    1864   00:4A4A  32 60 C0            		ld		(contador_retardo_explosion),a
    1865   00:4A4D                      		
    1866   00:4A4D  3E 01               		ld		a,1
    1867   00:4A4F  32 27 C6            		ld		(pantalla_puerta),a
    1868   00:4A52  32 72 C6            		ld		(pantalla_escalera),a
    1869   00:4A55  32 8F C6            		ld		(grifos_balsa_cerrados),a
    1870   00:4A58  32 93 C6            		ld		(balsa_bacia),a
    1871   00:4A5B  32 94 C6            		ld		(pantalla_tile_grifo_balsa_1),a
    1872   00:4A5E  32 95 C6            		ld		(pantalla_tile_grifo_balsa_2),a
    1873   00:4A61  32 96 C6            		ld		(pantalla_balsa),a
    1874   00:4A64  32 79 C6            		ld		(vision_estado),a
    1875   00:4A67  32 17 C0            		ld		(clock),a		
    1876   00:4A6A  32 69 C6            		ld		(dir_cuchillo),a
    1877   00:4A6D  32 6A C6            		ld		(cx),a
    1878   00:4A70  32 6B C6            		ld		(cy),a
    1879   00:4A73                      		
    1880   00:4A73                      		; serpientes
    1881   00:4A73                      		
    1882   00:4A73  FD 21 35 C6         		ld		iy,variables_serpiente_1
    1883   00:4A77  CD D7 4A            		call	variables_serpientes		
    1884   00:4A7A  FD 21 3F C6         		ld		iy,variables_serpiente_2		
    1885   00:4A7E  CD D7 4A            		call	variables_serpientes
    1886   00:4A81  FD 21 49 C6         		ld		iy,variables_serpiente_3		
    1887   00:4A85  CD D7 4A            		call	variables_serpientes
    1888   00:4A88  FD 21 53 C6         		ld		iy,variables_serpiente_4		
    1889   00:4A8C  CD D7 4A            		call	variables_serpientes
    1890   00:4A8F                      		
    1891   00:4A8F                      		; variables bombero_1
    1892   00:4A8F                      		
    1893   00:4A8F                      		;		coordenadas bombero
    1894   00:4A8F                      		
    1895   00:4A8F  FD 21 7C C6         		ld		iy,bombero_control
    1896   00:4A93  3E 02               		ld		a,2
    1897   00:4A95  FD 77 02            		ld		(iy+2),a
    1898   00:4A98  3E 96               		ld		a,150
    1899   00:4A9A  FD 77 03            		ld		(iy+3),a
    1900   00:4A9D  3E 0A               		ld		a,10
    1901   00:4A9F  FD 77 04            		ld		(iy+4),a
    1902   00:4AA2  AF                  		xor		a
    1903   00:4AA3  FD 77 05            		ld		(iy+5),a
    1904   00:4AA6  FD 77 06            		ld		(iy+6),a
    1905   00:4AA9  FD 77 07            		ld		(iy+7),a
    1906   00:4AAC  FD 77 0A            		ld		(iy+10),a
    1907   00:4AAF  3E 14               		ld		a,20
    1908   00:4AB1  FD 77 08            		ld		(iy+8),a
    1909   00:4AB4  3E 01               		ld		a,1
    1910   00:4AB6  FD 77 00            		ld		(iy),a
    1911   00:4AB9  FD 77 01            		ld		(iy+1),a
    1912   00:4ABC  FD 77 09            		ld		(iy+9),a
    1913   00:4ABF  3E 01               		ld		a,1
    1914   00:4AC1  FD 77 0C            		ld		(iy+12),a
    1915   00:4AC4                      		
    1916   00:4AC4  3E 05               		ld		a,5
    1917   00:4AC6  32 62 C6            		ld		(cont_no_salta_dos_seguidas),a
    1918   00:4AC9  32 66 C6            		ld		(contador_poses_lanzar),a
    1919   00:4ACC  3E 32               		ld		a,50
    1920   00:4ACE  32 6F C6            		ld		(contador_escalera),a
    1921   00:4AD1  3E 03               		ld		a,3
    1922   00:4AD3  32 8A C6            		ld		(velocidad_paseo_fases),a
    1923   00:4AD6                      				
    1924   00:4AD6  C9                  		ret
    1925   00:4AD7                      
    1926   00:4AD7                      variables_serpientes:
    1927   00:4AD7                      
    1928   00:4AD7  3E 01               		ld		a,1
    1929   00:4AD9  FD 77 02            		ld		(iy+2),a
    1930   00:4ADC  FD 77 07            		ld		(iy+7),a
    1931   00:4ADF  FD 77 09            		ld		(iy+9),a
    1932   00:4AE2  AF                  		xor		a
    1933   00:4AE3  FD 77 03            		ld		(iy+3),a
    1934   00:4AE6  FD 77 06            		ld		(iy+6),a
    1935   00:4AE9  3E 0E               		ld		a,14
    1936   00:4AEB  FD 77 04            		ld		(iy+4),a
    1937   00:4AEE  FD 77 05            		ld		(iy+5),a	
    1938   00:4AF1  3E FF               		ld		a,255
    1939   00:4AF3  FD 77 08            		ld		(iy+8),a
    1940   00:4AF6                      		
    1941   00:4AF6  C9                  		ret
    1942   00:4AF7                      		
    1943   00:4AF7                      SPRITES_PETISOS:
    1944   00:4AF7                      
    1945   00:4AF7  21 1F 9A            		ld		hl,sprites_pet											;cargamos petisos
    1946   00:4AFA  11 00 38            		ld		de,#3800
    1947   00:4AFD  01 E0 02            		ld		bc,736
    1948   00:4B00  C3 5C 00            		jp		GRABAVRAM
    1949   00:4B03                      
    1950   00:4B03                      ;SPRITES_ONIRIC:
    1951   00:4B03                      
    1952   00:4B03                      ;		ld		hl,sprites_oniric										;cargamos petisos
    1953   00:4B03                      ;		ld		de,#3800
    1954   00:4B03                      ;		ld		bc,128
    1955   00:4B03                      ;		call	GRABAVRAM
    1956   00:4B03                      		
    1957   00:4B03                      ;		ret
    1958   00:4B03                      SPRITES_OJOS:
    1959   00:4B03                      		
    1960   00:4B03  21 FF 9F            		ld		hl,sprites_ojos											;cargamos OJOS
    1961   00:4B06  11 00 3A            		ld		de,#3A00
    1962   00:4B09  01 80 00            		ld		bc,128
    1963   00:4B0C  C3 5C 00            		jp		GRABAVRAM
    1964   00:4B0F                      				
    1965   00:4B0F                      SPRITES_UNO:
    1966   00:4B0F                      
    1967   00:4B0F  21 5F 8B            		ld		hl,sprites												;carga sprites general
    1968   00:4B12  11 00 38            		ld		de,#3800
    1969   00:4B15  01 20 07            		ld		bc,1824
    1970   00:4B18  CD 5C 00            		call	GRABAVRAM
    1971   00:4B1B                      		
    1972   00:4B1B  3A 01 C0            		ld		a,(idioma)
    1973   00:4B1E  B7                  		or		a
    1974   00:4B1F  C0                  		ret		nz
    1975   00:4B20                      		
    1976   00:4B20  21 DF 9E            		ld		hl,quemado_esp											;carga sprites quemado en castellano
    1977   00:4B23  11 60 3E            		ld		de,#3e60
    1978   00:4B26  01 60 00            		ld		bc,96
    1979   00:4B29  C3 5C 00            		jp		GRABAVRAM
    1980   00:4B2C                      
    1981   00:4B2C                      SPRITES_DOS:
    1982   00:4B2C                      
    1983   00:4B2C  21 7F 92            		ld		hl,sprites2												;cargamos sprites bombero parte 1
    1984   00:4B2F  11 20 3B            		ld		de,#3b20
    1985   00:4B32  01 00 01            		ld		bc,256
    1986   00:4B35  CD 5C 00            		call	GRABAVRAM
    1987   00:4B38                      
    1988   00:4B38  21 7F 93            		ld		hl,sprites3												;cargamos sprites bombero parte 2
    1989   00:4B3B  11 A0 3D            		ld		de,#3da0
    1990   00:4B3E  01 20 01            		ld		bc,288
    1991   00:4B41  CD 5C 00            		call	GRABAVRAM
    1992   00:4B44                      		
    1993   00:4B44  21 9F 94            		ld		hl,sprites4												;cargamos sprites bombero parte 3
    1994   00:4B47  11 E0 3E            		ld		de,#3ee0
    1995   00:4B4A  01 00 01            		ld		bc,256
    1996   00:4B4D  C3 5C 00            		jp		GRABAVRAM
    1997   00:4B50                      				
    1998   00:4B50                      SPRITES_PAUSA:
    1999   00:4B50                      
    2000   00:4B50  21 3F 9F            		ld		hl,pausa_sprit											;cargamos sprites de pausa			
    2001   00:4B53  11 00 38            		ld		de,#3800
    2002   00:4B56  01 C0 00            		ld		bc,192
    2003   00:4B59  C3 5C 00            		jp		GRABAVRAM
    2004   00:4B5C                      						
    2005   00:4B5C                      SPRITES_BOMBA:
    2006   00:4B5C                      
    2007   00:4B5C  21 9F 95            		ld		hl,sprites5												;cargamos sprites de bomba			
    2008   00:4B5F  11 00 38            		ld		de,#3800
    2009   00:4B62  01 40 02            		ld		bc,576
    2010   00:4B65  C3 5C 00            		jp		GRABAVRAM
    2011   00:4B68                      						
    2012   00:4B68                      SPRITES_CUCHILLO:
    2013   00:4B68                      
    2014   00:4B68  21 DF 97            		ld		hl,sprites9												;cargamos sprites de cuchillo
    2015   00:4B6B  11 00 38            		ld		de,#3800
    2016   00:4B6E  01 40 02            		ld		bc,576
    2017   00:4B71  C3 5C 00            		jp		GRABAVRAM
    2018   00:4B74                      		
    2019   00:4B74                      SPRITES_PROTA_NORMAL:
    2020   00:4B74                      		
    2021   00:4B74  21 5F 8B            		ld		hl,sprites13											;volvemos a sprites normales
    2022   00:4B77  11 00 38            		ld		de,#3800
    2023   00:4B7A  01 40 02            		ld		bc,576
    2024   00:4B7D  C3 5C 00            		jp		GRABAVRAM
    2025   00:4B80                      			
    2026   00:4B80                      SPRITES_BOMBERO_PERSIGUE:
    2027   00:4B80                      		
    2028   00:4B80  21 FF 9C            		ld		hl,sprites_bomb_a										;volvemos a sprites normales
    2029   00:4B83  11 00 38            		ld		de,#3800
    2030   00:4B86  01 40 02            		ld		bc,576
    2031   00:4B89  C3 5C 00            		jp		GRABAVRAM
    2032   00:4B8C                      								
    2033   00:4B8C                      string_de_espera:
    2034   00:4B8C                      
    2035   00:4B8C  AF                  		xor		a
    2036   00:4B8D  CD D8 00            		CALL	ONSTRIG
    2037   00:4B90  B7                  		or		a
    2038   00:4B91  C0                  		ret		nz
    2039   00:4B92                      		
    2040   00:4B92  3E 01               		ld		a,1
    2041   00:4B94  CD D8 00            		CALL	ONSTRIG
    2042   00:4B97  B7                  		or		a
    2043   00:4B98  28 F2               		jr.		z,string_de_espera
    2044   00:4B9A                      		
    2045   00:4B9A  C9                  		ret
    2046   00:4B9B                      
    2047   00:4B9B                      activa_mute:
    2048   00:4B9B                      	
    2049   00:4B9B  F3                  		di
    2050   00:4B9C                      		
    2051   00:4B9C  21 BA C7            		ld		hl,MUTE-99												;SILENCIA LA MUSICA
    2052   00:4B9F  CD F9 79            		call	PT3_INIT
    2053   00:4BA2                      		
    2054   00:4BA2  FB                  		ei
    2055   00:4BA3                      		
    2056   00:4BA3  C3 F4 59            		jr. 	musica_con_bucle
    2057   00:4BA6                      		
    2058   00:4BA6                      activa_musica_fases:
    2059   00:4BA6                      				
    2060   00:4BA6  CD 9B 4B            		call	activa_mute
    2061   00:4BA9                      		
    2062   00:4BA9  3A 78 C6            		ld		a,(ESTADO_MUSICA)
    2063   00:4BAC  FE 02               		CP		2		
    2064   00:4BAE  28 20               		jr.		z,activa_musica_menu
    2065   00:4BB0                      			
    2066   00:4BB0  3A 78 C6            		ld		A,(ESTADO_MUSICA)
    2067   00:4BB3  FE 00               		cp		0
    2068   00:4BB5  C8                  		ret		z
    2069   00:4BB6                      	
    2070   00:4BB6  F3                  		di
    2071   00:4BB7                      		
    2072   00:4BB7  CD 16 A5            		call	setrompage0												;con la pagina 0 de la rom pisamos la bios
    2073   00:4BBA                      		
    2074   00:4BBA  21 BC 08            		ld		hl,MUSICA_FASES											;descomprime musica de inicio
    2075   00:4BBD  11 73 D3            		ld		de,GEN_MUSIC
    2076   00:4BC0  CD 28 79            		call	depack
    2077   00:4BC3                      		
    2078   00:4BC3  CD 1B A5            		call	recbios
    2079   00:4BC6                      		
    2080   00:4BC6  21 10 D3            		ld		hl,GEN_MUSIC-99											;SILENCIA LA MUSICA
    2081   00:4BC9  CD F9 79            		call	PT3_INIT
    2082   00:4BCC                      		
    2083   00:4BCC  FB                  		ei
    2084   00:4BCD                      		
    2085   00:4BCD  C3 F4 59            		jr.		musica_con_bucle
    2086   00:4BD0                      
    2087   00:4BD0                      activa_musica_menu:
    2088   00:4BD0                      			
    2089   00:4BD0  F3                  		di
    2090   00:4BD1                      		
    2091   00:4BD1  CD 16 A5            		call	setrompage0												;con la pagina 0 de la rom pisamos la bios
    2092   00:4BD4                      		
    2093   00:4BD4  21 2D 02            		ld		hl,CANCION												;descomprime musica de inicio
    2094   00:4BD7  11 73 D3            		ld		de,GEN_MUSIC
    2095   00:4BDA  CD 28 79            		call	depack
    2096   00:4BDD                      		
    2097   00:4BDD  CD 1B A5            		call	recbios
    2098   00:4BE0                      		
    2099   00:4BE0  21 10 D3            		ld		hl,GEN_MUSIC-99											;SILENCIA LA MUSICA
    2100   00:4BE3  CD F9 79            		call	PT3_INIT
    2101   00:4BE6                      		
    2102   00:4BE6  FB                  		ei
    2103   00:4BE7                      		
    2104   00:4BE7  C3 F4 59            		jr.		musica_con_bucle
    2105   00:4BEA                      		
    2106   00:4BEA                      activa_musica_muerto:
    2107   00:4BEA                      	
    2108   00:4BEA  F3                  		di
    2109   00:4BEB                      		
    2110   00:4BEB  21 2F C8            		ld		hl,MUERTO-99											;MUSICA DE MUERTE
    2111   00:4BEE  CD F9 79            		call	PT3_INIT
    2112   00:4BF1                      		
    2113   00:4BF1  FB                  		ei
    2114   00:4BF2                      		
    2115   00:4BF2  C3 E9 59            		jr.		musica_sin_bucle
    2116   00:4BF5                      
    2117   00:4BF5                      activa_musica_entre_fases:
    2118   00:4BF5                      	
    2119   00:4BF5  F3                  		di
    2120   00:4BF6                      		
    2121   00:4BF6  21 A5 C9            		ld		hl,ENTRE_FASES-99										;MUSICA ENTRE FASES
    2122   00:4BF9  CD F9 79            		call	PT3_INIT
    2123   00:4BFC                      		
    2124   00:4BFC  FB                  		ei
    2125   00:4BFD                      		
    2126   00:4BFD  C3 E9 59            		jr.		musica_sin_bucle
    2127   00:4C00                      
    2128   00:4C00                      rutina_de_esperar_un_rato:
    2129   00:4C00                      
    2130   00:4C00  76                  		halt
    2131   00:4C01  2A 17 C0            		ld		hl,(clock)
    2132   00:4C04  01 01 00            		ld		bc,1		
    2133   00:4C07  ED 42               		sbc		hl,bc
    2134   00:4C09  22 17 C0            		ld		(clock),hl
    2135   00:4C0C  20 F2               		jr		nz,rutina_de_esperar_un_rato
    2136   00:4C0E                      		
    2137   00:4C0E  C9                  		ret
    2138   00:4C0F                      
    2139   00:4C0F                      PREPARACION_SCREEN_2:
    2140   00:4C0F                      
    2141   00:4C0F  3E 02               		ld		a,2
    2142   00:4C11  CD 5F 00            		call	SCREENX
    2143   00:4C14  3A E0 F3            		ld		a,(RG1SAV)
    2144   00:4C17  F6 02               		or		00000010b												;modo sprites a 16x16
    2145   00:4C19  E6 FE               		and		11111110b												;modo sprites no ampliados
    2146   00:4C1B  47                  		ld		b,a
    2147   00:4C1C  0E 01               		ld		c,1
    2148   00:4C1E  C3 47 00            		jp		WRTVDP													;lo escribe en el registro 1 del VDP
    2149   00:4C21                      			
    2150   00:4C21                      gran_rutina:
    2151   00:4C21                      						
    2152   00:4C21  76                  		halt
    2153   00:4C22                      																		;espera a la interrupcion vblank y sincroniza toda la acción
    2154   00:4C22  CD 14 5D            		call	atributos_sprites
    2155   00:4C25  CD 14 62            		call	actualiza_atributos_sprite		
    2156   00:4C28  CD 76 6E            		call	comprueba_estado_de_explosion
    2157   00:4C2B  CD 8B 53            		call	que_pinto_de_la_balsa
    2158   00:4C2E  CD 7B 4F            		call	tiles_cambiantes
    2159   00:4C31                      		
    2160   00:4C31  CD DA 57            		call	pulsa_una_tecla
    2161   00:4C34  CD 81 4C            		call	ous
    2162   00:4C37                      		
    2163   00:4C37  CD 47 57            		call	revisa_escalera
    2164   00:4C3A  CD 51 54            		call	revisa_bombero
    2165   00:4C3D  CD 2C 53            		call	grifo_bombero
    2166   00:4C40  CD 61 52            		call	grifos_balsa_bombero
    2167   00:4C43                      		
    2168   00:4C43  CD 20 5D            		call	estado_en_que_se_encuentra
    2169   00:4C46  CD FE 63            		call	apaga_los_chorros
    2170   00:4C49  CD 80 51            		call	movimiento_forzado_en_puertas
    2171   00:4C4C  CD 5C 51            		call	vigila_si_cierra_puertas
    2172   00:4C4F  CD 35 5E            		call	mueve_prota
    2173   00:4C52  CD 31 63            		call	usa_objeto_o_salta
    2174   00:4C55  CD AA 6A            		call	rutina_cuchillo_volador
    2175   00:4C58  CD 72 65            		call	coge_algun_objeto
    2176   00:4C5B  CD 17 63            		call	pose_si_esta_parado
    2177   00:4C5E                      		
    2178   00:4C5E                      		
    2179   00:4C5E  CD FF 59            		call	colision_bombero_prota
    2180   00:4C61  CD 23 5C            		call	colisiones_serpientes_cuchillos
    2181   00:4C64  CD 89 5A            		call	colisiones_serpientes_prota_1
    2182   00:4C67  CD 79 74            		call	movimiento_serpientes
    2183   00:4C6A  CD 97 6D            		call	actualiza_la_puerta
    2184   00:4C6D  CD CB 6E            		call	puntuacion_vidas_fase
    2185   00:4C70                      				
    2186   00:4C70  3A 63 C6            		ld		a,(pasamos_la_fase)
    2187   00:4C73  B7                  		or		a
    2188   00:4C74  C2 F5 70            		jr.		nz,animacion_entre_fases
    2189   00:4C77                      		
    2190   00:4C77  3A 21 C0            		ld		a,(muerto)
    2191   00:4C7A  B7                  		or		a
    2192   00:4C7B  CA 29 59            		jr.		z,repite_fase
    2193   00:4C7E                      		
    2194   00:4C7E  C3 21 4C            		jp		gran_rutina
    2195   00:4C81                      
    2196   00:4C81                      ous:
    2197   00:4C81                      		
    2198   00:4C81  3A 73 C6            		ld		a,(OUS_ACTIU)
    2199   00:4C84  B7                  		or		a
    2200   00:4C85  CA 18 4D            		jr.		z,ous_inici
    2201   00:4C88  FE 01               		cp		1
    2202   00:4C8A  CA 3E 4D            		jr.		z,ous_1_2
    2203   00:4C8D  FE 02               		cp		2
    2204   00:4C8F  CA 49 4D            		jr.		z,ous_1_3
    2205   00:4C92  FE 03               		cp		3
    2206   00:4C94  CA 54 4D            		jr.		z,ous_1_4
    2207   00:4C97  FE 04               		cp		4
    2208   00:4C99  CA 5F 4D            		jr.		z,ous_1_5
    2209   00:4C9C  FE 05               		cp		5
    2210   00:4C9E  CA 6A 4D            		jr.		z,ous_1_6
    2211   00:4CA1  FE 06               		cp		6
    2212   00:4CA3  CA 75 4D            		jr.		z,ous_1_7
    2213   00:4CA6  FE 07               		cp		7
    2214   00:4CA8  CA 80 4D            		jr.		z,ous_1_8
    2215   00:4CAB  FE 0A               		cp		10
    2216   00:4CAD  CA 75 4D            		jr.		z,ous_1_7
    2217   00:4CB0  FE 0B               		cp		11
    2218   00:4CB2  CA 9D 4D            		jr.		z,ous_2_3
    2219   00:4CB5  FE 0C               		cp		12
    2220   00:4CB7  CA A7 4D            		jr.		z,ous_2_4
    2221   00:4CBA  FE 0D               		cp		13
    2222   00:4CBC  CA 3E 4D            		jr.		z,ous_1_2
    2223   00:4CBF  FE 0E               		cp		14
    2224   00:4CC1  CA B1 4D            		jr.		z,ous_2_6
    2225   00:4CC4  FE 0F               		cp		15
    2226   00:4CC6  CA BB 4D            		jr.		z,ous_2_7
    2227   00:4CC9  FE 11               		cp		17
    2228   00:4CCB  CA C6 4D            		jr.		z,ous_3_2
    2229   00:4CCE  FE 12               		cp		18
    2230   00:4CD0  CA D0 4D            		jr.		z,ous_3_3
    2231   00:4CD3  FE 13               		cp		19
    2232   00:4CD5  CA 75 4D            		jr.		z,ous_1_7
    2233   00:4CD8  FE 14               		cp		20
    2234   00:4CDA  CA D0 4D            		jr.		z,ous_3_3
    2235   00:4CDD  FE 15               		cp		21
    2236   00:4CDF  CA DA 4D            		jr.		z,ous_3_6
    2237   00:4CE2  FE 16               		cp		22
    2238   00:4CE4  CA E4 4D            		jr.		z,ous_3_7
    2239   00:4CE7  FE 17               		cp		23
    2240   00:4CE9  CA EE 4D            		jr.		z,ous_3_8
    2241   00:4CEC  FE 19               		cp		25
    2242   00:4CEE  CA E4 4D            		jr.		z,ous_3_7
    2243   00:4CF1  FE 1A               		cp		26
    2244   00:4CF3  CA DA 4D            		jr.		z,ous_3_6
    2245   00:4CF6  FE 1B               		cp		27
    2246   00:4CF8  CA F8 4D            		jr.		z,ous_4_4
    2247   00:4CFB  FE 1C               		cp		28
    2248   00:4CFD  CA 02 4E            		jr.		z,ous_4_5
    2249   00:4D00  FE 1D               		cp		29
    2250   00:4D02  28 45               		jr.		z,ous_1_3
    2251   00:4D04  FE 1E               		cp		30
    2252   00:4D06  CA E4 4D            		jr.		z,ous_3_7
    2253   00:4D09  FE 1F               		cp		31
    2254   00:4D0B  CA F8 4D            		jr.		z,ous_4_4
    2255   00:4D0E  FE 20               		cp		32
    2256   00:4D10  28 58               		jr.		z,ous_1_6
    2257   00:4D12  FE 21               		cp		33
    2258   00:4D14  CA 0C 4E            		jr.		z,ous_4_10
    2259   00:4D17                      		
    2260   00:4D17  C9                  		ret
    2261   00:4D18                      		
    2262   00:4D18                      ous_inici:
    2263   00:4D18                      		
    2264   00:4D18  3E 05               		ld		a,5
    2265   00:4D1A  CD 41 01            		call	SNSMAT
    2266   00:4D1D  CB 47               		bit		0,a
    2267   00:4D1F  CA 16 4E            		jr.		z,aumenta_ou
    2268   00:4D22                      		
    2269   00:4D22  3E 05               		ld		a,5
    2270   00:4D24  CD 41 01            		call	SNSMAT
    2271   00:4D27  CB 4F               		bit		1,a
    2272   00:4D29  28 60               		jr.		z,inicia_ou_2
    2273   00:4D2B                      		
    2274   00:4D2B  3E 04               		ld		a,4
    2275   00:4D2D  CD 41 01            		call	SNSMAT
    2276   00:4D30  CB 67               		bit		4,a
    2277   00:4D32  28 5D               		jr.		z,inicia_ou_3
    2278   00:4D34                      		
    2279   00:4D34  3E 04               		ld		a,4
    2280   00:4D36  CD 41 01            		call	SNSMAT
    2281   00:4D39  CB 4F               		bit		1,a
    2282   00:4D3B  28 5A               		jr.		z,inicia_ou_4
    2283   00:4D3D                      				
    2284   00:4D3D  C9                  		ret
    2285   00:4D3E                      
    2286   00:4D3E                      ous_1_2:
    2287   00:4D3E                      
    2288   00:4D3E  3E 02               		ld		a,2
    2289   00:4D40  CD 41 01            		call	SNSMAT
    2290   00:4D43  CB 77               		bit		6,a
    2291   00:4D45  CA 16 4E            		jr.		z,aumenta_ou		
    2292   00:4D48  C9                  		ret
    2293   00:4D49                      
    2294   00:4D49                      ous_1_3:
    2295   00:4D49                      
    2296   00:4D49  3E 04               		ld		a,4
    2297   00:4D4B  CD 41 01            		call	SNSMAT
    2298   00:4D4E  CB 4F               		bit		1,a
    2299   00:4D50  CA 16 4E            		jr.		z,aumenta_ou		
    2300   00:4D53  C9                  		ret
    2301   00:4D54                      		
    2302   00:4D54                      ous_1_4:
    2303   00:4D54                      
    2304   00:4D54  3E 03               		ld		a,3
    2305   00:4D56  CD 41 01            		call	SNSMAT
    2306   00:4D59  CB 67               		bit		4,a
    2307   00:4D5B  CA 16 4E            		jr.		z,aumenta_ou		
    2308   00:4D5E  C9                  		ret
    2309   00:4D5F                      		
    2310   00:4D5F                      ous_1_5:
    2311   00:4D5F                      
    2312   00:4D5F  3E 05               		ld		a,5
    2313   00:4D61  CD 41 01            		call	SNSMAT
    2314   00:4D64  CB 57               		bit		2,a
    2315   00:4D66  CA 16 4E            		jr.		z,aumenta_ou		
    2316   00:4D69  C9                  		ret
    2317   00:4D6A                      		
    2318   00:4D6A                      ous_1_6:
    2319   00:4D6A                      
    2320   00:4D6A  3E 03               		ld		a,3
    2321   00:4D6C  CD 41 01            		call	SNSMAT
    2322   00:4D6F  CB 57               		bit		2,a
    2323   00:4D71  CA 16 4E            		jr.		z,aumenta_ou		
    2324   00:4D74  C9                  		ret
    2325   00:4D75                      		
    2326   00:4D75                      ous_1_7:
    2327   00:4D75                      
    2328   00:4D75  3E 04               		ld		a,4
    2329   00:4D77  CD 41 01            		call	SNSMAT
    2330   00:4D7A  CB 7F               		bit		7,a
    2331   00:4D7C  CA 16 4E            		jr.		z,aumenta_ou		
    2332   00:4D7F  C9                  		ret
    2333   00:4D80                      		
    2334   00:4D80                      ous_1_8:
    2335   00:4D80                      
    2336   00:4D80  3E 03               		ld		a,3
    2337   00:4D82  CD 41 01            		call	SNSMAT
    2338   00:4D85  CB 77               		bit		6,a
    2339   00:4D87  CA 3C 4E            		jr.		z,dos_vidas_mas	
    2340   00:4D8A  C9                  		ret
    2341   00:4D8B                      		
    2342   00:4D8B                      inicia_ou_2:
    2343   00:4D8B                      		
    2344   00:4D8B  3E 0A               		ld		a,10
    2345   00:4D8D  32 73 C6            		ld		(OUS_ACTIU),a
    2346   00:4D90                      		
    2347   00:4D90  C9                  		ret
    2348   00:4D91                      
    2349   00:4D91                      inicia_ou_3:
    2350   00:4D91                      		
    2351   00:4D91  3E 11               		ld		a,17
    2352   00:4D93  32 73 C6            		ld		(OUS_ACTIU),a
    2353   00:4D96                      		
    2354   00:4D96  C9                  		ret
    2355   00:4D97                      
    2356   00:4D97                      inicia_ou_4:
    2357   00:4D97                      		
    2358   00:4D97  3E 19               		ld		a,25
    2359   00:4D99  32 73 C6            		ld		(OUS_ACTIU),a
    2360   00:4D9C                      		
    2361   00:4D9C  C9                  		ret
    2362   00:4D9D                      				
    2363   00:4D9D                      ous_2_3:
    2364   00:4D9D                      
    2365   00:4D9D  3E 04               		ld		a,4
    2366   00:4D9F  CD 41 01            		call	SNSMAT
    2367   00:4DA2  CB 67               		bit		4,a
    2368   00:4DA4  28 70               		jr.		z,aumenta_ou		
    2369   00:4DA6  C9                  		ret
    2370   00:4DA7                      
    2371   00:4DA7                      ous_2_4:
    2372   00:4DA7                      
    2373   00:4DA7  3E 04               		ld		a,4
    2374   00:4DA9  CD 41 01            		call	SNSMAT
    2375   00:4DAC  CB 57               		bit		2,a
    2376   00:4DAE  28 66               		jr.		z,aumenta_ou		
    2377   00:4DB0  C9                  		ret
    2378   00:4DB1                      				
    2379   00:4DB1                      ous_2_6:
    2380   00:4DB1                      
    2381   00:4DB1  3E 05               		ld		a,5
    2382   00:4DB3  CD 41 01            		call	SNSMAT
    2383   00:4DB6  CB 6F               		bit		5,a
    2384   00:4DB8  28 5C               		jr.		z,aumenta_ou		
    2385   00:4DBA  C9                  		ret
    2386   00:4DBB                      		
    2387   00:4DBB                      ous_2_7:
    2388   00:4DBB                      
    2389   00:4DBB  3E 03               		ld		a,3
    2390   00:4DBD  CD 41 01            		call	SNSMAT
    2391   00:4DC0  CB 57               		bit		2,a
    2392   00:4DC2  CA 53 4E            		jr.		z,activa_pasa_fases		
    2393   00:4DC5  C9                  		ret
    2394   00:4DC6                      
    2395   00:4DC6                      ous_3_2:
    2396   00:4DC6                      
    2397   00:4DC6  3E 04               		ld		a,4
    2398   00:4DC8  CD 41 01            		call	SNSMAT
    2399   00:4DCB  CB 5F               		bit		3,a
    2400   00:4DCD  28 47               		jr.		z,aumenta_ou		
    2401   00:4DCF  C9                  		ret
    2402   00:4DD0                      		
    2403   00:4DD0                      ous_3_3:
    2404   00:4DD0                      
    2405   00:4DD0  3E 03               		ld		a,3
    2406   00:4DD2  CD 41 01            		call	SNSMAT
    2407   00:4DD5  CB 77               		bit		6,a
    2408   00:4DD7  28 3D               		jr.		z,aumenta_ou		
    2409   00:4DD9  C9                  		ret
    2410   00:4DDA                      
    2411   00:4DDA                      ous_3_6:
    2412   00:4DDA                      
    2413   00:4DDA  3E 03               		ld		a,3
    2414   00:4DDC  CD 41 01            		call	SNSMAT
    2415   00:4DDF  CB 47               		bit		0,a
    2416   00:4DE1  28 33               		jr.		z,aumenta_ou		
    2417   00:4DE3  C9                  		ret
    2418   00:4DE4                      
    2419   00:4DE4                      ous_3_7:
    2420   00:4DE4                      
    2421   00:4DE4  3E 05               		ld		a,5
    2422   00:4DE6  CD 41 01            		call	SNSMAT
    2423   00:4DE9  CB 57               		bit		2,a
    2424   00:4DEB  28 29               		jr.		z,aumenta_ou		
    2425   00:4DED  C9                  		ret
    2426   00:4DEE                      
    2427   00:4DEE                      ous_3_8:
    2428   00:4DEE                      
    2429   00:4DEE  3E 05               		ld		a,5
    2430   00:4DF0  CD 41 01            		call	SNSMAT
    2431   00:4DF3  CB 47               		bit		0,a
    2432   00:4DF5  28 27               		jr.		z,inmune_a_serpientes	
    2433   00:4DF7  C9                  		ret
    2434   00:4DF8                      
    2435   00:4DF8                      ous_4_4:
    2436   00:4DF8                      
    2437   00:4DF8  3E 04               		ld		a,4
    2438   00:4DFA  CD 41 01            		call	SNSMAT
    2439   00:4DFD  CB 47               		bit		0,a
    2440   00:4DFF  28 15               		jr.		z,aumenta_ou		
    2441   00:4E01  C9                  		ret
    2442   00:4E02                      
    2443   00:4E02                      ous_4_5:
    2444   00:4E02                      
    2445   00:4E02  3E 05               		ld		a,5
    2446   00:4E04  CD 41 01            		call	SNSMAT
    2447   00:4E07  CB 77               		bit		6,a
    2448   00:4E09  28 0B               		jr.		z,aumenta_ou		
    2449   00:4E0B  C9                  		ret
    2450   00:4E0C                      
    2451   00:4E0C                      ous_4_10:
    2452   00:4E0C                      
    2453   00:4E0C  3E 02               		ld		a,2
    2454   00:4E0E  CD 41 01            		call	SNSMAT
    2455   00:4E11  CB 7F               		bit		7,a
    2456   00:4E13  28 18               		jr.		z,inmune_bombero		
    2457   00:4E15  C9                  		ret
    2458   00:4E16                      						
    2459   00:4E16                      																						
    2460   00:4E16                      aumenta_ou:
    2461   00:4E16                      		
    2462   00:4E16  3A 73 C6            		ld		a,(OUS_ACTIU)
    2463   00:4E19  3C                  		inc		a
    2464   00:4E1A  32 73 C6            		ld		(OUS_ACTIU),a
    2465   00:4E1D                      		
    2466   00:4E1D  C9                  		ret
    2467   00:4E1E                      
    2468   00:4E1E                      inmune_a_serpientes:
    2469   00:4E1E                      		
    2470   00:4E1E  3E 64               		ld		a,100
    2471   00:4E20  32 73 C6            		ld		(OUS_ACTIU),a
    2472   00:4E23                      		
    2473   00:4E23  3E 01               		ld		a,1
    2474   00:4E25  32 75 C6            		ld		(inmune_serp),a
    2475   00:4E28                      		
    2476   00:4E28  3E 02               		ld		a,2														;efecto sonoro de coger
    2477   00:4E2A  C3 24 78            		jp		efecto_sonido
    2478   00:4E2D                      
    2479   00:4E2D                      inmune_bombero:
    2480   00:4E2D                      		
    2481   00:4E2D  3E 64               		ld		a,100
    2482   00:4E2F  32 73 C6            		ld		(OUS_ACTIU),a
    2483   00:4E32                      		
    2484   00:4E32  3E 01               		ld		a,1
    2485   00:4E34  32 76 C6            		ld		(inmune_bomb),a
    2486   00:4E37                      		
    2487   00:4E37  3E 02               		ld		a,2														;efecto sonoro de coger
    2488   00:4E39  C3 24 78            		jp		efecto_sonido
    2489   00:4E3C                      	
    2490   00:4E3C                      dos_vidas_mas:
    2491   00:4E3C                      
    2492   00:4E3C  3E 64               		ld		a,100
    2493   00:4E3E  32 73 C6            		ld		(OUS_ACTIU),a
    2494   00:4E41  3A 1E C0            		ld		a,(vidas_prota)
    2495   00:4E44  C6 0A               		add		10
    2496   00:4E46  32 1E C0            		ld		(vidas_prota),a
    2497   00:4E49  3E 01               		ld		a,1
    2498   00:4E4B  32 33 C6            		ld		(cuenta_puntos_o_no),a
    2499   00:4E4E                      		
    2500   00:4E4E  3E 02               		ld		a,2														;efecto sonoro de coger
    2501   00:4E50  C3 24 78            		jp		efecto_sonido
    2502   00:4E53                      
    2503   00:4E53                      activa_pasa_fases:
    2504   00:4E53                      		
    2505   00:4E53  3E 64               		ld		a,100
    2506   00:4E55  32 73 C6            		ld		(OUS_ACTIU),a
    2507   00:4E58  3E 03               		ld		a,3
    2508   00:4E5A  32 74 C6            		ld		(trampa),a
    2509   00:4E5D                      		
    2510   00:4E5D  3E 02               		ld		a,2														;efecto sonoro de coger
    2511   00:4E5F  C3 24 78            		jp		efecto_sonido
    2512   00:4E62                      
    2513   00:4E62                      variantes_de_items:
    2514   00:4E62                      		
    2515   00:4E62  3A 72 D3            		ld		a,(posicion_brillo_items)
    2516   00:4E65  3C                  		inc		a
    2517   00:4E66  32 72 D3            		ld		(posicion_brillo_items),a
    2518   00:4E69                      
    2519   00:4E69  FE 03               		cp		3
    2520   00:4E6B  28 28               		jr.		z,variante_1
    2521   00:4E6D  FE 06               		cp		6
    2522   00:4E6F  28 35               		jr.		z,variante_2
    2523   00:4E71  FE 09               		cp		9
    2524   00:4E73  28 42               		jr.		z,variante_3
    2525   00:4E75  FE 0C               		cp		12
    2526   00:4E77  28 4F               		jr.		z,variante_4
    2527   00:4E79  FE 0F               		cp		15
    2528   00:4E7B  28 5C               		jr.		z,variante_5
    2529   00:4E7D  FE 12               		cp		18
    2530   00:4E7F  28 69               		jr.		z,variante_6
    2531   00:4E81  FE 15               		cp		21
    2532   00:4E83  28 76               		jr.		z,variante_7
    2533   00:4E85  FE 18               		cp		24
    2534   00:4E87  CA 0D 4F            		jr.		z,variante_8
    2535   00:4E8A                      		
    2536   00:4E8A  C9                  		ret
    2537   00:4E8B                      
    2538   00:4E8B                      standard_brillo:
    2539   00:4E8B                      
    2540   00:4E8B  E5                  		push	hl
    2541   00:4E8C  D5                  		push	de
    2542   00:4E8D  3E 02               		ld		a,2
    2543   00:4E8F  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    2544   00:4E92  C3 34 4F            		jp		resto_de_standard
    2545   00:4E95                      						
    2546   00:4E95                      variante_1:
    2547   00:4E95                      		
    2548   00:4E95  21 F8 A4            		ld		hl,color_gas_1
    2549   00:4E98  11 08 23            		ld		de,#2308
    2550   00:4E9B  CD 8B 4E            		call	standard_brillo
    2551   00:4E9E  21 FA A4            		ld		hl,color_mec_1
    2552   00:4EA1  11 10 23            		ld		de,#2310
    2553   00:4EA4  18 E5               		jr.		standard_brillo
    2554   00:4EA6                      		
    2555   00:4EA6                      variante_2:
    2556   00:4EA6                      		
    2557   00:4EA6  21 FC A4            		ld		hl,color_gas_2
    2558   00:4EA9  11 09 23            		ld		de,#2309
    2559   00:4EAC  CD 8B 4E            		call	standard_brillo
    2560   00:4EAF  21 FE A4            		ld		hl,color_mec_2
    2561   00:4EB2  11 11 23            		ld		de,#2311
    2562   00:4EB5  18 D4               		jr.		standard_brillo
    2563   00:4EB7                      		
    2564   00:4EB7                      variante_3:
    2565   00:4EB7                      		
    2566   00:4EB7  21 00 A5            		ld		hl,color_gas_3
    2567   00:4EBA  11 0A 23            		ld		de,#230a
    2568   00:4EBD  CD 8B 4E            		call	standard_brillo
    2569   00:4EC0  21 02 A5            		ld		hl,color_mec_3
    2570   00:4EC3  11 12 23            		ld		de,#2312
    2571   00:4EC6  18 C3               		jr.		standard_brillo
    2572   00:4EC8                      		
    2573   00:4EC8                      variante_4:
    2574   00:4EC8                      		
    2575   00:4EC8  21 04 A5            		ld		hl,color_gas_4
    2576   00:4ECB  11 0B 23            		ld		de,#230b
    2577   00:4ECE  CD 8B 4E            		call	standard_brillo
    2578   00:4ED1  21 06 A5            		ld		hl,color_mec_4
    2579   00:4ED4  11 13 23            		ld		de,#2313
    2580   00:4ED7  18 B2               		jr.		standard_brillo
    2581   00:4ED9                      
    2582   00:4ED9                      variante_5:
    2583   00:4ED9                      		
    2584   00:4ED9  21 08 A5            		ld		hl,color_gas_5
    2585   00:4EDC  11 0C 23            		ld		de,#230c
    2586   00:4EDF  CD 8B 4E            		call	standard_brillo
    2587   00:4EE2  21 0A A5            		ld		hl,color_mec_5
    2588   00:4EE5  11 14 23            		ld		de,#2314
    2589   00:4EE8  18 A1               		jr.		standard_brillo
    2590   00:4EEA                      		
    2591   00:4EEA                      variante_6:
    2592   00:4EEA                      		
    2593   00:4EEA  21 0C A5            		ld		hl,color_gas_6
    2594   00:4EED  11 0D 23            		ld		de,#230d
    2595   00:4EF0  CD 8B 4E            		call	standard_brillo
    2596   00:4EF3  21 0E A5            		ld		hl,color_mec_6
    2597   00:4EF6  11 15 23            		ld		de,#2315
    2598   00:4EF9  18 90               		jr.		standard_brillo
    2599   00:4EFB                      		
    2600   00:4EFB                      variante_7:
    2601   00:4EFB                      		
    2602   00:4EFB  21 10 A5            		ld		hl,color_gas_7
    2603   00:4EFE  11 0E 23            		ld		de,#230e
    2604   00:4F01  CD 8B 4E            		call	standard_brillo
    2605   00:4F04  21 12 A5            		ld		hl,color_mec_7
    2606   00:4F07  11 16 23            		ld		de,#2316
    2607   00:4F0A  C3 8B 4E            		jr.		standard_brillo
    2608   00:4F0D                      		
    2609   00:4F0D                      variante_8:
    2610   00:4F0D                      		
    2611   00:4F0D  21 E5 00            		ld		hl,$e5
    2612   00:4F10  11 0F 23            		ld		de,#230f
    2613   00:4F13  01 01 00            		ld		bc,1
    2614   00:4F16  CD 5C 00            		call	GRABAVRAM
    2615   00:4F19  21 E5 00            		ld		hl,$e5
    2616   00:4F1C  11 17 23            		ld		de,#2317
    2617   00:4F1F  01 01 00            		ld		bc,1
    2618   00:4F22  C3 5C 00            		jr.		GRABAVRAM
    2619   00:4F25                      		
    2620   00:4F25                      reinicia_brillo_items:
    2621   00:4F25                      
    2622   00:4F25  AF                  		xor		a
    2623   00:4F26  32 72 D3            		ld		(posicion_brillo_items),a
    2624   00:4F29                      		
    2625   00:4F29  C9                  		ret
    2626   00:4F2A                      
    2627   00:4F2A                      standard_tiles_cambiantes:
    2628   00:4F2A                      		
    2629   00:4F2A  E5                  		push	hl
    2630   00:4F2B  D5                  		push	de
    2631   00:4F2C  3E 08               		ld		a,8
    2632   00:4F2E  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    2633   00:4F31  C3 34 4F            		jp		resto_de_standard
    2634   00:4F34                      
    2635   00:4F34                      resto_de_standard:
    2636   00:4F34                      
    2637   00:4F34  ED 4B E3 DE         		ld		bc,(valor_a_cambiar_en_tile_v)
    2638   00:4F38  CD 5C 00            		CALL	GRABAVRAM
    2639   00:4F3B                      		
    2640   00:4F3B  01 00 08            		ld		bc,#800
    2641   00:4F3E  E1                  		pop		hl
    2642   00:4F3F  ED 4A               		adc		hl,bc
    2643   00:4F41  E5                  		push	hl
    2644   00:4F42  D1                  		pop		de
    2645   00:4F43  E1                  		pop		hl
    2646   00:4F44  E5                  		push	hl
    2647   00:4F45  D5                  		push	de
    2648   00:4F46  ED 4B E3 DE         		ld		bc,(valor_a_cambiar_en_tile_v)
    2649   00:4F4A  CD 5C 00            		CALL	GRABAVRAM
    2650   00:4F4D                      		
    2651   00:4F4D  01 00 08            		ld		bc,#800
    2652   00:4F50  E1                  		pop		hl
    2653   00:4F51  ED 4A               		adc		hl,bc
    2654   00:4F53  E5                  		push	hl
    2655   00:4F54  D1                  		pop		de
    2656   00:4F55  E1                  		pop		hl
    2657   00:4F56  ED 4B E3 DE         		ld		bc,(valor_a_cambiar_en_tile_v)
    2658   00:4F5A  C3 5C 00            		jp		GRABAVRAM
    2659   00:4F5D                      
    2660   00:4F5D                      standard_tiles_cambiantes_2:
    2661   00:4F5D                      
    2662   00:4F5D  E5                  		push	hl
    2663   00:4F5E  D5                  		push	de
    2664   00:4F5F  3E 01               		ld		a,1
    2665   00:4F61  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    2666   00:4F64  C3 34 4F            		jp		resto_de_standard
    2667   00:4F67                      
    2668   00:4F67                      standard_tiles_cambiantes_3:
    2669   00:4F67                      
    2670   00:4F67  E5                  		push	hl
    2671   00:4F68  D5                  		push	de
    2672   00:4F69  3E 10               		ld		a,16
    2673   00:4F6B  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    2674   00:4F6E  C3 34 4F            		jp		resto_de_standard
    2675   00:4F71                      		
    2676   00:4F71                      standard_tiles_cambiantes_4:
    2677   00:4F71                      
    2678   00:4F71  E5                  		push	hl
    2679   00:4F72  D5                  		push	de
    2680   00:4F73  3E 20               		ld		a,8*4
    2681   00:4F75  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    2682   00:4F78  C3 34 4F            		jp		resto_de_standard
    2683   00:4F7B                      				
    2684   00:4F7B                      								
    2685   00:4F7B                      tiles_cambiantes:
    2686   00:4F7B                      		
    2687   00:4F7B                      		
    2688   00:4F7B                      				
    2689   00:4F7B  3A 07 CA            		ld		a,(clock_1)
    2690   00:4F7E  3D                  		dec		a
    2691   00:4F7F  32 07 CA            		ld		(clock_1),a
    2692   00:4F82  B7                  		or		a
    2693   00:4F83  CC 2C 50            		call	z,reset_clock
    2694   00:4F86  FE 0A               		cp		10
    2695   00:4F88  D4 44 50            		call	nc,limpia_clock_a_10
    2696   00:4F8B                      		
    2697   00:4F8B  CD 62 4E            		call	variantes_de_items
    2698   00:4F8E                      		
    2699   00:4F8E  3A 72 D3            		ld		a,(posicion_brillo_items)
    2700   00:4F91  FE 64               		cp		100
    2701   00:4F93  CC 25 4F            		call	z,reinicia_brillo_items
    2702   00:4F96                      		
    2703   00:4F96  3A 2A C6            		ld		a,(tile_a_poner_agua)
    2704   00:4F99  B7                  		or		a
    2705   00:4F9A  20 48               		jr.		nz,tiles_cambiantes_1
    2706   00:4F9C                      				
    2707   00:4F9C  21 54 A4            		ld		hl,agua_1
    2708   00:4F9F  11 70 05            		ld		de,#570
    2709   00:4FA2  CD 2A 4F            		call	standard_tiles_cambiantes
    2710   00:4FA5                      				
    2711   00:4FA5  21 5C A4            		ld		hl,chorro_1
    2712   00:4FA8  11 A8 05            		ld		de,#5a8
    2713   00:4FAB  CD 67 4F            		call	standard_tiles_cambiantes_3
    2714   00:4FAE                      								
    2715   00:4FAE  21 6C A4            		ld		hl,fuego_1_2
    2716   00:4FB1  11 C0 04            		ld		de,#4c0
    2717   00:4FB4  CD 2A 4F            		call	standard_tiles_cambiantes
    2718   00:4FB7                      						
    2719   00:4FB7  21 74 A4            		ld		hl,portal_1
    2720   00:4FBA  11 68 01            		ld		de,#168
    2721   00:4FBD  CD 71 4F            		call	standard_tiles_cambiantes_4
    2722   00:4FC0                      		
    2723   00:4FC0  21 94 A4            		ld		hl,cuchillo_1
    2724   00:4FC3  11 02 23            		ld		de,#2302
    2725   00:4FC6  CD 5D 4F            		call	standard_tiles_cambiantes_2
    2726   00:4FC9                      								
    2727   00:4FC9  21 95 A4            		ld		hl,bomba_1
    2728   00:4FCC  11 1A 23            		ld		de,#231a
    2729   00:4FCF  CD 5D 4F            		call	standard_tiles_cambiantes_2
    2730   00:4FD2                      								
    2731   00:4FD2  21 96 A4            		ld		hl,salpic_1_1
    2732   00:4FD5  11 C0 02            		ld		de,#2c0
    2733   00:4FD8  CD 2A 4F            		call	standard_tiles_cambiantes
    2734   00:4FDB                      						
    2735   00:4FDB  21 9E A4            		ld		hl,salpic_1_2
    2736   00:4FDE  11 D0 02            		ld		de,#2d0
    2737   00:4FE1  C3 2A 4F            		jr.		standard_tiles_cambiantes
    2738   00:4FE4                      						
    2739   00:4FE4                      tiles_cambiantes_1:
    2740   00:4FE4                      		
    2741   00:4FE4  21 A6 A4            		ld		hl,agua_2
    2742   00:4FE7  11 70 05            		ld		de,#570
    2743   00:4FEA  CD 2A 4F            		call	standard_tiles_cambiantes
    2744   00:4FED                      						
    2745   00:4FED  21 AE A4            		ld		hl,chorro_2
    2746   00:4FF0  11 A8 05            		ld		de,#5a8
    2747   00:4FF3  CD 67 4F            		call	standard_tiles_cambiantes_3
    2748   00:4FF6                      								
    2749   00:4FF6  21 BE A4            		ld		hl,fuego_2_2
    2750   00:4FF9  11 C0 04            		ld		de,#4c0
    2751   00:4FFC  CD 2A 4F            		call	standard_tiles_cambiantes
    2752   00:4FFF                      				
    2753   00:4FFF  21 C6 A4            		ld		hl,portal_2
    2754   00:5002  11 68 01            		ld		de,#168
    2755   00:5005  CD 71 4F            		call	standard_tiles_cambiantes_4
    2756   00:5008                      						
    2757   00:5008  21 E6 A4            		ld		hl,cuchillo_2
    2758   00:500B  11 02 23            		ld		de,#2302
    2759   00:500E  CD 5D 4F            		call	standard_tiles_cambiantes_2
    2760   00:5011                      				
    2761   00:5011  21 E7 A4            		ld		hl,bomba_2
    2762   00:5014  11 1A 23            		ld		de,#231a
    2763   00:5017  CD 5D 4F            		call	standard_tiles_cambiantes_2
    2764   00:501A                      						
    2765   00:501A  21 E8 A4            		ld		hl,salpic_2_1
    2766   00:501D  11 C0 02            		ld		de,#2c0
    2767   00:5020  CD 2A 4F            		call	standard_tiles_cambiantes
    2768   00:5023                      						
    2769   00:5023  21 F0 A4            		ld		hl,salpic_2_2
    2770   00:5026  11 D0 02            		ld		de,#2d0
    2771   00:5029  C3 2A 4F            		jr.		standard_tiles_cambiantes
    2772   00:502C                      				
    2773   00:502C                      reset_clock:
    2774   00:502C                      		
    2775   00:502C  01 0A 00            		ld		bc,10
    2776   00:502F  ED 43 07 CA         		ld		(clock_1),bc
    2777   00:5033                      		
    2778   00:5033  3A 2A C6            		ld		a,(tile_a_poner_agua)
    2779   00:5036  3C                  		inc		a
    2780   00:5037  32 2A C6            		ld		(tile_a_poner_agua),a
    2781   00:503A  FE 02               		cp		2
    2782   00:503C  28 01               		jr.		z,reset_clock_2
    2783   00:503E                      		
    2784   00:503E  C9                  		ret
    2785   00:503F                      
    2786   00:503F                      reset_clock_2:
    2787   00:503F                      
    2788   00:503F  AF                  		xor		a
    2789   00:5040  32 2A C6            		ld		(tile_a_poner_agua),a
    2790   00:5043                      		
    2791   00:5043  C9                  		ret
    2792   00:5044                      
    2793   00:5044                      limpia_clock_a_10:
    2794   00:5044                      
    2795   00:5044  01 0A 00            		ld		bc,10
    2796   00:5047  ED 43 07 CA         		ld		(clock_1),bc
    2797   00:504B                      		
    2798   00:504B  C9                  		ret
    2799   00:504C                      		
    2800   00:504C                      diferencias_en_las_fases:
    2801   00:504C                      		
    2802   00:504C  3A 16 C0            		ld		a,(nivel)
    2803   00:504F  B7                  		or		a
    2804   00:5050  20 0A               		jr.		nz,diferencias_en_las_fases_2
    2805   00:5052                      		
    2806   00:5052  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    2807   00:5055  11 65 50            		ld 		de,POINT_de_diferencias_fase_1
    2808   00:5058  C3 45 59            		jp		lista_de_opciones
    2809   00:505B                      		
    2810   00:505B                      final_diferencias_fase:
    2811   00:505B                      		
    2812   00:505B  C9                  		ret
    2813   00:505C                      
    2814   00:505C                      diferencias_en_las_fases_2:
    2815   00:505C                      
    2816   00:505C  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    2817   00:505F  11 89 50            		ld 		de,POINT_de_diferencias_fase_2
    2818   00:5062  C3 45 59            		jp		lista_de_opciones
    2819   00:5065                      		
    2820   00:5065                      POINT_de_diferencias_fase_1:
    2821   00:5065                      		
    2822   00:5065  AD 50               		dw		cambios_fase_1
    2823   00:5067  AD 50               		dw		cambios_fase_1
    2824   00:5069  B7 50               		dw		cambios_fase_3
    2825   00:506B  DC 50               		dw		cambios_fase_4
    2826   00:506D  E1 50               		dw		cambios_fase_5
    2827   00:506F  EB 50               		dw		cambios_fase_6
    2828   00:5071  5B 50               		dw		final_diferencias_fase
    2829   00:5073  04 51               		dw		cambios_fase_8
    2830   00:5075  5B 50               		dw		final_diferencias_fase
    2831   00:5077  5B 50               		dw		final_diferencias_fase
    2832   00:5079  5B 50               		dw		final_diferencias_fase
    2833   00:507B  5B 50               		dw		final_diferencias_fase
    2834   00:507D  5B 50               		dw		final_diferencias_fase
    2835   00:507F  E1 50               		dw		cambios_fase_5
    2836   00:5081  5B 50               		dw		final_diferencias_fase
    2837   00:5083  5B 50               		dw		final_diferencias_fase
    2838   00:5085  4D 51               		dw		cambios_fase_17
    2839   00:5087  5B 50               		dw		final_diferencias_fase
    2840   00:5089                      
    2841   00:5089                      POINT_de_diferencias_fase_2:
    2842   00:5089                      		
    2843   00:5089  5B 50               		dw		final_diferencias_fase
    2844   00:508B  5B 50               		dw		final_diferencias_fase
    2845   00:508D  5B 50               		dw		final_diferencias_fase
    2846   00:508F  5B 50               		dw		final_diferencias_fase
    2847   00:5091  5B 50               		dw		final_diferencias_fase
    2848   00:5093  5B 50               		dw		final_diferencias_fase
    2849   00:5095  F0 50               		dw		cambios_fase_7
    2850   00:5097  5B 50               		dw		final_diferencias_fase
    2851   00:5099  5B 50               		dw		final_diferencias_fase
    2852   00:509B  1A 51               		dw		cambios_fase_10
    2853   00:509D  5B 50               		dw		final_diferencias_fase
    2854   00:509F  5B 50               		dw		final_diferencias_fase
    2855   00:50A1  29 51               		dw		cambios_fase_13
    2856   00:50A3  5B 50               		dw		final_diferencias_fase
    2857   00:50A5  1A 51               		dw		cambios_fase_10
    2858   00:50A7  5B 50               		dw		final_diferencias_fase
    2859   00:50A9  5B 50               		dw		final_diferencias_fase
    2860   00:50AB  5B 50               		dw		final_diferencias_fase
    2861   00:50AD                      				
    2862   00:50AD                      cambios_fase_1:
    2863   00:50AD                      
    2864   00:50AD  FD 21 35 C6         		ld		iy,variables_serpiente_1
    2865   00:50B1  3E 02               		ld		a,2
    2866   00:50B3  FD 77 07            		ld		(iy+7),a
    2867   00:50B6                      
    2868   00:50B6  C9                  		ret
    2869   00:50B7                      		
    2870   00:50B7                      cambios_fase_3:
    2871   00:50B7                      
    2872   00:50B7  21 61 C0            		ld		hl,buffer_colisiones
    2873   00:50BA  3E 29               		ld		a,41
    2874   00:50BC  01 FD 01            		ld		bc,509
    2875   00:50BF  ED 4A               		adc		hl,bc
    2876   00:50C1  77                  		ld		[hl],a
    2877   00:50C2  23                  		inc		hl
    2878   00:50C3  3C                  		inc		a
    2879   00:50C4  77                  		ld		[hl],a
    2880   00:50C5  01 2F 00            		ld		bc,47
    2881   00:50C8  ED 4A               		adc		hl,bc
    2882   00:50CA  3E 20               		ld		a,32
    2883   00:50CC  77                  		ld		[hl],a
    2884   00:50CD  23                  		inc		hl
    2885   00:50CE  77                  		ld		[hl],a
    2886   00:50CF  01 1F 00            		ld		bc,31
    2887   00:50D2  ED 4A               		adc		hl,bc
    2888   00:50D4  77                  		ld		[hl],a
    2889   00:50D5  23                  		inc		hl
    2890   00:50D6  77                  		ld		[hl],a
    2891   00:50D7                      		
    2892   00:50D7  AF                  		xor		a
    2893   00:50D8  32 89 C6            		ld		(toca_bombero),a
    2894   00:50DB  C9                  		ret
    2895   00:50DC                      		
    2896   00:50DC                      cambios_fase_4:
    2897   00:50DC                      		
    2898   00:50DC  AF                  		xor		a
    2899   00:50DD  32 7B C6            		ld		(bombero_1),a
    2900   00:50E0                      								
    2901   00:50E0  C9                  		ret
    2902   00:50E1                      		
    2903   00:50E1                      cambios_fase_5:
    2904   00:50E1                      
    2905   00:50E1  FD 21 7C C6         		ld		iy,bombero_control
    2906   00:50E5  3E 02               		ld		a,2
    2907   00:50E7  FD 77 02            		ld		(iy+2),a
    2908   00:50EA                      
    2909   00:50EA  C9                  		ret
    2910   00:50EB                      
    2911   00:50EB                      cambios_fase_6:
    2912   00:50EB                      
    2913   00:50EB  AF                  		xor		a
    2914   00:50EC  32 61 C6            		ld		(serp4),a
    2915   00:50EF                      ;		ld		iy,variables_serpiente_1
    2916   00:50EF                      ;		xor		a
    2917   00:50EF                      ;		ld		(iy+1),a
    2918   00:50EF                      ;		ld		(iy+4),a
    2919   00:50EF                      ;		ld		ix,atributos_sprite_general
    2920   00:50EF                      ;		ld		de,16
    2921   00:50EF                      ;		add		ix,de
    2922   00:50EF                      ;		jp		atributos_sprites
    2923   00:50EF                      
    2924   00:50EF  C9                  		ret
    2925   00:50F0                      cambios_fase_7:
    2926   00:50F0                      		
    2927   00:50F0  21 61 C0            		ld		hl,buffer_colisiones
    2928   00:50F3  3E 20               		ld		a,32
    2929   00:50F5  01 A7 00            		ld		bc,167
    2930   00:50F8  ED 4A               		adc		hl,bc
    2931   00:50FA  77                  		ld		[hl],a
    2932   00:50FB  01 9F 00            		ld		bc,159
    2933   00:50FE  ED 4A               		adc		hl,bc
    2934   00:5100  3E A8               		ld		a,168
    2935   00:5102  77                  		ld		[hl],a
    2936   00:5103                      		
    2937   00:5103  C9                  		ret
    2938   00:5104                      		
    2939   00:5104                      		
    2940   00:5104                      cambios_fase_8:
    2941   00:5104                      
    2942   00:5104  AF                  		xor		a
    2943   00:5105  32 61 C6            		ld		(serp4),a
    2944   00:5108                      		
    2945   00:5108  21 41 C3            		ld		hl,buffer_colisiones_2
    2946   00:510B  3E 60               		ld		a,96
    2947   00:510D  01 B1 02            		ld		bc,689
    2948   00:5110  ED 4A               		adc		hl,bc
    2949   00:5112  77                  		ld		[hl],a
    2950   00:5113  23                  		inc		hl
    2951   00:5114  77                  		ld		[hl],a
    2952   00:5115  23                  		inc		hl
    2953   00:5116  77                  		ld		[hl],a
    2954   00:5117  23                  		inc		hl
    2955   00:5118  77                  		ld		[hl],a
    2956   00:5119                      		
    2957   00:5119  C9                  		ret
    2958   00:511A                      		
    2959   00:511A                      cambios_fase_10:
    2960   00:511A                      
    2961   00:511A  FD 21 7C C6         		ld		iy,bombero_control
    2962   00:511E  3E 01               		ld		a,1
    2963   00:5120  FD 77 09            		ld		(iy+9),a
    2964   00:5123  3E 03               		ld		a,3
    2965   00:5125  FD 77 02            		ld		(iy+2),a
    2966   00:5128  C9                  		ret
    2967   00:5129                      
    2968   00:5129                      cambios_fase_13:
    2969   00:5129                      
    2970   00:5129  21 61 C0            		ld		hl,buffer_colisiones
    2971   00:512C  3E 20               		ld		a,32
    2972   00:512E  01 64 00            		ld		bc,100
    2973   00:5131  ED 4A               		adc		hl,bc
    2974   00:5133  77                  		ld		[hl],a
    2975   00:5134  01 18 00            		ld		bc,24
    2976   00:5137  ED 4A               		adc		hl,bc
    2977   00:5139  77                  		ld		[hl],a
    2978   00:513A                      						
    2979   00:513A  C9                  		ret
    2980   00:513B                      				
    2981   00:513B                      cambios_fase_14:
    2982   00:513B                      		
    2983   00:513B  21 61 C0            		ld		hl,buffer_colisiones
    2984   00:513E  3E 20               		ld		a,32
    2985   00:5140  01 86 00            		ld		bc,134
    2986   00:5143  ED 4A               		adc		hl,bc
    2987   00:5145  77                  		ld		[hl],a
    2988   00:5146  01 29 02            		ld		bc,553
    2989   00:5149  ED 4A               		adc		hl,bc
    2990   00:514B  77                  		ld		[hl],a
    2991   00:514C                      				
    2992   00:514C  C9                  		ret
    2993   00:514D                      		
    2994   00:514D                      cambios_fase_17:
    2995   00:514D                      
    2996   00:514D  21 61 C0            		ld		hl,buffer_colisiones
    2997   00:5150  3E 29               		ld		a,41
    2998   00:5152  01 1A 01            		ld		bc,282
    2999   00:5155  ED 4A               		adc		hl,bc
    3000   00:5157  77                  		ld		[hl],a
    3001   00:5158  23                  		inc		hl
    3002   00:5159  3C                  		inc		a
    3003   00:515A  77                  		ld		[hl],a
    3004   00:515B                      
    3005   00:515B  C9                  		ret
    3006   00:515C                      				
    3007   00:515C                      ;cambios_fase_19:
    3008   00:515C                      
    3009   00:515C                      ;		ld		a,0
    3010   00:515C                      ;		ld		(serp4),a
    3011   00:515C                      		
    3012   00:515C                      ;		ret
    3013   00:515C                      														
    3014   00:515C                      vigila_si_cierra_puertas:
    3015   00:515C                      		
    3016   00:515C  3A 1D C0            		ld		a,(puede_cambiar_de_direccion)
    3017   00:515F  FE 01               		cp		1
    3018   00:5161  C8                  		ret		z
    3019   00:5162                      		
    3020   00:5162  CD CF 77            		call	dieciseis_quince
    3021   00:5165  CD C7 62            		call	get_bloque_en_X_Y
    3022   00:5168                      		
    3023   00:5168  FE 75               		cp		117
    3024   00:516A  28 5D               		jr.		z,recoloca_puerta_amarilla_izquierda
    3025   00:516C  FE 76               		cp		118
    3026   00:516E  CA 2E 52            		jr.		z,recoloca_puerta_azul_izquierda
    3027   00:5171                      		
    3028   00:5171  CD 03 78            		call	menos_uno_quince
    3029   00:5174  CD C7 62            		call	get_bloque_en_X_Y
    3030   00:5177                      		
    3031   00:5177  FE 75               		cp		117
    3032   00:5179  28 1C               		jr.		z,recoloca_puerta_amarilla_derecha
    3033   00:517B  FE 76               		cp		118
    3034   00:517D  28 7D               		jr.		z,recoloca_puerta_azul_derecha	
    3035   00:517F                      		
    3036   00:517F  C9                  		ret
    3037   00:5180                      							
    3038   00:5180                      movimiento_forzado_en_puertas:
    3039   00:5180                      
    3040   00:5180  3A 1D C0            		ld		a,(puede_cambiar_de_direccion)
    3041   00:5183  FE 01               		cp		1
    3042   00:5185  C8                  		ret		z
    3043   00:5186                      		
    3044   00:5186  3E 0D               		ld		a,13													;efecto sonoro de puerta abierta
    3045   00:5188  CD 24 78            		call	efecto_sonido
    3046   00:518B                      					
    3047   00:518B  3A 27 C0            		ld		a,(dir_prota)
    3048   00:518E  B7                  		or		a
    3049   00:518F  CA AD 61            		jr.		z,(mueve_derecha_prota)
    3050   00:5192  FE 01               		cp		1														;va a la izquierda forzado
    3051   00:5194  CA 90 5F            		jr.		z,(mueve_izquierda_prota)
    3052   00:5197                      
    3053   00:5197                      recoloca_puerta_amarilla_derecha:
    3054   00:5197                      				
    3055   00:5197  3A 27 C0            		ld		a,(dir_prota)
    3056   00:519A  B7                  		or		a
    3057   00:519B  C0                  		ret		nz
    3058   00:519C                      		
    3059   00:519C  3E 01               		ld		a,1
    3060   00:519E  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    3061   00:51A1                      		
    3062   00:51A1  CD 03 78            		call	menos_uno_quince
    3063   00:51A4  CD C7 62            		call	get_bloque_en_X_Y
    3064   00:51A7  3E 71               		ld		a,113
    3065   00:51A9  77                  		ld		[hl],a
    3066   00:51AA                      								
    3067   00:51AA  CD 03 78            		call	menos_uno_quince
    3068   00:51AD  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3069   00:51B0                      		
    3070   00:51B0  3E 71               		ld		a,113
    3071   00:51B2  CD 12 78            		call	pinta_en_pantalla
    3072   00:51B5                      		
    3073   00:51B5  CD 0A 78            		call	menos_uno_dos
    3074   00:51B8  CD C7 62            		call	get_bloque_en_X_Y
    3075   00:51BB  3E 71               		ld		a,113
    3076   00:51BD  77                  		ld		[hl],a
    3077   00:51BE                      								
    3078   00:51BE  CD 0A 78            		call	menos_uno_dos
    3079   00:51C1  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3080   00:51C4                      		
    3081   00:51C4  3E 71               		ld		a,113
    3082   00:51C6  C3 12 78            		jp		pinta_en_pantalla
    3083   00:51C9                      		
    3084   00:51C9                      recoloca_puerta_amarilla_izquierda:
    3085   00:51C9                      		
    3086   00:51C9  3A 27 C0            		ld		a,(dir_prota)
    3087   00:51CC  FE 01               		cp		1
    3088   00:51CE  C0                  		ret		nz
    3089   00:51CF                      		
    3090   00:51CF  3E 01               		ld		a,1
    3091   00:51D1  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    3092   00:51D4                      		
    3093   00:51D4  CD CF 77            		call	dieciseis_quince
    3094   00:51D7  CD C7 62            		call	get_bloque_en_X_Y
    3095   00:51DA  3E 72               		ld		a,114
    3096   00:51DC  77                  		ld		[hl],a
    3097   00:51DD                      								
    3098   00:51DD  CD CF 77            		call	dieciseis_quince
    3099   00:51E0  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3100   00:51E3                      		
    3101   00:51E3  3E 72               		ld		a,114
    3102   00:51E5  CD 12 78            		call	pinta_en_pantalla
    3103   00:51E8                      		
    3104   00:51E8  CD D7 77            		call	dieciseis_dos
    3105   00:51EB  CD C7 62            		call	get_bloque_en_X_Y
    3106   00:51EE  3E 72               		ld		a,114
    3107   00:51F0  77                  		ld		[hl],a
    3108   00:51F1                      								
    3109   00:51F1  CD D7 77            		call	dieciseis_dos
    3110   00:51F4  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3111   00:51F7                      		
    3112   00:51F7  3E 72               		ld		a,114
    3113   00:51F9  C3 12 78            		jp		pinta_en_pantalla
    3114   00:51FC                      				
    3115   00:51FC                      recoloca_puerta_azul_derecha:
    3116   00:51FC                      		
    3117   00:51FC                      		
    3118   00:51FC  3A 27 C0            		ld		a,(dir_prota)
    3119   00:51FF  B7                  		or		a
    3120   00:5200  C0                  		ret		nz
    3121   00:5201                      		
    3122   00:5201  3E 01               		ld		a,1
    3123   00:5203  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    3124   00:5206                      		
    3125   00:5206  CD 03 78            		call	menos_uno_quince
    3126   00:5209  CD C7 62            		call	get_bloque_en_X_Y
    3127   00:520C  3E 74               		ld		a,116
    3128   00:520E  77                  		ld		[hl],a
    3129   00:520F                      								
    3130   00:520F  CD 03 78            		call	menos_uno_quince
    3131   00:5212  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3132   00:5215                      		
    3133   00:5215  3E 74               		ld		a,116
    3134   00:5217  CD 12 78            		call	pinta_en_pantalla
    3135   00:521A                      		
    3136   00:521A  CD 0A 78            		call	menos_uno_dos
    3137   00:521D  CD C7 62            		call	get_bloque_en_X_Y
    3138   00:5220  3E 74               		ld		a,116
    3139   00:5222  77                  		ld		[hl],a
    3140   00:5223                      								
    3141   00:5223  CD 0A 78            		call	menos_uno_dos
    3142   00:5226  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3143   00:5229                      		
    3144   00:5229  3E 74               		ld		a,116
    3145   00:522B  C3 12 78            		jp		pinta_en_pantalla
    3146   00:522E                      				
    3147   00:522E                      recoloca_puerta_azul_izquierda:
    3148   00:522E                      		
    3149   00:522E  3A 27 C0            		ld		a,(dir_prota)
    3150   00:5231  FE 01               		cp		1
    3151   00:5233  C0                  		ret		nz
    3152   00:5234                      		
    3153   00:5234  3E 01               		ld		a,1
    3154   00:5236  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    3155   00:5239                      		
    3156   00:5239  CD CF 77            		call	dieciseis_quince
    3157   00:523C  CD C7 62            		call	get_bloque_en_X_Y
    3158   00:523F  3E 73               		ld		a,115
    3159   00:5241  77                  		ld		[hl],a
    3160   00:5242                      								
    3161   00:5242  CD CF 77            		call	dieciseis_quince
    3162   00:5245  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3163   00:5248                      		
    3164   00:5248  3E 73               		ld		a,115
    3165   00:524A  CD 12 78            		call	pinta_en_pantalla
    3166   00:524D                      		
    3167   00:524D  CD D7 77            		call	dieciseis_dos
    3168   00:5250  CD C7 62            		call	get_bloque_en_X_Y
    3169   00:5253  3E 73               		ld		a,115
    3170   00:5255  77                  		ld		[hl],a
    3171   00:5256                      								
    3172   00:5256  CD D7 77            		call	dieciseis_dos
    3173   00:5259  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3174   00:525C                      		
    3175   00:525C  3E 73               		ld		a,115
    3176   00:525E  C3 12 78            		jp		pinta_en_pantalla
    3177   00:5261                      		
    3178   00:5261                      grifos_balsa_bombero:
    3179   00:5261                      		
    3180   00:5261                      		
    3181   00:5261  FD 21 7C C6         		ld		iy,bombero_control
    3182   00:5265                      		
    3183   00:5265  3A 21 C6            		ld		a,(pantalla_activa)										;cambiamos circunstancialmente la pantalla activa por la del bombero para ver qué pasa
    3184   00:5268  F5                  		push	af
    3185   00:5269  FD 7E 0C            		ld		a,(iy+12)
    3186   00:526C  32 21 C6            		ld		(pantalla_activa),a
    3187   00:526F                      		
    3188   00:526F  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene donde está					
    3189   00:5272  57                  		ld		d,a
    3190   00:5273  FD 7E 01            		ld		a,(iy+1)
    3191   00:5276  C6 0A               		add		10
    3192   00:5278  5F                  		ld		e,a
    3193   00:5279  CD C7 62            		call	get_bloque_en_X_Y
    3194   00:527C                      		
    3195   00:527C  FE B2               		cp		178														;si el grifo ya está abierto, sigue la gran rutina
    3196   00:527E  C2 27 53            		jr.		nz,grifos_balsa_bombero_cierre
    3197   00:5281                      		
    3198   00:5281  3A 94 C6            		ld		a,(pantalla_tile_grifo_balsa_1)
    3199   00:5284  FE 01               		cp		1
    3200   00:5286  20 09               		jr.		nz,grifos_balsa_bombero_2
    3201   00:5288                      		
    3202   00:5288  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer adecuado el grifo cerrado
    3203   00:528C  21 61 C0            		ld		hl,buffer_colisiones
    3204   00:528F  18 07               		jr.		grifos_balsa_bombero_3
    3205   00:5291                      		
    3206   00:5291                      grifos_balsa_bombero_2:
    3207   00:5291                      		
    3208   00:5291  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer adecuado el grifo cerrado
    3209   00:5295  21 41 C3            		ld		hl,buffer_colisiones_2
    3210   00:5298                      
    3211   00:5298                      grifos_balsa_bombero_3:
    3212   00:5298                      		
    3213   00:5298  ED 4A               		adc		hl,bc
    3214   00:529A  01 20 00            		ld		bc,32
    3215   00:529D  ED 42               		sbc		hl,bc
    3216   00:529F  3E B3               		ld		a,179
    3217   00:52A1  77                  		ld		[hl],a
    3218   00:52A2                      				
    3219   00:52A2  3A 95 C6            		ld		a,(pantalla_tile_grifo_balsa_2)
    3220   00:52A5  FE 01               		cp		1
    3221   00:52A7  20 09               		jr.		nz,grifos_balsa_bombero_4
    3222   00:52A9                      
    3223   00:52A9                      		
    3224   00:52A9  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    3225   00:52AD  21 61 C0            		ld		hl,buffer_colisiones
    3226   00:52B0  18 07               		jr.		grifos_balsa_bombero_5
    3227   00:52B2                      		
    3228   00:52B2                      grifos_balsa_bombero_4:
    3229   00:52B2                      		
    3230   00:52B2  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    3231   00:52B6  21 41 C3            		ld		hl,buffer_colisiones_2
    3232   00:52B9                      		
    3233   00:52B9                      grifos_balsa_bombero_5:
    3234   00:52B9                      		
    3235   00:52B9  ED 4A               		adc		hl,bc
    3236   00:52BB  01 20 00            		ld		bc,32
    3237   00:52BE  ED 42               		sbc		hl,bc
    3238   00:52C0  3E B3               		ld		a,179
    3239   00:52C2  77                  		ld		[hl],a
    3240   00:52C3                      			
    3241   00:52C3  3A 96 C6            		ld		a,(pantalla_balsa)
    3242   00:52C6  FE 01               		cp		1
    3243   00:52C8  20 09               		jr.		nz,grifos_balsa_bombero_6
    3244   00:52CA                      								
    3245   00:52CA  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    3246   00:52CE  21 61 C0            		ld		hl,buffer_colisiones
    3247   00:52D1  18 07               		jr.		grifos_balsa_bombero_7
    3248   00:52D3                      
    3249   00:52D3                      grifos_balsa_bombero_6:
    3250   00:52D3                      
    3251   00:52D3  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    3252   00:52D7  21 41 C3            		ld		hl,buffer_colisiones_2
    3253   00:52DA                      		
    3254   00:52DA                      grifos_balsa_bombero_7:
    3255   00:52DA                      		
    3256   00:52DA  ED 4A               		adc		hl,bc
    3257   00:52DC  01 1D 00            		ld		bc,29
    3258   00:52DF  ED 4A               		adc		hl,bc
    3259   00:52E1  3E AE               		ld		a,174
    3260   00:52E3  77                  		ld		[hl],a
    3261   00:52E4  23                  		inc		hl
    3262   00:52E5  77                  		ld		[hl],a
    3263   00:52E6  23                  		inc		hl
    3264   00:52E7  77                  		ld		[hl],a
    3265   00:52E8  23                  		inc		hl
    3266   00:52E9  77                  		ld		[hl],a
    3267   00:52EA  23                  		inc		hl
    3268   00:52EB  77                  		ld		[hl],a
    3269   00:52EC  23                  		inc		hl
    3270   00:52ED  77                  		ld		[hl],a
    3271   00:52EE  23                  		inc		hl
    3272   00:52EF  77                  		ld		[hl],a
    3273   00:52F0  01 1B 00            		ld		bc,27
    3274   00:52F3  ED 4A               		adc		hl,bc
    3275   00:52F5  77                  		ld		[hl],a
    3276   00:52F6  23                  		inc		hl
    3277   00:52F7  77                  		ld		[hl],a
    3278   00:52F8  23 23               [2]		inc		hl
    3279   00:52FA  77                  		ld		[hl],a
    3280   00:52FB  23                  		inc		hl
    3281   00:52FC  77                  		ld		[hl],a
    3282   00:52FD  2B 2B               [2]		dec		hl
    3283   00:52FF  3E AF               		ld		a,175
    3284   00:5301  77                  		ld		[hl],a
    3285   00:5302                      		
    3286   00:5302  3E 10               		ld		a,16														;efecto sonoro de grifo de balsa cerrado
    3287   00:5304  CD 24 78            		call	efecto_sonido						
    3288   00:5307                      
    3289   00:5307  F1                  		pop		af
    3290   00:5308  32 21 C6            		ld		(pantalla_activa),a
    3291   00:530B  FE 01               		cp		a,1
    3292   00:530D  20 09               		jr.		nz,grifos_balsa_bombero_8
    3293   00:530F                      		
    3294   00:530F  F5                  		push	af
    3295   00:5310  21 61 C0            		ld		hl,buffer_colisiones
    3296   00:5313  CD B8 49            		call	copiamos_en_pantalla_lo_de_memoria
    3297   00:5316  18 07               		jr.		grifos_balsa_bombero_9
    3298   00:5318                      
    3299   00:5318                      grifos_balsa_bombero_8:
    3300   00:5318                      		
    3301   00:5318  F5                  		push	af
    3302   00:5319  21 41 C3            		ld		hl,buffer_colisiones_2
    3303   00:531C  CD C7 49            		call	copiamos_en_pantalla_lo_de_memoria_tras_buffer
    3304   00:531F                      
    3305   00:531F                      grifos_balsa_bombero_9:
    3306   00:531F                      				
    3307   00:531F  3E 01               		ld		a,1														; da valor a la variable para abrir el grifo de balsa
    3308   00:5321  32 8F C6            		ld		(grifos_balsa_cerrados),a
    3309   00:5324  32 93 C6            		ld		(balsa_bacia),a
    3310   00:5327                      
    3311   00:5327                      grifos_balsa_bombero_cierre:
    3312   00:5327                      
    3313   00:5327  F1                  		pop		af
    3314   00:5328  32 21 C6            		ld		(pantalla_activa),a
    3315   00:532B  C9                  		ret
    3316   00:532C                      		
    3317   00:532C                      grifo_bombero:
    3318   00:532C                      
    3319   00:532C  FD 21 7C C6         		ld		iy,bombero_control
    3320   00:5330                      		
    3321   00:5330  3A 21 C6            		ld		a,(pantalla_activa)
    3322   00:5333  F5                  		push	af
    3323   00:5334  FD 7E 0C            		ld		a,(iy+12)
    3324   00:5337  32 21 C6            		ld		(pantalla_activa),a
    3325   00:533A                      		
    3326   00:533A  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene donde está					
    3327   00:533D  57                  		ld		d,a
    3328   00:533E  FD 7E 01            		ld		a,(iy+1)
    3329   00:5341  C6 0A               		add		10
    3330   00:5343  5F                  		ld		e,a
    3331   00:5344  CD C7 62            		call	get_bloque_en_X_Y
    3332   00:5347  FE 77               		cp		a,119														;si el grifo ya está abierto, sigue la gran rutina
    3333   00:5349  20 3B               		jr.		nz,grifo_bombero_1
    3334   00:534B                      		
    3335   00:534B  FD 7E 00            		ld		a,(iy)													;para buffer y vram moviendo 0,10						
    3336   00:534E  57                  		ld		d,a
    3337   00:534F  FD 7E 01            		ld		a,(iy+1)
    3338   00:5352  C6 0A               		add		10
    3339   00:5354  5F                  		ld		e,a
    3340   00:5355  CD C7 62            		call	get_bloque_en_X_Y
    3341   00:5358  3E 57               		ld		a,87
    3342   00:535A  77                  		ld		[hl],a
    3343   00:535B                      		
    3344   00:535B  F1                  		pop		af
    3345   00:535C  32 21 C6            		ld		(pantalla_activa),a
    3346   00:535F  47                  		ld		b,a
    3347   00:5360  F5                  		push	af
    3348   00:5361  FD 7E 0C            		ld		a,(iy+12)
    3349   00:5364  B8                  		cp		b
    3350   00:5365  20 10               		jr.		nz,grifo_bombero_continua
    3351   00:5367                      								
    3352   00:5367  FD 7E 00            		ld		a,(iy)													;para buffer y vram moviendo 0,10						
    3353   00:536A  57                  		ld		d,a
    3354   00:536B  FD 7E 01            		ld		a,(iy+1)
    3355   00:536E  C6 0A               		add		10
    3356   00:5370  5F                  		ld		e,a
    3357   00:5371  CD F8 62            		call	get_bloque_en_X_Y_paravram
    3358   00:5374  3E 57               		ld		a,87
    3359   00:5376  77                  		ld		[hl],a
    3360   00:5377                      		
    3361   00:5377                      grifo_bombero_continua:
    3362   00:5377                      		
    3363   00:5377                      		
    3364   00:5377  3E 57               		ld		a,87
    3365   00:5379  CD 12 78            		call	pinta_en_pantalla
    3366   00:537C                      		
    3367   00:537C  3E 0A               		ld		a,10													;efecto sonoro de abrir grifo
    3368   00:537E  CD 24 78            		call	efecto_sonido
    3369   00:5381                      		
    3370   00:5381  3E 01               		ld		a,1														; da valor a la variable para dar por hecho que el grifo está abierto
    3371   00:5383  32 77 C6            		ld		(grifo_estado),a
    3372   00:5386                      
    3373   00:5386                      grifo_bombero_1:
    3374   00:5386                      
    3375   00:5386  F1                  		pop		af
    3376   00:5387  32 21 C6            		ld		(pantalla_activa),a
    3377   00:538A  C9                  		ret
    3378   00:538B                      
    3379   00:538B                      que_pinto_de_la_balsa:
    3380   00:538B                      		
    3381   00:538B  3A 79 C6            		ld		a,(vision_estado)										;si no se ve, no pinta nada
    3382   00:538E  B7                  		or		a
    3383   00:538F  C8                  		ret		z
    3384   00:5390                      		
    3385   00:5390  3A 92 C6            		ld		a,(balsa_activa)										;no mira nada si la balsa no está activa
    3386   00:5393  B7                  		or		a
    3387   00:5394  C8                  		ret		z
    3388   00:5395                      		
    3389   00:5395  3A 96 C6            		ld		a,(pantalla_balsa)										;si no estamos en la pantalla de la balsa, no pinta nada
    3390   00:5398  47                  		ld		b,a
    3391   00:5399  3A 21 C6            		ld		a,(pantalla_activa)
    3392   00:539C  B8                  		cp		b
    3393   00:539D  C0                  		ret		nz
    3394   00:539E                      		
    3395   00:539E  3A 8F C6            		ld		a,(grifos_balsa_cerrados)
    3396   00:53A1  FE 01               		cp		1
    3397   00:53A3  28 51               		jr.		z,balsa_a_pintar_si_abierto_grifo
    3398   00:53A5                      		
    3399   00:53A5                      balsa_a_pintar_si_cerrado_grifo:
    3400   00:53A5                      		
    3401   00:53A5  3A 96 C6            		ld		a,(pantalla_balsa)
    3402   00:53A8  FE 01               		cp		1
    3403   00:53AA  20 09               		jr.		nz,balsa_a_pintar_si_cerrado_grifo_1
    3404   00:53AC                      		
    3405   00:53AC  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3406   00:53B0  21 61 C0            		ld		hl,buffer_colisiones
    3407   00:53B3  18 07               		jr.		balsa_a_pintar_si_cerrado_grifo_2
    3408   00:53B5                      		
    3409   00:53B5                      balsa_a_pintar_si_cerrado_grifo_1:
    3410   00:53B5                      
    3411   00:53B5  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3412   00:53B9  21 41 C3            		ld		hl,buffer_colisiones_2
    3413   00:53BC                      
    3414   00:53BC                      balsa_a_pintar_si_cerrado_grifo_2:
    3415   00:53BC                      		
    3416   00:53BC  3A 96 C6            		ld		a,(pantalla_balsa)
    3417   00:53BF  FE 01               		cp		1
    3418   00:53C1  20 09               		jr.		nz,balsa_a_pintar_si_cerrado_grifo_3
    3419   00:53C3                      		
    3420   00:53C3  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3421   00:53C7  21 61 C0            		ld		hl,buffer_colisiones
    3422   00:53CA  18 07               		jr.		balsa_a_pintar_si_cerrado_grifo_4
    3423   00:53CC                      
    3424   00:53CC                      balsa_a_pintar_si_cerrado_grifo_3:
    3425   00:53CC                      
    3426   00:53CC  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3427   00:53D0  21 41 C3            		ld		hl,buffer_colisiones_2
    3428   00:53D3                      
    3429   00:53D3                      balsa_a_pintar_si_cerrado_grifo_4:
    3430   00:53D3                      
    3431   00:53D3  ED 4A               		adc		hl,bc
    3432   00:53D5  3E 20               		ld		a,32
    3433   00:53D7  77                  		ld		[hl],a
    3434   00:53D8                      		
    3435   00:53D8  3A 21 C6            		ld		a,(pantalla_activa)
    3436   00:53DB  47                  		ld		b,a
    3437   00:53DC  3A 96 C6            		ld		a,(pantalla_balsa)
    3438   00:53DF  B8                  		cp		b
    3439   00:53E0  C0                  		ret		nz
    3440   00:53E1                      										
    3441   00:53E1  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)							;dibujamos en pantalla la cañeria cerrada
    3442   00:53E4  3E B4               		ld		a,180
    3443   00:53E6  CD 12 78            		call	pinta_en_pantalla
    3444   00:53E9                      		
    3445   00:53E9  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)	
    3446   00:53EC  01 20 00            		ld		bc,32
    3447   00:53EF  ED 4A               		adc		hl,bc
    3448   00:53F1  3E 20               		ld		a,32
    3449   00:53F3  C3 12 78            		jp		pinta_en_pantalla
    3450   00:53F6                      
    3451   00:53F6                      balsa_a_pintar_si_abierto_grifo:
    3452   00:53F6                      		
    3453   00:53F6  3A 96 C6            		ld		a,(pantalla_balsa)
    3454   00:53F9  FE 01               		cp		1
    3455   00:53FB  20 09               		jr.		nz,balsa_a_pintar_si_abierto_grifo_1
    3456   00:53FD                      		
    3457   00:53FD  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3458   00:5401  21 61 C0            		ld		hl,buffer_colisiones
    3459   00:5404  18 07               		jr.		balsa_a_pintar_si_abierto_grifo_2
    3460   00:5406                      		
    3461   00:5406                      balsa_a_pintar_si_abierto_grifo_1:
    3462   00:5406                      
    3463   00:5406  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3464   00:540A  21 41 C3            		ld		hl,buffer_colisiones_2
    3465   00:540D                      
    3466   00:540D                      balsa_a_pintar_si_abierto_grifo_2:
    3467   00:540D                      		
    3468   00:540D  ED 4A               		adc		hl,bc
    3469   00:540F  01 20 00            		ld		bc,32
    3470   00:5412  ED 42               		sbc		hl,bc
    3471   00:5414  3E B6               		ld		a,182
    3472   00:5416  77                  		ld		[hl],a
    3473   00:5417                      		
    3474   00:5417  3A 96 C6            		ld		a,(pantalla_balsa)
    3475   00:541A  FE 01               		cp		1
    3476   00:541C  20 09               		jr.		nz,balsa_a_pintar_si_abierto_grifo_3
    3477   00:541E                      				
    3478   00:541E  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3479   00:5422  21 61 C0            		ld		hl,buffer_colisiones
    3480   00:5425  18 07               		jr.		balsa_a_pintar_si_abierto_grifo_4
    3481   00:5427                      		
    3482   00:5427                      balsa_a_pintar_si_abierto_grifo_3:
    3483   00:5427                      
    3484   00:5427  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    3485   00:542B  21 41 C3            		ld		hl,buffer_colisiones_2
    3486   00:542E                      		
    3487   00:542E                      balsa_a_pintar_si_abierto_grifo_4:
    3488   00:542E                      		
    3489   00:542E  ED 4A               		adc		hl,bc
    3490   00:5430  3E B5               		ld		a,181
    3491   00:5432  77                  		ld		[hl],a
    3492   00:5433                      		
    3493   00:5433  3A 21 C6            		ld		a,(pantalla_activa)
    3494   00:5436  47                  		ld		b,a
    3495   00:5437  3A 96 C6            		ld		a,(pantalla_balsa)
    3496   00:543A  B8                  		cp		b
    3497   00:543B  C0                  		ret		nz
    3498   00:543C                      										
    3499   00:543C  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)							;dibujamos en pantalla ela cañeria abierta
    3500   00:543F  3E B6               		ld		a,182
    3501   00:5441  CD 12 78            		call	pinta_en_pantalla
    3502   00:5444                      		
    3503   00:5444  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)	
    3504   00:5447  01 20 00            		ld		bc,32
    3505   00:544A  ED 4A               		adc		hl,bc
    3506   00:544C  3E B5               		ld		a,181
    3507   00:544E  C3 12 78            		jp		pinta_en_pantalla
    3508   00:5451                      						
    3509   00:5451                      revisa_bombero:
    3510   00:5451                      
    3511   00:5451  3A 7B C6            		ld		a,(bombero_1)											;si no está activo, vuelve a la gran rutina
    3512   00:5454  B7                  		or		a
    3513   00:5455  C8                  		ret		z
    3514   00:5456                      						
    3515   00:5456  FD 21 7C C6         		ld	    iy,bombero_control										;si no tiene orden de aparecer, reduce el tiempo y vuelve a la gran rutina
    3516   00:545A  FD 7E 08            		ld		a,(iy+8)
    3517   00:545D  B7                  		or		a
    3518   00:545E  28 05               		jr.		z,se_activa_el_bombero
    3519   00:5460                      		
    3520   00:5460  3D                  		dec		a
    3521   00:5461  FD 77 08            		ld		(iy+8),a
    3522   00:5464                      		
    3523   00:5464  C9                  		ret		
    3524   00:5465                      		
    3525   00:5465                      se_activa_el_bombero:
    3526   00:5465                      
    3527   00:5465  3A 21 C6            		ld		a,(pantalla_activa)										;control de pantalla en la que está el bombero
    3528   00:5468  F5                  		push	af
    3529   00:5469  FD 7E 0C            		ld		a,(iy+12)
    3530   00:546C  32 21 C6            		ld		(pantalla_activa),a
    3531   00:546F                      		
    3532   00:546F  FD 7E 09            		ld		a,(iy+9)												;vuelve a darle un poco de retardo al personaje (esto es uno de los puntos que marca la velocidad del bombero)
    3533   00:5472  FD 77 08            		ld		(iy+8),a
    3534   00:5475                      		
    3535   00:5475  FD 7E 0B            		ld		a,(iy+11)												;si no está a cero, no puede ni subir ni bajar escaleras.
    3536   00:5478  B7                  		or		a
    3537   00:5479  20 26               		jr.		nz,resta_y_camina
    3538   00:547B                      		
    3539   00:547B                      		
    3540   00:547B                      		
    3541   00:547B  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene donde está					
    3542   00:547E  57                  		ld		d,a
    3543   00:547F  FD 7E 01            		ld		a,(iy+1)
    3544   00:5482  C6 02               		add		2
    3545   00:5484  5F                  		ld		e,a
    3546   00:5485  CD C7 62            		call	get_bloque_en_X_Y
    3547   00:5488                      		
    3548   00:5488  FE 29               		cp		41														;si es escalera 1, va a decidir si sube o baja
    3549   00:548A  CC E4 56            		call	z,estamos_en_escalera
    3550   00:548D                      
    3551   00:548D  FE 2A               		cp		42														;si es escalera 2, va a decidir si sube o baja
    3552   00:548F  CC E4 56            		call	z,estamos_en_escalera
    3553   00:5492                      		
    3554   00:5492  FD 7E 07            		ld		a,(iy+7)												;mira en qué estado está para ir a la rutina adecuada
    3555   00:5495                      	
    3556   00:5495  B7                  		or		a
    3557   00:5496  CA 50 55            		jr.		z,revisa_caida_bombero
    3558   00:5499  FE 01               		cp		1
    3559   00:549B  28 0B               		jr.		z,revisa_subida_bombero
    3560   00:549D  FE 02               		cp		2
    3561   00:549F  28 3E               		jr.		z,revisa_bajada_bombero
    3562   00:54A1                      
    3563   00:54A1                      resta_y_camina:
    3564   00:54A1                      
    3565   00:54A1  3D                  		dec		a
    3566   00:54A2  FD 77 0B            		ld		(iy+11),a
    3567   00:54A5  C3 50 55            		jr.		revisa_caida_bombero
    3568   00:54A8                      		
    3569   00:54A8                      revisa_subida_bombero:
    3570   00:54A8                      				
    3571   00:54A8  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene encima					
    3572   00:54AB  57                  		ld		d,a
    3573   00:54AC  FD 7E 01            		ld		a,(iy+1)
    3574   00:54AF  D6 02               		sub		2
    3575   00:54B1  5F                  		ld		e,a
    3576   00:54B2  CD C7 62            		call	get_bloque_en_X_Y
    3577   00:54B5                      
    3578   00:54B5  FE 2A               		cp		42
    3579   00:54B7  28 04               		jr.		z,continua_rvb
    3580   00:54B9  FE 29               		cp		41
    3581   00:54BB  20 65               		jr.		nz,sigue_andando
    3582   00:54BD                      
    3583   00:54BD                      continua_rvb:
    3584   00:54BD                      		
    3585   00:54BD  FD 7E 00            		ld		a,(iy)													;comprobamos si está centrado					
    3586   00:54C0  3D                  		dec		a
    3587   00:54C1  57                  		ld		d,a
    3588   00:54C2  FD 7E 01            		ld		a,(iy+1)
    3589   00:54C5  D6 02               		sub		2
    3590   00:54C7  5F                  		ld		e,a
    3591   00:54C8  CD C7 62            		call	get_bloque_en_X_Y
    3592   00:54CB  FE 29               		cp		41
    3593   00:54CD  CC 19 55            		call	z,corrige_en_escalera_bombero
    3594   00:54D0  FE 2A               		cp		42
    3595   00:54D2  CC 19 55            		call	z,corrige_en_escalera_bombero
    3596   00:54D5                      		
    3597   00:54D5  FD 7E 01            		ld		a,(iy+1)												;sube por la coordenada y
    3598   00:54D8  D6 02               		sub		2
    3599   00:54DA  FD 77 01            		ld		(iy+1),a
    3600   00:54DD                      		
    3601   00:54DD  18 4E               		jr.		decide_paso_en_escalera
    3602   00:54DF                      	
    3603   00:54DF                      revisa_bajada_bombero:
    3604   00:54DF                      				
    3605   00:54DF  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene debajo de los pies					
    3606   00:54E2  57                  		ld		d,a
    3607   00:54E3  FD 7E 01            		ld		a,(iy+1)
    3608   00:54E6  C6 11               		add		17
    3609   00:54E8  5F                  		ld		e,a
    3610   00:54E9  CD C7 62            		call	get_bloque_en_X_Y
    3611   00:54EC                      
    3612   00:54EC  FE 2A               		cp		42
    3613   00:54EE  28 0C               		jr.		z,continua_rbb
    3614   00:54F0  FE 49               		cp		73
    3615   00:54F2  28 08               		jr.		z,continua_rbb
    3616   00:54F4  FE 4A               		cp		74
    3617   00:54F6  28 04               		jr.		z,continua_rbb
    3618   00:54F8  FE 29               		cp		41
    3619   00:54FA  20 26               		jr.		nz,sigue_andando
    3620   00:54FC                      
    3621   00:54FC                      continua_rbb:
    3622   00:54FC                      		
    3623   00:54FC  FD 7E 00            		ld		a,(iy)													;comprobamos si está centrado					
    3624   00:54FF  3D                  		dec		a
    3625   00:5500  57                  		ld		d,a
    3626   00:5501  FD 7E 01            		ld		a,(iy+1)
    3627   00:5504  D6 02               		sub		2
    3628   00:5506  5F                  		ld		e,a
    3629   00:5507  CD C7 62            		call	get_bloque_en_X_Y
    3630   00:550A                      		
    3631   00:550A                      ;		cp		41														;si no está centrado va a centrarse
    3632   00:550A                      ;		call	z,corrige_en_escalera_bombero
    3633   00:550A                      		
    3634   00:550A  FE 2A               		cp		42														;si no está centrado va a centrarse
    3635   00:550C  CC 19 55            		call	z,corrige_en_escalera_bombero
    3636   00:550F                      		
    3637   00:550F  FD 7E 01            		ld		a,(iy+1)												;baja por la variable y
    3638   00:5512  C6 02               		add		2
    3639   00:5514  FD 77 01            		ld		(iy+1),a
    3640   00:5517                      		
    3641   00:5517  18 14               		jr.		decide_paso_en_escalera
    3642   00:5519                      
    3643   00:5519                      corrige_en_escalera_bombero:
    3644   00:5519                      
    3645   00:5519  FD 7E 00            		ld		a,(iy)													;lo pone hacia la izquierda hasta que se centra
    3646   00:551C  D6 02               		sub		2
    3647   00:551E  FD 77 00            		ld		(iy),a
    3648   00:5521                      				
    3649   00:5521  C9                  		ret
    3650   00:5522                      		
    3651   00:5522                      sigue_andando:
    3652   00:5522                      
    3653   00:5522  AF                  		xor		a														;da a la variable adecuada el valor de andando
    3654   00:5523  FD 77 07            		ld		(iy+7),a
    3655   00:5526  3E 0F               		ld		a,15
    3656   00:5528  FD 77 0B            		ld		(iy+11),a		
    3657   00:552B  18 23               		jr.		revisa_caida_bombero
    3658   00:552D                      
    3659   00:552D                      decide_paso_en_escalera:
    3660   00:552D                      
    3661   00:552D  FD 7E 05            		ld		a,(iy+5)												;decide el paso en el que está si no pasa por avanzar
    3662   00:5530                      		
    3663   00:5530  B7                  		or		a
    3664   00:5531  28 04               		jr.		z,paso_uno_escaleras
    3665   00:5533                      		
    3666   00:5533  FE 01               		cp		1
    3667   00:5535  28 0D               		jr.		z,paso_dos_escaleras
    3668   00:5537                      
    3669   00:5537                      paso_uno_escaleras:
    3670   00:5537                      
    3671   00:5537  3E 01               		ld		a,1														;cambia el paso para la siguiente									
    3672   00:5539  FD 77 05            		ld		(iy+5),a
    3673   00:553C                      		
    3674   00:553C  3E DC               		ld		a,55*4													;define los sprites adecuados
    3675   00:553E  47                  		ld		b,a
    3676   00:553F  3E C4               		ld		a,49*4
    3677   00:5541  C3 EB 56            		jr.		ultimas_variables_bombero
    3678   00:5544                      		
    3679   00:5544                      paso_dos_escaleras:
    3680   00:5544                      
    3681   00:5544  AF                  		xor		a														;cambia el paso para la siguiente
    3682   00:5545  FD 77 05            		ld		(iy+5),a
    3683   00:5548                      		
    3684   00:5548  3E E8               		ld		a,58*4													;define los sprites adecuados
    3685   00:554A  47                  		ld		b,a
    3686   00:554B  3E E0               		ld		a,56*4
    3687   00:554D  C3 EB 56            		jr.		ultimas_variables_bombero
    3688   00:5550                      						
    3689   00:5550                      revisa_caida_bombero:
    3690   00:5550                      		
    3691   00:5550  CD 98 56            		call	hacia_donde_quiero_ir									;decide la variable para seguir al prota en las escaleras
    3692   00:5553                      			
    3693   00:5553  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene debajo de los pies	
    3694   00:5556  C6 02               		add		2											
    3695   00:5558  57                  		ld		d,a
    3696   00:5559  FD 7E 01            		ld		a,(iy+1)
    3697   00:555C  C6 11               		add		17
    3698   00:555E  5F                  		ld		e,a
    3699   00:555F  CD C7 62            		call	get_bloque_en_X_Y
    3700   00:5562                      
    3701   00:5562  FE 29               		cp		41														;si es escalera irá a mirar la dirección ppara seguir como si nada
    3702   00:5564  28 77               		jr.		z,define_direccion_bombero
    3703   00:5566  FE 2A               		cp		42
    3704   00:5568  28 73               		jr.		z,define_direccion_bombero
    3705   00:556A                      
    3706   00:556A  FE 20               		cp		32
    3707   00:556C  38 6F               		jr.		c,define_direccion_bombero								;si hay muro vamos a ver la direccion para seguir como si nada
    3708   00:556E                      
    3709   00:556E  FD 7E 00            		ld		a,(iy)
    3710   00:5571  C6 0E               		add		14														;comprobamos lo que tiene debajo de los pies en la parte derecha					
    3711   00:5573  57                  		ld		d,a
    3712   00:5574  FD 7E 01            		ld		a,(iy+1)
    3713   00:5577  C6 11               		add		17
    3714   00:5579  5F                  		ld		e,a
    3715   00:557A  CD C7 62            		call	get_bloque_en_X_Y
    3716   00:557D                      		
    3717   00:557D  FE 29               		cp		41														;si es escalera irá a mirar la dirección ppara seguir como si nada
    3718   00:557F  28 5C               		jr.		z,define_direccion_bombero
    3719   00:5581  FE 2A               		cp		42
    3720   00:5583  28 58               		jr.		z,define_direccion_bombero
    3721   00:5585                      		
    3722   00:5585  FE 20               		cp		32
    3723   00:5587  38 54               		jr.		c,define_direccion_bombero								;si hay muro vamos a ver la direccion para seguir como si nada
    3724   00:5589                      
    3725   00:5589  FD 7E 01            		ld		a,(iy+1)												;cae dos pixeles
    3726   00:558C  C6 02               		add		2
    3727   00:558E  FD 77 01            		ld		(iy+1),a
    3728   00:5591                      				
    3729   00:5591  3E CC               		ld		a,51*4
    3730   00:5593  DD 77 12            		ld		(ix+18),a
    3731   00:5596  C6 04               		add		4
    3732   00:5598  DD 77 16            		ld		(ix+22),a
    3733   00:559B  C6 04               		add		4
    3734   00:559D  DD 77 1A            		ld		(ix+26),a		
    3735   00:55A0                      		
    3736   00:55A0  DD 21 2A C0         		ld		ix,atributos_sprite_general
    3737   00:55A4                      		
    3738   00:55A4  DD 7E 1A            		ld		a,(ix+26)												;define los sprites
    3739   00:55A7  47                  		ld		b,a
    3740   00:55A8  DD 7E 12            		ld		a,(ix+18)
    3741   00:55AB                      		
    3742   00:55AB  08                  		ex		af,af'
    3743   00:55AC  F1                  		pop		af
    3744   00:55AD  C5                  		push	bc
    3745   00:55AE  32 21 C6            		ld		(pantalla_activa),a
    3746   00:55B1  47                  		ld		b,a
    3747   00:55B2  FD 7E 0C            		ld		a,(iy+12)
    3748   00:55B5  B8                  		cp		b
    3749   00:55B6  C2 35 57            		jr.		nz,bombero_variables_anuladas
    3750   00:55B9                      		
    3751   00:55B9  08                  		ex		af,af'
    3752   00:55BA  C1                  		pop		bc
    3753   00:55BB                      		
    3754   00:55BB  DD 21 2A C0         		ld		ix,atributos_sprite_general
    3755   00:55BF                      		
    3756   00:55BF  DD 77 12            		ld		(ix+18),a												;patrones
    3757   00:55C2  C6 04               		add		4
    3758   00:55C4  DD 77 16            		ld		(ix+22),a
    3759   00:55C7  DD 70 1A            		ld		(ix+26),b
    3760   00:55CA                      		
    3761   00:55CA  FD 7E 01            		ld		a,(iy+1)												;y
    3762   00:55CD  DD 77 10            		ld		(ix+16),a
    3763   00:55D0  D6 0A               		sub		a,10
    3764   00:55D2  DD 77 18            		ld		(ix+24),a
    3765   00:55D5  C6 10               		add		a,16
    3766   00:55D7  DD 77 14            		ld		(ix+20),a
    3767   00:55DA                      		
    3768   00:55DA  C3 19 57            		jr.		ultimas_variables_bombero_2
    3769   00:55DD                      		
    3770   00:55DD                      define_direccion_bombero:
    3771   00:55DD                      		
    3772   00:55DD  AF                  		xor		a														;estado andando
    3773   00:55DE  FD 77 07            		ld		(iy+7),a
    3774   00:55E1                      		
    3775   00:55E1  FD 7E 06            		ld		a,(iy+6)
    3776   00:55E4  B7                  		or		a
    3777   00:55E5  28 4D               		jr.		z,va_hacia_la_derecha
    3778   00:55E7                      
    3779   00:55E7                      va_hacia_la_izquierda:
    3780   00:55E7                      
    3781   00:55E7  FD 7E 00            		ld		a,(iy)
    3782   00:55EA  FE 02               		cp		2
    3783   00:55EC  DC B5 56            		call	c,bombero_cambia_de_pantalla
    3784   00:55EF                      		
    3785   00:55EF  FD 7E 00            		ld		a,(iy)													;comprobamos la que tiene a su izquierda
    3786   00:55F2  C6 02               		add		2											
    3787   00:55F4  57                  		ld		d,a
    3788   00:55F5  FD 7E 01            		ld		a,(iy+1)
    3789   00:55F8  C6 0B               		add		11
    3790   00:55FA  5F                  		ld		e,a
    3791   00:55FB  CD C7 62            		call	get_bloque_en_X_Y
    3792   00:55FE                      		
    3793   00:55FE  FE 20               		cp		32														;si hay pared cambia la direccion
    3794   00:5600  38 7D               		jr.		c,cambia_la_direccion_bombero
    3795   00:5602  FE 71               		cp		113														;si hay muros de pinchos tambien
    3796   00:5604  28 79               		jr.		z,cambia_la_direccion_bombero
    3797   00:5606  FE 73               		cp		115														
    3798   00:5608  28 75               		jr.		z,cambia_la_direccion_bombero
    3799   00:560A                      		
    3800   00:560A  FD 7E 02            		ld		a,(iy+2)												;va hacia la izquierda lo adecuado
    3801   00:560D  47                  		ld		b,a
    3802   00:560E  FD 7E 00            		ld		a,(iy)
    3803   00:5611  90                  		sub		a,b
    3804   00:5612                      		
    3805   00:5612  FD 77 00            		ld		(iy),a
    3806   00:5615                      		
    3807   00:5615  FD 7E 05            		ld		a,(iy+5)												;decide el paso que le toca
    3808   00:5618  B7                  		or		a
    3809   00:5619  28 0C               		jr.		z,paso_quieto_izquierda									
    3810   00:561B                      
    3811   00:561B                      paso_movido_izquierda:
    3812   00:561B                      		
    3813   00:561B  AF                  		xor		a														;cambia el paso para la siguiente
    3814   00:561C  FD 77 05            		ld		(iy+5),a
    3815   00:561F                      			
    3816   00:561F  3E B4               		ld		a,45*4													;da los sprites adecuados
    3817   00:5621  47                  		ld		b,a
    3818   00:5622  3E 7C               		ld		a,31*4
    3819   00:5624  C3 EB 56            		jr.		ultimas_variables_bombero
    3820   00:5627                      		
    3821   00:5627                      paso_quieto_izquierda:
    3822   00:5627                      		
    3823   00:5627  3E 01               		ld		a,1														;cambia el paso para la siguiente
    3824   00:5629  FD 77 05            		ld		(iy+5),a	
    3825   00:562C                      	
    3826   00:562C  3E C0               		ld		a,48*4													;da los sprites adecuados
    3827   00:562E  47                  		ld		b,a
    3828   00:562F  3E B8               		ld		a,46*4
    3829   00:5631  C3 EB 56            		jr.		ultimas_variables_bombero
    3830   00:5634                      
    3831   00:5634                      va_hacia_la_derecha:
    3832   00:5634                      		
    3833   00:5634  FD 7E 00            		ld		a,(iy)
    3834   00:5637  FE EF               		cp		239
    3835   00:5639  D4 B5 56            		call	nc,bombero_cambia_de_pantalla
    3836   00:563C                      		
    3837   00:563C  FD 7E 00            		ld		a,(iy)													;comprobamos la que tiene a su derecha
    3838   00:563F  C6 0D               		add		13											
    3839   00:5641  57                  		ld		d,a
    3840   00:5642  FD 7E 01            		ld		a,(iy+1)
    3841   00:5645  C6 0B               		add		11
    3842   00:5647  5F                  		ld		e,a
    3843   00:5648  CD C7 62            		call	get_bloque_en_X_Y
    3844   00:564B                      		
    3845   00:564B  FE 20               		cp		32														;si hay pared cambia de dirección
    3846   00:564D  38 30               		jr.		c,cambia_la_direccion_bombero
    3847   00:564F  FE 72               		cp		114														;si hay muros de pinchos tambien
    3848   00:5651  28 2C               		jr.		z,cambia_la_direccion_bombero
    3849   00:5653  FE 74               		cp		116														
    3850   00:5655  28 28               		jr.		z,cambia_la_direccion_bombero
    3851   00:5657  FD 7E 02            		ld		a,(iy+2)												;suma a x lo adecuado
    3852   00:565A  47                  		ld		b,a
    3853   00:565B  FD 7E 00            		ld		a,(iy)
    3854   00:565E  80                  		add		a,b
    3855   00:565F                      		
    3856   00:565F  FD 77 00            		ld		(iy),a
    3857   00:5662                      		
    3858   00:5662  FD 7E 05            		ld		a,(iy+5)												;mira el paso que le toca
    3859   00:5665  B7                  		or		a
    3860   00:5666  28 0B               		jr.		z,paso_quieto_derecha
    3861   00:5668                      
    3862   00:5668                      paso_movido_derecha:
    3863   00:5668                      
    3864   00:5668  AF                  		xor		a														;cambia el paso para la siguiente
    3865   00:5669  FD 77 05            		ld		(iy+5),a
    3866   00:566C                      		
    3867   00:566C  3E 78               		ld		a,30*4													;define los sprites adecuados
    3868   00:566E  47                  		ld		b,a
    3869   00:566F  3E 70               		ld		a,28*4
    3870   00:5671  18 78               		jr.		ultimas_variables_bombero
    3871   00:5673                      		
    3872   00:5673                      paso_quieto_derecha:
    3873   00:5673                      
    3874   00:5673  3E 01               		ld		a,1														;cambia el paso para la siguiente
    3875   00:5675  FD 77 05            		ld		(iy+5),a
    3876   00:5678                      
    3877   00:5678  3E 6C               		ld		a,27*4													;define los sprites adecuados
    3878   00:567A  47                  		ld		b,a
    3879   00:567B  3E 64               		ld		a,25*4
    3880   00:567D  18 6C               		jr.		ultimas_variables_bombero
    3881   00:567F                      
    3882   00:567F                      cambia_la_direccion_bombero:		
    3883   00:567F                      
    3884   00:567F  FD 7E 06            		ld		a,(iy+6)												;mira cual es la direccion actual para cambiarla
    3885   00:5682  B7                  		or		a
    3886   00:5683  28 09               		jr.		z,cambia_a_izquierda
    3887   00:5685                      
    3888   00:5685                      cambia_a_derecha:
    3889   00:5685                      
    3890   00:5685  AF                  		xor		a														;cambia a derecha
    3891   00:5686  FD 77 06            		ld		(iy+6),a
    3892   00:5689                      		
    3893   00:5689  F1                  		pop		af
    3894   00:568A  32 21 C6            		ld		(pantalla_activa),a
    3895   00:568D                      				
    3896   00:568D  C9                  		ret
    3897   00:568E                      		
    3898   00:568E                      cambia_a_izquierda:
    3899   00:568E                      
    3900   00:568E  3E 01               		ld		a,1														;cambia a izquierda
    3901   00:5690  FD 77 06            		ld		(iy+6),a
    3902   00:5693                      		
    3903   00:5693  F1                  		pop		af
    3904   00:5694  32 21 C6            		ld		(pantalla_activa),a
    3905   00:5697                      		
    3906   00:5697  C9                  		ret
    3907   00:5698                      
    3908   00:5698                      hacia_donde_quiero_ir:
    3909   00:5698                      
    3910   00:5698  3A 1C C0            		ld		a,(py)													;si prota está por encima querrá subir y si está por debajo querrá bajar
    3911   00:569B  D6 03               		sub		3
    3912   00:569D  47                  		ld		b,a
    3913   00:569E  FD 7E 01            		ld		a,(iy+1)
    3914   00:56A1  B8                  		cp		b
    3915   00:56A2                      		
    3916   00:56A2  38 34               		jr.		c,damos_valor_bajada_bombero
    3917   00:56A4                      		
    3918   00:56A4  3A 1C C0            		ld		a,(py)													;si prota está por encima querrá subir y si está por debajo querrá bajar
    3919   00:56A7  C6 03               		add		3
    3920   00:56A9  47                  		ld		b,a
    3921   00:56AA  FD 7E 01            		ld		a,(iy+1)
    3922   00:56AD  B8                  		cp		b
    3923   00:56AE                      		
    3924   00:56AE  30 2E               		jr.		nc,damos_valor_subida_bombero
    3925   00:56B0                      		
    3926   00:56B0  AF                  		xor		a
    3927   00:56B1  FD 77 0A            		ld		(iy+10),a
    3928   00:56B4                      				
    3929   00:56B4  C9                  		ret
    3930   00:56B5                      
    3931   00:56B5                      bombero_cambia_de_pantalla:
    3932   00:56B5                      
    3933   00:56B5  FD 7E 0C            		ld		a,(iy+12)
    3934   00:56B8  FE 02               		cp		2
    3935   00:56BA  20 0E               		jr.		nz,bombero_cambia_de_pantalla_a_2
    3936   00:56BC                      
    3937   00:56BC                      bombero_cambia_de_pantalla_a_1:
    3938   00:56BC                      
    3939   00:56BC  3E 01               		ld		a,1
    3940   00:56BE  FD 77 0C            		ld		(iy+12),a
    3941   00:56C1  32 21 C6            		ld		(pantalla_activa),a
    3942   00:56C4  3E EE               		ld		a,238
    3943   00:56C6  FD 77 00            		ld		(iy),a
    3944   00:56C9                      				
    3945   00:56C9  C9                  		ret
    3946   00:56CA                      
    3947   00:56CA                      bombero_cambia_de_pantalla_a_2:
    3948   00:56CA                      
    3949   00:56CA  3E 02               		ld		a,2
    3950   00:56CC  FD 77 0C            		ld		(iy+12),a
    3951   00:56CF  32 21 C6            		ld		(pantalla_activa),a
    3952   00:56D2  3E 04               		ld		a,4
    3953   00:56D4  FD 77 00            		ld		(iy),a
    3954   00:56D7                      				
    3955   00:56D7  C9                  		ret
    3956   00:56D8                      				
    3957   00:56D8                      damos_valor_bajada_bombero:
    3958   00:56D8                      				
    3959   00:56D8  3E 02               		ld		a,2														; le damos valor a la variable adecuada de bajada
    3960   00:56DA  FD 77 0A            		ld		(iy+10),a
    3961   00:56DD                      				
    3962   00:56DD  C9                  		ret
    3963   00:56DE                      
    3964   00:56DE                      damos_valor_subida_bombero:
    3965   00:56DE                      
    3966   00:56DE  3E 01               		ld		a,1														; le damos valor a la variable adecuada de subida
    3967   00:56E0  FD 77 0A            		ld		(iy+10),a
    3968   00:56E3                      				
    3969   00:56E3  C9                  		ret
    3970   00:56E4                      
    3971   00:56E4                      estamos_en_escalera:
    3972   00:56E4                      
    3973   00:56E4  FD 7E 0A            		ld		a,(iy+10)
    3974   00:56E7  FD 77 07            		ld		(iy+7),a
    3975   00:56EA                      				
    3976   00:56EA  C9                  		ret
    3977   00:56EB                      		
    3978   00:56EB                      ultimas_variables_bombero:
    3979   00:56EB                      		
    3980   00:56EB                      		
    3981   00:56EB  08                  		ex		af,af'
    3982   00:56EC  F1                  		pop		af
    3983   00:56ED  C5                  		push	bc
    3984   00:56EE  32 21 C6            		ld		(pantalla_activa),a
    3985   00:56F1  47                  		ld		b,a
    3986   00:56F2  FD 7E 0C            		ld		a,(iy+12)
    3987   00:56F5  B8                  		cp		b
    3988   00:56F6  20 3D               		jr.		nz,bombero_variables_anuladas
    3989   00:56F8                      		
    3990   00:56F8  08                  		ex		af,af'
    3991   00:56F9  C1                  		pop		bc
    3992   00:56FA                      		
    3993   00:56FA  DD 21 2A C0         		ld		ix,atributos_sprite_general
    3994   00:56FE                      		
    3995   00:56FE  DD 77 12            		ld		(ix+18),a												;patrones
    3996   00:5701  C6 04               		add		4
    3997   00:5703  DD 77 16            		ld		(ix+22),a
    3998   00:5706  DD 70 1A            		ld		(ix+26),b
    3999   00:5709                      		
    4000   00:5709  FD 7E 01            		ld		a,(iy+1)												;y
    4001   00:570C  DD 77 10            		ld		(ix+16),a
    4002   00:570F  D6 06               		sub		a,6
    4003   00:5711  DD 77 14            		ld		(ix+20),a
    4004   00:5714  C6 10               		add		a,16
    4005   00:5716  DD 77 18            		ld		(ix+24),a
    4006   00:5719                      ultimas_variables_bombero_2:		
    4007   00:5719  FD 7E 00            		ld		a,(iy)													;x
    4008   00:571C  DD 77 11            		ld		(ix+17),a
    4009   00:571F  DD 77 15            		ld		(ix+21),a
    4010   00:5722  DD 77 19            		ld		(ix+25),a
    4011   00:5725                      				
    4012   00:5725  3E 01               		ld		a,1														;colores_1
    4013   00:5727  DD 77 13            		ld		(ix+19),a
    4014   00:572A  3E 09               		ld		a,9
    4015   00:572C  DD 77 17            		ld		(ix+23),a
    4016   00:572F  3E 0A               		ld		a,10
    4017   00:5731  DD 77 1B            		ld		(ix+27),a
    4018   00:5734                      				
    4019   00:5734  C9                  		ret
    4020   00:5735                      
    4021   00:5735                      bombero_variables_anuladas:
    4022   00:5735                      		
    4023   00:5735  08                  		ex		af,af'
    4024   00:5736  C1                  		pop		bc
    4025   00:5737                      		
    4026   00:5737  DD 21 2A C0         		ld		ix,atributos_sprite_general
    4027   00:573B                      		
    4028   00:573B  3E 60               		ld		a,24*4
    4029   00:573D  DD 77 12            		ld		(ix+18),a												;patrones
    4030   00:5740  DD 77 16            		ld		(ix+22),a
    4031   00:5743  DD 77 1A            		ld		(ix+26),a
    4032   00:5746                      						
    4033   00:5746  C9                  		ret
    4034   00:5747                      		
    4035   00:5747                      revisa_escalera:
    4036   00:5747                      
    4037   00:5747  3A 6C C6            		ld		a,(escalera_activada)									;si la escalera no ha sido activada, vuelve a la rutina
    4038   00:574A  B7                  		or		a
    4039   00:574B  C8                  		ret		z
    4040   00:574C                      		
    4041   00:574C  3A 6F C6            		ld		a,(contador_escalera)
    4042   00:574F  3D                  		dec		a
    4043   00:5750  32 6F C6            		ld		(contador_escalera),a
    4044   00:5753  3A 6F C6            		ld		a,(contador_escalera)
    4045   00:5756  B7                  		or		a
    4046   00:5757  C0                  		ret		nz
    4047   00:5758                      		
    4048   00:5758  3E 32               		ld		a,50
    4049   00:575A  32 6F C6            		ld		(contador_escalera),a
    4050   00:575D                      
    4051   00:575D  2A 6D C6            		ld		hl,(posicion_escalera)
    4052   00:5760                      		
    4053   00:5760  3A 72 C6            		ld		a,(pantalla_escalera)
    4054   00:5763  FE 01               		cp		1
    4055   00:5765  20 05               		jr.		nz,revisa_escalera_pantalla_2
    4056   00:5767                      		
    4057   00:5767  11 61 C0            		ld		de,buffer_colisiones
    4058   00:576A  18 03               		jr.		revisa_escalera_continua
    4059   00:576C                      		
    4060   00:576C                      revisa_escalera_pantalla_2:
    4061   00:576C                      
    4062   00:576C  11 41 C3            		ld		de,buffer_colisiones_2
    4063   00:576F                      		
    4064   00:576F                      revisa_escalera_continua:
    4065   00:576F                      			
    4066   00:576F  19                  		add		hl,de													;hl=buffer_colisiones + posicion escalera
    4067   00:5770  01 20 00            		ld		bc,32
    4068   00:5773  ED 42               		sbc		hl,bc
    4069   00:5775  3E 2B               		ld		a,43
    4070   00:5777  77                  		ld		[hl],a
    4071   00:5778  23                  		inc		hl
    4072   00:5779  3E 2C               		ld		a,44
    4073   00:577B  77                  		ld		[hl],a
    4074   00:577C  01 1F 00            		ld		bc,31
    4075   00:577F  ED 4A               		adc		hl,bc		
    4076   00:5781  3E 29               		ld		a,41
    4077   00:5783  77                  		ld		[hl],a
    4078   00:5784  23                  		inc		hl
    4079   00:5785  3E 2A               		ld		a,42
    4080   00:5787  77                  		ld		[hl],a
    4081   00:5788                      
    4082   00:5788  3A 21 C6            		ld		a,(pantalla_activa)
    4083   00:578B  47                  		ld		b,a
    4084   00:578C  3A 72 C6            		ld		a,(pantalla_escalera)
    4085   00:578F  B8                  		cp		b
    4086   00:5790  20 2B               		jr.		nz,revisa_escalera_continua_2
    4087   00:5792                      				
    4088   00:5792  2A 6D C6            		ld		hl,(posicion_escalera)
    4089   00:5795  3E 2B               		ld		a,43
    4090   00:5797  CD 12 78            		call	pinta_en_pantalla
    4091   00:579A                      		
    4092   00:579A  2A 6D C6            		ld		hl,(posicion_escalera)
    4093   00:579D  23                  		inc		hl
    4094   00:579E  3E 2C               		ld		a,44
    4095   00:57A0  CD 12 78            		call	pinta_en_pantalla
    4096   00:57A3                      		
    4097   00:57A3  2A 6D C6            		ld		hl,(posicion_escalera)
    4098   00:57A6  01 20 00            		ld		bc,32
    4099   00:57A9  ED 4A               		adc		hl,bc
    4100   00:57AB  3E 29               		ld		a,41
    4101   00:57AD  CD 12 78            		call	pinta_en_pantalla
    4102   00:57B0                      		
    4103   00:57B0  2A 6D C6            		ld		hl,(posicion_escalera)
    4104   00:57B3  01 21 00            		ld		bc,33
    4105   00:57B6  ED 4A               		adc		hl,bc
    4106   00:57B8  3E 2A               		ld		a,42
    4107   00:57BA  CD 12 78            		call	pinta_en_pantalla
    4108   00:57BD                      
    4109   00:57BD                      revisa_escalera_continua_2:
    4110   00:57BD                      		
    4111   00:57BD  3E 0C               		ld		a,12													;efecto de escalera_activada
    4112   00:57BF  CD 24 78            		call	efecto_sonido	
    4113   00:57C2                      		
    4114   00:57C2  3A 6D C6            		ld		a,(posicion_escalera)
    4115   00:57C5  47                  		ld		b,a
    4116   00:57C6  3A 70 C6            		ld		a,(limite_escalera)
    4117   00:57C9  B8                  		cp		b
    4118   00:57CA  28 09               		jr.		z,(se_acabo_la_escalera)
    4119   00:57CC                      		
    4120   00:57CC  3A 6D C6            		ld		a,(posicion_escalera)
    4121   00:57CF  D6 20               		sub		32
    4122   00:57D1  32 6D C6            		ld		(posicion_escalera),a
    4123   00:57D4                      		
    4124   00:57D4                      		
    4125   00:57D4  C9                  		ret
    4126   00:57D5                      
    4127   00:57D5                      se_acabo_la_escalera:
    4128   00:57D5                      
    4129   00:57D5  AF                  		xor		a
    4130   00:57D6  32 6C C6            		ld		(escalera_activada),a
    4131   00:57D9                      		
    4132   00:57D9  C9                  		ret
    4133   00:57DA                      		
    4134   00:57DA                      pulsa_una_tecla:
    4135   00:57DA                      		
    4136   00:57DA  3A 02 C0            		ld		a,(petiso_que_toca)
    4137   00:57DD  FE 00               		cp		0
    4138   00:57DF  CA E7 57            		jp		z,pulsa_una_tecla_sigue
    4139   00:57E2                      
    4140   00:57E2  3D                  		dec		a
    4141   00:57E3  32 02 C0            		ld		(petiso_que_toca),a
    4142   00:57E6                      		
    4143   00:57E6  C9                  		ret
    4144   00:57E7                      		
    4145   00:57E7                      pulsa_una_tecla_sigue:
    4146   00:57E7                      		
    4147   00:57E7  3E 06               		ld		a,6
    4148   00:57E9  CD 41 01            		call	SNSMAT
    4149   00:57EC  CB 6F               		bit		5,a
    4150   00:57EE  28 60               		jr.		z,pausa_el_juego
    4151   00:57F0  CB 77               		bit		6,a
    4152   00:57F2  28 32               		jr.		z,musica_off_on
    4153   00:57F4  CB 7F               		bit		7,a														
    4154   00:57F6  28 0A               		jr.		z,pasa_fase_con_trampa									
    4155   00:57F8                      		
    4156   00:57F8  3E 07               		ld		a,7
    4157   00:57FA  CD 41 01            		call	SNSMAT
    4158   00:57FD  CB 4F               		bit		1,a
    4159   00:57FF  28 13               		jr.		z,una_vida_menos
    4160   00:5801                      				
    4161   00:5801  C9                  		ret
    4162   00:5802                      
    4163   00:5802                      pasa_fase_con_trampa:													
    4164   00:5802                      		
    4165   00:5802  3A 74 C6            		ld		a,(trampa)												;poner ; para hacer trampa
    4166   00:5805  B7                  		or		a														;poner ; para hacer trampa
    4167   00:5806  C8                  		ret		z														;poner ; para hacer trampa
    4168   00:5807                      				
    4169   00:5807  3D                  		dec		a
    4170   00:5808  32 74 C6            		ld		(trampa),a
    4171   00:580B                      		
    4172   00:580B  CD 9B 4B            		call	activa_mute												
    4173   00:580E  3E 01               		ld		a,1														
    4174   00:5810  32 63 C6            		ld		(pasamos_la_fase),a										
    4175   00:5813                      		
    4176   00:5813  C9                  		ret																
    4177   00:5814                      	
    4178   00:5814                      una_vida_menos:
    4179   00:5814                      		
    4180   00:5814  CD 9B 4B            		call	activa_mute
    4181   00:5817                      		
    4182   00:5817  3E 08               		ld		a,8														;efecto muerte
    4183   00:5819  CD 24 78            		call	efecto_sonido
    4184   00:581C                      
    4185   00:581C  3A 1E C0            		ld		a,(vidas_prota)
    4186   00:581F  3D                  		dec		a
    4187   00:5820  32 1E C0            		ld		(vidas_prota),a
    4188   00:5823                      		
    4189   00:5823  C3 29 59            		jr.		repite_fase
    4190   00:5826                      
    4191   00:5826                      musica_off_on:
    4192   00:5826                      		
    4193   00:5826  3E 0A               		ld		a,10
    4194   00:5828  32 02 C0            		ld		(petiso_que_toca),a
    4195   00:582B                      		
    4196   00:582B  3A 78 C6            		ld		a,(ESTADO_MUSICA)
    4197   00:582E  B7                  		or		a
    4198   00:582F  CA 3E 58            		jp		z,reconectamos_musica
    4199   00:5832  FE 01               		cp		1
    4200   00:5834  CA 47 58            		jp		z,reconectamos_musica_2
    4201   00:5837  AF                  		xor		a
    4202   00:5838  32 78 C6            		ld		(ESTADO_MUSICA),a
    4203   00:583B                      		
    4204   00:583B  C3 9B 4B            		jp		activa_mute
    4205   00:583E                      		
    4206   00:583E                      reconectamos_musica:
    4207   00:583E                      
    4208   00:583E  3E 01               		ld		a,1
    4209   00:5840  32 78 C6            		ld		(ESTADO_MUSICA),a
    4210   00:5843                      		
    4211   00:5843  CD A6 4B            		call	activa_musica_fases										;inicia el reproductor de PT3
    4212   00:5846                      				
    4213   00:5846  C9                  		ret
    4214   00:5847                      		
    4215   00:5847                      reconectamos_musica_2:
    4216   00:5847                      
    4217   00:5847  3E 02               		ld		a,2
    4218   00:5849  32 78 C6            		ld		(ESTADO_MUSICA),a
    4219   00:584C                      		
    4220   00:584C  CD D0 4B            		call	activa_musica_menu										;inicia el reproductor de PT3
    4221   00:584F                      						
    4222   00:584F  C9                  		ret
    4223   00:5850                      		
    4224   00:5850                      pausa_el_juego:
    4225   00:5850                      		
    4226   00:5850  3E 05               		ld		a,5													;si se puede pulsar, pone el contador para evitar que se vuelva a pulsar
    4227   00:5852  32 02 C0            		ld		(petiso_que_toca),a
    4228   00:5855                      		
    4229   00:5855  CD 9B 4B            		call	activa_mute
    4230   00:5858                      
    4231   00:5858  21 B1 A0            		ld		hl,pause												;anunciamos pausa
    4232   00:585B  11 E2 1A            		ld		de,#1ae2
    4233   00:585E  01 05 00            		ld		bc,5
    4234   00:5861  CD 5C 00            		call	GRABAVRAM
    4235   00:5864                      		
    4236   00:5864  3E 09               		ld		a,9														;efecto de pausa
    4237   00:5866  CD 24 78            		call	efecto_sonido	
    4238   00:5869                      		
    4239   00:5869                      
    4240   00:5869  CD 50 4B            		call	SPRITES_PAUSA
    4241   00:586C                      		
    4242   00:586C                      ;		ld		a,100
    4243   00:586C                      ;		push	af
    4244   00:586C                      		
    4245   00:586C                      ;valor_anadido:
    4246   00:586C                      		
    4247   00:586C                      ;		ld		a,255
    4248   00:586C                      		
    4249   00:586C                      ;retardo_rutina_de_pausa:
    4250   00:586C                      		
    4251   00:586C                      ;		dec		a
    4252   00:586C                      ;		or		a
    4253   00:586C                      ;		jr.		nz,retardo_rutina_de_pausa
    4254   00:586C                      ;		pop		af
    4255   00:586C                      ;		dec		a
    4256   00:586C                      ;		push	af
    4257   00:586C                      ;		or		a
    4258   00:586C                      ;		jr.		nz,valor_anadido
    4259   00:586C                      ;		pop		af
    4260   00:586C                      		
    4261   00:586C                      rutina_de_pausa:
    4262   00:586C                      	
    4263   00:586C  CD D0 58            		call	mira_si_aprieta_una_tecla
    4264   00:586F  28 76               		jr.		Z,reconectamos
    4265   00:5871                      		
    4266   00:5871  01 0A 00            		ld		bc,10
    4267   00:5874  ED 43 17 C0         		ld		(clock),bc
    4268   00:5878                      		
    4269   00:5878                      animacion_rutina_de_pausa_1:
    4270   00:5878                      
    4271   00:5878  DD 21 2A C0         		ld		ix,atributos_sprite_general
    4272   00:587C                      		
    4273   00:587C  DD 7E 00            		ld		a,[ix]
    4274   00:587F  D6 05               		sub		5
    4275   00:5881  DD 77 08            		ld		[ix+8],a
    4276   00:5884  C6 10               		add		16
    4277   00:5886  DD 77 04            		ld		[ix+4],a
    4278   00:5889                      		
    4279   00:5889  AF                  		xor		a
    4280   00:588A  DD 77 02            		ld		[ix+2],a
    4281   00:588D  C6 04               		add		4
    4282   00:588F  DD 77 06            		ld		[ix+6],a
    4283   00:5892  C6 04               		add		4
    4284   00:5894  DD 77 0A            		ld		[ix+10],a
    4285   00:5897                      
    4286   00:5897  CD 14 5D            		call	atributos_sprites
    4287   00:589A                      
    4288   00:589A                      animacion_rutina_de_pausa_2:
    4289   00:589A                      
    4290   00:589A  76                  		halt
    4291   00:589B  3A 17 C0            		ld		a,(clock)
    4292   00:589E  3D                  		dec		a
    4293   00:589F  32 17 C0            		ld		(clock),a
    4294   00:58A2  B7                  		or		a
    4295   00:58A3  20 F5               		jr.		nz,animacion_rutina_de_pausa_2
    4296   00:58A5                      		
    4297   00:58A5  CD D0 58            		call	mira_si_aprieta_una_tecla
    4298   00:58A8  28 3D               		jr.		Z,reconectamos
    4299   00:58AA                      		
    4300   00:58AA  01 0A 00            		ld		bc,10
    4301   00:58AD  ED 43 17 C0         		ld		(clock),bc
    4302   00:58B1                      		
    4303   00:58B1  3E 0C               		ld		a,12
    4304   00:58B3  DD 77 02            		ld		[ix+2],a
    4305   00:58B6  C6 04               		add		4
    4306   00:58B8  DD 77 06            		ld		[ix+6],a
    4307   00:58BB  C6 04               		add		4
    4308   00:58BD  DD 77 0A            		ld		[ix+10],a
    4309   00:58C0                      
    4310   00:58C0  CD 14 5D            		call	atributos_sprites
    4311   00:58C3                      
    4312   00:58C3                      animacion_rutina_de_pausa_3:
    4313   00:58C3                      		
    4314   00:58C3  76                  		halt
    4315   00:58C4  3A 17 C0            		ld		a,(clock)
    4316   00:58C7  3D                  		dec		a
    4317   00:58C8  32 17 C0            		ld		(clock),a
    4318   00:58CB  B7                  		or		a
    4319   00:58CC  20 F5               		jr.		nz,animacion_rutina_de_pausa_3
    4320   00:58CE                      		
    4321   00:58CE  18 9C               		jr. 	rutina_de_pausa
    4322   00:58D0                      
    4323   00:58D0                      mira_si_aprieta_una_tecla:
    4324   00:58D0                      		
    4325   00:58D0  3A 02 C0            		ld		a,(petiso_que_toca)
    4326   00:58D3  FE 00               		cp		0
    4327   00:58D5  CA DF 58            		jp		z,mira_si_aprieta_una_tecla_dos
    4328   00:58D8                      
    4329   00:58D8  3D                  		dec		a
    4330   00:58D9  32 02 C0            		ld		(petiso_que_toca),a
    4331   00:58DC  F6 FF               		or		11111111b
    4332   00:58DE  C9                  		ret
    4333   00:58DF                      		
    4334   00:58DF                      mira_si_aprieta_una_tecla_dos:
    4335   00:58DF                      		
    4336   00:58DF  3E 06               		ld		a,6
    4337   00:58E1  CD 41 01            		call	SNSMAT
    4338   00:58E4  CB 6F               		bit		5,a
    4339   00:58E6                      				
    4340   00:58E6  C9                  		ret
    4341   00:58E7                      		
    4342   00:58E7                      reconectamos:
    4343   00:58E7                      		
    4344   00:58E7  3E 0A               		ld		a,10
    4345   00:58E9  32 02 C0            		ld		(petiso_que_toca),a
    4346   00:58EC                      		
    4347   00:58EC  21 B6 A0            		ld		hl,ladrillos											;recupera los ladrillos borrados
    4348   00:58EF  11 E2 1A            		ld		de,#1ae2
    4349   00:58F2  01 05 00            		ld		bc,5
    4350   00:58F5  CD 5C 00            		call	GRABAVRAM
    4351   00:58F8                      		
    4352   00:58F8  3E 09               		ld		a,9
    4353   00:58FA  DD 77 0B            		ld		[ix+11],a
    4354   00:58FD                      		
    4355   00:58FD  3A 5A C0            		ld		a,(tiene_objeto)
    4356   00:5900  FE 01               		cp		1
    4357   00:5902  28 0A               		jr.		z,reconectamos_bomba
    4358   00:5904  FE 02               		cp		2
    4359   00:5906  28 0B               		jr.		z,reconectamos_cuchillo
    4360   00:5908  76                  		halt
    4361   00:5909  CD 74 4B            		call	SPRITES_PROTA_NORMAL
    4362   00:590C                      		
    4363   00:590C  18 08               		jr.		reconectamos_sigue
    4364   00:590E                      		
    4365   00:590E                      reconectamos_bomba:
    4366   00:590E                      
    4367   00:590E  CD 5C 4B            		call	SPRITES_BOMBA
    4368   00:5911  18 03               		jr.		reconectamos_sigue
    4369   00:5913                      
    4370   00:5913                      reconectamos_cuchillo:
    4371   00:5913                      
    4372   00:5913  CD 68 4B            		call	SPRITES_CUCHILLO
    4373   00:5916                      
    4374   00:5916                      reconectamos_sigue:
    4375   00:5916                      		
    4376   00:5916  3E 09               		ld		a,9														;efecto de pausa
    4377   00:5918  CD 24 78            		call	efecto_sonido
    4378   00:591B                      				
    4379   00:591B  3A 78 C6            		ld		a,(ESTADO_MUSICA)
    4380   00:591E  FE 02               		cp		2
    4381   00:5920  CA D0 4B            		jp		z,activa_musica_menu
    4382   00:5923  FE 01               		cp		1
    4383   00:5925  CA A6 4B            		jp		z,activa_musica_fases
    4384   00:5928                      		
    4385   00:5928  C9                  		ret
    4386   00:5929                      		
    4387   00:5929                      repite_fase:
    4388   00:5929                      		
    4389   00:5929  DD 21 2A C0         		ld		ix,atributos_sprite_general
    4390   00:592D                      				
    4391   00:592D  CD A2 45            		call	limpia_sprites
    4392   00:5930                      		
    4393   00:5930  CD EA 4B            		call	activa_musica_muerto
    4394   00:5933  CD CB 6E            		call	puntuacion_vidas_fase
    4395   00:5936  CD 0F 4B            		call	SPRITES_UNO
    4396   00:5939                      		
    4397   00:5939  3A 1E C0            		ld		a,(vidas_prota)
    4398   00:593C  B7                  		or		a
    4399   00:593D  28 19               		jr.		z,termina_partida_mal
    4400   00:593F                      
    4401   00:593F                      buscando_la_fase:
    4402   00:593F                      		
    4403   00:593F  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    4404   00:5942  11 50 59            		ld 		de,POINT_de_acceso_a_fases
    4405   00:5945                      
    4406   00:5945                      lista_de_opciones:
    4407   00:5945                      		
    4408   00:5945  3D                  		dec		a
    4409   00:5946                      
    4410   00:5946  26 00               		ld h,0
    4411   00:5948  6F                  		ld l,a
    4412   00:5949  29                  		add hl,hl
    4413   00:594A                      
    4414   00:594A  19                  		add hl,de														;hl ya esta apungando a la posicion correcta de la tabla
    4415   00:594B                      		
    4416   00:594B  5E                  		ld e,(hl)														;extraemos la direccion de la etiqueta
    4417   00:594C  23                  		inc hl
    4418   00:594D  56                  		ld d,(hl)
    4419   00:594E  EB                  		ex de,hl 														;hl ya tiene la direccion de salto!
    4420   00:594F  E9                  		jp (hl)
    4421   00:5950                      								
    4422   00:5950                      POINT_de_acceso_a_fases:
    4423   00:5950                      		
    4424   00:5950  11 48               		dw	bloque_sanctuary_1
    4425   00:5952  8D 48               		dw	bloque_sanctuary_2
    4426   00:5954  04 49               		dw	bloque_sanctuary_3
    4427   00:5956  7C 49               		dw	bloque_sanctuary_4
    4428   00:5958                      	
    4429   00:5958                      						
    4430   00:5958                      termina_partida_mal:
    4431   00:5958                      		
    4432   00:5958  F3                  		di
    4433   00:5959  31 80 F3             		ld		sp,#F380												; colocmos la pila en esta posicion, que suele ser donde empieza las zona ram que usa el S.O. del MSX. Recuerda que la pila crece hacia abajo así que no pisaremos nada
    4434   00:595C  FB                  		ei
    4435   00:595D                      		
    4436   00:595D  CD 41 00            		call	DISSCR	
    4437   00:5960                      		
    4438   00:5960  F3                  		di
    4439   00:5961                      		
    4440   00:5961  21 69 8A            		ld		hl,blanco												;tiles de base de pantalla
    4441   00:5964  11 20 18            		ld		de,#1820
    4442   00:5967  CD 4A 78            		call	depack_VRAM
    4443   00:596A                      		
    4444   00:596A  FB                  		ei
    4445   00:596B                      		
    4446   00:596B  3A 01 C0            		LD		a,(idioma)
    4447   00:596E  B7                  		or		a
    4448   00:596F  28 1A               		jr.		z,termina_en_castellano
    4449   00:5971                      
    4450   00:5971                      termina_en_ingles:
    4451   00:5971                      		
    4452   00:5971  21 7F A0            		ld		hl,game_over											;anunciamos final malo
    4453   00:5974  11 8A 19            		ld		de,#198a
    4454   00:5977  01 0B 00            		ld		bc,11
    4455   00:597A  CD 5C 00            		call	GRABAVRAM
    4456   00:597D                      		
    4457   00:597D  21 95 A0            		ld		hl,continua_i											;f5 continua
    4458   00:5980  11 A9 19            		ld		de,#19a9
    4459   00:5983  01 0E 00            		ld		bc,14
    4460   00:5986  CD 5C 00            		call	GRABAVRAM
    4461   00:5989                      		
    4462   00:5989  18 18               		jr.		termina_partida_mal_continua
    4463   00:598B                      		
    4464   00:598B                      termina_en_castellano:
    4465   00:598B                      		
    4466   00:598B  21 8A A0            		ld		hl,se__acabo											;anunciamos final malo
    4467   00:598E  11 8A 19            		ld		de,#198a
    4468   00:5991  01 0B 00            		ld		bc,11
    4469   00:5994  CD 5C 00            		call	GRABAVRAM
    4470   00:5997                      		
    4471   00:5997  21 A3 A0            		ld		hl,continua_e											;f5 continua
    4472   00:599A  11 A9 19            		ld		de,#19a9
    4473   00:599D  01 0E 00            		ld		bc,14
    4474   00:59A0  CD 5C 00            		call	GRABAVRAM
    4475   00:59A3                      	
    4476   00:59A3                      termina_partida_mal_continua:
    4477   00:59A3                      		
    4478   00:59A3  CD 44 00            		call	ENASCR
    4479   00:59A6  CD E9 59            		call 	musica_sin_bucle
    4480   00:59A9                      		
    4481   00:59A9  21 34 C6            		ld		hl,GAME_OVER-99											;hl ahora vale la direccion donde se encuentra la cancion
    4482   00:59AC  CD F9 79            		call	PT3_INIT												;inicia el reproductor de PT3
    4483   00:59AF                      		
    4484   00:59AF  21 EE 02            		ld		hl,750
    4485   00:59B2  22 17 C0            		ld		(clock),hl
    4486   00:59B5                      				
    4487   00:59B5                      string_para_reiniciar_programa:
    4488   00:59B5                      
    4489   00:59B5  76                  		halt
    4490   00:59B6  2A 17 C0            		ld		hl,(clock)
    4491   00:59B9  01 01 00            		ld		bc,1		
    4492   00:59BC  ED 42               		sbc		hl,bc
    4493   00:59BE  22 17 C0            		ld		(clock),hl
    4494   00:59C1  28 20               		jr.		z,inicio
    4495   00:59C3                      		
    4496   00:59C3  3E 07               		ld		a,7
    4497   00:59C5  CD 41 01            		call	SNSMAT
    4498   00:59C8  CB 4F               		bit		1,a
    4499   00:59CA  28 11               		jr.		z,resetea_para_continue
    4500   00:59CC                      		
    4501   00:59CC  AF                  		xor		a
    4502   00:59CD  CD D8 00            		CALL	ONSTRIG
    4503   00:59D0  B7                  		or		a
    4504   00:59D1  20 10               		jr.		nz,inicio
    4505   00:59D3                      		
    4506   00:59D3  3E 01               		ld		a,1
    4507   00:59D5  CD D8 00            		CALL	ONSTRIG
    4508   00:59D8  B7                  		or		a
    4509   00:59D9  28 DA               		jr.		z,string_para_reiniciar_programa
    4510   00:59DB                      		
    4511   00:59DB  18 06               		jr.		inicio
    4512   00:59DD                      		
    4513   00:59DD                      resetea_para_continue:
    4514   00:59DD                      
    4515   00:59DD  CD AB 47            		call	datos_a_preparar
    4516   00:59E0                      		
    4517   00:59E0  C3 29 59            		jr.		repite_fase
    4518   00:59E3                      inicio:
    4519   00:59E3                      		
    4520   00:59E3  CD D0 4B            		call	activa_musica_menu
    4521   00:59E6  C3 90 42            		jr.		MENU
    4522   00:59E9                      
    4523   00:59E9                      musica_sin_bucle:
    4524   00:59E9                      		
    4525   00:59E9  F3                  		di
    4526   00:59EA  3A 00 F0            		ld		a,[PT3_SETUP]											;musica sin bucle
    4527   00:59ED  F6 01               		or		00000001b
    4528   00:59EF  32 00 F0            		ld		[PT3_SETUP],a
    4529   00:59F2  FB                  		ei
    4530   00:59F3  C9                  		ret
    4531   00:59F4                      
    4532   00:59F4                      musica_con_bucle:
    4533   00:59F4                      		
    4534   00:59F4  F3                  		di
    4535   00:59F5  3A 00 F0            		ld		a,[PT3_SETUP]											;musica CON bucle
    4536   00:59F8  E6 FE               		and		11111110b
    4537   00:59FA  32 00 F0            		ld		[PT3_SETUP],a        
    4538   00:59FD  FB                  		ei
    4539   00:59FE  C9                  		ret
    4540   00:59FF                      		
    4541   00:59FF                      colision_bombero_prota:
    4542   00:59FF                      		
    4543   00:59FF  3A 76 C6            		ld		a,(inmune_bomb)											;si se ha activado el huevo adecuado, no hay colision
    4544   00:5A02  FE 01               		cp		1
    4545   00:5A04  C8                  		ret		z
    4546   00:5A05                      				
    4547   00:5A05  3A 7B C6            		ld		a,(bombero_1)											;si no está activo, no hay colision
    4548   00:5A08  B7                  		or		a
    4549   00:5A09  C8                  		ret		z
    4550   00:5A0A                      		
    4551   00:5A0A  FD 21 7C C6         		ld	    iy,bombero_control										
    4552   00:5A0E                      
    4553   00:5A0E  FD 7E 08            		ld		a,(iy+8)												;si no está a vista, no hay colision
    4554   00:5A11  B7                  		or		a
    4555   00:5A12  C0                  		ret		nz
    4556   00:5A13                      
    4557   00:5A13                      		
    4558   00:5A13  CD B4 5B            		call	coteja_colision_prota_bombero
    4559   00:5A16  3A 7A C6            		ld		a,(colision_bombero_prota_real)
    4560   00:5A19  B7                  		or		a
    4561   00:5A1A  C8                  		ret		z
    4562   00:5A1B                      		
    4563   00:5A1B  AF                  		xor		a
    4564   00:5A1C  32 7A C6            		ld		(colision_bombero_prota_real),a		
    4565   00:5A1F                      		
    4566   00:5A1F  DD 21 2A C0         		ld		ix,atributos_sprite_general
    4567   00:5A23                      					
    4568   00:5A23  FD 7E 01            		ld		a,(iy+1)												;posiciones y
    4569   00:5A26  3D                  		dec		a
    4570   00:5A27  CD 28 78            		call	CERO_CUATRO_OCHO
    4571   00:5A2A  3C                  		inc		a
    4572   00:5A2B  DD 77 10            		ld		(ix+16),a
    4573   00:5A2E  D6 06               		sub		6
    4574   00:5A30  DD 77 08            		ld		(ix+8),a
    4575   00:5A33  C6 10               		add		16
    4576   00:5A35  DD 77 14            		ld		(ix+20),a
    4577   00:5A38                      		
    4578   00:5A38  FD 7E 00            		ld		a,(iy)													;patrones x
    4579   00:5A3B  D6 08               		sub		8
    4580   00:5A3D  CD 32 78            		call	UNO_CINCO_NUEVE
    4581   00:5A40  C6 0D               		add		13
    4582   00:5A42  DD 77 11            		ld		(ix+17),a
    4583   00:5A45  DD 77 15            		ld		(ix+21),a
    4584   00:5A48  DD 77 09            		ld		(ix+9),a		
    4585   00:5A4B  3E EC               		ld		a,59*4													;patrones
    4586   00:5A4D  CD 3C 78            		call	DOS_SEIS_DIEZ
    4587   00:5A50  3E 7C               		ld		a,31*4
    4588   00:5A52  DD 77 12            		ld		(ix+18),a
    4589   00:5A55  3E 80               		ld		a,32*4
    4590   00:5A57  DD 77 0A            		ld		(ix+10),a
    4591   00:5A5A  3E B4               		ld		a,45*4
    4592   00:5A5C  DD 77 16            		ld		(ix+22),a
    4593   00:5A5F                      		
    4594   00:5A5F  3E 09               		ld		a,9														;colores
    4595   00:5A61  DD 77 03            		ld		(ix+3),a												;cara prota
    4596   00:5A64  DD 77 0B            		ld		(ix+11),a												;cara bombero
    4597   00:5A67  3E 01               		ld		a,1
    4598   00:5A69  DD 77 13            		ld		(ix+19),a												;contorno bombero
    4599   00:5A6C  3E 0F               		ld		a,15
    4600   00:5A6E  DD 77 07            		ld		(ix+7),a												;agua
    4601   00:5A71  3E 0A               		ld		a,10
    4602   00:5A73  DD 77 17            		ld		(ix+23),a												;ropa bombero
    4603   00:5A76                      				
    4604   00:5A76  18 58               		jr.		espera_por_muerte
    4605   00:5A78                      
    4606   00:5A78                      muy_mojado_fin_partida:
    4607   00:5A78                      
    4608   00:5A78  CD 99 67            		call	moja_prota
    4609   00:5A7B  3E 01               		ld		a,1
    4610   00:5A7D  32 21 C0            		ld		(muerto),a
    4611   00:5A80  3A 1E C0            		ld		a,(vidas_prota)
    4612   00:5A83  3D                  		dec		a
    4613   00:5A84  32 1E C0            		ld		(vidas_prota),a
    4614   00:5A87  18 47               		jr.		espera_por_muerte
    4615   00:5A89                      		
    4616   00:5A89                      colisiones_serpientes_prota_1:
    4617   00:5A89                      
    4618   00:5A89  3A 75 C6            		ld		a,(inmune_serp)
    4619   00:5A8C  FE 01               		cp		1
    4620   00:5A8E  C8                  		ret		z
    4621   00:5A8F                      		
    4622   00:5A8F  3A 5E C6            		ld		a,(serp1)
    4623   00:5A92  B7                  		or		a
    4624   00:5A93  28 72               		jr.		z,colisiones_serpientes_prota_2
    4625   00:5A95  FE 03               		cp		3
    4626   00:5A97  28 6E               		jr.		z,colisiones_serpientes_prota_2
    4627   00:5A99                      		
    4628   00:5A99  FD 21 35 C6         		ld		iy,variables_serpiente_1								;está en la misma pantalla?
    4629   00:5A9D  CD E8 5A            		call	comun_colision_serpentes_1
    4630   00:5AA0  20 65               		jr.		nz,colisiones_serpientes_prota_2		
    4631   00:5AA2                      				
    4632   00:5AA2  CD F1 5A            		call	comun_colision_serpentes_2
    4633   00:5AA5                      
    4634   00:5AA5  28 60               		jr.		z,colisiones_serpientes_prota_2
    4635   00:5AA7                      		
    4636   00:5AA7  CD F9 5A            		call	comun_colision_serpentes_3
    4637   00:5AAA  DD 70 12            		ld		(ix+18),b
    4638   00:5AAD  DD 77 16            		ld		(ix+22),a	
    4639   00:5AB0                      		
    4640   00:5AB0                      comunes_muerte_por_serpiente:			
    4641   00:5AB0                      		
    4642   00:5AB0  FD 7E 01            		ld		a,(iy+1)
    4643   00:5AB3  CD 28 78            		call	CERO_CUATRO_OCHO
    4644   00:5AB6                      		
    4645   00:5AB6  FD 7E 00            		ld		a,(iy)
    4646   00:5AB9  CD 32 78            		call	UNO_CINCO_NUEVE
    4647   00:5ABC                      		
    4648   00:5ABC  3E BC               		ld		a,47*4
    4649   00:5ABE  CD 3C 78            		call	DOS_SEIS_DIEZ
    4650   00:5AC1                      		
    4651   00:5AC1  3E C4               		ld		a,49*4
    4652   00:5AC3  DD 77 06            		ld		(ix+6),a
    4653   00:5AC6                      		
    4654   00:5AC6  3E C8               		ld		a,50*4
    4655   00:5AC8  DD 77 0A            		ld		(ix+10),a
    4656   00:5ACB                      		
    4657   00:5ACB                      		
    4658   00:5ACB  3E 01               		ld		a,1
    4659   00:5ACD  DD 77 03            		ld		(ix+3),a
    4660   00:5AD0                      				
    4661   00:5AD0                      espera_por_muerte:
    4662   00:5AD0                      
    4663   00:5AD0  CD 14 5D            		call	atributos_sprites
    4664   00:5AD3                      	
    4665   00:5AD3  CD 9B 4B            		call	activa_mute
    4666   00:5AD6                      	
    4667   00:5AD6  3E 08               		ld		a,8						;efecto sonoro de muerte de prota
    4668   00:5AD8  CD 24 78            		call	efecto_sonido		
    4669   00:5ADB                      		
    4670   00:5ADB  AF                  		xor		a
    4671   00:5ADC  32 21 C0            		ld		(muerto),a
    4672   00:5ADF                      		
    4673   00:5ADF  21 96 00            		ld		hl,150
    4674   00:5AE2  22 17 C0            		ld		(clock),hl						
    4675   00:5AE5  C3 00 4C            		jp		rutina_de_esperar_un_rato
    4676   00:5AE8                      
    4677   00:5AE8                      comun_colision_serpentes_1:
    4678   00:5AE8                      
    4679   00:5AE8  FD 7E 09            		ld		a,(iy+9)												
    4680   00:5AEB  47                  		ld		b,a
    4681   00:5AEC  3A 21 C6            		ld		a,(pantalla_activa)
    4682   00:5AEF  B8                  		cp		b
    4683   00:5AF0                      		
    4684   00:5AF0  C9                  		ret
    4685   00:5AF1                      
    4686   00:5AF1                      comun_colision_serpentes_2:
    4687   00:5AF1                      		
    4688   00:5AF1  CD 72 5B            		call	coteja_colision_prota_serpiente
    4689   00:5AF4  3A 5D C6            		ld		a,(colision_cuchillo_serp_real)
    4690   00:5AF7  B7                  		or		a
    4691   00:5AF8                      		
    4692   00:5AF8  C9                  		ret
    4693   00:5AF9                      
    4694   00:5AF9                      comun_colision_serpentes_3:
    4695   00:5AF9                      
    4696   00:5AF9  AF                  		xor		a
    4697   00:5AFA  32 5D C6            		ld		(colision_cuchillo_serp_real),a		
    4698   00:5AFD                      		
    4699   00:5AFD  DD 21 2A C0         		ld		ix,atributos_sprite_general
    4700   00:5B01                      		
    4701   00:5B01  3E C0               		ld		a,48*4
    4702   00:5B03  47                  		ld		b,a
    4703   00:5B04  3E 60               		ld		a,24*4
    4704   00:5B06                      		
    4705   00:5B06  C9                  		ret
    4706   00:5B07                      				
    4707   00:5B07                      colisiones_serpientes_prota_2:
    4708   00:5B07                      
    4709   00:5B07  3A 5F C6            		ld		a,(serp2)
    4710   00:5B0A  B7                  		or		a
    4711   00:5B0B  28 1D               		jr.		z,colisiones_serpientes_prota_3
    4712   00:5B0D  FE 03               		cp		3
    4713   00:5B0F  28 19               		jr.		z,colisiones_serpientes_prota_3
    4714   00:5B11                      		
    4715   00:5B11  FD 21 3F C6         		ld		iy,variables_serpiente_2								;está en la misma pantalla?
    4716   00:5B15  CD E8 5A            		call	comun_colision_serpentes_1
    4717   00:5B18  20 10               		jr.		nz,colisiones_serpientes_prota_3
    4718   00:5B1A                      		
    4719   00:5B1A  CD F1 5A            		call	comun_colision_serpentes_2
    4720   00:5B1D  28 0B               		jr.		z,colisiones_serpientes_prota_3
    4721   00:5B1F                      		
    4722   00:5B1F  CD F9 5A            		call	comun_colision_serpentes_3
    4723   00:5B22                      
    4724   00:5B22  DD 70 1A            		ld		(ix+26),b
    4725   00:5B25  DD 77 1E            		ld		(ix+30),a
    4726   00:5B28                      						
    4727   00:5B28  18 86               		jr.		comunes_muerte_por_serpiente
    4728   00:5B2A                      
    4729   00:5B2A                      colisiones_serpientes_prota_3:
    4730   00:5B2A                      		
    4731   00:5B2A  3A 60 C6            		ld		a,(serp3)
    4732   00:5B2D  B7                  		or		a
    4733   00:5B2E  28 22               		jr.		z,colisiones_serpientes_prota_4
    4734   00:5B30  FE 03               		cp		3
    4735   00:5B32  28 1E               		jr.		z,colisiones_serpientes_prota_4
    4736   00:5B34                      				
    4737   00:5B34  FD 21 49 C6         		ld		iy,variables_serpiente_3								;está en la misma pantalla?
    4738   00:5B38  CD E8 5A            		call	comun_colision_serpentes_1
    4739   00:5B3B  20 15               		jr.		nz,colisiones_serpientes_prota_4
    4740   00:5B3D                      		
    4741   00:5B3D  FD 21 49 C6         		ld		iy,variables_serpiente_3
    4742   00:5B41                      	
    4743   00:5B41  CD F1 5A            		call	comun_colision_serpentes_2
    4744   00:5B44                      
    4745   00:5B44  28 0C               		jr.		z,colisiones_serpientes_prota_4
    4746   00:5B46                      		
    4747   00:5B46  CD F9 5A            		call	comun_colision_serpentes_3
    4748   00:5B49                      
    4749   00:5B49  DD 70 22            		ld		(ix+34),b
    4750   00:5B4C  DD 77 26            		ld		(ix+38),a
    4751   00:5B4F                      
    4752   00:5B4F  C3 B0 5A            		jr.		comunes_muerte_por_serpiente
    4753   00:5B52                      		
    4754   00:5B52                      colisiones_serpientes_prota_4:
    4755   00:5B52                      		
    4756   00:5B52  3A 61 C6            		ld		a,(serp4)
    4757   00:5B55  B7                  		or		a
    4758   00:5B56  C8                  		ret		z
    4759   00:5B57  FE 03               		cp		3
    4760   00:5B59  C8                  		ret		z
    4761   00:5B5A                      				
    4762   00:5B5A  FD 21 53 C6         		ld		iy,variables_serpiente_4								;está en la misma pantalla?
    4763   00:5B5E  CD E8 5A            		call	comun_colision_serpentes_1
    4764   00:5B61  C0                  		ret		nz
    4765   00:5B62                      				
    4766   00:5B62  CD F1 5A            		call	comun_colision_serpentes_2
    4767   00:5B65                      
    4768   00:5B65  C8                  		ret		z
    4769   00:5B66                      		
    4770   00:5B66  CD F9 5A            		call	comun_colision_serpentes_3
    4771   00:5B69                      
    4772   00:5B69  DD 70 2A            		ld		(ix+42),b
    4773   00:5B6C  DD 77 2E            		ld		(ix+46),a
    4774   00:5B6F                      	
    4775   00:5B6F  C3 B0 5A            		jr.		comunes_muerte_por_serpiente
    4776   00:5B72                      
    4777   00:5B72                      coteja_colision_prota_serpiente:
    4778   00:5B72                      
    4779   00:5B72  3A 21 C6            		ld		a,(pantalla_activa)
    4780   00:5B75  47                  		ld		b,a
    4781   00:5B76  FD 7E 09            		ld		a,(iy+9)
    4782   00:5B79  B8                  		cp		b
    4783   00:5B7A  C0                  		ret		nz
    4784   00:5B7B                      		
    4785   00:5B7B  3A 1B C0            		ld		a,(px)
    4786   00:5B7E  D6 07               		sub		a,7														;coordenadas coincidentes
    4787   00:5B80  47                  		ld		b,a
    4788   00:5B81  FD 7E 00            		ld		a,(iy)
    4789   00:5B84  B8                  		cp		b
    4790   00:5B85  D8                  		ret		c
    4791   00:5B86                      		
    4792   00:5B86  3A 1B C0            		ld		a,(px)
    4793   00:5B89  C6 0A               		add		a,10
    4794   00:5B8B  47                  		ld		b,a
    4795   00:5B8C  FD 7E 00            		ld		a,(iy)
    4796   00:5B8F  B8                  		cp		b
    4797   00:5B90  D0                  		ret		nc
    4798   00:5B91                      		
    4799   00:5B91  3A 1C C0            		ld		a,(py)
    4800   00:5B94  D6 0E               		sub		a,14
    4801   00:5B96  47                  		ld		b,a
    4802   00:5B97  FD 7E 01            		ld		a,(iy+1)
    4803   00:5B9A  B8                  		cp		b
    4804   00:5B9B  D8                  		ret		c
    4805   00:5B9C                      		
    4806   00:5B9C  3A 1C C0            		ld		a,(py)
    4807   00:5B9F  C6 0E               		add		14
    4808   00:5BA1  47                  		ld		b,a
    4809   00:5BA2  FD 7E 01            		ld		a,(iy+1)
    4810   00:5BA5  B8                  		cp		b
    4811   00:5BA6  D0                  		ret		nc
    4812   00:5BA7                      		
    4813   00:5BA7  3A 1E C0            		ld		a,(vidas_prota)
    4814   00:5BAA  3D                  		dec		a
    4815   00:5BAB  32 1E C0            		ld		(vidas_prota),a
    4816   00:5BAE                      		
    4817   00:5BAE  3E 01               		ld		a,1
    4818   00:5BB0  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    4819   00:5BB3                      		
    4820   00:5BB3  C9                  		ret
    4821   00:5BB4                      
    4822   00:5BB4                      coteja_colision_prota_bombero:
    4823   00:5BB4                      		
    4824   00:5BB4  FD 21 7C C6         		ld		iy,bombero_control
    4825   00:5BB8                      		
    4826   00:5BB8  3A 21 C6            		ld		a,(pantalla_activa)										;si no están en la misma pantalla, no hay colision
    4827   00:5BBB  47                  		ld		b,a
    4828   00:5BBC  FD 7E 0C            		ld		a,(iy+12)
    4829   00:5BBF  B8                  		cp		b
    4830   00:5BC0  C0                  		ret		nz
    4831   00:5BC1                      		
    4832   00:5BC1  3A 1B C0            		ld		a,(px)													;coordenadas coincidentes
    4833   00:5BC4  FE 07               		cp		7
    4834   00:5BC6  38 0A               		jr.		c,coteja_colision_prota_bombero_menos_siete
    4835   00:5BC8  D6 07               		sub		a,7				
    4836   00:5BCA  47                  		ld		b,a
    4837   00:5BCB  FD 7E 00            		ld		a,(iy)
    4838   00:5BCE  B8                  		cp		b
    4839   00:5BCF  D8                  		ret		c
    4840   00:5BD0  18 07               		jr.		coteja_colision_prota_bombero_sigue
    4841   00:5BD2                      
    4842   00:5BD2                      coteja_colision_prota_bombero_menos_siete:
    4843   00:5BD2                      
    4844   00:5BD2  AF                  		xor		a
    4845   00:5BD3  47                  		ld		b,a
    4846   00:5BD4  FD 7E 00            		ld		a,(iy)
    4847   00:5BD7  B8                  		cp		b
    4848   00:5BD8  D8                  		ret		c
    4849   00:5BD9                      
    4850   00:5BD9                      coteja_colision_prota_bombero_sigue:
    4851   00:5BD9                      		
    4852   00:5BD9  3A 1B C0            		ld		a,(px)
    4853   00:5BDC  C6 0A               		add		a,10
    4854   00:5BDE  47                  		ld		b,a
    4855   00:5BDF  FD 7E 00            		ld		a,(iy)
    4856   00:5BE2  B8                  		cp		b
    4857   00:5BE3  D0                  		ret		nc
    4858   00:5BE4                      		
    4859   00:5BE4  3A 1C C0            		ld		a,(py)
    4860   00:5BE7  D6 0E               		sub		a,14
    4861   00:5BE9  47                  		ld		b,a
    4862   00:5BEA  FD 7E 01            		ld		a,(iy+1)
    4863   00:5BED  B8                  		cp		b
    4864   00:5BEE  D8                  		ret		c
    4865   00:5BEF                      		
    4866   00:5BEF  3A 1C C0            		ld		a,(py)
    4867   00:5BF2  C6 0E               		add		14
    4868   00:5BF4  47                  		ld		b,a
    4869   00:5BF5  FD 7E 01            		ld		a,(iy+1)
    4870   00:5BF8  B8                  		cp		b
    4871   00:5BF9  D0                  		ret		nc
    4872   00:5BFA                      		
    4873   00:5BFA  3A 1E C0            		ld		a,(vidas_prota)
    4874   00:5BFD  3D                  		dec		a
    4875   00:5BFE  32 1E C0            		ld		(vidas_prota),a
    4876   00:5C01                      		
    4877   00:5C01  3E 01               		ld		a,1
    4878   00:5C03  32 7A C6            		ld		(colision_bombero_prota_real),a
    4879   00:5C06                      		
    4880   00:5C06  C9                  		ret
    4881   00:5C07                      		
    4882   00:5C07                      colisiones_serpientes_cuchillos_comun_1:
    4883   00:5C07                      
    4884   00:5C07  FD 7E 09            		ld		a,(iy+9)
    4885   00:5C0A  47                  		ld		b,a
    4886   00:5C0B  3A 65 C6            		ld		a,(pantalla_cuchillo)
    4887   00:5C0E  B8                  		cp		b
    4888   00:5C0F                      		
    4889   00:5C0F  C9                  		ret
    4890   00:5C10                      colisiones_serpientes_cuchillos_comun_2:
    4891   00:5C10                      
    4892   00:5C10  CD 9E 5C            		call	colision_cuchillo_serpiente
    4893   00:5C13  3A 5D C6            		ld		a,(colision_cuchillo_serp_real)
    4894   00:5C16  B7                  		or		a
    4895   00:5C17                      		
    4896   00:5C17  C9                  		ret
    4897   00:5C18                      colisiones_serpientes_cuchillos_comun_3:
    4898   00:5C18                      
    4899   00:5C18  DD 21 2A C0         		ld		ix,atributos_sprite_general
    4900   00:5C1C                      					
    4901   00:5C1C  AF                  		xor		a
    4902   00:5C1D  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    4903   00:5C20  3E 03               		ld		a,3
    4904   00:5C22                      		
    4905   00:5C22  C9                  		ret
    4906   00:5C23                      				
    4907   00:5C23                      colisiones_serpientes_cuchillos:
    4908   00:5C23                      
    4909   00:5C23  3A 64 C6            		ld		a,(momento_lanzamiento)									;mira si es posible que el cuchillo este volando
    4910   00:5C26  FE 02               		cp		2
    4911   00:5C28  D8                  		ret		c
    4912   00:5C29                      				
    4913   00:5C29  3A 5E C6            		ld		a,(serp1)												;¿está activa la sepriente 1?
    4914   00:5C2C  B7                  		or		a
    4915   00:5C2D  28 18               		jr.		z,colision_cuchillo_serp_2
    4916   00:5C2F  FE 03               		cp		3
    4917   00:5C31  28 14               		jr.		z,colision_cuchillo_serp_2
    4918   00:5C33                      		
    4919   00:5C33  FD 21 35 C6         		ld		iy,variables_serpiente_1
    4920   00:5C37                      		
    4921   00:5C37  CD 07 5C            		call	colisiones_serpientes_cuchillos_comun_1
    4922   00:5C3A  20 0B               		jr.		nz,colision_cuchillo_serp_2
    4923   00:5C3C                      		
    4924   00:5C3C                      colision_cuchillo_serp_1:
    4925   00:5C3C                      			
    4926   00:5C3C  CD 10 5C            		call	colisiones_serpientes_cuchillos_comun_2
    4927   00:5C3F  28 06               		jr.		z,colision_cuchillo_serp_2
    4928   00:5C41                      		
    4929   00:5C41  CD 18 5C            		call	colisiones_serpientes_cuchillos_comun_3
    4930   00:5C44  32 5E C6            		ld		(serp1),a
    4931   00:5C47                      
    4932   00:5C47                      						
    4933   00:5C47                      colision_cuchillo_serp_2:
    4934   00:5C47                      
    4935   00:5C47  3A 5F C6            		ld		a,(serp2)												;¿está activa la sepriente 1?
    4936   00:5C4A  B7                  		or		a
    4937   00:5C4B  28 18               		jr.		z,colision_cuchillo_serp_3
    4938   00:5C4D  FE 03               		cp		3
    4939   00:5C4F  28 14               		jr.		z,colision_cuchillo_serp_3
    4940   00:5C51                      		
    4941   00:5C51  FD 21 3F C6         		ld		iy,variables_serpiente_2
    4942   00:5C55                      		
    4943   00:5C55  CD 07 5C            		call	colisiones_serpientes_cuchillos_comun_1
    4944   00:5C58  20 0B               		jr.		nz,colision_cuchillo_serp_3
    4945   00:5C5A                      						
    4946   00:5C5A  CD 10 5C            		call	colisiones_serpientes_cuchillos_comun_2
    4947   00:5C5D  28 06               		jr.		z,colision_cuchillo_serp_3
    4948   00:5C5F                      		
    4949   00:5C5F  CD 18 5C            		call	colisiones_serpientes_cuchillos_comun_3
    4950   00:5C62  32 5F C6            		ld		(serp2),a
    4951   00:5C65                      										
    4952   00:5C65                      colision_cuchillo_serp_3:
    4953   00:5C65                      
    4954   00:5C65  3A 60 C6            		ld		a,(serp3)												;¿está activa la sepriente 1?
    4955   00:5C68  B7                  		or		a
    4956   00:5C69  28 18               		jr.		z,colision_cuchillo_serp_4
    4957   00:5C6B  FE 03               		cp		3
    4958   00:5C6D  28 14               		jr.		z,colision_cuchillo_serp_4
    4959   00:5C6F                      		
    4960   00:5C6F  FD 21 49 C6         		ld		iy,variables_serpiente_3
    4961   00:5C73                      		
    4962   00:5C73  CD 07 5C            		call	colisiones_serpientes_cuchillos_comun_1
    4963   00:5C76  20 0B               		jr.		nz,colision_cuchillo_serp_4
    4964   00:5C78                      		
    4965   00:5C78  CD 10 5C            		call	colisiones_serpientes_cuchillos_comun_2
    4966   00:5C7B  28 06               		jr.		z,colision_cuchillo_serp_4
    4967   00:5C7D                      		
    4968   00:5C7D  CD 18 5C            		call	colisiones_serpientes_cuchillos_comun_3
    4969   00:5C80  32 60 C6            		ld		(serp3),a
    4970   00:5C83                      				
    4971   00:5C83                      colision_cuchillo_serp_4:
    4972   00:5C83                      
    4973   00:5C83  3A 61 C6            		ld		a,(serp4)												;¿está activa la sepriente 1?
    4974   00:5C86  B7                  		or		a
    4975   00:5C87  C8                  		ret		z
    4976   00:5C88  FE 03               		cp		3
    4977   00:5C8A  C8                  		ret		z
    4978   00:5C8B                      		
    4979   00:5C8B  FD 21 53 C6         		ld		iy,variables_serpiente_4
    4980   00:5C8F                      		
    4981   00:5C8F  CD 07 5C            		call	colisiones_serpientes_cuchillos_comun_1
    4982   00:5C92  C0                  		ret		nz
    4983   00:5C93                      		
    4984   00:5C93  CD 10 5C            		call	colisiones_serpientes_cuchillos_comun_2
    4985   00:5C96  C8                  		ret		z
    4986   00:5C97                      		
    4987   00:5C97  CD 18 5C            		call	colisiones_serpientes_cuchillos_comun_3
    4988   00:5C9A  32 61 C6            		ld		(serp4),a
    4989   00:5C9D                      		
    4990   00:5C9D  C9                  		ret
    4991   00:5C9E                      
    4992   00:5C9E                      colision_cuchillo_serpiente:
    4993   00:5C9E                      		
    4994   00:5C9E  3A 65 C6            		ld		a,(pantalla_cuchillo)
    4995   00:5CA1  47                  		ld		b,a
    4996   00:5CA2  FD 7E 09            		ld		a,(iy+9)
    4997   00:5CA5  C0                  		ret		nz
    4998   00:5CA6                      					
    4999   00:5CA6  3A 6A C6            		ld		a,(cx)													;coordenadas coincidentes
    5000   00:5CA9  47                  		ld		b,a
    5001   00:5CAA  FD 7E 00            		ld		a,(iy)
    5002   00:5CAD  B8                  		cp		b
    5003   00:5CAE  D0                  		ret		nc
    5004   00:5CAF                      		
    5005   00:5CAF  C6 10               		add		a,16
    5006   00:5CB1  B8                  		cp		b
    5007   00:5CB2  D8                  		ret		c
    5008   00:5CB3                      	
    5009   00:5CB3  3A 6B C6            		ld		a,(cy)
    5010   00:5CB6  47                  		ld		b,a
    5011   00:5CB7  FD 7E 01            		ld		a,(iy+1)
    5012   00:5CBA  D6 04               		sub		4
    5013   00:5CBC  B8                  		cp		b
    5014   00:5CBD  D0                  		ret		nc
    5015   00:5CBE                      				
    5016   00:5CBE  C6 14               		add		a,20
    5017   00:5CC0  B8                  		cp		b
    5018   00:5CC1  D8                  		ret		c
    5019   00:5CC2                      						
    5020   00:5CC2  AF                  		xor		a
    5021   00:5CC3  32 64 C6            		ld		(momento_lanzamiento),a
    5022   00:5CC6                      		
    5023   00:5CC6  3A 21 C6            		ld		a,(pantalla_activa)
    5024   00:5CC9  08                  		ex		af,af'
    5025   00:5CCA  3A 65 C6            		ld		a,(pantalla_cuchillo)
    5026   00:5CCD  32 21 C6            		ld		(pantalla_activa),a
    5027   00:5CD0                      				
    5028   00:5CD0  3A 6A C6            		ld		a,[cx]													;recupera lo que habia en el tile anteriormente					
    5029   00:5CD3  57                  		ld		d,a
    5030   00:5CD4  3A 6B C6            		ld		a,[cy]
    5031   00:5CD7  5F                  		ld		e,a
    5032   00:5CD8  CD C7 62            		call	get_bloque_en_X_Y
    5033   00:5CDB                      		
    5034   00:5CDB  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    5035   00:5CDE  77                  		ld		[hl],a
    5036   00:5CDF                      				
    5037   00:5CDF  3E 07               		ld		a,7														;efecto sonoro de muerte
    5038   00:5CE1  CD 24 78            		call	efecto_sonido	
    5039   00:5CE4                      		
    5040   00:5CE4  08                  		ex		af,af'
    5041   00:5CE5  32 21 C6            		ld		(pantalla_activa),a
    5042   00:5CE8                      		
    5043   00:5CE8  47                  		ld		b,a
    5044   00:5CE9  3A 65 C6            		ld		a,(pantalla_cuchillo)
    5045   00:5CEC  B8                  		cp		b
    5046   00:5CED  20 11               		jr.		nz,colision_cuchillo_serpiente_continua
    5047   00:5CEF                      		
    5048   00:5CEF  3A 6A C6            		ld		a,[cx]													;recupera tambien en vram
    5049   00:5CF2  57                  		ld		d,a
    5050   00:5CF3  3A 6B C6            		ld		a,[cy]
    5051   00:5CF6  5F                  		ld		e,a
    5052   00:5CF7  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5053   00:5CFA                      		
    5054   00:5CFA  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    5055   00:5CFD  CD 12 78            		call	pinta_en_pantalla
    5056   00:5D00                      
    5057   00:5D00                      colision_cuchillo_serpiente_continua:
    5058   00:5D00                      		
    5059   00:5D00  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger mechero
    5060   00:5D03  C6 19               		add		a,25
    5061   00:5D05  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    5062   00:5D08  3E 01               		ld		a,1
    5063   00:5D0A  32 33 C6            		ld		(cuenta_puntos_o_no),a
    5064   00:5D0D                      		
    5065   00:5D0D  3E 01               		ld		a,1
    5066   00:5D0F  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    5067   00:5D12  AF                  		xor		a
    5068   00:5D13                      
    5069   00:5D13  C9                  		ret
    5070   00:5D14                      		
    5071   00:5D14                      atributos_sprites:
    5072   00:5D14                      
    5073   00:5D14  21 2A C0            		ld		hl,atributos_sprite_general
    5074   00:5D17  11 00 1B            		ld		de,#1B00
    5075   00:5D1A  01 30 00            		ld		bc,48
    5076   00:5D1D  C3 5C 00            		jp		GRABAVRAM		
    5077   00:5D20                      		
    5078   00:5D20                      estado_en_que_se_encuentra:
    5079   00:5D20                      
    5080   00:5D20  CD F0 76            		call	seis_dos
    5081   00:5D23  CD C7 62            		call	get_bloque_en_X_Y
    5082   00:5D26  FE 2D               		cp		45														;si esta en la salida revisamos si sale
    5083   00:5D28  CA E8 63            		jr.		z,fase_superada
    5084   00:5D2B                      		
    5085   00:5D2B  3A 22 C6            		ld		a,(estado_de_salto)										;no salta? vamos a comprovar si hace algo
    5086   00:5D2E  B7                  		or		a
    5087   00:5D2F  28 1E               		jr.		z,continua_estado
    5088   00:5D31                      
    5089   00:5D31  FE 03               		cp		3														;diferentes estados de salto
    5090   00:5D33  DA B9 6F            		jr.		c,salta_sube
    5091   00:5D36  FE 13               		cp		19
    5092   00:5D38  DA 3B 70            		jr.		c,salta_sigue
    5093   00:5D3B  FE 15               		cp		21
    5094   00:5D3D  DA 62 70            		jr.		c,salta_baja
    5095   00:5D40  FE 21               		cp		33
    5096   00:5D42  DA 07 70            		jr.		c,salta_sube_izquierda
    5097   00:5D45  FE 31               		cp		49
    5098   00:5D47  DA 4F 70            		jr.		c,salta_sigue_izquierda
    5099   00:5D4A  FE 33               		cp		51
    5100   00:5D4C  DA B0 70            		jr.		c,salta_baja_izquierda
    5101   00:5D4F                      		
    5102   00:5D4F                      continua_estado:		
    5103   00:5D4F                      		
    5104   00:5D4F  3A 23 C0            		ld		a,(estado_prota)
    5105   00:5D52  FE 04               		cp		4
    5106   00:5D54  C8                  		ret		z
    5107   00:5D55                      				
    5108   00:5D55  CD A9 77            		call	ocho_dieciocho
    5109   00:5D58  CD C7 62            		call	get_bloque_en_X_Y
    5110   00:5D5B                      		
    5111   00:5D5B  FE 29               		cp		41														;no cae si hay escalera
    5112   00:5D5D  28 47               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    5113   00:5D5F  FE 2A               		cp		42
    5114   00:5D61  28 43               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    5115   00:5D63  FE 49               		cp		73
    5116   00:5D65  28 3F               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    5117   00:5D67  FE 4A               		cp		74
    5118   00:5D69  28 3B               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    5119   00:5D6B  FE 65               		cp		101
    5120   00:5D6D  28 37               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    5121   00:5D6F                      		
    5122   00:5D6F  3A 1B C0            		ld		a,[px]
    5123   00:5D72  C6 0A               		add		10
    5124   00:5D74  57                  		ld		d,a
    5125   00:5D75  3A 1C C0            		ld		a,[py]
    5126   00:5D78  C6 11               		add		17
    5127   00:5D7A  5F                  		ld		e,a
    5128   00:5D7B  CD C7 62            		call	get_bloque_en_X_Y
    5129   00:5D7E  FE 65               		cp		101
    5130   00:5D80  28 24               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    5131   00:5D82                      		
    5132   00:5D82  3A 1B C0            		ld		a,[px]
    5133   00:5D85  C6 05               		add		5
    5134   00:5D87  57                  		ld		d,a	
    5135   00:5D88  3A 1C C0            		ld		a,[py]
    5136   00:5D8B  C6 10               		add		16
    5137   00:5D8D  5F                  		ld		e,a
    5138   00:5D8E                      ;		call	siete_dieciseis
    5139   00:5D8E  CD C7 62            		call	get_bloque_en_X_Y
    5140   00:5D91                      		
    5141   00:5D91  FE 1F               		cp		31														;controla el bloque de ladrillos
    5142   00:5D93  30 17               		jr.		nc,segunda_comprovacion_caida
    5143   00:5D95                      		
    5144   00:5D95  3A 1B C0            		ld		a,[px]
    5145   00:5D98  C6 07               		add		7
    5146   00:5D9A  57                  		ld		d,a
    5147   00:5D9B  3A 1C C0            		ld		a,[py]
    5148   00:5D9E  C6 0F               		add		15
    5149   00:5DA0  5F                  		ld		e,a
    5150   00:5DA1  CD C7 62            		call	get_bloque_en_X_Y
    5151   00:5DA4                      		
    5152   00:5DA4                      ;		cp		31														;controla el bloque de ladrillos para no quedarse encallado en él
    5153   00:5DA4                      ;		jr.		nc,final_rutina_sin_caida
    5154   00:5DA4                      		
    5155   00:5DA4                      ;		ld		a,[py]
    5156   00:5DA4                      ;		dec		a
    5157   00:5DA4                      ;		ld		[py],a
    5158   00:5DA4                      		
    5159   00:5DA4  18 19               		jr.		final_rutina_sin_caida
    5160   00:5DA6                      
    5161   00:5DA6                      cambio_estado_a_subiendo_para_la_caida:
    5162   00:5DA6                      
    5163   00:5DA6  3E 04               		ld		a,4
    5164   00:5DA8  32 23 C0            		ld		(estado_prota),a
    5165   00:5DAB  C9                  		ret		
    5166   00:5DAC                      		
    5167   00:5DAC                      segunda_comprovacion_caida:
    5168   00:5DAC                      			
    5169   00:5DAC  3A 1B C0            		ld		a,[px]
    5170   00:5DAF  C6 0B               		add		11
    5171   00:5DB1  57                  		ld		d,a
    5172   00:5DB2  3A 1C C0            		ld		a,[py]
    5173   00:5DB5  C6 10               		add		16
    5174   00:5DB7  5F                  		ld		e,a
    5175   00:5DB8  CD C7 62            		call	get_bloque_en_X_Y
    5176   00:5DBB  FE 1F               		cp		31
    5177   00:5DBD  30 11               		jr.		nc,caigo
    5178   00:5DBF                      
    5179   00:5DBF                      final_rutina_sin_caida:
    5180   00:5DBF                      		
    5181   00:5DBF  AF                  		xor		a
    5182   00:5DC0  32 23 C0            		ld		(estado_prota),a
    5183   00:5DC3                      			
    5184   00:5DC3  C9                  		ret
    5185   00:5DC4                      
    5186   00:5DC4                      ultima_rectificacion_de_caida:
    5187   00:5DC4                      
    5188   00:5DC4  AF                  		xor		a
    5189   00:5DC5  32 23 C0            		ld		(estado_prota),a
    5190   00:5DC8  3A 1C C0            		ld		a,(py)
    5191   00:5DCB  3D                  		dec		a
    5192   00:5DCC  32 1C C0            		ld		(py),a
    5193   00:5DCF                      		
    5194   00:5DCF  C9                  		ret
    5195   00:5DD0                      		
    5196   00:5DD0                      caigo:
    5197   00:5DD0                      		
    5198   00:5DD0  3E 03               		ld		a,3
    5199   00:5DD2  32 23 C0            		ld		(estado_prota),a
    5200   00:5DD5                      		
    5201   00:5DD5  3A 1C C0            		ld		a,(py)
    5202   00:5DD8  C6 02               		add		a,2
    5203   00:5DDA  32 1C C0            		ld		(py),a
    5204   00:5DDD                      		
    5205   00:5DDD                      			
    5206   00:5DDD  3A 1B C0            		ld		a,[px]
    5207   00:5DE0  C6 08               		add		8
    5208   00:5DE2  57                  		ld		d,a
    5209   00:5DE3  3A 1C C0            		ld		a,[py]
    5210   00:5DE6  C6 12               		add		18
    5211   00:5DE8  5F                  		ld		e,a
    5212   00:5DE9  CD C7 62            		call	get_bloque_en_X_Y
    5213   00:5DEC  FE 20               		cp		32
    5214   00:5DEE  38 D4               		jr.		c,ultima_rectificacion_de_caida
    5215   00:5DF0                      		
    5216   00:5DF0  3A 1B C0            		ld		a,[px]													;observa si hay que rectificar la caida
    5217   00:5DF3  C6 0F               		add		15
    5218   00:5DF5  57                  		ld		d,a
    5219   00:5DF6  3A 1C C0            		ld		a,[py]
    5220   00:5DF9  C6 0F               		add		15
    5221   00:5DFB  5F                  		ld		e,a
    5222   00:5DFC  CD C7 62            		call	get_bloque_en_X_Y
    5223   00:5DFF  FE 1F               		cp		31
    5224   00:5E01  38 12               		jr.		c,rectifico_caida_a_izquierda
    5225   00:5E03                      		
    5226   00:5E03  3A 1B C0            		ld		a,[px]
    5227   00:5E06  57                  		ld		d,a
    5228   00:5E07  3A 1C C0            		ld		a,[py]
    5229   00:5E0A  C6 0F               		add		15
    5230   00:5E0C  5F                  		ld		e,a
    5231   00:5E0D  CD C7 62            		call	get_bloque_en_X_Y
    5232   00:5E10  FE 1F               		cp		31
    5233   00:5E12  38 19               		jr.		c,rectifico_caida_a_derecha
    5234   00:5E14                      		
    5235   00:5E14  C9                  		ret
    5236   00:5E15                      
    5237   00:5E15                      rectifico_caida_a_izquierda:
    5238   00:5E15                      		
    5239   00:5E15  3A 1B C0            		ld		a,[px]
    5240   00:5E18  57                  		ld		d,a
    5241   00:5E19  3A 1C C0            		ld		a,[py]
    5242   00:5E1C  C6 0F               		add		15
    5243   00:5E1E  5F                  		ld		e,a
    5244   00:5E1F  CD C7 62            		call	get_bloque_en_X_Y
    5245   00:5E22  FE 1F               		cp		31
    5246   00:5E24  D8                  		ret		c
    5247   00:5E25                      		
    5248   00:5E25  3A 1B C0            		ld		a,(px)
    5249   00:5E28  3D                  		dec		a
    5250   00:5E29  32 1B C0            		ld		(px),a
    5251   00:5E2C  C9                  		ret
    5252   00:5E2D                      
    5253   00:5E2D                      rectifico_caida_a_derecha:
    5254   00:5E2D                      
    5255   00:5E2D  3A 1B C0            		ld		a,(px)
    5256   00:5E30  3C                  		inc		a
    5257   00:5E31  32 1B C0            		ld		(px),a
    5258   00:5E34  C9                  		ret
    5259   00:5E35                      				
    5260   00:5E35                      mueve_prota:
    5261   00:5E35                      
    5262   00:5E35  3A 23 C0            		ld		a,(estado_prota)										;si esta en callendo no se mueve
    5263   00:5E38  FE 03               		cp		3
    5264   00:5E3A  C8                  		ret		z
    5265   00:5E3B  3A 22 C6            		ld		a,(estado_de_salto)										;si esta saltando no se mueve
    5266   00:5E3E  B7                  		or		a
    5267   00:5E3F  C0                  		ret		nz
    5268   00:5E40  3A 64 C6            		ld		a,(momento_lanzamiento) 								;si está lanzando no se mueve
    5269   00:5E43  FE 01               		cp		1
    5270   00:5E45  C8                  		ret		z
    5271   00:5E46  FE 02               		cp		2
    5272   00:5E48  C8                  		ret		z
    5273   00:5E49  3A 1D C0            		ld		a,(puede_cambiar_de_direccion)							;si está en una puerta no puede moverse por su cuenta
    5274   00:5E4C  B7                  		or		a
    5275   00:5E4D  C8                  		ret		z
    5276   00:5E4E                      		
    5277   00:5E4E  AF                  		xor		a
    5278   00:5E4F                      
    5279   00:5E4F                      stick_mando:	
    5280   00:5E4F                      
    5281   00:5E4F  32 DE CB            		ld		(sticky),a
    5282   00:5E52  CD D5 00            		call	ONSTICK
    5283   00:5E55                      		
    5284   00:5E55  B7                  		or		a
    5285   00:5E56  28 13               		jr.		z,stick_mando_2
    5286   00:5E58  FE 01               		cp		1
    5287   00:5E5A  28 19               		jr.		z,sube_escaleras
    5288   00:5E5C  FE 05               		cp		5
    5289   00:5E5E  CA 1C 5F            		jr.		z,baja_escaleras	
    5290   00:5E61  FE 05               		cp		5
    5291   00:5E63  DA AD 61            		jr.		c,mueve_derecha_prota
    5292   00:5E66  FE 09               		cp		9
    5293   00:5E68  DA 90 5F            		jr.		c,mueve_izquierda_prota
    5294   00:5E6B                      
    5295   00:5E6B                      stick_mando_2:
    5296   00:5E6B                      		
    5297   00:5E6B  3A DE CB            		ld		a,(sticky)
    5298   00:5E6E  FE 01               		cp		1
    5299   00:5E70  C8                  		ret		z
    5300   00:5E71  3E 01               		ld		a,1
    5301   00:5E73  18 DA               		jr.		stick_mando
    5302   00:5E75                      			
    5303   00:5E75                      sube_escaleras:
    5304   00:5E75                      
    5305   00:5E75  F5                  		push	af
    5306   00:5E76                      		
    5307   00:5E76                      		
    5308   00:5E76  3A 1B C0            		ld		a,[px]
    5309   00:5E79  C6 06               		add		6
    5310   00:5E7B  57                  		ld		d,a
    5311   00:5E7C  3A 1C C0            		ld		a,[py]
    5312   00:5E7F  5F                  		ld		e,a
    5313   00:5E80  CD C7 62            		call	get_bloque_en_X_Y
    5314   00:5E83  FE 29               		cp		41
    5315   00:5E85  28 43               		jr.		z,sube_escaleras_afirmativo
    5316   00:5E87  FE 2A               		cp		42
    5317   00:5E89  28 3F               		jr.		z,sube_escaleras_afirmativo
    5318   00:5E8B  FE 67               		cp		103
    5319   00:5E8D  28 3B               		jr.		z,sube_escaleras_afirmativo
    5320   00:5E8F  FE 69               		cp		105
    5321   00:5E91  28 37               		jr.		z,sube_escaleras_afirmativo
    5322   00:5E93  FE 6A               		cp		106
    5323   00:5E95  28 33               		jr.		z,sube_escaleras_afirmativo
    5324   00:5E97                      		
    5325   00:5E97  3A 1B C0            		ld		a,[px]
    5326   00:5E9A  C6 09               		add		9
    5327   00:5E9C  57                  		ld		d,a
    5328   00:5E9D  3A 1C C0            		ld		a,[py]
    5329   00:5EA0  D6 02               		sub		2
    5330   00:5EA2  5F                  		ld		e,a
    5331   00:5EA3  CD C7 62            		call	get_bloque_en_X_Y
    5332   00:5EA6  FE 65               		cp		101
    5333   00:5EA8  28 20               		jr.		z,sube_escaleras_afirmativo
    5334   00:5EAA                      		
    5335   00:5EAA  CD D3 76            		call	seis_diez
    5336   00:5EAD  CD C7 62            		call	get_bloque_en_X_Y
    5337   00:5EB0  FE 65               		cp		101
    5338   00:5EB2  28 16               		jr.		z,sube_escaleras_afirmativo
    5339   00:5EB4                      		
    5340   00:5EB4                      		
    5341   00:5EB4  3A 1B C0            		ld		a,[px]
    5342   00:5EB7  C6 0A               		add		10
    5343   00:5EB9  57                  		ld		d,a
    5344   00:5EBA  3A 1C C0            		ld		a,[py]
    5345   00:5EBD  C6 01               		add		1
    5346   00:5EBF  5F                  		ld		e,a
    5347   00:5EC0  CD C7 62            		call	get_bloque_en_X_Y
    5348   00:5EC3  FE 65               		cp		101
    5349   00:5EC5  28 03               		jr.		z,sube_escaleras_afirmativo
    5350   00:5EC7                      		
    5351   00:5EC7  C3 C1 62            		jr.		set_parado
    5352   00:5ECA                      		
    5353   00:5ECA                      sube_escaleras_afirmativo:
    5354   00:5ECA                      
    5355   00:5ECA  CD 06 77            		call	menos_uno_cero
    5356   00:5ECD  CD C7 62            		call	get_bloque_en_X_Y
    5357   00:5ED0  FE 29               		cp		41
    5358   00:5ED2  28 0E               		jr.		z,a_mover_a_la_izquierda
    5359   00:5ED4  FE 67               		cp		103
    5360   00:5ED6  28 0A               		jr.		z,a_mover_a_la_izquierda
    5361   00:5ED8  FE 65               		cp		101
    5362   00:5EDA  28 06               		jr.		z,a_mover_a_la_izquierda
    5363   00:5EDC  FE 69               		cp		105
    5364   00:5EDE  28 02               		jr.		z,a_mover_a_la_izquierda
    5365   00:5EE0                      		
    5366   00:5EE0  18 09               		jr.		comprueba_derecha
    5367   00:5EE2                      
    5368   00:5EE2                      a_mover_a_la_izquierda:
    5369   00:5EE2                      		
    5370   00:5EE2  3A 1B C0            		ld		a,[px]
    5371   00:5EE5  3D                  		dec		a
    5372   00:5EE6  32 1B C0            		ld		[px],a
    5373   00:5EE9  18 22               		jr.		a_subir
    5374   00:5EEB                      		
    5375   00:5EEB                      comprueba_derecha:
    5376   00:5EEB                      
    5377   00:5EEB  3A 1B C0            		ld		a,[px]
    5378   00:5EEE  C6 10               		add		16
    5379   00:5EF0  57                  		ld		d,a
    5380   00:5EF1  3A 1C C0            		ld		a,[py]
    5381   00:5EF4  5F                  		ld		e,a
    5382   00:5EF5  CD C7 62            		call	get_bloque_en_X_Y
    5383   00:5EF8  FE 2A               		cp		42
    5384   00:5EFA  28 0A               		jr.		z,a_mover_a_la_derecha
    5385   00:5EFC  FE 65               		cp		101
    5386   00:5EFE  28 06               		jr.		z,a_mover_a_la_derecha
    5387   00:5F00  FE 69               		cp		105
    5388   00:5F02  28 02               		jr.		z,a_mover_a_la_derecha
    5389   00:5F04  18 07               		jr.		a_subir
    5390   00:5F06                      
    5391   00:5F06                      a_mover_a_la_derecha:
    5392   00:5F06                      		
    5393   00:5F06  3A 1B C0            		ld		a,[px]
    5394   00:5F09  3C                  		inc		a
    5395   00:5F0A  32 1B C0            		ld		[px],a
    5396   00:5F0D                      				
    5397   00:5F0D                      a_subir:
    5398   00:5F0D                      
    5399   00:5F0D  3E 04               		ld		a,4														;le da el valor 4 a la variable estado prota
    5400   00:5F0F  32 23 C0            		ld		(estado_prota),a
    5401   00:5F12                      		
    5402   00:5F12  3A 1C C0            		ld		a,(py)
    5403   00:5F15  3D                  		dec		a
    5404   00:5F16  32 1C C0            		ld		(py),a
    5405   00:5F19  C3 DF 5F            		jr.		actualiza_el_paso_subiendo
    5406   00:5F1C                      
    5407   00:5F1C                      baja_escaleras:
    5408   00:5F1C                      
    5409   00:5F1C  F5                  		push	af
    5410   00:5F1D                      		
    5411   00:5F1D                      		
    5412   00:5F1D  3A 1B C0            		ld		a,[px]
    5413   00:5F20  C6 06               		add		6
    5414   00:5F22  57                  		ld		d,a
    5415   00:5F23  3A 1C C0            		ld		a,[py]
    5416   00:5F26  C6 13               		add		19
    5417   00:5F28  5F                  		ld		e,a
    5418   00:5F29  CD C7 62            		call	get_bloque_en_X_Y
    5419   00:5F2C  FE 21               		cp		33
    5420   00:5F2E  30 16               		jr.		nc,baja_escaleras_afirmativo
    5421   00:5F30  3A 1B C0            		ld		a,[px]
    5422   00:5F33  C6 06               		add		6
    5423   00:5F35  57                  		ld		d,a
    5424   00:5F36  3A 1C C0            		ld		a,[py]
    5425   00:5F39  C6 10               		add		16
    5426   00:5F3B  5F                  		ld		e,a
    5427   00:5F3C  CD C7 62            		call	get_bloque_en_X_Y
    5428   00:5F3F  FE 21               		cp		33
    5429   00:5F41  30 03               		jr.		nc,baja_escaleras_afirmativo
    5430   00:5F43  C3 C1 62            		jr.		set_parado
    5431   00:5F46                      		
    5432   00:5F46                      baja_escaleras_afirmativo:
    5433   00:5F46                      
    5434   00:5F46  CD 1B 77            		call	menos_uno_dieciseis
    5435   00:5F49  CD C7 62            		call	get_bloque_en_X_Y
    5436   00:5F4C  FE 29               		cp		41
    5437   00:5F4E  28 0A               		jr.		z,a_mover_a_la_izquierda_bajando
    5438   00:5F50  FE 67               		cp		103
    5439   00:5F52  28 06               		jr.		z,a_mover_a_la_izquierda_bajando
    5440   00:5F54  FE 69               		cp		105
    5441   00:5F56  28 02               		jr.		z,a_mover_a_la_izquierda_bajando
    5442   00:5F58                      		
    5443   00:5F58  18 09               		jr.		comprueba_derecha_bajando
    5444   00:5F5A                      
    5445   00:5F5A                      a_mover_a_la_izquierda_bajando:
    5446   00:5F5A                      		
    5447   00:5F5A  3A 1B C0            		ld		a,[px]
    5448   00:5F5D  3D                  		dec		a
    5449   00:5F5E  32 1B C0            		ld		[px],a
    5450   00:5F61  18 1F               		jr.		a_bajar
    5451   00:5F63                      		
    5452   00:5F63                      comprueba_derecha_bajando:
    5453   00:5F63                      
    5454   00:5F63  CD 22 77            		call	dieciseis_dieciseis
    5455   00:5F66  CD C7 62            		call	get_bloque_en_X_Y
    5456   00:5F69  FE 2A               		cp		42
    5457   00:5F6B  28 0E               		jr.		z,a_mover_a_la_derecha_bajando
    5458   00:5F6D  FE 65               		cp		101
    5459   00:5F6F  28 0A               		jr.		z,a_mover_a_la_derecha_bajando
    5460   00:5F71  FE 67               		cp		103
    5461   00:5F73  28 06               		jr.		z,a_mover_a_la_derecha_bajando
    5462   00:5F75  FE 6A               		cp		106
    5463   00:5F77  28 02               		jr.		z,a_mover_a_la_derecha_bajando
    5464   00:5F79                      
    5465   00:5F79                      		
    5466   00:5F79  18 07               		jr.		a_bajar
    5467   00:5F7B                      
    5468   00:5F7B                      a_mover_a_la_derecha_bajando:
    5469   00:5F7B                      		
    5470   00:5F7B  3A 1B C0            		ld		a,[px]
    5471   00:5F7E  3C                  		inc		a
    5472   00:5F7F  32 1B C0            		ld		[px],a
    5473   00:5F82                      				
    5474   00:5F82                      a_bajar:
    5475   00:5F82                      
    5476   00:5F82  3E 04               		ld		a,4														;le da el valor 4 a la variable estado prota
    5477   00:5F84  32 23 C0            		ld		(estado_prota),a
    5478   00:5F87                      		
    5479   00:5F87  3A 1C C0            		ld		a,(py)
    5480   00:5F8A  3C                  		inc		a
    5481   00:5F8B  32 1C C0            		ld		(py),a
    5482   00:5F8E  18 4F               		jr.		actualiza_el_paso_subiendo
    5483   00:5F90                      				
    5484   00:5F90                      mueve_izquierda_prota:
    5485   00:5F90                      
    5486   00:5F90  3E 01               		ld		a,1
    5487   00:5F92  32 27 C0            		ld		(dir_prota),a
    5488   00:5F95                      		
    5489   00:5F95  3A 1B C0            		ld		a,[px];													;controla_si_cambia_de_pantalla
    5490   00:5F98  FE 01               		cp		1
    5491   00:5F9A  DA D4 60            		jr.		c,a_pantalla_1
    5492   00:5F9D                      		
    5493   00:5F9D  F5                  		push	af
    5494   00:5F9E                      		
    5495   00:5F9E                      		;colision lateral con solido
    5496   00:5F9E                      				
    5497   00:5F9E  3A 1B C0            		ld		a,[px]
    5498   00:5FA1  C6 03               		add		3
    5499   00:5FA3  57                  		ld		d,a
    5500   00:5FA4  3A 1C C0            		ld		a,[py]
    5501   00:5FA7  C6 0F               		add		15
    5502   00:5FA9  5F                  		ld		e,a
    5503   00:5FAA  CD C7 62            		call	get_bloque_en_X_Y
    5504   00:5FAD  FE 20               		cp		32														;hasta el 31 son solidos
    5505   00:5FAF  DA C1 62            		jr.		c,set_parado											;si es inferior, no hay acarreo 
    5506   00:5FB2  FE 71               		cp		113														;se para ante las puertas de pinchos
    5507   00:5FB4  CA C1 62            		jr.		z,set_parado
    5508   00:5FB7  FE 73               		cp		115
    5509   00:5FB9  CA C1 62            		jr.		z,set_parado
    5510   00:5FBC                      		
    5511   00:5FBC  CD 8B 77            		call	tres_quince
    5512   00:5FBF  CD C7 62            		call	get_bloque_en_X_Y
    5513   00:5FC2  FE 72               		cp		114														;gira las puertas
    5514   00:5FC4  28 65               		jr.		z,gira_puerta_izquierda_amarilla
    5515   00:5FC6  FE 74               		cp		116
    5516   00:5FC8  CA 87 60            		jr.		z,gira_puerta_izquierda_azul
    5517   00:5FCB                      		
    5518   00:5FCB  3E 01               		ld		a,1														;le da el valor 1 a la variable de estado prota
    5519   00:5FCD  32 23 C0            		ld		(estado_prota),a
    5520   00:5FD0                      				
    5521   00:5FD0  3A 1B C0            		ld		a,(px)
    5522   00:5FD3  3D                  		dec		a
    5523   00:5FD4  32 1B C0            		ld		(px),a
    5524   00:5FD7  3E 01               		ld		a,1
    5525   00:5FD9  32 27 C0            		ld		(dir_prota),a
    5526   00:5FDC  C3 F6 61            		jr.		actualiza_el_paso
    5527   00:5FDF                      
    5528   00:5FDF                      actualiza_el_paso_subiendo:
    5529   00:5FDF                      
    5530   00:5FDF  3A 29 C0            		ld		a,(retard_anim)
    5531   00:5FE2  3C                  		inc		a
    5532   00:5FE3  FE 08               		cp		8
    5533   00:5FE5  28 06               		jr		z,reset_retardo_y_cambia_paso_subiendo
    5534   00:5FE7  32 29 C0            		ld		(retard_anim),a
    5535   00:5FEA  C3 BB 62            		jr.		end
    5536   00:5FED                      
    5537   00:5FED                      reset_retardo_y_cambia_paso_subiendo:
    5538   00:5FED                      
    5539   00:5FED  AF                  		xor		a
    5540   00:5FEE  32 29 C0            		ld		(retard_anim),a
    5541   00:5FF1  3A 28 C0            		ld		a,(paso)
    5542   00:5FF4  2F                  		cpl								;le da la vuelta a todos los bits
    5543   00:5FF5  E6 03               		and		00000011b				;pone 1 en los dos primero, con lo que lo convierte en un 3 (01=1 10=2 11=3)
    5544   00:5FF7  32 28 C0            		ld		(paso),a
    5545   00:5FFA  C3 BB 62            		jr.		end
    5546   00:5FFD                      		
    5547   00:5FFD                      gira_puerta_derecha_amarilla:
    5548   00:5FFD                      		
    5549   00:5FFD  AF                  		xor		a
    5550   00:5FFE  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    5551   00:6001                      		
    5552   00:6001  CD 4F 77            		call	catorce_dos
    5553   00:6004  CD C7 62            		call	get_bloque_en_X_Y
    5554   00:6007  3E 75               		ld		a,117
    5555   00:6009  77                  		ld		[hl],a
    5556   00:600A                      								
    5557   00:600A  CD 4F 77            		call	catorce_dos
    5558   00:600D  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5559   00:6010                      		
    5560   00:6010  3E 75               		ld		a,117
    5561   00:6012  CD 12 78            		call	pinta_en_pantalla
    5562   00:6015                      		
    5563   00:6015  CD 37 77            		call	catorce_diez
    5564   00:6018  CD C7 62            		call	get_bloque_en_X_Y
    5565   00:601B  3E 75               		ld		a,117
    5566   00:601D  77                  		ld		[hl],a
    5567   00:601E                      								
    5568   00:601E  CD 37 77            		call	catorce_diez
    5569   00:6021  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5570   00:6024                      		
    5571   00:6024  3E 75               		ld		a,117
    5572   00:6026  CD 12 78            		call	pinta_en_pantalla
    5573   00:6029                      		
    5574   00:6029                      		
    5575   00:6029  F1                  		pop		af
    5576   00:602A                      		
    5577   00:602A  C9                  		ret
    5578   00:602B                      		
    5579   00:602B                      gira_puerta_izquierda_amarilla:
    5580   00:602B                      
    5581   00:602B  AF                  		xor		a
    5582   00:602C  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    5583   00:602F                      		
    5584   00:602F  CD 98 77            		call	tres_dos
    5585   00:6032  CD C7 62            		call	get_bloque_en_X_Y
    5586   00:6035                      		
    5587   00:6035  3E 75               		ld		a,117
    5588   00:6037  77                  		ld		[hl],a
    5589   00:6038                      								
    5590   00:6038  CD 98 77            		call	tres_dos
    5591   00:603B  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5592   00:603E                      		
    5593   00:603E  3E 75               		ld		a,117
    5594   00:6040  CD 12 78            		call	pinta_en_pantalla
    5595   00:6043                      		
    5596   00:6043  CD 8B 77            		call	tres_quince
    5597   00:6046  CD C7 62            		call	get_bloque_en_X_Y
    5598   00:6049                      		
    5599   00:6049  3E 75               		ld		a,117
    5600   00:604B  77                  		ld		[hl],a
    5601   00:604C                      								
    5602   00:604C  CD 8B 77            		call	tres_quince
    5603   00:604F  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5604   00:6052                      		
    5605   00:6052  3E 75               		ld		a,117
    5606   00:6054  CD 12 78            		call	pinta_en_pantalla
    5607   00:6057                      		
    5608   00:6057  F1                  		pop		af
    5609   00:6058                      		
    5610   00:6058  C9                  		ret
    5611   00:6059                      		
    5612   00:6059                      gira_puerta_derecha_azul:
    5613   00:6059                      
    5614   00:6059  AF                  		xor		a
    5615   00:605A  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    5616   00:605D                      		
    5617   00:605D  CD 4F 77            		call	catorce_dos
    5618   00:6060  CD C7 62            		call	get_bloque_en_X_Y
    5619   00:6063                      		
    5620   00:6063  3E 76               		ld		a,118
    5621   00:6065  77                  		ld		[hl],a
    5622   00:6066                      								
    5623   00:6066  CD 4F 77            		call	catorce_dos
    5624   00:6069  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5625   00:606C                      		
    5626   00:606C  3E 76               		ld		a,118
    5627   00:606E  CD 12 78            		call	pinta_en_pantalla
    5628   00:6071                      		
    5629   00:6071  CD 37 77            		call	catorce_diez
    5630   00:6074  CD C7 62            		call	get_bloque_en_X_Y
    5631   00:6077                      				
    5632   00:6077  3E 76               		ld		a,118
    5633   00:6079  77                  		ld		[hl],a
    5634   00:607A                      								
    5635   00:607A  CD 37 77            		call	catorce_diez
    5636   00:607D  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5637   00:6080                      		
    5638   00:6080  3E 76               		ld		a,118
    5639   00:6082  CD 12 78            		call	pinta_en_pantalla
    5640   00:6085                      		
    5641   00:6085                      		
    5642   00:6085  F1                  		pop		af
    5643   00:6086                      		
    5644   00:6086  C9                  		ret
    5645   00:6087                      		
    5646   00:6087                      gira_puerta_izquierda_azul:	
    5647   00:6087                      
    5648   00:6087  AF                  		xor		a
    5649   00:6088  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    5650   00:608B                      		
    5651   00:608B  CD 98 77            		call	tres_dos
    5652   00:608E  CD C7 62            		call	get_bloque_en_X_Y
    5653   00:6091                      		
    5654   00:6091  3E 76               		ld		a,118
    5655   00:6093  77                  		ld		[hl],a
    5656   00:6094                      								
    5657   00:6094  CD 98 77            		call	tres_dos
    5658   00:6097  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5659   00:609A                      		
    5660   00:609A  3E 76               		ld		a,118
    5661   00:609C  CD 12 78            		call	pinta_en_pantalla
    5662   00:609F                      		
    5663   00:609F  CD 8B 77            		call	tres_quince
    5664   00:60A2  CD C7 62            		call	get_bloque_en_X_Y
    5665   00:60A5                      		
    5666   00:60A5  3E 76               		ld		a,118
    5667   00:60A7  77                  		ld		[hl],a
    5668   00:60A8                      								
    5669   00:60A8  CD 8B 77            		call	tres_quince
    5670   00:60AB  CD F8 62            		call	get_bloque_en_X_Y_paravram
    5671   00:60AE                      		
    5672   00:60AE  3E 76               		ld		a,118
    5673   00:60B0  CD 12 78            		call	pinta_en_pantalla
    5674   00:60B3                      			
    5675   00:60B3  F1                  		pop		af
    5676   00:60B4                      		
    5677   00:60B4  C9                  		ret
    5678   00:60B5                      
    5679   00:60B5                      a_pantalla_2:
    5680   00:60B5                      
    5681   00:60B5  CD A2 45            		call	limpia_sprites											;quitamos sprites de en medio
    5682   00:60B8                      			
    5683   00:60B8  3E 02               		ld		a,2														;activa la pantalla 2
    5684   00:60BA  32 1B C0            		ld		(px),a
    5685   00:60BD  32 21 C6            		ld		(pantalla_activa),a
    5686   00:60C0                      		
    5687   00:60C0  3A 79 C6            		ld		a,(vision_estado)										;si no hay luz no pinta pantalla, sólo el mando y lo que se tercie
    5688   00:60C3  B7                  		or		a
    5689   00:60C4  CA 4F 61            		jr.		z,pinta_mando_de_luz_pantalla_2
    5690   00:60C7                      		
    5691   00:60C7  21 41 C3            		ld		hl,buffer_colisiones_2									;copia en vram para que lo vea el jugador
    5692   00:60CA  11 20 18            		ld		de,#1820
    5693   00:60CD  01 E0 02            		ld		bc,736
    5694   00:60D0  CD 5C 00            		call	GRABAVRAM
    5695   00:60D3                      		
    5696   00:60D3  C9                  		ret
    5697   00:60D4                      
    5698   00:60D4                      a_pantalla_1:
    5699   00:60D4                      
    5700   00:60D4  CD A2 45            		call	limpia_sprites
    5701   00:60D7                      		
    5702   00:60D7  3E F3               		ld		a,243
    5703   00:60D9  32 1B C0            		ld		(px),a
    5704   00:60DC  3E 01               		ld		a,1
    5705   00:60DE  32 21 C6            		ld		(pantalla_activa),a
    5706   00:60E1                      		
    5707   00:60E1  3A 79 C6            		ld		a,(vision_estado)
    5708   00:60E4  B7                  		or		a
    5709   00:60E5  28 0C               		jr.		z,pinta_mando_de_luz_pantalla_1
    5710   00:60E7                      		
    5711   00:60E7  21 61 C0            		ld		hl,buffer_colisiones									;copia en vram para que lo vea el jugador
    5712   00:60EA  11 20 18            		ld		de,#1820
    5713   00:60ED  01 E0 02            		ld		bc,736
    5714   00:60F0  C3 5C 00            		jp		GRABAVRAM
    5715   00:60F3                      
    5716   00:60F3                      pinta_mando_de_luz_pantalla_1:
    5717   00:60F3                      
    5718   00:60F3  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    5719   00:60F6  FE 0A               		cp		10
    5720   00:60F8  28 05               		jr.		z,cosas_a_pintar_en_pantalla_10_1
    5721   00:60FA  FE 0B               		cp		11
    5722   00:60FC  28 29               		jr.		z,cosas_a_pintar_en_pantalla_11_1
    5723   00:60FE                      		
    5724   00:60FE  C9                  		ret	
    5725   00:60FF                      
    5726   00:60FF                      cosas_a_pintar_en_pantalla_10_1:
    5727   00:60FF                      		
    5728   00:60FF  CD 41 00            		call	DISSCR
    5729   00:6102                      		
    5730   00:6102  F3                  		di
    5731   00:6103  CD 16 A5            		call	setrompage0
    5732   00:6106                      				
    5733   00:6106  21 B0 AA            		ld		hl,paso_negro_izq
    5734   00:6109  11 20 18            		ld		de,#1820
    5735   00:610C  CD 4A 78            		call	depack_VRAM
    5736   00:610F                      			
    5737   00:610F  CD 1B A5            		call	recbios
    5738   00:6112  FB                  		ei
    5739   00:6113                      			
    5740   00:6113  3E 5D               		ld		a,93
    5741   00:6115  32 EE EE            		ld		[#eeee],a
    5742   00:6118  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    5743   00:611B  11 A1 1A            		ld		de,#1aa1
    5744   00:611E  01 01 00            		ld		bc,1
    5745   00:6121  CD 5C 00            		call	GRABAVRAM
    5746   00:6124                      		
    5747   00:6124  C3 44 00            		jp		ENASCR
    5748   00:6127                      
    5749   00:6127                      cosas_a_pintar_en_pantalla_11_1:
    5750   00:6127                      		
    5751   00:6127  CD 41 00            		call	DISSCR
    5752   00:612A                      		
    5753   00:612A  F3                  		di
    5754   00:612B  CD 16 A5            		call	setrompage0
    5755   00:612E                      			
    5756   00:612E  21 B0 AA            		ld		hl,paso_negro_izq
    5757   00:6131  11 20 18            		ld		de,#1820
    5758   00:6134  CD 4A 78            		call	depack_VRAM
    5759   00:6137                      				
    5760   00:6137  CD 1B A5            		call	recbios
    5761   00:613A  FB                  		ei
    5762   00:613B                      		
    5763   00:613B  3E 40               		ld		a,64
    5764   00:613D  32 EE EE            		ld		[#eeee],a
    5765   00:6140  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    5766   00:6143  11 41 1A            		ld		de,#1a41
    5767   00:6146  01 01 00            		ld		bc,1
    5768   00:6149  CD 5C 00            		call	GRABAVRAM
    5769   00:614C                      		
    5770   00:614C  C3 44 00            		jp		ENASCR
    5771   00:614F                      
    5772   00:614F                      pinta_mando_de_luz_pantalla_2:
    5773   00:614F                      
    5774   00:614F  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    5775   00:6152  FE 0A               		cp		10
    5776   00:6154  28 05               		jr.		z,cosas_a_pintar_en_pantalla_10_2
    5777   00:6156  FE 0B               		cp		11
    5778   00:6158  28 2A               		jr.		z,cosas_a_pintar_en_pantalla_11_2
    5779   00:615A                      		
    5780   00:615A  C9                  		ret
    5781   00:615B                      		
    5782   00:615B                      cosas_a_pintar_en_pantalla_10_2:
    5783   00:615B                      		
    5784   00:615B  CD 41 00            		call	DISSCR
    5785   00:615E                      		
    5786   00:615E  F3                  		di
    5787   00:615F  CD 16 A5            		call	setrompage0
    5788   00:6162                      		
    5789   00:6162                      		
    5790   00:6162  F3                  		di
    5791   00:6163  21 B0 AA            		ld		hl,paso_negro_izq
    5792   00:6166  11 20 18            		ld		de,#1820
    5793   00:6169  CD 4A 78            		call	depack_VRAM
    5794   00:616C                      		
    5795   00:616C                      				
    5796   00:616C  CD 1B A5            		call	recbios
    5797   00:616F  FB                  		ei
    5798   00:6170                      		
    5799   00:6170  3E 40               		ld		a,64
    5800   00:6172  32 EE EE            		ld		[#eeee],a
    5801   00:6175  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    5802   00:6178  11 A1 1A            		ld		de,#1aa1
    5803   00:617B  01 01 00            		ld		bc,1
    5804   00:617E  CD 5C 00            		call	GRABAVRAM
    5805   00:6181                      		
    5806   00:6181  C3 44 00            		jp		ENASCR
    5807   00:6184                      
    5808   00:6184                      cosas_a_pintar_en_pantalla_11_2:
    5809   00:6184                      		
    5810   00:6184  CD 41 00            		call	DISSCR
    5811   00:6187                      		
    5812   00:6187  F3                  		di
    5813   00:6188  CD 16 A5            		call	setrompage0
    5814   00:618B                      		
    5815   00:618B                      		
    5816   00:618B  F3                  		di
    5817   00:618C  21 B0 AA            		ld		hl,paso_negro_izq
    5818   00:618F  11 20 18            		ld		de,#1820
    5819   00:6192  CD 4A 78            		call	depack_VRAM
    5820   00:6195                      			
    5821   00:6195  CD 1B A5            		call	recbios
    5822   00:6198  FB                  		ei
    5823   00:6199                      		
    5824   00:6199  3E 5D               		ld		a,93
    5825   00:619B  32 EE EE            		ld		[#eeee],a
    5826   00:619E  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    5827   00:61A1  11 41 1A            		ld		de,#1a41
    5828   00:61A4  01 01 00            		ld		bc,1
    5829   00:61A7  CD 5C 00            		call	GRABAVRAM
    5830   00:61AA                      		
    5831   00:61AA  C3 44 00            		jp		ENASCR
    5832   00:61AD                      			
    5833   00:61AD                      mueve_derecha_prota:
    5834   00:61AD                      
    5835   00:61AD  AF                  		xor		a
    5836   00:61AE  32 27 C0            		ld		(dir_prota),a
    5837   00:61B1                      		
    5838   00:61B1  3A 1B C0            		ld		a,[px];													;controla_si_cambia_de_pantalla
    5839   00:61B4  C6 0C               		add		12
    5840   00:61B6  FE FF               		cp		255
    5841   00:61B8  D2 B5 60            		jr.		nc,a_pantalla_2
    5842   00:61BB                      
    5843   00:61BB  F5                  		push	af				
    5844   00:61BC                      
    5845   00:61BC  3A 1B C0            		ld		a,[px]													;colision lateral con solido
    5846   00:61BF  C6 0C               		add		12
    5847   00:61C1  57                  		ld		d,a
    5848   00:61C2  3A 1C C0            		ld		a,[py]
    5849   00:61C5  C6 0F               		add		15
    5850   00:61C7  5F                  		ld		e,a
    5851   00:61C8  CD C7 62            		call	get_bloque_en_X_Y
    5852   00:61CB  FE 20               		cp		32														;hasta el 31 son solidos
    5853   00:61CD  DA C1 62            		jr.		c,set_parado											;si es inferior, no hay acarreo 
    5854   00:61D0  FE 72               		cp		114														;se para ante las puertas de pinchos
    5855   00:61D2  CA C1 62            		jr.		z,set_parado
    5856   00:61D5  FE 74               		cp		116
    5857   00:61D7  CA C1 62            		jr.		z,set_parado
    5858   00:61DA                      				
    5859   00:61DA  CD 47 77            		call	doce_diez
    5860   00:61DD  CD C7 62            		call	get_bloque_en_X_Y
    5861   00:61E0  FE 71               		cp		113														;gira las puertas
    5862   00:61E2  CA FD 5F            		jr.		z,gira_puerta_derecha_amarilla
    5863   00:61E5  FE 73               		cp		115
    5864   00:61E7  CA 59 60            		jr.		z,gira_puerta_derecha_azul
    5865   00:61EA                      		
    5866   00:61EA  3E 01               		ld		a,1														;le da el valor 1 a la variable de estado prota
    5867   00:61EC  32 23 C0            		ld		(estado_prota),a
    5868   00:61EF                      				
    5869   00:61EF  3A 1B C0            		ld		a,(px)
    5870   00:61F2  3C                  		inc		a
    5871   00:61F3  32 1B C0            		ld		(px),a
    5872   00:61F6                      
    5873   00:61F6                      actualiza_el_paso:
    5874   00:61F6                      
    5875   00:61F6  3A 29 C0            		ld		a,(retard_anim)
    5876   00:61F9  3C                  		inc		a
    5877   00:61FA  FE 08               		cp		8
    5878   00:61FC  28 06               		jr		z,reset_retardo_y_cambia_paso
    5879   00:61FE  32 29 C0            		ld		(retard_anim),a
    5880   00:6201  C3 BB 62            		jr.		end
    5881   00:6204                      
    5882   00:6204                      reset_retardo_y_cambia_paso:
    5883   00:6204                      
    5884   00:6204  AF                  		xor		a
    5885   00:6205  32 29 C0            		ld		(retard_anim),a
    5886   00:6208  3A 28 C0            		ld		a,(paso)
    5887   00:620B  2F                  		cpl																;le da la vuelta a todos los bits
    5888   00:620C  E6 03               		and		00000011b												;pone 1 en los dos primero, con lo que lo convierte en un 3 (01=1 10=2 11=3)
    5889   00:620E  32 28 C0            		ld		(paso),a
    5890   00:6211  C3 BB 62            		jr.		end
    5891   00:6214                      		
    5892   00:6214                      
    5893   00:6214                      
    5894   00:6214                      actualiza_atributos_sprite:
    5895   00:6214                      		
    5896   00:6214  DD 21 2A C0         		ld		ix,atributos_sprite_general
    5897   00:6218                      		
    5898   00:6218  3A 1C C0            		ld		a,(py)													;valor y**
    5899   00:621B  DD 77 00            		ld		(ix),a
    5900   00:621E  C6 09               		add		a,9														;aquí controlamos la posicion de los sprites que se catrapean
    5901   00:6220  DD 77 04            		ld		(ix+4),a
    5902   00:6223  D6 10               		sub		a,16
    5903   00:6225  DD 77 08            		ld		(ix+8),a
    5904   00:6228                      		
    5905   00:6228  3A 1B C0            		ld		a,(px)													;valor x**
    5906   00:622B  CD 32 78            		call	UNO_CINCO_NUEVE
    5907   00:622E                      			
    5908   00:622E  3A 23 C0            		ld		a,(estado_prota)
    5909   00:6231  FE 04               		cp		4
    5910   00:6233  CA B7 62            		jr.		z,esta_subiendo_o_bajando_para_el_patron
    5911   00:6236                      
    5912   00:6236  3A 23 C0            		ld		a,(estado_prota)
    5913   00:6239  FE 02               		cp		2
    5914   00:623B  28 75               		jr.		z,esta_cayendo_para_el_patron
    5915   00:623D                      				
    5916   00:623D  CD BB 77            		call	ocho_uno
    5917   00:6240  CD C7 62            		call	get_bloque_en_X_Y
    5918   00:6243  FE 29               		cp		41
    5919   00:6245  28 70               		jr.		z,esta_subiendo_o_bajando_para_el_patron
    5920   00:6247                      		
    5921   00:6247  3A 23 C0            		ld		a,(estado_prota)
    5922   00:624A  FE 03               		cp		3
    5923   00:624C  28 64               		jr.		z,esta_cayendo_para_el_patron
    5924   00:624E                      		
    5925   00:624E  3A 27 C0            		ld		a,(dir_prota)											;valor de la direccion
    5926   00:6251  B7                  		or		a
    5927   00:6252  20 17               		jr		nz,mirando_izquierda
    5928   00:6254                      		
    5929   00:6254  3A 64 C6            		ld		a,(momento_lanzamiento)									;mira si está lanzando
    5930   00:6257  FE 01               		cp		1
    5931   00:6259  28 08               		jr.		z,lanza_derecha_1
    5932   00:625B  FE 02               		cp		2
    5933   00:625D  28 08               		jr.		z,lanza_derecha_2
    5934   00:625F                      		
    5935   00:625F  06 00               		ld		b,0*4													;mirando derecha
    5936   00:6261  18 1F               		jr		mirar_paso
    5937   00:6263                      
    5938   00:6263                      lanza_derecha_1:
    5939   00:6263                      		
    5940   00:6263  3E 84               		ld		a,33*4													;mirando derecha pose 1 de lanzamiento
    5941   00:6265  18 32               		jr.		ultimos_valores
    5942   00:6267                      		
    5943   00:6267                      lanza_derecha_2:
    5944   00:6267                      		
    5945   00:6267  3E 90               		ld		a,36*4													;mirando derecha pose 2 de lanzamiento
    5946   00:6269  18 2E               		jr.		ultimos_valores
    5947   00:626B                      		
    5948   00:626B                      mirando_izquierda:
    5949   00:626B                      
    5950   00:626B  3A 64 C6            		ld		a,(momento_lanzamiento)
    5951   00:626E  FE 01               		cp		1
    5952   00:6270  28 08               		jr.		z,lanza_izquierda_1
    5953   00:6272  FE 02               		cp		2
    5954   00:6274  28 08               		jr.		z,lanza_izquierda_2
    5955   00:6276                      		
    5956   00:6276  06 18               		ld		b,6*4													;mirando izquierda
    5957   00:6278  18 08               		jr.		mirar_paso
    5958   00:627A                      		
    5959   00:627A                      lanza_izquierda_1:
    5960   00:627A                      
    5961   00:627A  3E 9C               		ld		a,39*4													;mirando izquierda pose 1 de lanzamiento
    5962   00:627C  18 1B               		jr.		ultimos_valores
    5963   00:627E                      		
    5964   00:627E                      lanza_izquierda_2:
    5965   00:627E                      
    5966   00:627E  3E A8               		ld		a,42*4													;mirando izquierda pose 2 de lanzamiento
    5967   00:6280  18 17               		jr.		ultimos_valores
    5968   00:6282                      		
    5969   00:6282                      mirar_paso:
    5970   00:6282                      		
    5971   00:6282  3A 22 C6            		ld		a,(estado_de_salto)										;paso abierto si esta saltando
    5972   00:6285  B7                  		or		a
    5973   00:6286  28 09               		jr.		z,todo_va_bien
    5974   00:6288                      		
    5975   00:6288  3E 03               		ld		a,3
    5976   00:628A  CB 27 CB 27         [2]		sla		a
    5977   00:628E  80                  		add		a,b
    5978   00:628F                      		
    5979   00:628F  18 08               		jr.		ultimos_valores
    5980   00:6291                      		
    5981   00:6291                      todo_va_bien:		
    5982   00:6291  3A 28 C0            		ld		a,(paso)
    5983   00:6294  CB 27 CB 27         [2]		sla		a														;multiplica x2 2 veces
    5984   00:6298  80                  		add		a,b														;le damos el patron definitivo
    5985   00:6299                      
    5986   00:6299                      ultimos_valores:
    5987   00:6299                      		
    5988   00:6299  DD 21 2A C0         		ld		ix,atributos_sprite_general
    5989   00:629D                      		
    5990   00:629D  CD 3C 78            		call	DOS_SEIS_DIEZ
    5991   00:62A0                      		
    5992   00:62A0  3A 20 C0            		ld		a,(color_lineas_prota)									;valor color**
    5993   00:62A3  DD 77 03            		ld		(ix+3),a
    5994   00:62A6  3A 1F C0            		ld		a,(color_prota)
    5995   00:62A9  DD 77 07            		ld		(ix+7),a
    5996   00:62AC  3E 09               		ld		a,9
    5997   00:62AE  DD 77 0B            		ld		(ix+11),a
    5998   00:62B1                      		
    5999   00:62B1  C9                  		ret
    6000   00:62B2                      
    6001   00:62B2                      esta_cayendo_para_el_patron:
    6002   00:62B2                      
    6003   00:62B2  06 48               		ld		b,18*4
    6004   00:62B4  78                  		ld		a,b
    6005   00:62B5  18 E2               		jr.		ultimos_valores
    6006   00:62B7                      		
    6007   00:62B7                      esta_subiendo_o_bajando_para_el_patron:	
    6008   00:62B7                      
    6009   00:62B7  06 30               		ld		b,12*4
    6010   00:62B9  18 C7               		jr.		mirar_paso
    6011   00:62BB                      		
    6012   00:62BB                      end:
    6013   00:62BB                      
    6014   00:62BB  AF                  		xor		a
    6015   00:62BC  32 24 C0            		ld		[prev_dir_prota],a
    6016   00:62BF                      		
    6017   00:62BF  F1                  		pop		af
    6018   00:62C0  C9                  		ret
    6019   00:62C1                      		
    6020   00:62C1                      set_parado:
    6021   00:62C1                      
    6022   00:62C1  AF                  		xor		a
    6023   00:62C2  32 23 C0            		ld		[estado_prota],a
    6024   00:62C5  18 F4               		jr.		end
    6025   00:62C7                      
    6026   00:62C7                      get_bloque_en_X_Y:
    6027   00:62C7                      																		;				(y/8)*32+(x/8)
    6028   00:62C7  7B                  		ld		a,e														;a=y
    6029   00:62C8  CB 3F CB 3F CB 3F   [3]		srl		a														;a=y/8
    6030   00:62CE  26 00               		ld		h,0
    6031   00:62D0  6F                  		ld		l,a														;hl=y/8
    6032   00:62D1  29 29 29 29 29      [5]		add		hl,hl													;*32			a=(y/8)*32
    6033   00:62D6                      		
    6034   00:62D6  7A                  		ld		a,d														;a=x
    6035   00:62D7  CB 3F CB 3F CB 3F   [3]		srl		a														;a=x/8
    6036   00:62DD  16 00               		ld		d,0
    6037   00:62DF  5F                  		ld		e,a														;de=x/8
    6038   00:62E0  19                  		add		hl,de													;hl=(y/8)*32+(x/8)
    6039   00:62E1                      
    6040   00:62E1  3A 21 C6            		ld		a,(pantalla_activa)
    6041   00:62E4  FE 01               		cp		1
    6042   00:62E6  20 05               		jr.		nz,cargando_pantalla_2
    6043   00:62E8                      		
    6044   00:62E8  11 61 C0            		ld		de,buffer_colisiones
    6045   00:62EB  18 03               		jr.		get_bloque_en_X_Y_continua
    6046   00:62ED                      
    6047   00:62ED                      cargando_pantalla_2:
    6048   00:62ED                      
    6049   00:62ED  11 41 C3            		ld		de,buffer_colisiones_2
    6050   00:62F0                      		
    6051   00:62F0                      get_bloque_en_X_Y_continua:
    6052   00:62F0                      
    6053   00:62F0  19                  		add		hl,de													;hl=buffer_colisiones + (y/8)*32+(x/8)
    6054   00:62F1  01 20 00            		ld		bc,32
    6055   00:62F4  ED 42               		sbc		hl,bc		
    6056   00:62F6  7E                  		ld		a,[hl]
    6057   00:62F7                      				
    6058   00:62F7  C9                  		ret
    6059   00:62F8                      
    6060   00:62F8                      get_bloque_en_X_Y_paravram:
    6061   00:62F8                      
    6062   00:62F8  7B                  		ld		a,e														;a=y
    6063   00:62F9  CB 3F CB 3F CB 3F   [3]		srl		a														;a=y/8
    6064   00:62FF  26 00               		ld		h,0
    6065   00:6301  6F                  		ld		l,a														;hl=y/8
    6066   00:6302  29 29 29 29 29      [5]		add		hl,hl													;*32			a=(y/8)*32
    6067   00:6307                      		
    6068   00:6307  7A                  		ld		a,d														;a=x
    6069   00:6308  CB 3F CB 3F CB 3F   [3]		srl		a														;a=x/8
    6070   00:630E  16 00               		ld		d,0
    6071   00:6310  5F                  		ld		e,a														;de=x/8
    6072   00:6311  19                  		add		hl,de													;hl=(y/8)*32+(x/8)
    6073   00:6312                      		
    6074   00:6312  C9                  		ret
    6075   00:6313                      		
    6076   00:6313                      pone_estado_prota_a_0:
    6077   00:6313                      
    6078   00:6313  AF                  		xor		a
    6079   00:6314  32 23 C0            		ld		(estado_prota),a
    6080   00:6317                      		
    6081   00:6317                      pose_si_esta_parado:
    6082   00:6317  CD FD 76            		call	cero_cero
    6083   00:631A  CD C7 62            		call	get_bloque_en_X_Y
    6084   00:631D  FE 29               		cp		41
    6085   00:631F  28 0A               		jr.		z,esta_en_escalera
    6086   00:6321                      		
    6087   00:6321  3A 23 C0            		ld		a,(estado_prota)
    6088   00:6324  B7                  		or		a
    6089   00:6325  C0                  		ret		nz
    6090   00:6326                      		
    6091   00:6326  AF                  		xor		a
    6092   00:6327  32 28 C0            		ld		(paso),a
    6093   00:632A                      
    6094   00:632A  C9                  		ret
    6095   00:632B                      		
    6096   00:632B                      esta_en_escalera:
    6097   00:632B                      		
    6098   00:632B  3E 04               		ld		a,4
    6099   00:632D  32 23 C0            		ld		(estado_prota),a
    6100   00:6330  C9                  		ret
    6101   00:6331                      			
    6102   00:6331                      usa_objeto_o_salta:
    6103   00:6331                      		
    6104   00:6331  3A 62 C6            		ld		a,(cont_no_salta_dos_seguidas)							;evita que se pulse el salto durante el salto
    6105   00:6334  B7                  		or		a
    6106   00:6335  20 4A               		jr.		nz,(reduce_el_contador_de_salto)
    6107   00:6337                      		
    6108   00:6337                      		
    6109   00:6337                      		
    6110   00:6337  3A 22 C6            		ld		a,(estado_de_salto)										;evita el string si ya está saltando
    6111   00:633A  B7                  		or		a
    6112   00:633B  C0                  		ret		nz
    6113   00:633C                      		
    6114   00:633C  3A 5F C0            		ld		a,(estado_de_explosion)									;evita el string si hay una explosion
    6115   00:633F  B7                  		or		a
    6116   00:6340  C0                  		ret		nz
    6117   00:6341                      		
    6118   00:6341  3A 64 C6            		ld		a,(momento_lanzamiento)									;evita el string si está lanzando
    6119   00:6344  FE 01               		cp		1
    6120   00:6346  C8                  		ret		z
    6121   00:6347  FE 02               		cp		2
    6122   00:6349  C8                  		ret		z
    6123   00:634A                      		
    6124   00:634A  3A 5A C0            		ld		a,(tiene_objeto)										;si lleva el cuchillo le permitirá tirarlo en puerta o escalera (saltamos las dos siguientes prohibiciones)
    6125   00:634D  FE 02               		cp		2
    6126   00:634F  28 1E               		jr.		z,sigue_comprobando
    6127   00:6351                      				
    6128   00:6351  3A 23 C0            		ld		a,(estado_prota)										;Evita string si está en escaleras
    6129   00:6354  FE 04               		cp		4
    6130   00:6356  C8                  		ret		z
    6131   00:6357                      
    6132   00:6357  CD E0 76            		call	dos_diez												;evita que salte si está en escalera
    6133   00:635A  CD C7 62            		call	get_bloque_en_X_Y
    6134   00:635D  FE 29               		cp		41
    6135   00:635F  C8                  		ret		z
    6136   00:6360  FE 29               		cp		41
    6137   00:6362  C8                  		ret		z
    6138   00:6363  FE 69               		cp		105
    6139   00:6365  C8                  		ret		z
    6140   00:6366  FE 6A               		cp		106
    6141   00:6368  C8                  		ret		z
    6142   00:6369  FE 65               		cp		101
    6143   00:636B  C8                  		ret		z
    6144   00:636C  FE 67               		cp		103
    6145   00:636E  C8                  		ret		z
    6146   00:636F                      		
    6147   00:636F                      sigue_comprobando:	
    6148   00:636F                      			
    6149   00:636F  AF                  		xor		a
    6150   00:6370  CD D8 00            		call	ONSTRIG
    6151   00:6373  FE FF               		cp		#FF
    6152   00:6375  28 0F               		jr.		z,decide_si_usa_o_salta
    6153   00:6377                      		
    6154   00:6377  3E 01               		ld		a,1
    6155   00:6379  CD D8 00            		call	ONSTRIG
    6156   00:637C  FE FF               		cp		#FF
    6157   00:637E  28 06               		jr.		z,decide_si_usa_o_salta
    6158   00:6380                      				
    6159   00:6380  C9                  		ret
    6160   00:6381                      
    6161   00:6381                      reduce_el_contador_de_salto:
    6162   00:6381                      
    6163   00:6381  3D                  		dec		a
    6164   00:6382  32 62 C6            		ld		(cont_no_salta_dos_seguidas),a
    6165   00:6385  C9                  		ret
    6166   00:6386                      		
    6167   00:6386                      decide_si_usa_o_salta:
    6168   00:6386                      
    6169   00:6386  3A 5A C0            		ld		a,(tiene_objeto)
    6170   00:6389  FE 01               		cp		1
    6171   00:638B  CA 66 69            		jr.		z,usa_bomba
    6172   00:638E  FE 02               		cp		2
    6173   00:6390  CA 8A 6A            		jr.		z,usa_cuchillo
    6174   00:6393                      		
    6175   00:6393  3A 1B C0            		ld		a,[px]													;no salta si tiene techo (para evitar volar)
    6176   00:6396  57                  		ld		d,a
    6177   00:6397  3A 1C C0            		ld		a,[py]
    6178   00:639A  D6 02               		sub		a,2
    6179   00:639C  5F                  		ld		e,a
    6180   00:639D  CD C7 62            		call	get_bloque_en_X_Y
    6181   00:63A0  FE 1F               		cp		31
    6182   00:63A2  D8                  		ret		c
    6183   00:63A3                      		
    6184   00:63A3  3A 1B C0            		ld		a,[px]
    6185   00:63A6  C6 06               		add		6														;no salta si esta en una escalera
    6186   00:63A8  57                  		ld		d,a
    6187   00:63A9  3A 1C C0            		ld		a,[py]
    6188   00:63AC  C6 02               		add		2
    6189   00:63AE  5F                  		ld		e,a
    6190   00:63AF  CD C7 62            		call	get_bloque_en_X_Y
    6191   00:63B2  FE 29               		cp		41
    6192   00:63B4  C8                  		ret		z
    6193   00:63B5  FE A9               		cp		169
    6194   00:63B7  C8                  		ret		z
    6195   00:63B8  FE AA               		cp		170
    6196   00:63BA  C8                  		ret		z
    6197   00:63BB  FE AB               		cp		171
    6198   00:63BD  C8                  		ret		z
    6199   00:63BE  FE AC               		cp		172
    6200   00:63C0  C8                  		ret		z
    6201   00:63C1                      
    6202   00:63C1  CD E0 76            		call	dos_diez												
    6203   00:63C4  CD C7 62            		call	get_bloque_en_X_Y
    6204   00:63C7  FE 23               		cp		35														;evita que salte si está ante la puerta
    6205   00:63C9  C8                  		ret		z
    6206   00:63CA  FE 24               		cp		36
    6207   00:63CC  C8                  		ret		z
    6208   00:63CD  FE 2F               		cp		47
    6209   00:63CF  C8                  		ret		z
    6210   00:63D0  FE 30               		cp		48
    6211   00:63D2  C8                  		ret		z	
    6212   00:63D3                      
    6213   00:63D3  CD FD 76            		call	cero_cero
    6214   00:63D6  CD C7 62            		call	get_bloque_en_X_Y
    6215   00:63D9  FE 21               		cp		33														;si esta en la salida revisamos si sale
    6216   00:63DB  CC E8 63            		call	z,fase_superada
    6217   00:63DE                      				
    6218   00:63DE  3A 23 C0            		ld		a,(estado_prota)										;si esta callendo, no salta
    6219   00:63E1  FE 03               		cp		3
    6220   00:63E3  C8                  		ret		z
    6221   00:63E4                      				
    6222   00:63E4  C3 8D 6F            		jr.		ha_saltado
    6223   00:63E7                      		
    6224   00:63E7  C9                  		ret
    6225   00:63E8                      
    6226   00:63E8                      fase_superada:
    6227   00:63E8                      
    6228   00:63E8  3A 23 C6            		ld		a,(mechero)
    6229   00:63EB  B7                  		or		a
    6230   00:63EC  C8                  		ret		z
    6231   00:63ED                      		
    6232   00:63ED  3A 24 C6            		ld		a,(gasolina)
    6233   00:63F0  B7                  		or		a
    6234   00:63F1  C8                  		ret		z
    6235   00:63F2                      		
    6236   00:63F2  3A 1F C0            		ld		a,(color_prota)
    6237   00:63F5  FE 07               		cp		7
    6238   00:63F7  C8                  		ret		z
    6239   00:63F8                      		
    6240   00:63F8  3E 01               		ld		a,1
    6241   00:63FA  32 63 C6            		ld		(pasamos_la_fase),a
    6242   00:63FD                      		
    6243   00:63FD  C9                  		ret
    6244   00:63FE                      
    6245   00:63FE                      apaga_los_chorros:
    6246   00:63FE                      	
    6247   00:63FE  CD F0 77            		call	uno_menos_cuatro
    6248   00:6401  CD C7 62            		call	get_bloque_en_X_Y
    6249   00:6404                      		
    6250   00:6404  FE 59               		cp		89
    6251   00:6406  28 68               		jr.		z,quita_encima_tuyo
    6252   00:6408                      	
    6253   00:6408  CD E8 76            		call 	menos_dos_diez
    6254   00:640B  CD C7 62            		call	get_bloque_en_X_Y
    6255   00:640E                      		
    6256   00:640E  FE 59               		cp		89
    6257   00:6410  CA AC 64            		jr.		z,quita_a_tu_izquierda
    6258   00:6413                      		
    6259   00:6413  CD 2A 77            		call	menos_dos_dieciocho
    6260   00:6416  CD C7 62            		call	get_bloque_en_X_Y	
    6261   00:6419                      		
    6262   00:6419  FE 59               		cp		89
    6263   00:641B  CA 36 65            		jr.		z,quita_a_tu_izquierda_2
    6264   00:641E                      			
    6265   00:641E  CD 37 77            		call	catorce_diez
    6266   00:6421  CD C7 62            		call	get_bloque_en_X_Y
    6267   00:6424                      		
    6268   00:6424  FE 59               		cp		89
    6269   00:6426  28 0C               		jr.		z,quita_a_tu_derecha
    6270   00:6428                      		
    6271   00:6428  CD 57 77            		call	catorce_dieciocho
    6272   00:642B  CD C7 62            		call	get_bloque_en_X_Y
    6273   00:642E                      		
    6274   00:642E  FE 59               		cp		89
    6275   00:6430  CA E8 64            		jr.		z,quita_a_tu_derecha_2
    6276   00:6433                      		
    6277   00:6433  C9                  		ret
    6278   00:6434                      			
    6279   00:6434                      quita_a_tu_derecha:
    6280   00:6434                      
    6281   00:6434  CD D3 76            		call	seis_diez
    6282   00:6437  CD C7 62            		call	get_bloque_en_X_Y
    6283   00:643A  3E 20               		ld		a,32
    6284   00:643C  77                  		ld		[hl],a
    6285   00:643D                      		
    6286   00:643D  CD 37 77            		call	catorce_diez
    6287   00:6440  CD C7 62            		call	get_bloque_en_X_Y
    6288   00:6443  3E 56               		ld		a,86
    6289   00:6445  77                  		ld		[hl],a
    6290   00:6446                      		
    6291   00:6446  CD 69 77            		call	veintidos_diez
    6292   00:6449  CD C7 62            		call	get_bloque_en_X_Y
    6293   00:644C  3E 20               		ld		a,32
    6294   00:644E  77                  		ld		[hl],a
    6295   00:644F                      								
    6296   00:644F  CD D3 76            		call	seis_diez
    6297   00:6452  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6298   00:6455                      		
    6299   00:6455  3E 20               		ld		a,32
    6300   00:6457  CD 12 78            		call	pinta_en_pantalla
    6301   00:645A                      		
    6302   00:645A  CD 37 77            		call	catorce_diez
    6303   00:645D  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6304   00:6460                      		
    6305   00:6460  3E 56               		ld		a,86
    6306   00:6462  CD 12 78            		call	pinta_en_pantalla
    6307   00:6465                      		
    6308   00:6465  CD 69 77            		call	veintidos_diez
    6309   00:6468  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6310   00:646B                      		
    6311   00:646B  3E 20               		ld		a,32
    6312   00:646D  C3 12 78            		jp		pinta_en_pantalla
    6313   00:6470                      		
    6314   00:6470                      quita_encima_tuyo:
    6315   00:6470                      		
    6316   00:6470  CD E0 77            		call	menos_dos_menos_cuatro
    6317   00:6473  CD C7 62            		call	get_bloque_en_X_Y
    6318   00:6476  3E 20               		ld		a,32
    6319   00:6478  77                  		ld		[hl],a
    6320   00:6479                      		
    6321   00:6479  CD F0 77            		call	uno_menos_cuatro
    6322   00:647C  CD C7 62            		call	get_bloque_en_X_Y
    6323   00:647F  3E 56               		ld		a,86
    6324   00:6481  77                  		ld		[hl],a
    6325   00:6482                      		
    6326   00:6482  CD E8 77            		call	nueve_menos_cuatro
    6327   00:6485  CD C7 62            		call	get_bloque_en_X_Y
    6328   00:6488  3E 20               		ld		a,32
    6329   00:648A  77                  		ld		[hl],a
    6330   00:648B                      								
    6331   00:648B  CD E0 77            		call	menos_dos_menos_cuatro
    6332   00:648E  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6333   00:6491                      		
    6334   00:6491  3E 20               		ld		a,32
    6335   00:6493  CD 12 78            		call	pinta_en_pantalla
    6336   00:6496                      		
    6337   00:6496  CD F0 77            		call	uno_menos_cuatro
    6338   00:6499  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6339   00:649C                      		
    6340   00:649C  3E 56               		ld		a,86
    6341   00:649E  CD 12 78            		call	pinta_en_pantalla
    6342   00:64A1                      		
    6343   00:64A1  CD E8 77            		call	nueve_menos_cuatro
    6344   00:64A4  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6345   00:64A7                      		
    6346   00:64A7  3E 20               		ld		a,32
    6347   00:64A9  C3 12 78            		jp		pinta_en_pantalla
    6348   00:64AC                      		
    6349   00:64AC                      quita_a_tu_izquierda:
    6350   00:64AC                      		
    6351   00:64AC  CD D3 76            		call	seis_diez
    6352   00:64AF  CD C7 62            		call	get_bloque_en_X_Y
    6353   00:64B2  3E 20               		ld		a,32
    6354   00:64B4  77                  		ld		[hl],a
    6355   00:64B5                      		
    6356   00:64B5  CD E8 76            		call	menos_dos_diez
    6357   00:64B8  CD C7 62            		call	get_bloque_en_X_Y
    6358   00:64BB  3E 56               		ld		a,86
    6359   00:64BD  77                  		ld		[hl],a
    6360   00:64BE                      		
    6361   00:64BE  CD 72 77            		call	menos_diez_diez
    6362   00:64C1  CD C7 62            		call	get_bloque_en_X_Y
    6363   00:64C4  3E 20               		ld		a,32
    6364   00:64C6  77                  		ld		[hl],a
    6365   00:64C7                      								
    6366   00:64C7  CD D3 76            		call	seis_diez
    6367   00:64CA  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6368   00:64CD                      		
    6369   00:64CD  3E 20               		ld		a,32
    6370   00:64CF  CD 12 78            		call	pinta_en_pantalla
    6371   00:64D2                      		
    6372   00:64D2  CD E8 76            		call	menos_dos_diez
    6373   00:64D5  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6374   00:64D8                      		
    6375   00:64D8  3E 56               		ld		a,86
    6376   00:64DA  CD 12 78            		call	pinta_en_pantalla
    6377   00:64DD                      		
    6378   00:64DD  CD 72 77            		call	menos_diez_diez
    6379   00:64E0  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6380   00:64E3                      		
    6381   00:64E3  3E 20               		ld		a,32
    6382   00:64E5  C3 12 78            		jp		pinta_en_pantalla
    6383   00:64E8                      		
    6384   00:64E8                      quita_a_tu_derecha_2:
    6385   00:64E8                      
    6386   00:64E8  CD 7B 77            		call	seis_dieciocho
    6387   00:64EB  CD C7 62            		call	get_bloque_en_X_Y
    6388   00:64EE  3E 20               		ld		a,32
    6389   00:64F0  77                  		ld		[hl],a
    6390   00:64F1                      		
    6391   00:64F1  CD 57 77            		call	catorce_dieciocho
    6392   00:64F4  CD C7 62            		call	get_bloque_en_X_Y
    6393   00:64F7  3E 56               		ld		a,86
    6394   00:64F9  77                  		ld		[hl],a
    6395   00:64FA                      		
    6396   00:64FA  3A 1B C0            		ld		a,[px]					;borra en buffer_colisiones el chorro						
    6397   00:64FD  C6 14               		add		20
    6398   00:64FF  57                  		ld		d,a
    6399   00:6500  3A 1C C0            		ld		a,[py]
    6400   00:6503  C6 12               		add		18
    6401   00:6505  5F                  		ld		e,a
    6402   00:6506  CD C7 62            		call	get_bloque_en_X_Y
    6403   00:6509  3E 20               		ld		a,32
    6404   00:650B  77                  		ld		[hl],a
    6405   00:650C                      								
    6406   00:650C  CD 7B 77            		call	seis_dieciocho
    6407   00:650F  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6408   00:6512                      		
    6409   00:6512  3E 20               		ld		a,32
    6410   00:6514  CD 12 78            		call	pinta_en_pantalla
    6411   00:6517                      		
    6412   00:6517  CD 57 77            		call	catorce_dieciocho
    6413   00:651A  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6414   00:651D                      		
    6415   00:651D  3E 56               		ld		a,86
    6416   00:651F  CD 12 78            		call	pinta_en_pantalla
    6417   00:6522                      		
    6418   00:6522  3A 1B C0            		ld		a,[px]
    6419   00:6525  C6 16               		add		22
    6420   00:6527  57                  		ld		d,a
    6421   00:6528  3A 1C C0            		ld		a,[py]
    6422   00:652B  C6 12               		add		18
    6423   00:652D  5F                  		ld		e,a
    6424   00:652E  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6425   00:6531                      		
    6426   00:6531  3E 20               		ld		a,32
    6427   00:6533  C3 12 78            		jp		pinta_en_pantalla
    6428   00:6536                      
    6429   00:6536                      quita_a_tu_izquierda_2:
    6430   00:6536                      		
    6431   00:6536  CD 7B 77            		call	seis_dieciocho
    6432   00:6539  CD C7 62            		call	get_bloque_en_X_Y
    6433   00:653C  3E 20               		ld		a,32
    6434   00:653E  77                  		ld		[hl],a
    6435   00:653F                      		
    6436   00:653F  CD 2A 77            		call	menos_dos_dieciocho
    6437   00:6542  CD C7 62            		call	get_bloque_en_X_Y
    6438   00:6545  3E 56               		ld		a,86
    6439   00:6547  77                  		ld		[hl],a
    6440   00:6548                      		
    6441   00:6548  CD 83 77            		call	menos_diez_dieciocho
    6442   00:654B  CD C7 62            		call	get_bloque_en_X_Y
    6443   00:654E  3E 20               		ld		a,32
    6444   00:6550  77                  		ld		[hl],a
    6445   00:6551                      								
    6446   00:6551  CD 7B 77            		call	seis_dieciocho
    6447   00:6554  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6448   00:6557                      		
    6449   00:6557  3E 20               		ld		a,32
    6450   00:6559  CD 12 78            		call	pinta_en_pantalla
    6451   00:655C                      		
    6452   00:655C  CD 2A 77            		call	menos_dos_dieciocho
    6453   00:655F  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6454   00:6562                      		
    6455   00:6562  3E 56               		ld		a,86
    6456   00:6564  CD 12 78            		call	pinta_en_pantalla
    6457   00:6567                      		
    6458   00:6567  CD 83 77            		call	menos_diez_dieciocho
    6459   00:656A  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6460   00:656D                      		
    6461   00:656D  3E 20               		ld		a,32
    6462   00:656F  C3 12 78            		jp		pinta_en_pantalla
    6463   00:6572                      
    6464   00:6572                      coge_algun_objeto:
    6465   00:6572                      		
    6466   00:6572  CD F0 76            		call	seis_dos
    6467   00:6575  CD C7 62            		call	get_bloque_en_X_Y
    6468   00:6578                      		
    6469   00:6578  FE 5D               		cp		93														;si toca el interruptor, se da la luz
    6470   00:657A  CA 7F 68            		jr.		z,damos_la_luz
    6471   00:657D                      				
    6472   00:657D  3A 79 C6            		ld		a,(vision_estado)										;si está oscuro, no podrá coger nada más
    6473   00:6580  B7                  		or		a
    6474   00:6581  C8                  		ret		z
    6475   00:6582                      		
    6476   00:6582  CD D3 76            		call	seis_diez
    6477   00:6585                      
    6478   00:6585  CD C7 62            		call	get_bloque_en_X_Y
    6479   00:6588                      		
    6480   00:6588                      ;		cp		168														;si toca pinchos muere
    6481   00:6588                      ;		jr.		z,muy_mojado_fin_partida
    6482   00:6588                      
    6483   00:6588  FE 62               		cp		98
    6484   00:658A  CA 2E 68            		jr.		z,coge_mechero_por_derecha
    6485   00:658D                      		
    6486   00:658D  FE 61               		cp		97
    6487   00:658F  CA B9 68            		jr.		z,coge_gasolina_por_izquierda
    6488   00:6592                      
    6489   00:6592  FE 57               		cp		87
    6490   00:6594  CA 03 68            		jr.		z,cierra_grifo
    6491   00:6597                      		
    6492   00:6597  FE 6B               		cp		107
    6493   00:6599  CA A4 67            		jr.		z,coge_toalla
    6494   00:659C                      		
    6495   00:659C  FE BB               		cp		187
    6496   00:659E  CA D5 67            		jr.		z,vida_extra
    6497   00:65A1                      						
    6498   00:65A1  FE 56               		cp		86
    6499   00:65A3  CA 09 67            		jr.		z,activa_chorro_1
    6500   00:65A6                      						
    6501   00:65A6  FE 50               		cp		80
    6502   00:65A8  CA EB 66            		jr.		z,activa_escalera_extra
    6503   00:65AB                      		
    6504   00:65AB  FE B3               		cp		179
    6505   00:65AD  CA 6D 66            		jr.		z,cierra_los_grifos_de_balsa
    6506   00:65B0                      		
    6507   00:65B0  FE B1               		cp		177
    6508   00:65B2  28 58               		jr.		z,quitamos_el_tapon
    6509   00:65B4                      		
    6510   00:65B4  CD 3F 77            		call	diez_diez
    6511   00:65B7  CD C7 62            		call	get_bloque_en_X_Y
    6512   00:65BA                      		
    6513   00:65BA  FE A8               		cp		168														;si toca pinchos muere
    6514   00:65BC  CA 78 5A            		jr.		z,muy_mojado_fin_partida
    6515   00:65BF                      		
    6516   00:65BF  CD 7B 77            		call	seis_dieciocho
    6517   00:65C2  CD C7 62            		call	get_bloque_en_X_Y
    6518   00:65C5  FE 56               		cp		86
    6519   00:65C7  CA 51 67            		jr.		z,activa_chorro_2
    6520   00:65CA                      		
    6521   00:65CA  CD F0 76            		call	seis_dos
    6522   00:65CD  CD C7 62            		call	get_bloque_en_X_Y
    6523   00:65D0                      		
    6524   00:65D0  FE AE               		cp		174
    6525   00:65D2  CA 78 5A            		jr.		z,muy_mojado_fin_partida
    6526   00:65D5                      		
    6527   00:65D5  CD D3 76            		call	seis_diez
    6528   00:65D8  CD C7 62            		call	get_bloque_en_X_Y
    6529   00:65DB                      		
    6530   00:65DB  FE AE               		cp		174
    6531   00:65DD  CA 99 67            		jr.		z,moja_prota
    6532   00:65E0                      					
    6533   00:65E0  CD 7B 77            		call	seis_dieciocho
    6534   00:65E3  CD C7 62            		call	get_bloque_en_X_Y
    6535   00:65E6                      				
    6536   00:65E6  3A 5A C0            		ld		a,(tiene_objeto)
    6537   00:65E9  B7                  		or		a
    6538   00:65EA  C0                  		ret		nz
    6539   00:65EB                      		
    6540   00:65EB  CD D3 76            		call	seis_diez
    6541   00:65EE  CD C7 62            		call	get_bloque_en_X_Y
    6542   00:65F1                      		
    6543   00:65F1  FE 63               		cp		99
    6544   00:65F3  CA F9 68            		jr.		z,coge_la_bomba
    6545   00:65F6                      		
    6546   00:65F6  FE 60               		cp		96
    6547   00:65F8  CA 30 69            		jr.		z,coge_cuchillo
    6548   00:65FB                      		
    6549   00:65FB  CD 37 77            		call	catorce_diez
    6550   00:65FE  CD C7 62            		call	get_bloque_en_X_Y
    6551   00:6601  FE 62               		cp		98
    6552   00:6603  CA 2E 68            		jr.		z,coge_mechero_por_derecha
    6553   00:6606                      		
    6554   00:6606  FE 61               		cp		97
    6555   00:6608  CA A3 68            		jr.		z,coge_gasolina_por_derecha
    6556   00:660B                      				
    6557   00:660B  C9                  		ret
    6558   00:660C                      		
    6559   00:660C                      quitamos_el_tapon:
    6560   00:660C                      
    6561   00:660C  3A 8F C6            		ld		a,(grifos_balsa_cerrados)
    6562   00:660F  FE 01               		cp		1
    6563   00:6611  C8                  		ret		z
    6564   00:6612                      		
    6565   00:6612  3A 93 C6            		ld		a,(balsa_bacia)
    6566   00:6615  B7                  		or		a
    6567   00:6616  C8                  		ret		z
    6568   00:6617                      		
    6569   00:6617  3A 96 C6            		ld		a,(pantalla_balsa)
    6570   00:661A  FE 01               		cp		1
    6571   00:661C  20 09               		jr.		nz,quitamos_el_tapon_en_2
    6572   00:661E                      
    6573   00:661E                      quitamos_el_tapon_en_1:
    6574   00:661E                      		
    6575   00:661E  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    6576   00:6622  21 61 C0            		ld		hl,buffer_colisiones
    6577   00:6625  18 07               		jr.		quitamos_el_tapon_continua
    6578   00:6627                      
    6579   00:6627                      quitamos_el_tapon_en_2:
    6580   00:6627                      
    6581   00:6627  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    6582   00:662B  21 41 C3            		ld		hl,buffer_colisiones_2
    6583   00:662E                      
    6584   00:662E                      quitamos_el_tapon_continua:
    6585   00:662E                      
    6586   00:662E  ED 4A               		adc		hl,bc
    6587   00:6630  01 1D 00            		ld		bc,29
    6588   00:6633  ED 4A               		adc		hl,bc
    6589   00:6635  3E 20               		ld		a,32
    6590   00:6637  77                  		ld		[hl],a
    6591   00:6638  23                  		inc		hl
    6592   00:6639  77                  		ld		[hl],a
    6593   00:663A  23                  		inc		hl
    6594   00:663B  77                  		ld		[hl],a
    6595   00:663C  23                  		inc		hl
    6596   00:663D  77                  		ld		[hl],a
    6597   00:663E  23                  		inc		hl
    6598   00:663F  77                  		ld		[hl],a
    6599   00:6640  23                  		inc		hl
    6600   00:6641  77                  		ld		[hl],a
    6601   00:6642  23                  		inc		hl
    6602   00:6643  77                  		ld		[hl],a
    6603   00:6644  01 1B 00            		ld		bc,27
    6604   00:6647  ED 4A               		adc		hl,bc
    6605   00:6649  77                  		ld		[hl],a
    6606   00:664A  23                  		inc		hl
    6607   00:664B  77                  		ld		[hl],a
    6608   00:664C  23 23               [2]		inc		hl
    6609   00:664E  77                  		ld		[hl],a
    6610   00:664F  23                  		inc		hl
    6611   00:6650  77                  		ld		[hl],a
    6612   00:6651  2B 2B               [2]		dec		hl
    6613   00:6653  3E A7               		ld		a,167
    6614   00:6655  77                  		ld		[hl],a
    6615   00:6656                      
    6616   00:6656  3A 96 C6            		ld		a,(pantalla_balsa)
    6617   00:6659  47                  		ld		b,a
    6618   00:665A  3A 21 C6            		ld		a,(pantalla_activa)
    6619   00:665D  B8                  		cp		b
    6620   00:665E  20 03               		jr.		nz,quitamos_el_tapon_final
    6621   00:6660                      		
    6622   00:6660  CD B8 49            		call	copiamos_en_pantalla_lo_de_memoria
    6623   00:6663                      
    6624   00:6663                      quitamos_el_tapon_final:
    6625   00:6663                      		
    6626   00:6663  3E 0A               		ld		a,10														;efecto sonoro de grifo de balsa cerrado
    6627   00:6665  CD 24 78            		call	efecto_sonido
    6628   00:6668                      		
    6629   00:6668  AF                  		xor		a
    6630   00:6669  32 93 C6            		ld		(balsa_bacia),a
    6631   00:666C                      						
    6632   00:666C  C9                  		ret
    6633   00:666D                      		
    6634   00:666D                      cierra_los_grifos_de_balsa:
    6635   00:666D                      
    6636   00:666D  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por cerrar grifo de balsa
    6637   00:6670  C6 03               		add		a,3
    6638   00:6672  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    6639   00:6675  3E 01               		ld		a,1
    6640   00:6677  32 33 C6            		ld		(cuenta_puntos_o_no),a
    6641   00:667A                      		
    6642   00:667A  3A 94 C6            		ld		a,(pantalla_tile_grifo_balsa_1)							;decide en que buffer cambia el grifo 1
    6643   00:667D  FE 02               		cp		2
    6644   00:667F  28 09               		jr.		z,cierra_los_grifos_de_balsa_2
    6645   00:6681                      
    6646   00:6681                      cierra_los_grifos_de_balsa_1:
    6647   00:6681                      		
    6648   00:6681  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer 1 el grifo cerrado
    6649   00:6685  21 61 C0            		ld		hl,buffer_colisiones
    6650   00:6688                      
    6651   00:6688  18 07               		jr.		cierra_los_grifos_de_balsa_3
    6652   00:668A                      
    6653   00:668A                      cierra_los_grifos_de_balsa_2:
    6654   00:668A                      	
    6655   00:668A  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer  2 el grifo cerrado
    6656   00:668E  21 41 C3            		ld		hl,buffer_colisiones_2
    6657   00:6691                      		
    6658   00:6691                      cierra_los_grifos_de_balsa_3:
    6659   00:6691                      
    6660   00:6691  ED 4A               		adc		hl,bc
    6661   00:6693  01 21 00            		ld		bc,33
    6662   00:6696  ED 42               		sbc		hl,bc
    6663   00:6698  3E B2               		ld		a,178
    6664   00:669A  77                  		ld		[hl],a
    6665   00:669B                      
    6666   00:669B  3A 95 C6            		ld		a,(pantalla_tile_grifo_balsa_2)
    6667   00:669E  FE 02               		cp		2
    6668   00:66A0  28 0A               		jr.		z,cierra_los_grifos_de_balsa_5
    6669   00:66A2                      
    6670   00:66A2                      cierra_los_grifos_de_balsa_4:
    6671   00:66A2                      				
    6672   00:66A2  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    6673   00:66A6  21 61 C0            		ld		hl,buffer_colisiones
    6674   00:66A9  0B                  		dec		bc
    6675   00:66AA  18 07               		jr.		cierra_los_grifos_de_balsa_6
    6676   00:66AC                      
    6677   00:66AC                      cierra_los_grifos_de_balsa_5:
    6678   00:66AC                      
    6679   00:66AC  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    6680   00:66B0  21 41 C3            		ld		hl,buffer_colisiones_2
    6681   00:66B3                      		
    6682   00:66B3                      cierra_los_grifos_de_balsa_6:
    6683   00:66B3                      		
    6684   00:66B3  ED 4A               		adc		hl,bc
    6685   00:66B5  01 20 00            		ld		bc,32
    6686   00:66B8  ED 42               		sbc		hl,bc
    6687   00:66BA  3E B2               		ld		a,178
    6688   00:66BC  77                  		ld		[hl],a
    6689   00:66BD                      
    6690   00:66BD  3A 94 C6            		ld		a,(pantalla_tile_grifo_balsa_1)
    6691   00:66C0  47                  		ld		b,a
    6692   00:66C1  3A 21 C6            		ld		a,(pantalla_activa)
    6693   00:66C4  B8                  		cp		b
    6694   00:66C5  20 08               		jr.		nz,cierra_los_grifos_de_balsa_8
    6695   00:66C7                      
    6696   00:66C7                      cierra_los_grifos_de_balsa_7:
    6697   00:66C7                      										
    6698   00:66C7  2A 8B C6            		ld		hl,(tile_grifo_balsa_1)									;dibujamos en pantalla el grifo cerrado
    6699   00:66CA  3E B2               		ld		a,178
    6700   00:66CC  CD 12 78            		call	pinta_en_pantalla
    6701   00:66CF                      
    6702   00:66CF                      cierra_los_grifos_de_balsa_8:
    6703   00:66CF                      		
    6704   00:66CF  3A 95 C6            		ld		a,(pantalla_tile_grifo_balsa_2)
    6705   00:66D2  47                  		ld		b,a
    6706   00:66D3  3A 21 C6            		ld		a,(pantalla_activa)
    6707   00:66D6  B8                  		cp		b
    6708   00:66D7  20 08               		jr.		nz,cierra_los_grifos_de_balsa_10
    6709   00:66D9                      				
    6710   00:66D9                      cierra_los_grifos_de_balsa_9:		
    6711   00:66D9                      
    6712   00:66D9  2A 8D C6            		ld		hl,(tile_grifo_balsa_2)
    6713   00:66DC  3E B2               		ld		a,178
    6714   00:66DE  CD 12 78            		call	pinta_en_pantalla
    6715   00:66E1                      
    6716   00:66E1                      cierra_los_grifos_de_balsa_10:
    6717   00:66E1                      		
    6718   00:66E1  3E 10               		ld		a,16														;efecto sonoro de grifo de balsa cerrado
    6719   00:66E3  CD 24 78            		call	efecto_sonido
    6720   00:66E6                      		
    6721   00:66E6  AF                  		xor		a
    6722   00:66E7  32 8F C6            		ld		(grifos_balsa_cerrados),a
    6723   00:66EA                      				
    6724   00:66EA  C9                  		ret
    6725   00:66EB                      				
    6726   00:66EB                      activa_escalera_extra:
    6727   00:66EB                      
    6728   00:66EB  3E 01               		ld		a,1
    6729   00:66ED  32 6C C6            		ld		(escalera_activada),a
    6730   00:66F0                      		
    6731   00:66F0  CD D3 76            		call	seis_diez
    6732   00:66F3  CD C7 62            		call	get_bloque_en_X_Y
    6733   00:66F6  3E 70               		ld		a,112
    6734   00:66F8  77                  		ld		[hl],a
    6735   00:66F9  CD D3 76            		call	seis_diez
    6736   00:66FC  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6737   00:66FF                      		
    6738   00:66FF  3E 70               		ld		a,112
    6739   00:6701  CD 12 78            		call	pinta_en_pantalla
    6740   00:6704                      		
    6741   00:6704  3E 0A               		ld		a,10													;efecto sonoro de activar
    6742   00:6706  C3 24 78            		jp		efecto_sonido
    6743   00:6709                      		
    6744   00:6709                      activa_chorro_1:
    6745   00:6709                      
    6746   00:6709  3A 77 C6            		ld		a,(grifo_estado)
    6747   00:670C  B7                  		or		a
    6748   00:670D  C8                  		ret		z
    6749   00:670E                      		
    6750   00:670E  CD E8 76            		call	menos_dos_diez
    6751   00:6711  CD C7 62            		call	get_bloque_en_X_Y
    6752   00:6714                      		
    6753   00:6714  3E 58               		ld		a,88
    6754   00:6716  77                  		ld		[hl],a
    6755   00:6717                      								
    6756   00:6717  CD E8 76            		call	menos_dos_diez
    6757   00:671A  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6758   00:671D                      		
    6759   00:671D  3E 58               		ld		a,88
    6760   00:671F  CD 12 78            		call	pinta_en_pantalla
    6761   00:6722                      		
    6762   00:6722  CD D3 76            		call	seis_diez
    6763   00:6725  CD C7 62            		call	get_bloque_en_X_Y
    6764   00:6728  3E 59               		ld		a,89
    6765   00:672A  77                  		ld		[hl],a
    6766   00:672B                      								
    6767   00:672B  CD D3 76            		call	seis_diez
    6768   00:672E  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6769   00:6731                      		
    6770   00:6731  3E 59               		ld		a,89
    6771   00:6733  CD 12 78            		call	pinta_en_pantalla
    6772   00:6736                      		
    6773   00:6736  CD 37 77            		call	catorce_diez
    6774   00:6739  CD C7 62            		call	get_bloque_en_X_Y
    6775   00:673C  3E 5A               		ld		a,90
    6776   00:673E  77                  		ld		[hl],a
    6777   00:673F                      								
    6778   00:673F  CD 37 77            		call	catorce_diez
    6779   00:6742  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6780   00:6745                      		
    6781   00:6745  3E 5A               		ld		a,90
    6782   00:6747  CD 12 78            		call	pinta_en_pantalla
    6783   00:674A                      		
    6784   00:674A  3E 0B               		ld		a,11													;efecto sonoro agua (arreglar)
    6785   00:674C  CD 24 78            		call	efecto_sonido
    6786   00:674F                      
    6787   00:674F  18 48               		jr.		moja_prota
    6788   00:6751                      
    6789   00:6751                      activa_chorro_2:
    6790   00:6751                      
    6791   00:6751  3A 77 C6            		ld		a,(grifo_estado)
    6792   00:6754  B7                  		or		a
    6793   00:6755  C8                  		ret		z
    6794   00:6756                      		
    6795   00:6756  CD 2A 77            		call	menos_dos_dieciocho
    6796   00:6759  CD C7 62            		call	get_bloque_en_X_Y
    6797   00:675C                      		
    6798   00:675C  3E 58               		ld		a,88
    6799   00:675E  77                  		ld		[hl],a
    6800   00:675F                      								
    6801   00:675F  CD 2A 77            		call	menos_dos_dieciocho
    6802   00:6762  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6803   00:6765                      		
    6804   00:6765  3E 58               		ld		a,88
    6805   00:6767  CD 12 78            		call	pinta_en_pantalla
    6806   00:676A                      		
    6807   00:676A  CD 7B 77            		call	seis_dieciocho
    6808   00:676D  CD C7 62            		call	get_bloque_en_X_Y
    6809   00:6770  3E 59               		ld		a,89
    6810   00:6772  77                  		ld		[hl],a
    6811   00:6773                      								
    6812   00:6773  CD 7B 77            		call	seis_dieciocho
    6813   00:6776  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6814   00:6779                      		
    6815   00:6779  3E 59               		ld		a,89
    6816   00:677B  CD 12 78            		call	pinta_en_pantalla
    6817   00:677E                      		
    6818   00:677E  CD 57 77            		call	catorce_dieciocho
    6819   00:6781  CD C7 62            		call	get_bloque_en_X_Y
    6820   00:6784  3E 5A               		ld		a,90
    6821   00:6786  77                  		ld		[hl],a
    6822   00:6787                      								
    6823   00:6787  CD 57 77            		call	catorce_dieciocho
    6824   00:678A  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6825   00:678D                      		
    6826   00:678D  3E 5A               		ld		a,90
    6827   00:678F  CD 12 78            		call	pinta_en_pantalla
    6828   00:6792                      		
    6829   00:6792  3E 0B               		ld		a,11													;efecto sonoro agua (arreglar)
    6830   00:6794  CD 24 78            		call	efecto_sonido
    6831   00:6797                      
    6832   00:6797  18 00               		jr.		moja_prota
    6833   00:6799                      										
    6834   00:6799                      moja_prota:
    6835   00:6799                      
    6836   00:6799  3E 07               		ld		a,7
    6837   00:679B  32 1F C0            		ld		(color_prota),a
    6838   00:679E  3E 04               		ld		a,4
    6839   00:67A0  32 20 C0            		ld		(color_lineas_prota),a
    6840   00:67A3                      		
    6841   00:67A3  C9                  		ret
    6842   00:67A4                      				
    6843   00:67A4                      coge_toalla:
    6844   00:67A4                      
    6845   00:67A4  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger toalla
    6846   00:67A7  C6 06               		add		a,6
    6847   00:67A9  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    6848   00:67AC  3E 01               		ld		a,1
    6849   00:67AE  32 33 C6            		ld		(cuenta_puntos_o_no),a
    6850   00:67B1                      		
    6851   00:67B1  CD D3 76            		call	seis_diez
    6852   00:67B4  CD C7 62            		call	get_bloque_en_X_Y
    6853   00:67B7  3E 6C               		ld		a,108
    6854   00:67B9  77                  		ld		[hl],a
    6855   00:67BA                      								
    6856   00:67BA  CD D3 76            		call	seis_diez
    6857   00:67BD  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6858   00:67C0                      		
    6859   00:67C0  3E 6C               		ld		a,108
    6860   00:67C2  CD 12 78            		call	pinta_en_pantalla
    6861   00:67C5                      		
    6862   00:67C5  3E 02               		ld		a,2														;efecto sonoro de toalla cogida
    6863   00:67C7  CD 24 78            		call	efecto_sonido
    6864   00:67CA                      		
    6865   00:67CA  3E 02               		ld		a,2														; da valor a la variable para secar al prota
    6866   00:67CC  32 1F C0            		ld		(color_prota),a
    6867   00:67CF  3E 01               		ld		a,1
    6868   00:67D1  32 20 C0            		ld		(color_lineas_prota),a
    6869   00:67D4                      		
    6870   00:67D4  C9                  		ret
    6871   00:67D5                      
    6872   00:67D5                      vida_extra:
    6873   00:67D5                      
    6874   00:67D5  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger toalla
    6875   00:67D8  C6 0A               		add		a,10
    6876   00:67DA  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    6877   00:67DD  3E 01               		ld		a,1
    6878   00:67DF  32 33 C6            		ld		(cuenta_puntos_o_no),a
    6879   00:67E2                      		
    6880   00:67E2  CD D3 76            		call	seis_diez
    6881   00:67E5  CD C7 62            		call	get_bloque_en_X_Y
    6882   00:67E8  3E 20               		ld		a,32
    6883   00:67EA  77                  		ld		[hl],a
    6884   00:67EB                      								
    6885   00:67EB  CD D3 76            		call	seis_diez
    6886   00:67EE  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6887   00:67F1                      		
    6888   00:67F1  3E 20               		ld		a,32
    6889   00:67F3  CD 12 78            		call	pinta_en_pantalla
    6890   00:67F6                      		
    6891   00:67F6  3E 0F               		ld		a,15													;efecto sonoro de vida_extra
    6892   00:67F8  CD 24 78            		call	efecto_sonido
    6893   00:67FB                      		
    6894   00:67FB  3A 1E C0            		ld		a,(vidas_prota)											;aumenta la variable de vidas en uno
    6895   00:67FE  3C                  		inc		a
    6896   00:67FF  32 1E C0            		ld		(vidas_prota),a
    6897   00:6802                      		
    6898   00:6802  C9                  		ret
    6899   00:6803                      		
    6900   00:6803                      cierra_grifo:
    6901   00:6803                      
    6902   00:6803  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger mechero
    6903   00:6806  C6 0A               		add		a,10
    6904   00:6808  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    6905   00:680B  3E 01               		ld		a,1
    6906   00:680D  32 33 C6            		ld		(cuenta_puntos_o_no),a
    6907   00:6810                      		
    6908   00:6810  CD D3 76            		call	seis_diez
    6909   00:6813  CD C7 62            		call	get_bloque_en_X_Y
    6910   00:6816  3E 77               		ld		a,119
    6911   00:6818  77                  		ld		[hl],a
    6912   00:6819                      								
    6913   00:6819  CD D3 76            		call	seis_diez
    6914   00:681C  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6915   00:681F                      		
    6916   00:681F  3E 77               		ld		a,119
    6917   00:6821  CD 12 78            		call	pinta_en_pantalla
    6918   00:6824                      		
    6919   00:6824  3E 0A               		ld		a,10													;efecto sonoro de cerrar grifo
    6920   00:6826  CD 24 78            		call	efecto_sonido
    6921   00:6829                      		
    6922   00:6829  AF                  		xor		a														; da valor a la variable para dar por hecho que el grifo está cerrado
    6923   00:682A  32 77 C6            		ld		(grifo_estado),a
    6924   00:682D                      		
    6925   00:682D  C9                  		ret
    6926   00:682E                      
    6927   00:682E                      coge_mechero_por_derecha:
    6928   00:682E                      
    6929   00:682E  CD 37 77            		call	catorce_diez
    6930   00:6831  CD C7 62            		call	get_bloque_en_X_Y
    6931   00:6834  3E 20               		ld		a,32
    6932   00:6836  77                  		ld		[hl],a
    6933   00:6837                      								
    6934   00:6837  CD 37 77            		call	catorce_diez
    6935   00:683A  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6936   00:683D                      		
    6937   00:683D  3E 20               		ld		a,32
    6938   00:683F  CD 12 78            		call	pinta_en_pantalla	
    6939   00:6842                      		
    6940   00:6842                      coge_mechero_por_izquierda:
    6941   00:6842                      
    6942   00:6842  CD D3 76            		call	seis_diez
    6943   00:6845  CD C7 62            		call	get_bloque_en_X_Y
    6944   00:6848  3E 20               		ld		a,32
    6945   00:684A  77                  		ld		[hl],a
    6946   00:684B                      								
    6947   00:684B  CD D3 76            		call	seis_diez
    6948   00:684E  CD F8 62            		call	get_bloque_en_X_Y_paravram
    6949   00:6851                      		
    6950   00:6851  3E 20               		ld		a,32
    6951   00:6853  CD 12 78            		call	pinta_en_pantalla		
    6952   00:6856                      
    6953   00:6856                      coge_mechero:
    6954   00:6856                      		
    6955   00:6856  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger mechero
    6956   00:6859  C6 32               		add		a,50
    6957   00:685B  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    6958   00:685E  3E 01               		ld		a,1
    6959   00:6860  32 33 C6            		ld		(cuenta_puntos_o_no),a
    6960   00:6863                      		
    6961   00:6863                      
    6962   00:6863                      		
    6963   00:6863  3E CB               		ld		a,203
    6964   00:6865  32 EE EE            		ld		[#eeee],a
    6965   00:6868  21 EE EE            		ld		hl,#eeee												;pinta el mechero  a color
    6966   00:686B  11 1C 18            		ld		de,#181c
    6967   00:686E  01 01 00            		ld		bc,1
    6968   00:6871  CD 5C 00            		call	GRABAVRAM
    6969   00:6874                      		
    6970   00:6874  3E 02               		ld		a,2														;efecto sonoro de coger
    6971   00:6876  CD 24 78            		call	efecto_sonido
    6972   00:6879                      		
    6973   00:6879  3E 01               		ld		a,1														; da valor a la variable para adeptar que la tienes
    6974   00:687B  32 23 C6            		ld		(mechero),a
    6975   00:687E                      		
    6976   00:687E  C9                  		ret
    6977   00:687F                      
    6978   00:687F                      damos_la_luz:
    6979   00:687F                      		
    6980   00:687F  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por dar la luz
    6981   00:6882  C6 4B               		add		a,75
    6982   00:6884  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    6983   00:6887  3E 01               		ld		a,1
    6984   00:6889  32 33 C6            		ld		(cuenta_puntos_o_no),a
    6985   00:688C                      		
    6986   00:688C  CD F0 76            		call	seis_dos
    6987   00:688F  CD C7 62            		call	get_bloque_en_X_Y
    6988   00:6892  3E 7D               		ld		a,125
    6989   00:6894  77                  		ld		[hl],a
    6990   00:6895                      								
    6991   00:6895  CD B8 49            		call	copiamos_en_pantalla_lo_de_memoria
    6992   00:6898                      		
    6993   00:6898  3E 02               		ld		a,2														;efecto sonoro de coger
    6994   00:689A  CD 24 78            		call	efecto_sonido
    6995   00:689D                      		
    6996   00:689D  3E 01               		ld		a,1
    6997   00:689F  32 79 C6            		ld		(vision_estado),a										;damos acceso a los objetos que ya se ven
    6998   00:68A2                      				
    6999   00:68A2  C9                  		ret
    7000   00:68A3                      
    7001   00:68A3                      coge_gasolina_por_derecha:
    7002   00:68A3                      		
    7003   00:68A3  CD 37 77            		call	catorce_diez
    7004   00:68A6  CD C7 62            		call	get_bloque_en_X_Y
    7005   00:68A9  3E 20               		ld		a,32
    7006   00:68AB  77                  		ld		[hl],a
    7007   00:68AC                      				
    7008   00:68AC  CD 37 77            		call	catorce_diez
    7009   00:68AF  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7010   00:68B2                      		
    7011   00:68B2  3E 20               		ld		a,32
    7012   00:68B4  CD 12 78            		call	pinta_en_pantalla
    7013   00:68B7                      		
    7014   00:68B7  18 14               		jr.		coge_gasolina
    7015   00:68B9                      		
    7016   00:68B9                      coge_gasolina_por_izquierda:		
    7017   00:68B9                      		
    7018   00:68B9  CD D3 76            		call	seis_diez
    7019   00:68BC  CD C7 62            		call	get_bloque_en_X_Y
    7020   00:68BF  3E 20               		ld		a,32
    7021   00:68C1  77                  		ld		[hl],a
    7022   00:68C2                      				
    7023   00:68C2  CD D3 76            		call	seis_diez
    7024   00:68C5  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7025   00:68C8                      		
    7026   00:68C8  3E 20               		ld		a,32
    7027   00:68CA  CD 12 78            		call	pinta_en_pantalla
    7028   00:68CD                      		
    7029   00:68CD                      coge_gasolina:	
    7030   00:68CD                      	
    7031   00:68CD  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger gasolina
    7032   00:68D0  C6 32               		add		a,50
    7033   00:68D2  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    7034   00:68D5  3E 01               		ld		a,1
    7035   00:68D7  32 33 C6            		ld		(cuenta_puntos_o_no),a
    7036   00:68DA                      		
    7037   00:68DA  3E CA               		ld		a,202													;pinta la gasolina  a color
    7038   00:68DC  11 1A 18            		ld		de,#181a
    7039   00:68DF  CD ED 68            		call	pinta_algo_solo
    7040   00:68E2                      		
    7041   00:68E2  3E 02               		ld		a,2														;efecto sonoro de coger
    7042   00:68E4  CD 24 78            		call	efecto_sonido
    7043   00:68E7                      		
    7044   00:68E7  3E 01               		ld		a,1														;da valor a la variable para adeptar que la tienes
    7045   00:68E9  32 24 C6            		ld		(gasolina),a			
    7046   00:68EC                      		
    7047   00:68EC  C9                  		ret
    7048   00:68ED                      
    7049   00:68ED                      pinta_algo_solo:
    7050   00:68ED                      		
    7051   00:68ED  32 EE EE            		ld		[#eeee],a
    7052   00:68F0  21 EE EE            		ld		hl,#eeee												;pinta la gasolina  a color
    7053   00:68F3  01 01 00            		ld		bc,1
    7054   00:68F6  C3 5C 00            		jr.		GRABAVRAM
    7055   00:68F9                      					
    7056   00:68F9                      coge_la_bomba:
    7057   00:68F9                      		
    7058   00:68F9  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger la bomba
    7059   00:68FC  C6 05               		add		a,5
    7060   00:68FE  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    7061   00:6901  3E 01               		ld		a,1
    7062   00:6903  32 33 C6            		ld		(cuenta_puntos_o_no),a
    7063   00:6906                      		
    7064   00:6906  CD 5C 4B            		call	SPRITES_BOMBA
    7065   00:6909                      		
    7066   00:6909  CD D3 76            		call	seis_diez
    7067   00:690C  CD C7 62            		call	get_bloque_en_X_Y
    7068   00:690F  3E 20               		ld		a,32
    7069   00:6911  77                  		ld		[hl],a
    7070   00:6912                      		
    7071   00:6912  7E                  		ld		a,[hl]													;borra de pantalla la bomba cogida												
    7072   00:6913  CD D3 76            		call	seis_diez
    7073   00:6916  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7074   00:6919                      		
    7075   00:6919  3E 20               		ld		a,32
    7076   00:691B  CD 12 78            		call	pinta_en_pantalla
    7077   00:691E                      		
    7078   00:691E  3E CC               		ld		a,204													;pinta la bomba a color
    7079   00:6920  11 1E 18            		ld		de,#181e
    7080   00:6923  CD ED 68            		call	pinta_algo_solo
    7081   00:6926                      		
    7082   00:6926  AF                  		xor		a														;efecto sonoro de coger
    7083   00:6927  CD 24 78            		call	efecto_sonido
    7084   00:692A                      		
    7085   00:692A  3E 01               		ld		a,1														; da el valor interno a tiene_objeto
    7086   00:692C  32 5A C0            		ld		(tiene_objeto),a
    7087   00:692F                      		
    7088   00:692F  C9                  		ret
    7089   00:6930                      
    7090   00:6930                      coge_cuchillo:
    7091   00:6930                      		
    7092   00:6930  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger cuchillo
    7093   00:6933  C6 01               		add		a,1
    7094   00:6935  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    7095   00:6938  3E 01               		ld		a,1
    7096   00:693A  32 33 C6            		ld		(cuenta_puntos_o_no),a
    7097   00:693D                      		
    7098   00:693D  CD 68 4B            		call	SPRITES_CUCHILLO
    7099   00:6940                      		
    7100   00:6940  CD D3 76            		call	seis_diez
    7101   00:6943  CD C7 62            		call	get_bloque_en_X_Y
    7102   00:6946  3E 20               		ld		a,32
    7103   00:6948  77                  		ld		[hl],a
    7104   00:6949                      		
    7105   00:6949  CD D3 76            		call	seis_diez
    7106   00:694C  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7107   00:694F                      		
    7108   00:694F  3E 20               		ld		a,32
    7109   00:6951  CD 12 78            		call	pinta_en_pantalla
    7110   00:6954                      		
    7111   00:6954  3E D1               		ld		a,209													;pinta la espada a color
    7112   00:6956  11 18 18            		ld		de,#1818
    7113   00:6959  CD ED 68            		call	pinta_algo_solo
    7114   00:695C                      		
    7115   00:695C  AF                  		xor		a														;efecto sonoro de coger
    7116   00:695D  CD 24 78            		call	efecto_sonido
    7117   00:6960                      		
    7118   00:6960  3E 02               		ld		a,2														; da el valor interno a tiene_objeto
    7119   00:6962  32 5A C0            		ld		(tiene_objeto),a
    7120   00:6965                      		
    7121   00:6965  C9                  		ret
    7122   00:6966                      		
    7123   00:6966                      usa_bomba:
    7124   00:6966                      		
    7125   00:6966  CD A1 77            		call	dos_dieciocho
    7126   00:6969  CD C7 62            		call	get_bloque_en_X_Y
    7127   00:696C  FE 1F               		cp		31
    7128   00:696E  38 03               		jr.		c,continuamos
    7129   00:6970                      
    7130   00:6970  CD C3 69            		call	segunda_comprovacion_de_agujeros
    7131   00:6973                      		
    7132   00:6973                      continuamos:
    7133   00:6973                      
    7134   00:6973  CD 74 4B            		call	SPRITES_PROTA_NORMAL		
    7135   00:6976                      		
    7136   00:6976  3A 1B C0            		ld		a,(px)													;situamos la explosion
    7137   00:6979  D6 04               		sub		a,4
    7138   00:697B  32 5D C0            		ld		(x_explosion),a
    7139   00:697E  3A 1C C0            		ld		a,(py)
    7140   00:6981  C6 0A               		add		a,10
    7141   00:6983  32 5E C0            		ld		(y_explosion),a
    7142   00:6986                      		
    7143   00:6986  3E CF               		ld		a,207													;pinta la bomba a blanco y negro
    7144   00:6988  11 1E 18            		ld		de,#181e
    7145   00:698B  CD ED 68            		call	pinta_algo_solo
    7146   00:698E                      	
    7147   00:698E  AF                  		xor		a
    7148   00:698F  32 5A C0            		ld		(tiene_objeto),a
    7149   00:6992                      		
    7150   00:6992  3E 01               		ld		a,1
    7151   00:6994  32 5F C0            		ld		(estado_de_explosion),a									;activamos los sprites de explosion
    7152   00:6997                      		
    7153   00:6997  CD A1 77            		call	dos_dieciocho
    7154   00:699A  CD C7 62            		call	get_bloque_en_X_Y
    7155   00:699D  FE 14               		cp		20
    7156   00:699F  20 07               		jr.		nz,continuamos_2
    7157   00:69A1                      
    7158   00:69A1  3E 13               		ld		a,19														;efecto sonoro de bomba fallida
    7159   00:69A3  CD 24 78            		call	efecto_sonido
    7160   00:69A6  18 05               		jr.		continuamos_3
    7161   00:69A8                      		
    7162   00:69A8                      continuamos_2:
    7163   00:69A8                      		
    7164   00:69A8  3E 03               		ld		a,3														;efecto sonoro de bomba
    7165   00:69AA  CD 24 78            		call	efecto_sonido	
    7166   00:69AD                      
    7167   00:69AD                      continuamos_3:
    7168   00:69AD                      		
    7169   00:69AD  CD A1 77            		call	dos_dieciocho
    7170   00:69B0  CD C7 62            		call	get_bloque_en_X_Y
    7171   00:69B3  FE 14               		cp		20														;si hay suelo irrompible, gasta bomba pero no agujerea
    7172   00:69B5  28 0C               		jr.		z,segunda_comprovacion_de_agujeros
    7173   00:69B7  38 1F               		jr.		c,hace_agujero_1
    7174   00:69B9                      
    7175   00:69B9  FE 17               		cp		23
    7176   00:69BB  38 52               		jr.		c,hace_agujero_2
    7177   00:69BD                      		
    7178   00:69BD  FE 19               		cp		25
    7179   00:69BF  DA 47 6A            		jr.		c,hace_agujero_3
    7180   00:69C2  C9                  		ret
    7181   00:69C3                      
    7182   00:69C3                      segunda_comprovacion_de_agujeros:
    7183   00:69C3                      
    7184   00:69C3  CD B2 77            		call	diez_dieciocho 
    7185   00:69C6  CD C7 62            		call	get_bloque_en_X_Y
    7186   00:69C9  FE 14               		cp		20
    7187   00:69CB  C8                  		ret		z
    7188   00:69CC  38 2D               		jr.		c,hace_agujero_1_2
    7189   00:69CE                      
    7190   00:69CE  FE 17               		cp		23
    7191   00:69D0  38 61               		jr.		c,hace_agujero_2_2
    7192   00:69D2                      	
    7193   00:69D2  FE 19               		cp		25
    7194   00:69D4  DA 76 6A            		jr.		c,hace_agujero_3_2
    7195   00:69D7  C9                  		ret
    7196   00:69D8                      hace_agujero_1:
    7197   00:69D8                      		
    7198   00:69D8  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por perforar suelo
    7199   00:69DB  C6 05               		add		a,5
    7200   00:69DD  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    7201   00:69E0  3E 01               		ld		a,1
    7202   00:69E2  32 33 C6            		ld		(cuenta_puntos_o_no),a
    7203   00:69E5                      		
    7204   00:69E5                      													
    7205   00:69E5  CD A1 77            		call	dos_dieciocho
    7206   00:69E8  CD C7 62            		call	get_bloque_en_X_Y
    7207   00:69EB  3E 15               		ld		a,21
    7208   00:69ED  77                  		ld		[hl],a
    7209   00:69EE                      				
    7210   00:69EE  CD A1 77            		call	dos_dieciocho
    7211   00:69F1  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7212   00:69F4                      		
    7213   00:69F4  3E 15               		ld		a,21
    7214   00:69F6  CD 12 78            		call	pinta_en_pantalla		
    7215   00:69F9                      		
    7216   00:69F9  18 C8               		jr.		segunda_comprovacion_de_agujeros
    7217   00:69FB                      
    7218   00:69FB                      hace_agujero_1_2:
    7219   00:69FB                      
    7220   00:69FB  CD B2 77            		call	diez_dieciocho
    7221   00:69FE  CD C7 62            		call	get_bloque_en_X_Y
    7222   00:6A01  3E 16               		ld		a,22
    7223   00:6A03  77                  		ld		[hl],a
    7224   00:6A04                      		
    7225   00:6A04  CD B2 77            		call	diez_dieciocho
    7226   00:6A07  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7227   00:6A0A                      		
    7228   00:6A0A  3E 16               		ld		a,22
    7229   00:6A0C  C3 12 78            		jp		pinta_en_pantalla
    7230   00:6A0F                      		
    7231   00:6A0F                      hace_agujero_2:
    7232   00:6A0F                      
    7233   00:6A0F  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por perforar suelo
    7234   00:6A12  C6 0A               		add		a,10
    7235   00:6A14  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    7236   00:6A17  3E 01               		ld		a,1
    7237   00:6A19  32 33 C6            		ld		(cuenta_puntos_o_no),a
    7238   00:6A1C                      		
    7239   00:6A1C  7E                  		ld		a,[hl]												;pone en buffer_colisiones el suelo 3										
    7240   00:6A1D  CD A1 77            		call	dos_dieciocho
    7241   00:6A20  CD C7 62            		call	get_bloque_en_X_Y
    7242   00:6A23  3E 17               		ld		a,23
    7243   00:6A25  77                  		ld		[hl],a
    7244   00:6A26                      				
    7245   00:6A26  CD A1 77            		call	dos_dieciocho
    7246   00:6A29  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7247   00:6A2C                      		
    7248   00:6A2C  3E 17               		ld		a,23
    7249   00:6A2E  CD 12 78            		call	pinta_en_pantalla
    7250   00:6A31                      		
    7251   00:6A31  18 90               		jr. 	segunda_comprovacion_de_agujeros
    7252   00:6A33                      		
    7253   00:6A33                      hace_agujero_2_2:
    7254   00:6A33                      		
    7255   00:6A33  CD B2 77            		call	diez_dieciocho
    7256   00:6A36  CD C7 62            		call	get_bloque_en_X_Y
    7257   00:6A39  3E 18               		ld		a,24
    7258   00:6A3B  77                  		ld		[hl],a
    7259   00:6A3C                      		
    7260   00:6A3C  CD B2 77            		call	diez_dieciocho
    7261   00:6A3F  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7262   00:6A42                      		
    7263   00:6A42  3E 18               		ld		a,24
    7264   00:6A44  C3 12 78            		jp		pinta_en_pantalla
    7265   00:6A47                      
    7266   00:6A47                      hace_agujero_3:
    7267   00:6A47                      		
    7268   00:6A47  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)				;puntos ganados por perforar suelo
    7269   00:6A4A  C6 0F               		add		a,15
    7270   00:6A4C  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    7271   00:6A4F  3E 01               		ld		a,1
    7272   00:6A51  32 33 C6            		ld		(cuenta_puntos_o_no),a
    7273   00:6A54                      		
    7274   00:6A54  CD A1 77            		call	dos_dieciocho
    7275   00:6A57  CD C7 62            		call	get_bloque_en_X_Y
    7276   00:6A5A  3E 20               		ld		a,32
    7277   00:6A5C  77                  		ld		[hl],a
    7278   00:6A5D                      		
    7279   00:6A5D  CD A1 77            		call	dos_dieciocho
    7280   00:6A60  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7281   00:6A63                      		
    7282   00:6A63  3E 20               		ld		a,32
    7283   00:6A65  CD 12 78            		call	pinta_en_pantalla
    7284   00:6A68                      		
    7285   00:6A68  CD B2 77            		call	diez_dieciocho
    7286   00:6A6B  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7287   00:6A6E                      		
    7288   00:6A6E  3E 20               		ld		a,32
    7289   00:6A70  CD 12 78            		call	pinta_en_pantalla
    7290   00:6A73                      		
    7291   00:6A73  C3 C3 69            		jr.		segunda_comprovacion_de_agujeros
    7292   00:6A76                      		
    7293   00:6A76                      hace_agujero_3_2:
    7294   00:6A76                      
    7295   00:6A76  CD B2 77            		call	diez_dieciocho
    7296   00:6A79  CD C7 62            		call	get_bloque_en_X_Y
    7297   00:6A7C  3E 20               		ld		a,32
    7298   00:6A7E  77                  		ld		[hl],a
    7299   00:6A7F                      
    7300   00:6A7F  CD B2 77            		call	diez_dieciocho
    7301   00:6A82  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7302   00:6A85                      		
    7303   00:6A85  3E 20               		ld		a,32
    7304   00:6A87  C3 12 78            		jp		pinta_en_pantalla
    7305   00:6A8A                      			
    7306   00:6A8A                      usa_cuchillo:
    7307   00:6A8A                      
    7308   00:6A8A  3A 64 C6            		ld		a,(momento_lanzamiento)
    7309   00:6A8D  B7                  		or		a
    7310   00:6A8E  C0                  		ret		nz
    7311   00:6A8F                      		
    7312   00:6A8F  3E D0               		ld		a,208													;pinta el cuchillo a blanco y negro
    7313   00:6A91  11 18 18            		ld		de,#1818
    7314   00:6A94  CD ED 68            		call	pinta_algo_solo
    7315   00:6A97                      	
    7316   00:6A97  AF                  		xor		a														;le quita el cuchillo
    7317   00:6A98  32 5A C0            		ld		(tiene_objeto),a
    7318   00:6A9B                      		
    7319   00:6A9B  CD 74 4B            		call	SPRITES_PROTA_NORMAL	
    7320   00:6A9E                      		
    7321   00:6A9E  3A 21 C6            		ld		a,(pantalla_activa)
    7322   00:6AA1  32 65 C6            		ld		(pantalla_cuchillo),a		
    7323   00:6AA4  3E 01               		ld		a,1														;activa las poses de lanzamiento
    7324   00:6AA6  32 64 C6            		ld		(momento_lanzamiento),a
    7325   00:6AA9                      		
    7326   00:6AA9  C9                  		ret
    7327   00:6AAA                      		
    7328   00:6AAA                      rutina_cuchillo_volador:
    7329   00:6AAA                      		
    7330   00:6AAA  3A 64 C6            		ld		a,(momento_lanzamiento)
    7331   00:6AAD  B7                  		or		a
    7332   00:6AAE  C8                  		ret		z
    7333   00:6AAF  FE 03               		cp		3						
    7334   00:6AB1  28 18               		jr.		z,comprueba_lugar_cuchillo
    7335   00:6AB3  D2 6A 6B            		jr.		nc,avanza_cuchillo
    7336   00:6AB6  47                  		ld		b,a
    7337   00:6AB7  3A 66 C6            		ld		a,(contador_poses_lanzar)
    7338   00:6ABA  3D                  		dec		a
    7339   00:6ABB  32 66 C6            		ld		(contador_poses_lanzar),a
    7340   00:6ABE  B7                  		or		a
    7341   00:6ABF  C0                  		ret		nz
    7342   00:6AC0  3E 05               		ld		a,5
    7343   00:6AC2  32 66 C6            		ld		(contador_poses_lanzar),a
    7344   00:6AC5  78                  		ld		a,b
    7345   00:6AC6                      		
    7346   00:6AC6  3C                  		inc		a
    7347   00:6AC7  32 64 C6            		ld		(momento_lanzamiento),a
    7348   00:6ACA                      		
    7349   00:6ACA  C9                  		ret
    7350   00:6ACB                      
    7351   00:6ACB                      comprueba_lugar_cuchillo:
    7352   00:6ACB                      
    7353   00:6ACB  3E 06               		ld		a,6														;efecto sonoro de lanzar
    7354   00:6ACD  CD 24 78            		call	efecto_sonido
    7355   00:6AD0                      				
    7356   00:6AD0  3A 27 C0            		ld		a,(dir_prota)											;vemos direccion en la que lanza
    7357   00:6AD3  FE 01               		cp		1
    7358   00:6AD5  28 45               		jr.		z,lanzamos_a_la_izquierda
    7359   00:6AD7                      
    7360   00:6AD7                      lanzamos_a_la_derecha:
    7361   00:6AD7                      
    7362   00:6AD7  32 69 C6            		ld		(dir_cuchillo),a										;guardamos la dirección para poder seguirla con el cuchillo
    7363   00:6ADA                      
    7364   00:6ADA  CD C7 77            		call	ocho_cuatro
    7365   00:6ADD                      		
    7366   00:6ADD  3A 21 C6            		ld		a,(pantalla_activa)
    7367   00:6AE0  08                  		ex		af,af'
    7368   00:6AE1  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7369   00:6AE4  32 21 C6            		ld		(pantalla_activa),a
    7370   00:6AE7                      		
    7371   00:6AE7  CD C7 62            		call	get_bloque_en_X_Y
    7372   00:6AEA  7E                  		ld		a,[hl]													;gaurdamos en memoria lo que hay debajo del cuchillo
    7373   00:6AEB                      				
    7374   00:6AEB  32 67 C6            		ld		(recordar_lo_que_habia),a
    7375   00:6AEE  3E 64               		ld		a,100													;pintamos el cuchillo
    7376   00:6AF0  77                  		ld		[hl],a
    7377   00:6AF1                      		
    7378   00:6AF1  08                  		ex		af,af'
    7379   00:6AF2  32 21 C6            		ld		(pantalla_activa),a	
    7380   00:6AF5                      		
    7381   00:6AF5  47                  		ld		b,a
    7382   00:6AF6  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7383   00:6AF9  B8                  		cp		b
    7384   00:6AFA  20 1A               		jr.		nz,lanzamos_a_la_derecha_final
    7385   00:6AFC                      			
    7386   00:6AFC  3A 1B C0            		ld		a,[px]													;a vram
    7387   00:6AFF  C6 08               		add		8
    7388   00:6B01  32 6A C6            		ld		[cx],a
    7389   00:6B04  57                  		ld		d,a
    7390   00:6B05  3A 1C C0            		ld		a,[py]
    7391   00:6B08  C6 04               		add		4
    7392   00:6B0A  32 6B C6            		ld		[cy],a
    7393   00:6B0D  5F                  		ld		e,a
    7394   00:6B0E  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7395   00:6B11                      		
    7396   00:6B11  3E 64               		ld		a,100
    7397   00:6B13  CD 12 78            		call	pinta_en_pantalla
    7398   00:6B16                      
    7399   00:6B16                      lanzamos_a_la_derecha_final:
    7400   00:6B16                      		
    7401   00:6B16  3E 04               		ld		a,4														;pasamos el estado a movimiento
    7402   00:6B18  32 64 C6            		ld		(momento_lanzamiento),a
    7403   00:6B1B                      		
    7404   00:6B1B  C9                  		ret
    7405   00:6B1C                      
    7406   00:6B1C                      lanzamos_a_la_izquierda:
    7407   00:6B1C                      
    7408   00:6B1C  32 69 C6            		ld		(dir_cuchillo),a										;guardamos la dirección para poder seguirla con el cuchillo
    7409   00:6B1F                      				
    7410   00:6B1F  3A 1B C0            		ld		a,[px]					
    7411   00:6B22  C6 04               		add		4
    7412   00:6B24  57                  		ld		d,a
    7413   00:6B25  3A 1C C0            		ld		a,[py]
    7414   00:6B28  C6 04               		add		4
    7415   00:6B2A  5F                  		ld		e,a
    7416   00:6B2B                      		
    7417   00:6B2B  3A 21 C6            		ld		a,(pantalla_activa)
    7418   00:6B2E  08                  		ex		af,af'
    7419   00:6B2F  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7420   00:6B32  32 21 C6            		ld		(pantalla_activa),a
    7421   00:6B35                      		
    7422   00:6B35  CD C7 62            		call	get_bloque_en_X_Y
    7423   00:6B38  7E                  		ld		a,[hl]
    7424   00:6B39                      		
    7425   00:6B39  32 67 C6            		ld		(recordar_lo_que_habia),a
    7426   00:6B3C  3E 66               		ld		a,102
    7427   00:6B3E  77                  		ld		[hl],a
    7428   00:6B3F                      		
    7429   00:6B3F  08                  		ex		af,af'
    7430   00:6B40  32 21 C6            		ld		(pantalla_activa),a	
    7431   00:6B43                      		
    7432   00:6B43  47                  		ld		b,a
    7433   00:6B44  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7434   00:6B47  B8                  		cp		b
    7435   00:6B48  20 1A               		jr.		nz,lanzamos_a_la_izquierda_final
    7436   00:6B4A                      				
    7437   00:6B4A  3A 1B C0            		ld		a,[px]													;a vram
    7438   00:6B4D  C6 04               		add		4
    7439   00:6B4F  32 6A C6            		ld		[cx],a
    7440   00:6B52  57                  		ld		d,a
    7441   00:6B53  3A 1C C0            		ld		a,[py]
    7442   00:6B56  C6 04               		add		4
    7443   00:6B58  32 6B C6            		ld		[cy],a
    7444   00:6B5B  5F                  		ld		e,a
    7445   00:6B5C  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7446   00:6B5F                      		
    7447   00:6B5F  3E 66               		ld		a,102
    7448   00:6B61  CD 12 78            		call	pinta_en_pantalla
    7449   00:6B64                      
    7450   00:6B64                      lanzamos_a_la_izquierda_final:
    7451   00:6B64                      		
    7452   00:6B64  3E 04               		ld		a,4														;pasamos el estado a movimiento
    7453   00:6B66  32 64 C6            		ld		(momento_lanzamiento),a
    7454   00:6B69                      		
    7455   00:6B69  C9                  		ret
    7456   00:6B6A                      		
    7457   00:6B6A                      avanza_cuchillo:
    7458   00:6B6A                      
    7459   00:6B6A  3A 69 C6            		ld		a,(dir_cuchillo)
    7460   00:6B6D  FE 01               		cp		1
    7461   00:6B6F  CA 7B 6C            		jr.		z,avanza_hacia_la_izquierda
    7462   00:6B72                      
    7463   00:6B72                      avanza_hacia_la_derecha:
    7464   00:6B72                      
    7465   00:6B72  3A 6A C6            		ld		a,[cx]
    7466   00:6B75  FE FA               		cp		250
    7467   00:6B77  D4 00 6C            		call	nc,cuchillo_cambia_a_pantalla_dos						;cambiamos de pantalla
    7468   00:6B7A                      		
    7469   00:6B7A  3A 21 C6            		ld		a,(pantalla_activa)
    7470   00:6B7D  08                  		ex		af,af'
    7471   00:6B7E  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7472   00:6B81  32 21 C6            		ld		(pantalla_activa),a
    7473   00:6B84                      		
    7474   00:6B84  3A 6A C6            		ld		a,[cx]
    7475   00:6B87  C6 04               		add		4
    7476   00:6B89  57                  		ld		d,a
    7477   00:6B8A  3A 6B C6            		ld		a,[cy]
    7478   00:6B8D  5F                  		ld		e,a
    7479   00:6B8E  CD C7 62            		call	get_bloque_en_X_Y
    7480   00:6B91  7E                  		ld		a,[hl]
    7481   00:6B92  FE 20               		cp		32
    7482   00:6B94  DA 21 6C            		jr.		c,(clava_a_la_derecha)
    7483   00:6B97                      		
    7484   00:6B97  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7485   00:6B9A  CD C7 62            		call	get_bloque_en_X_Y
    7486   00:6B9D                      		
    7487   00:6B9D  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7488   00:6BA0  77                  		ld		[hl],a
    7489   00:6BA1                      
    7490   00:6BA1  08                  		ex		af,af'
    7491   00:6BA2  32 21 C6            		ld		(pantalla_activa),a
    7492   00:6BA5                      		
    7493   00:6BA5  47                  		ld		b,a
    7494   00:6BA6  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7495   00:6BA9  B8                  		cp		b
    7496   00:6BAA  20 11               		jr.		nz,avanza_hacia_la_derecha_continua
    7497   00:6BAC                      								
    7498   00:6BAC  3A 6A C6            		ld		a,[cx]													;recupera tambien en vram
    7499   00:6BAF  57                  		ld		d,a
    7500   00:6BB0  3A 6B C6            		ld		a,[cy]
    7501   00:6BB3  5F                  		ld		e,a
    7502   00:6BB4  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7503   00:6BB7                      		
    7504   00:6BB7  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7505   00:6BBA  CD 12 78            		call	pinta_en_pantalla
    7506   00:6BBD                      		
    7507   00:6BBD                      avanza_hacia_la_derecha_continua:				
    7508   00:6BBD                      
    7509   00:6BBD  3A 21 C6            		ld		a,(pantalla_activa)
    7510   00:6BC0  08                  		ex		af,af'
    7511   00:6BC1  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7512   00:6BC4  32 21 C6            		ld		(pantalla_activa),a
    7513   00:6BC7                      		
    7514   00:6BC7  3A 6A C6            		ld		a,[cx]													;salva lo que hay en el tile destino
    7515   00:6BCA  C6 04               		add		4
    7516   00:6BCC  57                  		ld		d,a
    7517   00:6BCD  3A 6B C6            		ld		a,[cy]
    7518   00:6BD0  5F                  		ld		e,a
    7519   00:6BD1  CD C7 62            		call	get_bloque_en_X_Y
    7520   00:6BD4  7E                  		ld		a,[hl]
    7521   00:6BD5  32 67 C6            		ld		(recordar_lo_que_habia),a
    7522   00:6BD8                      		
    7523   00:6BD8  36 64               		ld		[hl],100												;pone el cuchillo en el nuevo tile
    7524   00:6BDA                      		
    7525   00:6BDA  08                  		ex		af,af'
    7526   00:6BDB  32 21 C6            		ld		(pantalla_activa),a
    7527   00:6BDE                      		
    7528   00:6BDE  47                  		ld		b,a
    7529   00:6BDF  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7530   00:6BE2  B8                  		cp		b
    7531   00:6BE3  20 12               		jr.		nz,avanza_hacia_la_derecha_continua_2
    7532   00:6BE5                      		
    7533   00:6BE5  3A 6A C6            		ld		a,[cx]
    7534   00:6BE8  C6 04               		add		4														;tambien en vram
    7535   00:6BEA  57                  		ld		d,a
    7536   00:6BEB  3A 6B C6            		ld		a,[cy]
    7537   00:6BEE  5F                  		ld		e,a
    7538   00:6BEF  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7539   00:6BF2                      		
    7540   00:6BF2  3E 64               		ld		a,100
    7541   00:6BF4  CD 12 78            		call	pinta_en_pantalla
    7542   00:6BF7                      
    7543   00:6BF7                      avanza_hacia_la_derecha_continua_2:
    7544   00:6BF7                      							
    7545   00:6BF7  3A 6A C6            		ld		a,[cx]													;nuevo valor para las coordenadas x e y
    7546   00:6BFA  C6 04               		add		4
    7547   00:6BFC  32 6A C6            		ld		[cx],a
    7548   00:6BFF                      		
    7549   00:6BFF  C9                  		ret		
    7550   00:6C00                      
    7551   00:6C00                      cuchillo_cambia_a_pantalla_dos:
    7552   00:6C00                      
    7553   00:6C00  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7554   00:6C03  CD C7 62            		call	get_bloque_en_X_Y
    7555   00:6C06                      		
    7556   00:6C06  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7557   00:6C09  77                  		ld		[hl],a
    7558   00:6C0A                      												
    7559   00:6C0A  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7560   00:6C0D  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7561   00:6C10                      		
    7562   00:6C10  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7563   00:6C13  CD 12 78            		call	pinta_en_pantalla
    7564   00:6C16                      		
    7565   00:6C16  3E 02               		ld		a,2
    7566   00:6C18  32 65 C6            		ld		(pantalla_cuchillo),a
    7567   00:6C1B                      		
    7568   00:6C1B  3E 05               		ld		a,5
    7569   00:6C1D  32 6A C6            		ld		(cx),a
    7570   00:6C20                      		
    7571   00:6C20  C9                  		ret
    7572   00:6C21                      		
    7573   00:6C21                      clava_a_la_derecha:
    7574   00:6C21                      		
    7575   00:6C21  3A 67 C6            		ld		a,(recordar_lo_que_habia)								;si está en escalera, tile especial
    7576   00:6C24  FE 2A               		cp		42
    7577   00:6C26  20 27               		jr.		nz,continua_clava_derecha_normal
    7578   00:6C28                      		
    7579   00:6C28  3E 05               		ld		a,5														;efecto sonoro de clavar
    7580   00:6C2A  CD 24 78            		call	efecto_sonido	
    7581   00:6C2D                      		
    7582   00:6C2D  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7583   00:6C30  CD C7 62            		call	get_bloque_en_X_Y
    7584   00:6C33  36 6A               		ld		[hl],106
    7585   00:6C35                      		
    7586   00:6C35  08                  		ex		af,af'
    7587   00:6C36  32 21 C6            		ld		(pantalla_activa),a
    7588   00:6C39                      		
    7589   00:6C39  47                  		ld		b,a
    7590   00:6C3A  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7591   00:6C3D  B8                  		cp		b
    7592   00:6C3E  C2 7E 6D            		jr.		nz,fin_de_secuencia_cuchillo
    7593   00:6C41                      				
    7594   00:6C41  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7595   00:6C44  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7596   00:6C47                      				
    7597   00:6C47  3E 6A               		ld		a,106
    7598   00:6C49  CD 12 78            		call	pinta_en_pantalla
    7599   00:6C4C                      		
    7600   00:6C4C  C3 7E 6D            		jr.		fin_de_secuencia_cuchillo
    7601   00:6C4F                      		
    7602   00:6C4F                      continua_clava_derecha_normal:
    7603   00:6C4F                      
    7604   00:6C4F  3E 05               		ld		a,5														;efecto sonoro de clavar
    7605   00:6C51  CD 24 78            		call	efecto_sonido	
    7606   00:6C54                      				
    7607   00:6C54  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7608   00:6C57  CD C7 62            		call	get_bloque_en_X_Y
    7609   00:6C5A  36 65               		ld		[hl],101
    7610   00:6C5C                      		
    7611   00:6C5C  08                  		ex		af,af'
    7612   00:6C5D  32 21 C6            		ld		(pantalla_activa),a
    7613   00:6C60                      		
    7614   00:6C60  47                  		ld		b,a
    7615   00:6C61  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7616   00:6C64  B8                  		cp		b
    7617   00:6C65  C2 7E 6D            		jr.		nz,fin_de_secuencia_cuchillo
    7618   00:6C68                      		
    7619   00:6C68  3A 6A C6            		ld		a,[cx]													;tambien en vram
    7620   00:6C6B  57                  		ld		d,a
    7621   00:6C6C  3A 6B C6            		ld		a,[cy]
    7622   00:6C6F  5F                  		ld		e,a
    7623   00:6C70  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7624   00:6C73                      		
    7625   00:6C73  3E 65               		ld		a,101
    7626   00:6C75  CD 12 78            		call	pinta_en_pantalla
    7627   00:6C78                      		
    7628   00:6C78  C3 7E 6D            		jr.		fin_de_secuencia_cuchillo
    7629   00:6C7B                      		
    7630   00:6C7B                      avanza_hacia_la_izquierda:
    7631   00:6C7B                      
    7632   00:6C7B  3A 6A C6            		ld		a,[cx]
    7633   00:6C7E  FE 05               		cp		5
    7634   00:6C80  DC 0E 6D            		call	c,cuchillo_cambia_a_pantalla_uno						;cambiamos de pantalla
    7635   00:6C83                      		
    7636   00:6C83  3A 21 C6            		ld		a,(pantalla_activa)
    7637   00:6C86  08                  		ex		af,af'
    7638   00:6C87  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7639   00:6C8A  32 21 C6            		ld		(pantalla_activa),a
    7640   00:6C8D                      							
    7641   00:6C8D  3A 6A C6            		ld		a,[cx]													;si en el siguiente tile hay ladrillo, va a clavar
    7642   00:6C90  D6 04               		sub		a,4
    7643   00:6C92  57                  		ld		d,a
    7644   00:6C93  3A 6B C6            		ld		a,[cy]
    7645   00:6C96  5F                  		ld		e,a
    7646   00:6C97  CD C7 62            		call	get_bloque_en_X_Y
    7647   00:6C9A  7E                  		ld		a,[hl]
    7648   00:6C9B  FE 20               		cp		32
    7649   00:6C9D  DA 2F 6D            		jr.		c,clava_a_la_izquierda
    7650   00:6CA0                      	
    7651   00:6CA0  3A 6A C6            		ld		a,[cx]													;recupera lo que habia en el tile anteriormente					
    7652   00:6CA3  57                  		ld		d,a
    7653   00:6CA4  3A 6B C6            		ld		a,[cy]
    7654   00:6CA7  5F                  		ld		e,a
    7655   00:6CA8  CD C7 62            		call	get_bloque_en_X_Y
    7656   00:6CAB                      		
    7657   00:6CAB  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7658   00:6CAE  77                  		ld		[hl],a
    7659   00:6CAF                      
    7660   00:6CAF  08                  		ex		af,af'
    7661   00:6CB0  32 21 C6            		ld		(pantalla_activa),a
    7662   00:6CB3                      		
    7663   00:6CB3  47                  		ld		b,a
    7664   00:6CB4  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7665   00:6CB7  B8                  		cp		b
    7666   00:6CB8  20 11               		jr.		nz,avanza_hacia_la_izquierda_continua
    7667   00:6CBA                      			
    7668   00:6CBA  3A 6A C6            		ld		a,[cx]													;recupera tambien en vram
    7669   00:6CBD  57                  		ld		d,a
    7670   00:6CBE  3A 6B C6            		ld		a,[cy]
    7671   00:6CC1  5F                  		ld		e,a
    7672   00:6CC2  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7673   00:6CC5                      		
    7674   00:6CC5  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7675   00:6CC8  CD 12 78            		call	pinta_en_pantalla
    7676   00:6CCB                      
    7677   00:6CCB                      avanza_hacia_la_izquierda_continua:
    7678   00:6CCB                      		
    7679   00:6CCB  3A 21 C6            		ld		a,(pantalla_activa)
    7680   00:6CCE  08                  		ex		af,af'
    7681   00:6CCF  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7682   00:6CD2  32 21 C6            		ld		(pantalla_activa),a
    7683   00:6CD5                      		
    7684   00:6CD5  3A 6A C6            		ld		a,[cx]													;salva lo que hay en el tile destino
    7685   00:6CD8  D6 04               		sub		a,4
    7686   00:6CDA  57                  		ld		d,a
    7687   00:6CDB  3A 6B C6            		ld		a,[cy]
    7688   00:6CDE  5F                  		ld		e,a
    7689   00:6CDF  CD C7 62            		call	get_bloque_en_X_Y
    7690   00:6CE2  7E                  		ld		a,[hl]
    7691   00:6CE3  32 67 C6            		ld		(recordar_lo_que_habia),a
    7692   00:6CE6                      		
    7693   00:6CE6  36 66               		ld		[hl],102												;pone el cuchillo en el nuevo tile
    7694   00:6CE8                      
    7695   00:6CE8  08                  		ex		af,af'
    7696   00:6CE9  32 21 C6            		ld		(pantalla_activa),a
    7697   00:6CEC                      		
    7698   00:6CEC  47                  		ld		b,a
    7699   00:6CED  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7700   00:6CF0  B8                  		cp		b
    7701   00:6CF1  20 12               		jr.		nz,avanza_hacia_la_izquierda_continua_2
    7702   00:6CF3                      						
    7703   00:6CF3  3A 6A C6            		ld		a,[cx]
    7704   00:6CF6  D6 04               		sub		a,4														;tambien en vram
    7705   00:6CF8  57                  		ld		d,a
    7706   00:6CF9  3A 6B C6            		ld		a,[cy]
    7707   00:6CFC  5F                  		ld		e,a
    7708   00:6CFD  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7709   00:6D00                      		
    7710   00:6D00  3E 66               		ld		a,102
    7711   00:6D02  CD 12 78            		call	pinta_en_pantalla
    7712   00:6D05                      
    7713   00:6D05                      avanza_hacia_la_izquierda_continua_2:
    7714   00:6D05                      							
    7715   00:6D05  3A 6A C6            		ld		a,[cx]													;nuevo valor para las coordenadas x e y
    7716   00:6D08  D6 04               		sub		a,4
    7717   00:6D0A  32 6A C6            		ld		[cx],a
    7718   00:6D0D                      		
    7719   00:6D0D  C9                  		ret
    7720   00:6D0E                      
    7721   00:6D0E                      cuchillo_cambia_a_pantalla_uno:
    7722   00:6D0E                      
    7723   00:6D0E  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7724   00:6D11  CD C7 62            		call	get_bloque_en_X_Y
    7725   00:6D14                      		
    7726   00:6D14  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7727   00:6D17  77                  		ld		[hl],a
    7728   00:6D18                      												
    7729   00:6D18  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7730   00:6D1B  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7731   00:6D1E                      		
    7732   00:6D1E  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    7733   00:6D21  CD 12 78            		call	pinta_en_pantalla
    7734   00:6D24                      		
    7735   00:6D24  3E 01               		ld		a,1
    7736   00:6D26  32 65 C6            		ld		(pantalla_cuchillo),a
    7737   00:6D29                      		
    7738   00:6D29  3E FA               		ld		a,250
    7739   00:6D2B  32 6A C6            		ld		(cx),a
    7740   00:6D2E                      		
    7741   00:6D2E  C9                  		ret
    7742   00:6D2F                      				
    7743   00:6D2F                      clava_a_la_izquierda:
    7744   00:6D2F                      		
    7745   00:6D2F  3A 67 C6            		ld		a,(recordar_lo_que_habia)								;si está en escalera, tile especial
    7746   00:6D32  FE 29               		cp		41
    7747   00:6D34  20 25               		jr.		nz,continua_clava_izquierda_normal
    7748   00:6D36                      		
    7749   00:6D36  3E 05               		ld		a,5														;efecto sonoro de clavar
    7750   00:6D38  CD 24 78            		call	efecto_sonido	
    7751   00:6D3B                      		
    7752   00:6D3B  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7753   00:6D3E  CD C7 62            		call	get_bloque_en_X_Y
    7754   00:6D41  36 69               		ld		[hl],105
    7755   00:6D43                      
    7756   00:6D43  08                  		ex		af,af'
    7757   00:6D44  32 21 C6            		ld		(pantalla_activa),a
    7758   00:6D47                      		
    7759   00:6D47  47                  		ld		b,a
    7760   00:6D48  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7761   00:6D4B  B8                  		cp		b
    7762   00:6D4C  20 30               		jr.		nz,fin_de_secuencia_cuchillo
    7763   00:6D4E                      				
    7764   00:6D4E  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7765   00:6D51  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7766   00:6D54                      				
    7767   00:6D54  3E 69               		ld		a,105
    7768   00:6D56  CD 12 78            		call	pinta_en_pantalla
    7769   00:6D59                      		
    7770   00:6D59  18 23               		jr.		fin_de_secuencia_cuchillo
    7771   00:6D5B                      				
    7772   00:6D5B                      continua_clava_izquierda_normal:
    7773   00:6D5B                      
    7774   00:6D5B  3E 05               		ld		a,5														;efecto sonoro de clavar
    7775   00:6D5D  CD 24 78            		call	efecto_sonido
    7776   00:6D60                      		
    7777   00:6D60  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7778   00:6D63  CD C7 62            		call	get_bloque_en_X_Y
    7779   00:6D66  36 67               		ld		[hl],103
    7780   00:6D68                      		
    7781   00:6D68                      		
    7782   00:6D68  08                  		ex		af,af'
    7783   00:6D69  32 21 C6            		ld		(pantalla_activa),a
    7784   00:6D6C                      		
    7785   00:6D6C  47                  		ld		b,a
    7786   00:6D6D  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7787   00:6D70  B8                  		cp		b
    7788   00:6D71  20 0B               		jr.		nz,fin_de_secuencia_cuchillo
    7789   00:6D73                      		
    7790   00:6D73                      		
    7791   00:6D73  CD 8E 6D            		call	reclamo_posicion_cuchillo
    7792   00:6D76  CD F8 62            		call	get_bloque_en_X_Y_paravram
    7793   00:6D79                      		
    7794   00:6D79  3E 67               		ld		a,103
    7795   00:6D7B  CD 12 78            		call	pinta_en_pantalla
    7796   00:6D7E                      
    7797   00:6D7E                      fin_de_secuencia_cuchillo:
    7798   00:6D7E                      				
    7799   00:6D7E  AF                  		xor		a
    7800   00:6D7F  32 64 C6            		ld		(momento_lanzamiento),a
    7801   00:6D82                      
    7802   00:6D82  C9                  		ret
    7803   00:6D83                      
    7804   00:6D83                      trabajamos_en_pantalla_cuchillo:
    7805   00:6D83                      		
    7806   00:6D83  3A 21 C6            		ld		a,(pantalla_activa)
    7807   00:6D86  08                  		ex		af,af'
    7808   00:6D87  3A 65 C6            		ld		a,(pantalla_cuchillo)
    7809   00:6D8A  32 21 C6            		ld		(pantalla_activa),a
    7810   00:6D8D                      		
    7811   00:6D8D  C9                  		ret
    7812   00:6D8E                      
    7813   00:6D8E                      reclamo_posicion_cuchillo:
    7814   00:6D8E                      
    7815   00:6D8E  3A 6A C6            		ld		a,[cx]													;tambien en vram
    7816   00:6D91  57                  		ld		d,a
    7817   00:6D92  3A 6B C6            		ld		a,[cy]
    7818   00:6D95  5F                  		ld		e,a
    7819   00:6D96                      		
    7820   00:6D96  C9                  		ret
    7821   00:6D97                      		
    7822   00:6D97                      actualiza_la_puerta:
    7823   00:6D97                      		
    7824   00:6D97  3A 28 C6            		ld		a,(ya_ha_cambiado_puerta)
    7825   00:6D9A  B7                  		or		a
    7826   00:6D9B  C0                  		ret		nz
    7827   00:6D9C                      		
    7828   00:6D9C  3A 23 C6            		ld		a,(mechero)
    7829   00:6D9F  B7                  		or		a
    7830   00:6DA0  C8                  		ret		z
    7831   00:6DA1  3A 24 C6            		ld		a,(gasolina)
    7832   00:6DA4  B7                  		or		a
    7833   00:6DA5  C8                  		ret		z
    7834   00:6DA6                      		
    7835   00:6DA6  3A 21 C6            		ld		a,(pantalla_activa)
    7836   00:6DA9  08                  		ex		af,af'
    7837   00:6DAA  3A 27 C6            		ld		a,(pantalla_puerta)
    7838   00:6DAD  32 21 C6            		ld		(pantalla_activa),a
    7839   00:6DB0                      		
    7840   00:6DB0  3A 5B C0            		ld		a,[px_salida]										
    7841   00:6DB3  57                  		ld		d,a
    7842   00:6DB4  3A 5C C0            		ld		a,[py_salida]
    7843   00:6DB7  5F                  		ld		e,a
    7844   00:6DB8  CD C7 62            		call	get_bloque_en_X_Y
    7845   00:6DBB  3E 2D               		ld		a,45
    7846   00:6DBD  77                  		ld		[hl],a
    7847   00:6DBE                      		
    7848   00:6DBE  3A 5B C0            		ld		a,[px_salida]
    7849   00:6DC1  C6 08               		add		8										
    7850   00:6DC3  57                  		ld		d,a
    7851   00:6DC4  3A 5C C0            		ld		a,[py_salida]
    7852   00:6DC7  5F                  		ld		e,a
    7853   00:6DC8  CD C7 62            		call	get_bloque_en_X_Y
    7854   00:6DCB  3E 2E               		ld		a,46
    7855   00:6DCD  77                  		ld		[hl],a
    7856   00:6DCE                      		
    7857   00:6DCE  3A 5B C0            		ld		a,[px_salida]										
    7858   00:6DD1  57                  		ld		d,a
    7859   00:6DD2  3A 5C C0            		ld		a,[py_salida]
    7860   00:6DD5  C6 08               		add		8
    7861   00:6DD7  5F                  		ld		e,a
    7862   00:6DD8  CD C7 62            		call	get_bloque_en_X_Y
    7863   00:6DDB  3E 30               		ld		a,48
    7864   00:6DDD  77                  		ld		[hl],a
    7865   00:6DDE                      		
    7866   00:6DDE  3A 5B C0            		ld		a,[px_salida]
    7867   00:6DE1  C6 08               		add		8										
    7868   00:6DE3  57                  		ld		d,a
    7869   00:6DE4  3A 5C C0            		ld		a,[py_salida]
    7870   00:6DE7  C6 08               		add		8
    7871   00:6DE9  5F                  		ld		e,a
    7872   00:6DEA  CD C7 62            		call	get_bloque_en_X_Y
    7873   00:6DED  3E 2F               		ld		a,47
    7874   00:6DEF  77                  		ld		[hl],a
    7875   00:6DF0                      				
    7876   00:6DF0  08                  		ex		af,af'
    7877   00:6DF1  32 21 C6            		ld		(pantalla_activa),a
    7878   00:6DF4  47                  		ld		b,a
    7879   00:6DF5  3A 27 C6            		ld		a,(pantalla_puerta)
    7880   00:6DF8  B8                  		cp		b
    7881   00:6DF9  20 38               		jr.		nz,final_actualiza_puerta
    7882   00:6DFB                      					
    7883   00:6DFB  2A 25 C6            		ld		hl,(posicion_puerta)
    7884   00:6DFE  3E 2D               		ld		a,45
    7885   00:6E00  CD 12 78            		call	pinta_en_pantalla
    7886   00:6E03                      		
    7887   00:6E03  3A 25 C6            		ld		a,(posicion_puerta)
    7888   00:6E06  C6 01               		add		1
    7889   00:6E08  32 25 C6            		ld		(posicion_puerta),a
    7890   00:6E0B  2A 25 C6            		ld		hl,(posicion_puerta)
    7891   00:6E0E                      		
    7892   00:6E0E  3E 2E               		ld		a,46
    7893   00:6E10  CD 12 78            		call	pinta_en_pantalla
    7894   00:6E13                      		
    7895   00:6E13  3A 25 C6            		ld		a,(posicion_puerta)
    7896   00:6E16  C6 1F               		add		31
    7897   00:6E18  32 25 C6            		ld		(posicion_puerta),a
    7898   00:6E1B  2A 25 C6            		ld		hl,(posicion_puerta)
    7899   00:6E1E                      		
    7900   00:6E1E  3E 30               		ld		a,48
    7901   00:6E20  CD 12 78            		call	pinta_en_pantalla
    7902   00:6E23                      		
    7903   00:6E23  3A 25 C6            		ld		a,(posicion_puerta)
    7904   00:6E26  C6 01               		add		1
    7905   00:6E28  32 25 C6            		ld		(posicion_puerta),a
    7906   00:6E2B  2A 25 C6            		ld		hl,(posicion_puerta)
    7907   00:6E2E                      		
    7908   00:6E2E  3E 2F               		ld		a,47
    7909   00:6E30  CD 12 78            		call	pinta_en_pantalla
    7910   00:6E33                      
    7911   00:6E33                      final_actualiza_puerta:
    7912   00:6E33                      		
    7913   00:6E33  3E 01               		ld		a,1
    7914   00:6E35  32 28 C6            		ld		(ya_ha_cambiado_puerta),a		
    7915   00:6E38                      		
    7916   00:6E38  3E FF               		ld		a,255
    7917   00:6E3A                      		
    7918   00:6E3A                      alegria_de_color:
    7919   00:6E3A                      
    7920   00:6E3A  F5                  		push	af
    7921   00:6E3B                      				
    7922   00:6E3B  AF                  		xor		a
    7923   00:6E3C  32 E9 F3            		ld		[COLLETRA],a											;aunque sólo quieras cambiar uno de los colores, tienes que volver a definir los otros dos para que te acepte un cambio
    7924   00:6E3F  AF                  		xor		a
    7925   00:6E40  32 EA F3            		ld		[COLFONDO],a
    7926   00:6E43  3E 04               		ld		a,4
    7927   00:6E45  32 EB F3            		ld		[COLBORDE],a
    7928   00:6E48  CD 62 00            		call	COLOR
    7929   00:6E4B  3E 07               		ld		a,7
    7930   00:6E4D  32 EB F3            		ld		[COLBORDE],a
    7931   00:6E50  CD 62 00            		call	COLOR
    7932   00:6E53  3E 0F               		ld		a,15
    7933   00:6E55  32 EB F3            		ld		[COLBORDE],a
    7934   00:6E58  CD 62 00            		call	COLOR
    7935   00:6E5B  3E 09               		ld		a,9
    7936   00:6E5D  32 EB F3            		ld		[COLBORDE],a
    7937   00:6E60  CD 62 00            		call	COLOR
    7938   00:6E63                      		
    7939   00:6E63  F1                  		pop		af
    7940   00:6E64  3D                  		dec		a
    7941   00:6E65  B7                  		or		a
    7942   00:6E66  20 D2               		jr.		nz,alegria_de_color
    7943   00:6E68                      		
    7944   00:6E68  3E 01               		ld		a,1
    7945   00:6E6A  32 EB F3            		ld		[COLBORDE],a
    7946   00:6E6D  CD 62 00            		call	COLOR
    7947   00:6E70                      		
    7948   00:6E70  3E 01               		ld		a,1
    7949   00:6E72  32 28 C6            		ld		(ya_ha_cambiado_puerta),a
    7950   00:6E75                      		
    7951   00:6E75  C9                  		ret
    7952   00:6E76                      
    7953   00:6E76                      comprueba_estado_de_explosion:
    7954   00:6E76                      
    7955   00:6E76  3A 5F C0            		ld		a,(estado_de_explosion)
    7956   00:6E79  B7                  		or		a
    7957   00:6E7A  C8                  		ret		z
    7958   00:6E7B                      				
    7959   00:6E7B  DD 21 2A C0         		ld		ix,atributos_sprite_general
    7960   00:6E7F                      		
    7961   00:6E7F  3A 5E C0            		ld		a,(y_explosion)			;valor y**
    7962   00:6E82  DD 77 0C            		ld		(ix+12),a
    7963   00:6E85                      			
    7964   00:6E85  3A 5D C0            		ld		a,(x_explosion)			;valor x**
    7965   00:6E88  DD 77 0D            		ld		(ix+13),a
    7966   00:6E8B                      		
    7967   00:6E8B  3A 5F C0            		ld		a,(estado_de_explosion)	;SPRITE
    7968   00:6E8E  C6 14               		add		a,20
    7969   00:6E90  87 87               [2]		add		a,a
    7970   00:6E92  DD 77 0E            		ld		(ix+14),a
    7971   00:6E95                      		
    7972   00:6E95  3E 0F               		ld		a,15					;COLOR EXPLOSION
    7973   00:6E97  DD 77 0F            		ld		(ix+15),a
    7974   00:6E9A                      		
    7975   00:6E9A  3A 60 C0            		ld		a,(contador_retardo_explosion)
    7976   00:6E9D  3C                  		inc		a
    7977   00:6E9E  32 60 C0            		ld		(contador_retardo_explosion),a
    7978   00:6EA1  FE 05               		cp		5
    7979   00:6EA3  C0                  		ret		nz
    7980   00:6EA4  AF                  		xor		a
    7981   00:6EA5  32 60 C0            		ld		(contador_retardo_explosion),a
    7982   00:6EA8  3A 5F C0            		ld		a,(estado_de_explosion)
    7983   00:6EAB  3C                  		inc		a
    7984   00:6EAC  32 5F C0            		ld		(estado_de_explosion),a
    7985   00:6EAF  FE 04               		cp		4
    7986   00:6EB1  28 01               		jr.		z,finalizamos_la_explosion
    7987   00:6EB3                      		
    7988   00:6EB3  C9                  		ret
    7989   00:6EB4                      		
    7990   00:6EB4                      finalizamos_la_explosion:
    7991   00:6EB4                      		
    7992   00:6EB4  DD 21 2A C0         		ld		ix,atributos_sprite_general
    7993   00:6EB8                      		
    7994   00:6EB8  AF                  		xor		a
    7995   00:6EB9  32 5F C0            		ld		(estado_de_explosion),a
    7996   00:6EBC  DD 77 0C            		ld		(ix+12),a
    7997   00:6EBF  DD 77 0D            		ld		(ix+13),a
    7998   00:6EC2  DD 77 0F            		ld		(ix+15),a
    7999   00:6EC5  3E 60               		ld		a,24*4
    8000   00:6EC7  DD 77 0E            		ld		(ix+14),a
    8001   00:6ECA                      
    8002   00:6ECA  C9                  		ret
    8003   00:6ECB                      
    8004   00:6ECB                      puntuacion_vidas_fase:
    8005   00:6ECB                      		
    8006   00:6ECB  3A 1E C0            		ld		a,(vidas_prota)						;pinta vidas
    8007   00:6ECE  FE 0A               		cp		10
    8008   00:6ED0  D4 0E 6F            		call	nc,pon_vidas_a_maximo
    8009   00:6ED3                      		
    8010   00:6ED3  C6 C0               		add		a,192
    8011   00:6ED5  11 03 18            		ld		de,#1803
    8012   00:6ED8  CD ED 68            		call	pinta_algo_solo
    8013   00:6EDB                      		
    8014   00:6EDB  3A 22 C0            		ld		a,(fase_en_la_que_esta)									;pinta fase
    8015   00:6EDE                      ;		cp		20
    8016   00:6EDE                      ;		jr.		nc,fase_superior_a_veinte
    8017   00:6EDE  FE 0A               		cp		10
    8018   00:6EE0  D4 14 6F            		call	nc,fase_superior_a_diez
    8019   00:6EE3                      		
    8020   00:6EE3                      puntuacion_vidas_fase_2:		
    8021   00:6EE3                      		
    8022   00:6EE3  C6 C0               		add		a,192
    8023   00:6EE5  11 16 18            		ld		de,#1816
    8024   00:6EE8  CD ED 68            		call	pinta_algo_solo
    8025   00:6EEB                      								
    8026   00:6EEB  3A 33 C6            		ld		a,(cuenta_puntos_o_no)				;decide si pasa a poner puntos
    8027   00:6EEE  B7                  		or		a
    8028   00:6EEF  C8                  		ret		z
    8029   00:6EF0                      				
    8030   00:6EF0  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)
    8031   00:6EF3  47                  		ld		b,a
    8032   00:6EF4  3A 2B C6            		ld		a,(score)
    8033   00:6EF7  80                  		add		a,b
    8034   00:6EF8  32 2B C6            		ld		(score),a
    8035   00:6EFB  AF                  		xor		a
    8036   00:6EFC  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8037   00:6EFF  3A 2B C6            		ld		a,(score)
    8038   00:6F02  47                  		ld		b,a
    8039   00:6F03  3A 2D C6            		ld		a,(contador_para_puntuacion)
    8040   00:6F06  B8                  		cp		b
    8041   00:6F07  20 18               		jr.		nz,rutina_de_puntos
    8042   00:6F09  AF                  		xor		a
    8043   00:6F0A  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8044   00:6F0D  C9                  		ret
    8045   00:6F0E                      
    8046   00:6F0E                      pon_vidas_a_maximo:
    8047   00:6F0E                      		
    8048   00:6F0E  3E 09               		ld		a,9
    8049   00:6F10  32 1E C0            		ld		(vidas_prota),a
    8050   00:6F13                      		
    8051   00:6F13  C9                  		ret
    8052   00:6F14                      		
    8053   00:6F14                      fase_superior_a_diez:
    8054   00:6F14                      
    8055   00:6F14  D6 0A               		sub		10
    8056   00:6F16                      		
    8057   00:6F16  F5                  		push	af
    8058   00:6F17                      		
    8059   00:6F17  3E C1               		ld		a,193
    8060   00:6F19  11 15 18            		ld		de,#1815
    8061   00:6F1C  CD ED 68            		call	pinta_algo_solo
    8062   00:6F1F                      				
    8063   00:6F1F  F1                  		pop		af
    8064   00:6F20                      		
    8065   00:6F20  C9                  		ret
    8066   00:6F21                      
    8067   00:6F21                      ;fase_superior_a_veinte:
    8068   00:6F21                      		
    8069   00:6F21                      ;		sub		20
    8070   00:6F21                      		
    8071   00:6F21                      ;		push	af
    8072   00:6F21                      		
    8073   00:6F21                      ;		ld		a,194
    8074   00:6F21                      ;		ld		[#eeee],a
    8075   00:6F21                      ;		ld		hl,#eeee
    8076   00:6F21                      ;		ld		de,#1815
    8077   00:6F21                      ;		ld		bc,1
    8078   00:6F21                      ;		call	GRABAVRAM
    8079   00:6F21                      				
    8080   00:6F21                      ;		pop		af
    8081   00:6F21                      		
    8082   00:6F21                      ;		jr.		puntuacion_vidas_fase_2
    8083   00:6F21                      				
    8084   00:6F21                      rutina_de_puntos:
    8085   00:6F21                      
    8086   00:6F21  3A 2D C6            		ld		a,(contador_para_puntuacion)
    8087   00:6F24  3C                  		inc		a
    8088   00:6F25  32 2D C6            		ld		(contador_para_puntuacion),a
    8089   00:6F28                      				
    8090   00:6F28  3A 2F C6            		ld		a,(posicion_del_punto_unidades)
    8091   00:6F2B  3C                  		inc		a
    8092   00:6F2C  32 2F C6            		ld		(posicion_del_punto_unidades),a
    8093   00:6F2F  FE CA               		cp		202
    8094   00:6F31  CC 36 6F            		call	z,resetea_los_numeros
    8095   00:6F34                      			
    8096   00:6F34  18 33               		jr.		termina_de_contar_puntuacion
    8097   00:6F36                      		
    8098   00:6F36                      resetea_los_numeros:
    8099   00:6F36                      		
    8100   00:6F36  3E C0               		ld		a,192								;limpia unidades
    8101   00:6F38  32 2F C6            		ld		(posicion_del_punto_unidades),a
    8102   00:6F3B                      		
    8103   00:6F3B  3A 30 C6            		ld		a,(posicion_del_punto_decenas)		;aumenta decenas
    8104   00:6F3E  3C                  		inc		a
    8105   00:6F3F  32 30 C6            		ld		(posicion_del_punto_decenas),a		
    8106   00:6F42  FE CA               		cp		202									;comprueba decenas
    8107   00:6F44  C0                  		ret		nz
    8108   00:6F45                      
    8109   00:6F45  3E C0               		ld		a,192								;limpia decenas
    8110   00:6F47  32 30 C6            		ld		(posicion_del_punto_decenas),a
    8111   00:6F4A                      		
    8112   00:6F4A  3A 31 C6            		ld		a,(posicion_del_punto_centenas)		;aumenta centenas
    8113   00:6F4D  3C                  		inc		a
    8114   00:6F4E  32 31 C6            		ld		(posicion_del_punto_centenas),a
    8115   00:6F51  FE CA               		cp		202									;comprueba centenas
    8116   00:6F53  C0                  		ret		nz
    8117   00:6F54                      
    8118   00:6F54  3E C0               		ld		a,192								;limpia centenas
    8119   00:6F56  32 31 C6            		ld		(posicion_del_punto_centenas),a
    8120   00:6F59                      		
    8121   00:6F59  3A 32 C6            		ld		a,(posicion_del_punto_millares)		;aumenta millares
    8122   00:6F5C  3C                  		inc		a
    8123   00:6F5D  32 32 C6            		ld		(posicion_del_punto_millares),a
    8124   00:6F60  FE CA               		cp		202									;comprueba millares
    8125   00:6F62  C0                  		ret		nz			
    8126   00:6F63                      		
    8127   00:6F63  3E C0               		ld		a,192								;limpia millares
    8128   00:6F65  32 32 C6            		ld		(posicion_del_punto_millares),a
    8129   00:6F68                      		
    8130   00:6F68  C9                  		ret
    8131   00:6F69                      		
    8132   00:6F69                      termina_de_contar_puntuacion:
    8133   00:6F69                      
    8134   00:6F69  3A 32 C6            		ld		a,(posicion_del_punto_millares)
    8135   00:6F6C  11 0B 18            		ld		de,#180b
    8136   00:6F6F  CD ED 68            		call	pinta_algo_solo
    8137   00:6F72                      		
    8138   00:6F72  3A 31 C6            		ld		a,(posicion_del_punto_centenas)
    8139   00:6F75  11 0C 18            		ld		de,#180c
    8140   00:6F78  CD ED 68            		call	pinta_algo_solo
    8141   00:6F7B                      		
    8142   00:6F7B  3A 30 C6            		ld		a,(posicion_del_punto_decenas)
    8143   00:6F7E  11 0D 18            		ld		de,#180d
    8144   00:6F81  CD ED 68            		call	pinta_algo_solo
    8145   00:6F84                      		
    8146   00:6F84  3A 2F C6            		ld		a,(posicion_del_punto_unidades)
    8147   00:6F87  11 0E 18            		ld		de,#180e
    8148   00:6F8A  C3 ED 68            		jp		pinta_algo_solo
    8149   00:6F8D                      
    8150   00:6F8D                      ha_saltado:
    8151   00:6F8D                      
    8152   00:6F8D  AF                  		xor		a
    8153   00:6F8E  32 23 C0            		ld		(estado_prota),a
    8154   00:6F91                      		
    8155   00:6F91  3A 27 C0            		ld		a,(dir_prota)
    8156   00:6F94  B7                  		or		a
    8157   00:6F95  28 04               		jr.		z,salta_hacia_la_derecha
    8158   00:6F97  FE 01               		cp		1
    8159   00:6F99  28 0F               		jr.		z,salta_hacia_la_izquierda
    8160   00:6F9B                      		
    8161   00:6F9B                      salta_hacia_la_derecha:
    8162   00:6F9B                      			
    8163   00:6F9B  CD D7 77            		call	dieciseis_dos
    8164   00:6F9E  CD C7 62            		call	get_bloque_en_X_Y
    8165   00:6FA1  FE 1F               		cp		31
    8166   00:6FA3  D8                  		ret		c
    8167   00:6FA4                      		
    8168   00:6FA4  3E 01               		ld		a,1
    8169   00:6FA6  32 22 C6            		ld		(estado_de_salto),a
    8170   00:6FA9  C9                  		ret
    8171   00:6FAA                      
    8172   00:6FAA                      salta_hacia_la_izquierda:
    8173   00:6FAA                      
    8174   00:6FAA  CD 0A 78            		call	menos_uno_dos
    8175   00:6FAD  CD C7 62            		call	get_bloque_en_X_Y
    8176   00:6FB0  FE 1F               		cp		31
    8177   00:6FB2  D8                  		ret		c
    8178   00:6FB3                      		
    8179   00:6FB3  3E 1F               		ld		a,31
    8180   00:6FB5  32 22 C6            		ld		(estado_de_salto),a
    8181   00:6FB8  C9                  		ret
    8182   00:6FB9                      
    8183   00:6FB9                      salta_sube:
    8184   00:6FB9                      		
    8185   00:6FB9  AF                  		xor		a
    8186   00:6FBA  32 23 C0            		ld		(estado_prota),a
    8187   00:6FBD                      						
    8188   00:6FBD  CD CF 77            		call	dieciseis_quince
    8189   00:6FC0  CD C7 62            		call	get_bloque_en_X_Y
    8190   00:6FC3                      		
    8191   00:6FC3  FE 1F               		cp		31
    8192   00:6FC5  38 1B               		jr.		c,la_y_a_la_derecha
    8193   00:6FC7                      		
    8194   00:6FC7  CD F0 77            		call	uno_menos_cuatro
    8195   00:6FCA  CD C7 62            		call	get_bloque_en_X_Y
    8196   00:6FCD                      		
    8197   00:6FCD  FE 1F               		cp		31
    8198   00:6FCF  38 2C               		jr.		c,resetea_el_salto
    8199   00:6FD1  FE 4D               		cp		77
    8200   00:6FD3  28 28               		jr.		z,resetea_el_salto
    8201   00:6FD5                      		
    8202   00:6FD5  3A 1B C0            		ld		a,[px]
    8203   00:6FD8  C6 01               		add		1
    8204   00:6FDA  32 1B C0            		ld		[px],a
    8205   00:6FDD                      
    8206   00:6FDD  3E 04               		ld		a,4														;efecto de saltar
    8207   00:6FDF  CD 24 78            		call	efecto_sonido
    8208   00:6FE2                      
    8209   00:6FE2                      la_y_a_la_derecha:
    8210   00:6FE2                      
    8211   00:6FE2  3A 1C C0            		ld		a,[py]
    8212   00:6FE5  D6 04               		sub		a,4
    8213   00:6FE7  32 1C C0            		ld		[py],a
    8214   00:6FEA                      		
    8215   00:6FEA                      salta_resolucion:
    8216   00:6FEA                      		
    8217   00:6FEA  CD 14 5D            		call	atributos_sprites
    8218   00:6FED  3A 22 C6            		ld		a,(estado_de_salto)
    8219   00:6FF0  3C                  		inc		a
    8220   00:6FF1  32 22 C6            		ld		(estado_de_salto),a
    8221   00:6FF4  FE 15               		cp		21
    8222   00:6FF6  28 05               		jr.		z,resetea_el_salto
    8223   00:6FF8  FE 33               		cp		51
    8224   00:6FFA  28 01               		jr.		z,resetea_el_salto
    8225   00:6FFC  C9                  		ret
    8226   00:6FFD                      
    8227   00:6FFD                      resetea_el_salto:
    8228   00:6FFD                      
    8229   00:6FFD  AF                  		xor		a
    8230   00:6FFE  32 22 C6            		ld		(estado_de_salto),a
    8231   00:7001  3E 05               		ld		a,5
    8232   00:7003  32 62 C6            		ld		(cont_no_salta_dos_seguidas),a
    8233   00:7006  C9                  		ret
    8234   00:7007                      		
    8235   00:7007                      salta_sube_izquierda:	
    8236   00:7007                      
    8237   00:7007                      
    8238   00:7007  CD 03 78            		call	menos_uno_quince
    8239   00:700A  CD C7 62            		call	get_bloque_en_X_Y
    8240   00:700D                      				
    8241   00:700D  FE 1F               		cp		31
    8242   00:700F  38 22               		jr.		c,la_y_a_la_izquierda
    8243   00:7011                      		
    8244   00:7011  3A 1B C0            		ld		a,[px]													;mira si tiene techo
    8245   00:7014  3D                  		dec		a														
    8246   00:7015  57                  		ld		d,a
    8247   00:7016  3A 1C C0            		ld		a,[py]
    8248   00:7019  D6 04               		sub		4
    8249   00:701B  5F                  		ld		e,a
    8250   00:701C  CD C7 62            		call	get_bloque_en_X_Y
    8251   00:701F                      		
    8252   00:701F  FE 1F               		cp		31
    8253   00:7021  38 DA               		jr.		c,resetea_el_salto
    8254   00:7023  FE 4D               		cp		77
    8255   00:7025  28 D6               		jr.		z,resetea_el_salto
    8256   00:7027                      		
    8257   00:7027  3A 1B C0            		ld		a,[px]
    8258   00:702A  3D                  		dec		a
    8259   00:702B  32 1B C0            		ld		[px],a
    8260   00:702E                      
    8261   00:702E  3E 04               		ld		a,4														;efecto de saltar
    8262   00:7030  CD 24 78            		call	efecto_sonido
    8263   00:7033                      
    8264   00:7033                      la_y_a_la_izquierda:
    8265   00:7033                      		
    8266   00:7033  3A 1C C0            		ld		a,[py]
    8267   00:7036  D6 04               		sub		a,4														
    8268   00:7038  32 1C C0            		ld		[py],a
    8269   00:703B                      		
    8270   00:703B                      salta_sigue:
    8271   00:703B                      		
    8272   00:703B  CD CF 77            		call	dieciseis_quince
    8273   00:703E  CD C7 62            		call	get_bloque_en_X_Y
    8274   00:7041                      		
    8275   00:7041  FE 1F               		cp		31
    8276   00:7043  38 B8               		jr.		c,resetea_el_salto
    8277   00:7045                      		
    8278   00:7045  3A 1B C0            		ld		a,[px]
    8279   00:7048  C6 01               		add		1
    8280   00:704A  32 1B C0            		ld		[px],a
    8281   00:704D                      		
    8282   00:704D  18 9B               		jr.		salta_resolucion
    8283   00:704F                      
    8284   00:704F                      salta_sigue_izquierda:
    8285   00:704F                      
    8286   00:704F  CD 03 78            		call	menos_uno_quince
    8287   00:7052  CD C7 62            		call	get_bloque_en_X_Y
    8288   00:7055                      		
    8289   00:7055  FE 1F               		cp		31
    8290   00:7057  38 A4               		jr.		c,resetea_el_salto
    8291   00:7059                      		
    8292   00:7059  3A 1B C0            		ld		a,[px]
    8293   00:705C  3D                  		dec		a
    8294   00:705D  32 1B C0            		ld		[px],a
    8295   00:7060                      		
    8296   00:7060  18 88               		jr.		salta_resolucion
    8297   00:7062                      
    8298   00:7062                      salta_baja:
    8299   00:7062                      
    8300   00:7062  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
    8301   00:7065  C6 0F               		add		15																	
    8302   00:7067  57                  		ld		d,a
    8303   00:7068  3A 1C C0            		ld		a,[py]
    8304   00:706B  C6 0F               		add		15
    8305   00:706D  5F                  		ld		e,a	
    8306   00:706E  CD C7 62            		call	get_bloque_en_X_Y
    8307   00:7071                      		
    8308   00:7071  FE 1F               		cp		31
    8309   00:7073  38 88               		jr.		c,resetea_el_salto
    8310   00:7075                      				
    8311   00:7075  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
    8312   00:7078  C6 0F               		add		15																	
    8313   00:707A  57                  		ld		d,a
    8314   00:707B  3A 1C C0            		ld		a,[py]
    8315   00:707E  C6 13               		add		19
    8316   00:7080  5F                  		ld		e,a
    8317   00:7081  CD C7 62            		call	get_bloque_en_X_Y
    8318   00:7084                      		
    8319   00:7084  FE 1F               		cp		31
    8320   00:7086  DA FD 6F            		jr.		c,resetea_el_salto
    8321   00:7089                      		
    8322   00:7089  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
    8323   00:708C  C6 08               		add		8																	
    8324   00:708E  57                  		ld		d,a
    8325   00:708F  3A 1C C0            		ld		a,[py]
    8326   00:7092  C6 13               		add		19
    8327   00:7094  5F                  		ld		e,a
    8328   00:7095  CD C7 62            		call	get_bloque_en_X_Y
    8329   00:7098                      		
    8330   00:7098  FE 1F               		cp		31
    8331   00:709A  DA FD 6F            		jr.		c,resetea_el_salto
    8332   00:709D                      		
    8333   00:709D  3A 1B C0            		ld		a,[px]
    8334   00:70A0  C6 01               		add		1
    8335   00:70A2  32 1B C0            		ld		[px],a
    8336   00:70A5                      		
    8337   00:70A5  3A 1C C0            		ld		a,[py]
    8338   00:70A8  C6 04               		add		4
    8339   00:70AA  32 1C C0            		ld		[py],a
    8340   00:70AD                      		
    8341   00:70AD  C3 EA 6F            		jr.		salta_resolucion
    8342   00:70B0                      		
    8343   00:70B0                      salta_baja_izquierda:
    8344   00:70B0                      
    8345   00:70B0  CD 1B 77            		call	menos_uno_dieciseis
    8346   00:70B3  CD C7 62            		call	get_bloque_en_X_Y
    8347   00:70B6                      		
    8348   00:70B6  FE 1F               		cp		31
    8349   00:70B8  DA FD 6F            		jr.		c,resetea_el_salto
    8350   00:70BB                      		
    8351   00:70BB  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
    8352   00:70BE  D6 0F               		sub		15														
    8353   00:70C0  57                  		ld		d,a
    8354   00:70C1  3A 1C C0            		ld		a,[py]
    8355   00:70C4  C6 13               		add		19
    8356   00:70C6  5F                  		ld		e,a
    8357   00:70C7  CD C7 62            		call	get_bloque_en_X_Y
    8358   00:70CA                      		
    8359   00:70CA  FE 1F               		cp		31
    8360   00:70CC  DA FD 6F            		jr.		c,resetea_el_salto
    8361   00:70CF                      		
    8362   00:70CF  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
    8363   00:70D2  D6 08               		sub		8														
    8364   00:70D4  57                  		ld		d,a
    8365   00:70D5  3A 1C C0            		ld		a,[py]
    8366   00:70D8  C6 13               		add		19
    8367   00:70DA  5F                  		ld		e,a
    8368   00:70DB  CD C7 62            		call	get_bloque_en_X_Y
    8369   00:70DE                      		
    8370   00:70DE  FE 1F               		cp		31
    8371   00:70E0  DA FD 6F            		jr.		c,resetea_el_salto
    8372   00:70E3                      		
    8373   00:70E3  3A 1B C0            		ld		a,[px]
    8374   00:70E6  3D                  		dec		a
    8375   00:70E7  32 1B C0            		ld		[px],a
    8376   00:70EA                      		
    8377   00:70EA  3A 1C C0            		ld		a,[py]
    8378   00:70ED  C6 04               		add		4
    8379   00:70EF  32 1C C0            		ld		[py],a
    8380   00:70F2                      		
    8381   00:70F2  C3 EA 6F            		jr.		salta_resolucion
    8382   00:70F5                      
    8383   00:70F5                      animacion_entre_fases:
    8384   00:70F5                      
    8385   00:70F5  CD A2 45            		call 	limpia_sprites
    8386   00:70F8  CD 0F 4B            		call	SPRITES_UNO
    8387   00:70FB  CD 9B 4B            		call	activa_mute
    8388   00:70FE  3E 0A               		ld		a,10													;las veces que se repite la secuencia de quemado
    8389   00:7100                      							
    8390   00:7100                      quemando_al_prota:
    8391   00:7100                      		
    8392   00:7100  76                  		halt
    8393   00:7101  DD 21 2A C0         		ld		ix,atributos_sprite_general
    8394   00:7105                      		
    8395   00:7105  F5                  		push	af
    8396   00:7106  3A 1C C0            		ld		a,(py)
    8397   00:7109  CD 28 78            		call	CERO_CUATRO_OCHO
    8398   00:710C  3A 1B C0            		ld		a,(px)
    8399   00:710F  CD 32 78            		call	UNO_CINCO_NUEVE	
    8400   00:7112  3E CC               		ld		a,51*4
    8401   00:7114  CD 3C 78            		call	DOS_SEIS_DIEZ
    8402   00:7117  3E 0F               		ld		a,15
    8403   00:7119  DD 77 03            		ld		(ix+3),a
    8404   00:711C  3E 06               		ld		a,6
    8405   00:711E  DD 77 07            		ld		(ix+7),a
    8406   00:7121  3E 0A               		ld		a,10
    8407   00:7123  DD 77 0B            		ld		(ix+11),a
    8408   00:7126                      				
    8409   00:7126  CD 14 5D            		call	atributos_sprites
    8410   00:7129  3E 0A               		ld		a,10
    8411   00:712B                      		
    8412   00:712B                      rutina_espera_quemando_1:
    8413   00:712B                      		
    8414   00:712B  76                  		halt		
    8415   00:712C  3D                  		dec		a
    8416   00:712D  B7                  		or		a
    8417   00:712E  20 FB               		jr.		nz,rutina_espera_quemando_1	
    8418   00:7130                      		
    8419   00:7130  76                  		halt
    8420   00:7131  3E 0B               		ld		a,11													;efecto sonoro de quemar
    8421   00:7133  CD 24 78            		call	efecto_sonido
    8422   00:7136                      		
    8423   00:7136  DD 21 2A C0         		ld		ix,atributos_sprite_general
    8424   00:713A                      		
    8425   00:713A  3E D8               		ld		a,54*4
    8426   00:713C  CD 3C 78            		call	DOS_SEIS_DIEZ
    8427   00:713F                      				
    8428   00:713F  CD 14 5D            		call	atributos_sprites		
    8429   00:7142  3E 0A               		ld		a,10
    8430   00:7144                      		
    8431   00:7144                      rutina_espera_quemando_2:
    8432   00:7144                      		
    8433   00:7144  76                  		halt	
    8434   00:7145  3D                  		dec		a
    8435   00:7146  B7                  		or		a
    8436   00:7147  20 FB               		jr.		nz,rutina_espera_quemando_2	
    8437   00:7149                      		
    8438   00:7149  F1                  		pop		af
    8439   00:714A                      		
    8440   00:714A  3D                  		dec		a
    8441   00:714B  B7                  		or		a
    8442   00:714C  20 B2               		jr.		nz,quemando_al_prota
    8443   00:714E                      		
    8444   00:714E  CD A2 45            		call	limpia_sprites
    8445   00:7151                      		
    8446   00:7151  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    8447   00:7154  3C                  		inc		a
    8448   00:7155  32 22 C0            		ld		(fase_en_la_que_esta),a
    8449   00:7158                      		
    8450   00:7158  CD CB 6E            		call	puntuacion_vidas_fase
    8451   00:715B                      		
    8452   00:715B  3E 80               		ld		a,128
    8453   00:715D  32 1C C0            		ld		(py),a
    8454   00:7160  3E 18               		ld		a,24
    8455   00:7162  32 1B C0            		ld		(px),a
    8456   00:7165                      		
    8457   00:7165  CD 41 00            		call	DISSCR	
    8458   00:7168                      		
    8459   00:7168  F3                  		di
    8460   00:7169  CD 16 A5            		call	setrompage0	
    8461   00:716C  21 E6 AA            		ld		hl,entre_fases											;las dos puertas entre fases
    8462   00:716F  11 20 18            		ld		de,#1820
    8463   00:7172  CD 4A 78            		call	depack_VRAM
    8464   00:7175  CD 1B A5            		call	recbios
    8465   00:7178  FB                  		ei
    8466   00:7179                      		
    8467   00:7179  3A 01 C0            		ld		a,(idioma)
    8468   00:717C  B7                  		or		a
    8469   00:717D  20 0F               		jr.		nz,completamos_la_frase_en_ingles
    8470   00:717F                      		
    8471   00:717F  21 99 89            		ld		hl,camino_a
    8472   00:7182  11 A2 1A            		ld		de,#1aa2
    8473   00:7185  01 1C 00            		ld		bc,28
    8474   00:7188  CD 5C 00            		call	GRABAVRAM
    8475   00:718B  C3 9A 71            		jp		ha_saltado_la_rutina_anterior
    8476   00:718E                      		
    8477   00:718E                      completamos_la_frase_en_ingles:
    8478   00:718E                      
    8479   00:718E  21 B5 89            		ld		hl,camino_a_ing
    8480   00:7191  11 C6 1A            		ld		de,#1ac6
    8481   00:7194  01 14 00            		ld		bc,20
    8482   00:7197  CD 5C 00            		call	GRABAVRAM
    8483   00:719A                      				
    8484   00:719A                      ha_saltado_la_rutina_anterior:
    8485   00:719A                      		
    8486   00:719A  CD A0 71            		call	rutina_pone_consejo
    8487   00:719D  C3 AB 72            		jr.		rutina_espera_quemando_2_cont
    8488   00:71A0                      		
    8489   00:71A0                      rutina_pone_consejo:		
    8490   00:71A0                      		
    8491   00:71A0  11 A1 18            		ld		de,#18a1
    8492   00:71A3  01 1E 00            		ld		bc,30
    8493   00:71A6                      		
    8494   00:71A6  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    8495   00:71A9  FE 02               		cp		2
    8496   00:71AB  28 20               		jr.		z,consejos_fase_2
    8497   00:71AD  FE 03               		cp		3
    8498   00:71AF  28 3A               		jr.		z,consejos_fase_3
    8499   00:71B1  FE 04               		cp		4
    8500   00:71B3  28 54               		jr.		z,consejos_fase_4
    8501   00:71B5  FE 05               		cp		5
    8502   00:71B7  CA 51 72            		jr.		z,consejos_fase_7
    8503   00:71BA  FE 09               		cp		9
    8504   00:71BC  CA 87 72            		jr.		z,consejos_fase_9
    8505   00:71BF  FE 0B               		cp		11
    8506   00:71C1  CA 69 72            		jr.		z,consejos_fase_8
    8507   00:71C4  FE 0C               		cp		12
    8508   00:71C6  28 53               		jr.		z,consejos_fase_5
    8509   00:71C8  FE 0D               		cp		13
    8510   00:71CA  28 6D               		jr.		z,consejos_fase_6		
    8511   00:71CC  C9                  		ret
    8512   00:71CD                      
    8513   00:71CD                      consejos_fase_2:
    8514   00:71CD                      		
    8515   00:71CD  3A 01 C0            		ld		a,(idioma)
    8516   00:71D0  B7                  		or		a
    8517   00:71D1  28 0C               		jr.		z,consejo_esp_fase_2
    8518   00:71D3                      
    8519   00:71D3                      consejo_ing_fase_2:
    8520   00:71D3                      
    8521   00:71D3  21 6D 88            		ld		hl,advice_2
    8522   00:71D6  11 A7 18            		ld		de,#18a7
    8523   00:71D9  01 12 00            		ld		bc,18
    8524   00:71DC  C3 5C 00            		jp		GRABAVRAM
    8525   00:71DF                      
    8526   00:71DF                      consejo_esp_fase_2:
    8527   00:71DF                      				
    8528   00:71DF  21 8B 87            		ld		hl,consejo_2
    8529   00:71E2  11 A7 18            		ld		de,#18a7
    8530   00:71E5  01 12 00            		ld		bc,18
    8531   00:71E8  C3 5C 00            		jp		GRABAVRAM
    8532   00:71EB                      
    8533   00:71EB                      consejos_fase_3:
    8534   00:71EB                      		
    8535   00:71EB  3A 01 C0            		ld		a,(idioma)
    8536   00:71EE  B7                  		or		a
    8537   00:71EF  28 0C               		jr.		z,consejo_esp_fase_3
    8538   00:71F1                      
    8539   00:71F1                      consejo_ing_fase_3:
    8540   00:71F1                      
    8541   00:71F1  21 7F 88            		ld		hl,advice_3
    8542   00:71F4  11 A0 18            		ld		de,#18a0
    8543   00:71F7  01 20 00            		ld		bc,32
    8544   00:71FA  C3 5C 00            		jp		GRABAVRAM
    8545   00:71FD                      
    8546   00:71FD                      consejo_esp_fase_3:
    8547   00:71FD                      				
    8548   00:71FD  21 9D 87            		ld		hl,consejo_3
    8549   00:7200  11 A0 18            		ld		de,#18a0
    8550   00:7203  01 20 00            		ld		bc,32
    8551   00:7206  C3 5C 00            		jp		GRABAVRAM
    8552   00:7209                      
    8553   00:7209                      consejos_fase_4:
    8554   00:7209                      		
    8555   00:7209  3A 01 C0            		ld		a,(idioma)
    8556   00:720C  B7                  		or		a
    8557   00:720D  28 06               		jr.		z,consejo_esp_fase_4
    8558   00:720F                      
    8559   00:720F                      consejo_ing_fase_4:
    8560   00:720F                      
    8561   00:720F  21 9F 88            		ld		hl,advice_4
    8562   00:7212                      ;		ld		de,#18a1
    8563   00:7212                      ;		ld		bc,30
    8564   00:7212  C3 5C 00            		jp		GRABAVRAM
    8565   00:7215                      
    8566   00:7215                      consejo_esp_fase_4:
    8567   00:7215                      				
    8568   00:7215  21 BD 87            		ld		hl,consejo_4
    8569   00:7218                      ;		ld		de,#18a1
    8570   00:7218                      ;		ld		bc,30
    8571   00:7218  C3 5C 00            		jp		GRABAVRAM
    8572   00:721B                      				
    8573   00:721B                      consejos_fase_5:
    8574   00:721B                      		
    8575   00:721B  3A 01 C0            		ld		a,(idioma)
    8576   00:721E  B7                  		or		a
    8577   00:721F  28 0C               		jr.		z,consejo_esp_fase_5
    8578   00:7221                      
    8579   00:7221                      consejo_ing_fase_5:
    8580   00:7221                      
    8581   00:7221  21 BD 88            		ld		hl,advice_5
    8582   00:7224  11 A0 18            		ld		de,#18a0
    8583   00:7227  01 20 00            		ld		bc,32
    8584   00:722A  C3 5C 00            		jp		GRABAVRAM
    8585   00:722D                      
    8586   00:722D                      consejo_esp_fase_5:
    8587   00:722D                      				
    8588   00:722D  21 DB 87            		ld		hl,consejo_5
    8589   00:7230  11 A0 18            		ld		de,#18a0
    8590   00:7233  01 1F 00            		ld		bc,31
    8591   00:7236  C3 5C 00            		jp		GRABAVRAM
    8592   00:7239                      
    8593   00:7239                      consejos_fase_6:
    8594   00:7239                      		
    8595   00:7239  3A 01 C0            		ld		a,(idioma)
    8596   00:723C  B7                  		or		a
    8597   00:723D  28 0C               		jr.		z,consejo_esp_fase_6
    8598   00:723F                      
    8599   00:723F                      consejo_ing_fase_6:
    8600   00:723F                      
    8601   00:723F  21 DD 88            		ld		hl,advice_6
    8602   00:7242  11 A2 18            		ld		de,#18a2
    8603   00:7245  01 1D 00            		ld		bc,29
    8604   00:7248  C3 5C 00            		jp		GRABAVRAM
    8605   00:724B                      
    8606   00:724B                      consejo_esp_fase_6:
    8607   00:724B                      				
    8608   00:724B  21 FB 87            		ld		hl,consejo_6
    8609   00:724E                      
    8610   00:724E  C3 5C 00            		jp		GRABAVRAM
    8611   00:7251                      			
    8612   00:7251                      consejos_fase_7:
    8613   00:7251                      		
    8614   00:7251  3A 01 C0            		ld		a,(idioma)
    8615   00:7254  B7                  		or		a
    8616   00:7255  28 0C               		jr.		z,consejo_esp_fase_7
    8617   00:7257                      
    8618   00:7257                      consejo_ing_fase_7:
    8619   00:7257                      
    8620   00:7257  21 FB 88            		ld		hl,advice_7
    8621   00:725A  11 A0 18            		ld		de,#18a0
    8622   00:725D  01 20 00            		ld		bc,32
    8623   00:7260  C3 5C 00            		jp		GRABAVRAM
    8624   00:7263                      
    8625   00:7263                      consejo_esp_fase_7:
    8626   00:7263                      				
    8627   00:7263  21 19 88            		ld		hl,consejo_7
    8628   00:7266  C3 5C 00            		jp		GRABAVRAM
    8629   00:7269                      
    8630   00:7269                      consejos_fase_8:
    8631   00:7269                      		
    8632   00:7269  3A 01 C0            		ld		a,(idioma)
    8633   00:726C  B7                  		or		a
    8634   00:726D  28 0C               		jr.		z,consejo_esp_fase_8
    8635   00:726F                      
    8636   00:726F                      consejo_ing_fase_8:
    8637   00:726F                      
    8638   00:726F  21 1B 89            		ld		hl,advice_8
    8639   00:7272  11 A0 18            		ld		de,#18a0
    8640   00:7275  01 20 00            		ld		bc,32
    8641   00:7278  C3 5C 00            		jp		GRABAVRAM
    8642   00:727B                      
    8643   00:727B                      consejo_esp_fase_8:
    8644   00:727B                      				
    8645   00:727B  21 37 88            		ld		hl,consejo_8
    8646   00:727E  11 A4 18            		ld		de,#18a4
    8647   00:7281  01 18 00            		ld		bc,24
    8648   00:7284  C3 5C 00            		jp		GRABAVRAM
    8649   00:7287                      
    8650   00:7287                      consejos_fase_9:
    8651   00:7287                      		
    8652   00:7287  3A 01 C0            		ld		a,(idioma)
    8653   00:728A  B7                  		or		a
    8654   00:728B  28 18               		jr.		z,consejo_esp_fase_9
    8655   00:728D                      
    8656   00:728D                      consejo_ing_fase_9:
    8657   00:728D                      
    8658   00:728D  21 3B 89            		ld		hl,advice_9
    8659   00:7290  11 A1 18            		ld		de,#18a1
    8660   00:7293  01 1E 00            		ld		bc,30
    8661   00:7296  CD 5C 00            		call	GRABAVRAM
    8662   00:7299  21 59 89            		ld		hl,advice_9_1
    8663   00:729C  11 D0 18            		ld		de,#18d0
    8664   00:729F  01 03 00            		ld		bc,3
    8665   00:72A2  C3 5C 00            		jp		GRABAVRAM
    8666   00:72A5                      
    8667   00:72A5                      consejo_esp_fase_9:
    8668   00:72A5                      				
    8669   00:72A5  21 4F 88            		ld		hl,consejo_9
    8670   00:72A8                      
    8671   00:72A8  C3 5C 00            		jp		GRABAVRAM
    8672   00:72AB                      
    8673   00:72AB                      
    8674   00:72AB                      										
    8675   00:72AB                      rutina_espera_quemando_2_cont:
    8676   00:72AB                      
    8677   00:72AB  CD 44 00            		call	ENASCR
    8678   00:72AE                      		
    8679   00:72AE  CD F5 4B            		call	activa_musica_entre_fases
    8680   00:72B1                      				
    8681   00:72B1  DD 21 2A C0         		ld		ix,atributos_sprite_general
    8682   00:72B5                      
    8683   00:72B5  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    8684   00:72B8  FE 13               		cp		19
    8685   00:72BA  C8                  		ret		z
    8686   00:72BB                      
    8687   00:72BB                      paseito_entre_fases:			
    8688   00:72BB                      
    8689   00:72BB  76 76 76            [3]		halt
    8690   00:72BE                      		
    8691   00:72BE  CD 14 5D            		call	atributos_sprites
    8692   00:72C1  CD 38 74            		call	tiles_cambiantes_entre_fases
    8693   00:72C4                      		
    8694   00:72C4  3E 02               		ld		a,2
    8695   00:72C6  DD 77 07            		ld		(ix+7),a
    8696   00:72C9  3E 01               		ld		a,1
    8697   00:72CB  DD 77 03            		ld		(ix+3),a
    8698   00:72CE  3E 09               		ld		a,9
    8699   00:72D0  DD 77 0B            		ld		(ix+11),a
    8700   00:72D3                      		
    8701   00:72D3  3A 1C C0            		ld		a,(py)
    8702   00:72D6  DD 77 00            		ld		(ix),a
    8703   00:72D9  C6 09               		add		a,9														;para que cuadren los sprites muevo esta
    8704   00:72DB  DD 77 04            		ld		(ix+4),a
    8705   00:72DE  D6 10               		sub		a,16
    8706   00:72E0  DD 77 08            		ld		(ix+8),a
    8707   00:72E3  AF                  		xor		a
    8708   00:72E4  CD 3C 78            		call	DOS_SEIS_DIEZ
    8709   00:72E7  3A 1B C0            		ld		a,(px)
    8710   00:72EA  C6 04               		add		a,4
    8711   00:72EC  CD 32 78            		call	UNO_CINCO_NUEVE
    8712   00:72EF  32 1B C0            		ld		(px),a
    8713   00:72F2                      		
    8714   00:72F2                      		
    8715   00:72F2                      		
    8716   00:72F2  76 76 76            [3]		halt
    8717   00:72F5  CD 14 5D            		call	atributos_sprites
    8718   00:72F8  CD 38 74            		call	tiles_cambiantes_entre_fases
    8719   00:72FB                      			
    8720   00:72FB  3A 8A C6            		ld		a,(velocidad_paseo_fases)
    8721   00:72FE  47                  		ld		b,a
    8722   00:72FF  3A 1B C0            		ld		a,(px)
    8723   00:7302  80                  		add		a,b
    8724   00:7303  32 1B C0            		ld		(px),a
    8725   00:7306  CD 32 78            		call	UNO_CINCO_NUEVE
    8726   00:7309  3E 0C               		ld		a,12
    8727   00:730B  CD 3C 78            		call	DOS_SEIS_DIEZ		
    8728   00:730E  3A 1B C0            		ld		a,(px)
    8729   00:7311  FE D8               		cp		216
    8730   00:7313  38 A6               		jr.		c,paseito_entre_fases
    8731   00:7315                      				
    8732   00:7315  CD A2 45            		call	limpia_sprites
    8733   00:7318                      		
    8734   00:7318  3A 89 C6            		ld		a,(toca_bombero)
    8735   00:731B  FE 01               		cp		1
    8736   00:731D                      			
    8737   00:731D  C0                  		ret		nz
    8738   00:731E                      				
    8739   00:731E                      aparece_el_bombero:
    8740   00:731E                      		
    8741   00:731E  3E 14               		ld		a,20
    8742   00:7320  32 17 C0            		ld		(clock),a
    8743   00:7323  76                  		halt
    8744   00:7324  CD 80 4B            		call	SPRITES_BOMBERO_PERSIGUE
    8745   00:7327  CD 2C 4B            		call	SPRITES_DOS
    8746   00:732A                      	
    8747   00:732A                      
    8748   00:732A  3E 6F               		ld		a,111
    8749   00:732C  CD 28 78            		call	CERO_CUATRO_OCHO
    8750   00:732F  3E 78               		ld		a,120
    8751   00:7331  CD 32 78            		call	UNO_CINCO_NUEVE
    8752   00:7334  AF                  		xor		a
    8753   00:7335  CD 3C 78            		call	DOS_SEIS_DIEZ
    8754   00:7338  3E 09               		ld		a,9
    8755   00:733A  DD 77 07            		ld		(ix+7),a
    8756   00:733D  3E 0A               		ld		a,10
    8757   00:733F  DD 77 0B            		ld		(ix+11),a
    8758   00:7342  3E 01               		ld		a,1
    8759   00:7344  DD 77 03            		ld		(ix+3),a
    8760   00:7347  3E 78               		ld		a,120
    8761   00:7349  DD 77 01            		ld		(ix+1),a
    8762   00:734C                      	
    8763   00:734C  CD 14 5D            		call	atributos_sprites
    8764   00:734F  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
    8765   00:7351  CD 24 78            		call	efecto_sonido
    8766   00:7354                      
    8767   00:7354                      aparece_el_bombero_2:
    8768   00:7354                      
    8769   00:7354  CD 68 74            		call 	espera_de_animaciones
    8770   00:7357                      		
    8771   00:7357  01 14 00            		ld		bc,20
    8772   00:735A  ED 43 17 C0         		ld		(clock),bc		
    8773   00:735E                      		
    8774   00:735E  EE 0C               		xor		3*4
    8775   00:7360  CD 3C 78            		call	DOS_SEIS_DIEZ
    8776   00:7363                      		
    8777   00:7363  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
    8778   00:7365  CD 24 78            		call	efecto_sonido
    8779   00:7368                      		
    8780   00:7368  CD 14 5D            		call	atributos_sprites
    8781   00:736B                      
    8782   00:736B                      aparece_el_bombero_3:
    8783   00:736B                      
    8784   00:736B  CD 68 74            		call 	espera_de_animaciones
    8785   00:736E                      		
    8786   00:736E  01 14 00            		ld		bc,20
    8787   00:7371  ED 43 17 C0         		ld		(clock),bc		
    8788   00:7375                      		
    8789   00:7375  EE 18               		xor		6*4
    8790   00:7377  CD 3C 78            		call	DOS_SEIS_DIEZ
    8791   00:737A                      		
    8792   00:737A  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
    8793   00:737C  CD 24 78            		call	efecto_sonido
    8794   00:737F                      		
    8795   00:737F  CD 14 5D            		call	atributos_sprites
    8796   00:7382                      
    8797   00:7382                      aparece_el_bombero_4:
    8798   00:7382                      
    8799   00:7382  CD 68 74            		call 	espera_de_animaciones
    8800   00:7385                      		
    8801   00:7385  01 0A 00            		ld		bc,10
    8802   00:7388  ED 43 17 C0         		ld		(clock),bc		
    8803   00:738C                      		
    8804   00:738C  EE 24               		xor		9*4
    8805   00:738E  CD 3C 78            		call	DOS_SEIS_DIEZ
    8806   00:7391                      		
    8807   00:7391  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
    8808   00:7393  CD 24 78            		call	efecto_sonido
    8809   00:7396                      		
    8810   00:7396  CD 14 5D            		call	atributos_sprites
    8811   00:7399                      
    8812   00:7399                      aparece_el_bombero_5:
    8813   00:7399                      
    8814   00:7399  CD 68 74            		call 	espera_de_animaciones
    8815   00:739C                      		
    8816   00:739C  01 05 00            		ld		bc,5
    8817   00:739F  ED 43 17 C0         		ld		(clock),bc		
    8818   00:73A3                      		
    8819   00:73A3  EE 30               		xor		12*4
    8820   00:73A5  CD 3C 78            		call	DOS_SEIS_DIEZ
    8821   00:73A8                      		
    8822   00:73A8  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
    8823   00:73AA  CD 24 78            		call	efecto_sonido
    8824   00:73AD                      		
    8825   00:73AD  CD 14 5D            		call	atributos_sprites
    8826   00:73B0                      		
    8827   00:73B0                      aparece_el_bombero_6:
    8828   00:73B0                      
    8829   00:73B0  CD 68 74            		call 	espera_de_animaciones
    8830   00:73B3                      		
    8831   00:73B3  CD 38 74            		call	tiles_cambiantes_entre_fases
    8832   00:73B6                      		
    8833   00:73B6  3E 78               		ld		a,120
    8834   00:73B8  32 1C C0            		ld		(py),a
    8835   00:73BB  3E 72               		ld		a,114
    8836   00:73BD  32 1B C0            		ld		(px),a
    8837   00:73C0                      				
    8838   00:73C0  3E 05               		ld		a,5
    8839   00:73C2  32 17 C0            		ld		(clock),a
    8840   00:73C5                      		
    8841   00:73C5                      				
    8842   00:73C5                      aparece_el_bombero_7:
    8843   00:73C5                      		
    8844   00:73C5  CD 68 74            		call 	espera_de_animaciones
    8845   00:73C8                      		
    8846   00:73C8  CD 38 74            		call	tiles_cambiantes_entre_fases
    8847   00:73CB                      		
    8848   00:73CB  3E 05               		ld		a,5
    8849   00:73CD  32 17 C0            		ld		(clock),a
    8850   00:73D0                      		
    8851   00:73D0  3A 1C C0            		ld		a,(py)
    8852   00:73D3  DD 77 00            		ld		(ix),a
    8853   00:73D6  D6 06               		sub		6
    8854   00:73D8  DD 77 04            		ld		(ix+4),a
    8855   00:73DB  C6 10               		add		16
    8856   00:73DD  DD 77 08            		ld		(ix+8),a
    8857   00:73E0  3A 1B C0            		ld		a,(px)
    8858   00:73E3  CD 32 78            		call	UNO_CINCO_NUEVE	
    8859   00:73E6  3E 64               		ld		a,25*4
    8860   00:73E8  CD 3C 78            		call	DOS_SEIS_DIEZ
    8861   00:73EB                      				
    8862   00:73EB  CD 14 5D            		call	atributos_sprites
    8863   00:73EE                      		
    8864   00:73EE                      aparece_el_bombero_8:
    8865   00:73EE                      
    8866   00:73EE  CD 68 74            		call 	espera_de_animaciones
    8867   00:73F1                      		
    8868   00:73F1  CD 38 74            		call	tiles_cambiantes_entre_fases
    8869   00:73F4                      		
    8870   00:73F4  01 05 00            		ld		bc,5
    8871   00:73F7  ED 43 17 C0         		ld		(clock),bc
    8872   00:73FB                      		
    8873   00:73FB  3A 1C C0            		ld		a,(py)
    8874   00:73FE  FE 82               		cp		130
    8875   00:7400  DC 74 74            		call	c,suma_a_y
    8876   00:7403                      		
    8877   00:7403  3A 1B C0            		ld		a,(px)
    8878   00:7406  FE D2               		cp		210
    8879   00:7408  30 25               		jr.		nc,aparece_el_bombero_9
    8880   00:740A                      		
    8881   00:740A  C6 0A               		add		a,10
    8882   00:740C  32 1B C0            		ld		(px),a
    8883   00:740F                      		
    8884   00:740F  3A 1C C0            		ld		a,(py)
    8885   00:7412  DD 77 00            		ld		(ix),a
    8886   00:7415  D6 06               		sub		6
    8887   00:7417  DD 77 04            		ld		(ix+4),a
    8888   00:741A  C6 10               		add		16
    8889   00:741C  DD 77 08            		ld		(ix+8),a
    8890   00:741F  3A 1B C0            		ld		a,(px)
    8891   00:7422  CD 32 78            		call	UNO_CINCO_NUEVE	
    8892   00:7425  3E 70               		ld		a,28*4
    8893   00:7427  CD 3C 78            		call	DOS_SEIS_DIEZ
    8894   00:742A                      				
    8895   00:742A  CD 14 5D            		call	atributos_sprites
    8896   00:742D                      		
    8897   00:742D  18 96               		jr.		aparece_el_bombero_7
    8898   00:742F                      
    8899   00:742F                      aparece_el_bombero_9:
    8900   00:742F                      		
    8901   00:742F  CD A2 45            		call	limpia_sprites										
    8902   00:7432  CD 0F 4B            		call	SPRITES_UNO
    8903   00:7435  C3 2C 4B            		jp		SPRITES_DOS
    8904   00:7438                      
    8905   00:7438                      tiles_cambiantes_entre_fases:
    8906   00:7438                      		
    8907   00:7438  3A 07 CA            		ld		a,(clock_1)
    8908   00:743B  3D                  		dec		a
    8909   00:743C  32 07 CA            		ld		(clock_1),a
    8910   00:743F  B7                  		or		a
    8911   00:7440  CC 2C 50            		call	z,reset_clock
    8912   00:7443  FE 02               		cp		2
    8913   00:7445  D4 60 74            		call	nc,limpia_clock_a_10_entre_fases
    8914   00:7448                      		
    8915   00:7448  3A 2A C6            		ld		a,(tile_a_poner_agua)
    8916   00:744B  B7                  		or		a
    8917   00:744C  20 09               		jr.		nz,tiles_cambiantes_1_entre_fases
    8918   00:744E                      						
    8919   00:744E  21 6C A4            		ld		hl,fuego_1_2
    8920   00:7451  11 C8 00            		ld		de,#c8
    8921   00:7454  C3 2A 4F            		jp		standard_tiles_cambiantes
    8922   00:7457                      
    8923   00:7457                      tiles_cambiantes_1_entre_fases:
    8924   00:7457                      		
    8925   00:7457  21 BE A4            		ld		hl,fuego_2_2
    8926   00:745A  11 C8 00            		ld		de,#c8
    8927   00:745D  C3 2A 4F            		jp		standard_tiles_cambiantes
    8928   00:7460                      
    8929   00:7460                      limpia_clock_a_10_entre_fases:
    8930   00:7460                      
    8931   00:7460  01 02 00            		ld		bc,2
    8932   00:7463  ED 43 07 CA         		ld		(clock_1),bc
    8933   00:7467                      		
    8934   00:7467  C9                  		ret
    8935   00:7468                      						
    8936   00:7468                      espera_de_animaciones:
    8937   00:7468                      
    8938   00:7468  76                  		halt
    8939   00:7469  3A 17 C0            		ld		a,(clock)
    8940   00:746C  3D                  		dec		a
    8941   00:746D  32 17 C0            		ld		(clock),a
    8942   00:7470  B7                  		or		a
    8943   00:7471  20 F5               		jr.		nz,espera_de_animaciones
    8944   00:7473                      		
    8945   00:7473  C9                  		ret
    8946   00:7474                      		
    8947   00:7474                      suma_a_y:
    8948   00:7474                      
    8949   00:7474  3C                  		inc		a
    8950   00:7475  32 1C C0            		ld		(py),a
    8951   00:7478  C9                  		ret
    8952   00:7479                      		
    8953   00:7479                      movimiento_serpientes:
    8954   00:7479                      		
    8955   00:7479  DD 21 2A C0         		ld		ix,atributos_sprite_general
    8956   00:747D                      		
    8957   00:747D                      analiza_serpiente_1:
    8958   00:747D                      		
    8959   00:747D  3A 5E C6            		ld		a,(serp1)
    8960   00:7480  B7                  		or		a
    8961   00:7481  28 16               		jr.		z,analiza_serpiente_2
    8962   00:7483  FE 03               		cp		3
    8963   00:7485  CA 2F 75            		jr.		z,pinta_muerta_1
    8964   00:7488                      				
    8965   00:7488  FD 21 35 C6         		ld		iy,variables_serpiente_1
    8966   00:748C                      		
    8967   00:748C  CD 9F 75            		call	rutina_de_movimiento_serpientes
    8968   00:748F                      			
    8969   00:748F  DD 21 2A C0         		ld		ix,atributos_sprite_general
    8970   00:7493  11 10 00            		ld		de,16
    8971   00:7496  CD EC 74            		call	atributos_serpiente_detallados
    8972   00:7499                      		
    8973   00:7499                      analiza_serpiente_2:
    8974   00:7499                      
    8975   00:7499                      		
    8976   00:7499  3A 5F C6            		ld		a,(serp2)
    8977   00:749C  B7                  		or		a
    8978   00:749D  28 16               		jr.		z,analiza_serpiente_3
    8979   00:749F  FE 03               		cp		3
    8980   00:74A1  CA 42 75            		jr.		z,pinta_muerta_2
    8981   00:74A4                      						
    8982   00:74A4  FD 21 3F C6         		ld		iy,variables_serpiente_2
    8983   00:74A8                      		
    8984   00:74A8  CD 9F 75            		call	rutina_de_movimiento_serpientes
    8985   00:74AB                      			
    8986   00:74AB  DD 21 2A C0         		ld		ix,atributos_sprite_general
    8987   00:74AF  11 18 00            		ld		de,24
    8988   00:74B2  CD EC 74            		call	atributos_serpiente_detallados
    8989   00:74B5                      		
    8990   00:74B5                      analiza_serpiente_3:		
    8991   00:74B5                      		
    8992   00:74B5  3A 60 C6            		ld		a,(serp3)
    8993   00:74B8  B7                  		or		a
    8994   00:74B9  28 16               		jr.		z,analiza_serpiente_4
    8995   00:74BB  FE 03               		cp		3
    8996   00:74BD  CA 55 75            		jr.		z,pinta_muerta_3
    8997   00:74C0                      				
    8998   00:74C0  FD 21 49 C6         		ld		iy,variables_serpiente_3
    8999   00:74C4                      		
    9000   00:74C4  CD 9F 75            		call	rutina_de_movimiento_serpientes
    9001   00:74C7                      			
    9002   00:74C7  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9003   00:74CB  11 20 00            		ld		de,32
    9004   00:74CE  CD EC 74            		call	atributos_serpiente_detallados
    9005   00:74D1                      		
    9006   00:74D1                      analiza_serpiente_4:
    9007   00:74D1                      	
    9008   00:74D1  3A 61 C6            		ld		a,(serp4)
    9009   00:74D4  B7                  		or		a
    9010   00:74D5  C8                  		ret		z
    9011   00:74D6  FE 03               		cp		3
    9012   00:74D8  CA 68 75            		jr.		z,pinta_muerta_4
    9013   00:74DB                      				
    9014   00:74DB  FD 21 53 C6         		ld		iy,variables_serpiente_4
    9015   00:74DF                      		
    9016   00:74DF  CD 9F 75            		call	rutina_de_movimiento_serpientes
    9017   00:74E2                      			
    9018   00:74E2  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9019   00:74E6  11 28 00            		ld		de,40
    9020   00:74E9  C3 EC 74            		jp		atributos_serpiente_detallados
    9021   00:74EC                      
    9022   00:74EC                      atributos_serpiente_detallados:
    9023   00:74EC                      
    9024   00:74EC  DD 19               		add		ix,de
    9025   00:74EE  08                  		ex		af,af'
    9026   00:74EF  DD 77 02            		ld		(ix+2),a
    9027   00:74F2  DD 70 06            		ld		(ix+6),b
    9028   00:74F5  FD 7E 00            		ld		a,(iy)
    9029   00:74F8  DD 77 01            		ld		(ix+1),a
    9030   00:74FB  DD 77 05            		ld		(ix+5),a
    9031   00:74FE  FD 7E 01            		ld		a,(iy+1)
    9032   00:7501  DD 77 00            		ld		(ix),a
    9033   00:7504  DD 77 04            		ld		(ix+4),a
    9034   00:7507  FD 7E 04            		ld		a,(iy+4)
    9035   00:750A  DD 77 03            		ld		(ix+3),a
    9036   00:750D                      		
    9037   00:750D  3E 01               		ld		a,1
    9038   00:750F  DD 77 07            		ld		(ix+7),a
    9039   00:7512                      		
    9040   00:7512  08                  		ex		af,af'
    9041   00:7513  32 21 C6            		ld		(pantalla_activa),a
    9042   00:7516                      		
    9043   00:7516  FD 7E 09            		ld		a,(iy+9)
    9044   00:7519  47                  		ld		b,a
    9045   00:751A  3A 21 C6            		ld		a,(pantalla_activa)
    9046   00:751D  B8                  		cp		b
    9047   00:751E  C8                  		ret		z
    9048   00:751F                      		
    9049   00:751F                      no_Esta_en_pantalla:
    9050   00:751F                      		
    9051   00:751F  AF                  		xor		a
    9052   00:7520  DD 77 00            		ld		(ix),a
    9053   00:7523  DD 77 04            		ld		(ix+4),a
    9054   00:7526  3E 60               		ld		a,24*4
    9055   00:7528  DD 77 02            		ld		(ix+2),a
    9056   00:752B  DD 77 06            		ld		(ix+6),a
    9057   00:752E                      		
    9058   00:752E  C9                  		ret
    9059   00:752F                      		
    9060   00:752F                      pinta_muerta_1:
    9061   00:752F                      		
    9062   00:752F  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9063   00:7533  11 10 00            		ld		de,16
    9064   00:7536  DD 19               		add		ix,de
    9065   00:7538  FD 21 35 C6         		ld		iy,variables_serpiente_1
    9066   00:753C                      		
    9067   00:753C  CD 78 75            		call	pintamos_serpiente_muerta
    9068   00:753F                      		
    9069   00:753F  C3 99 74            		jr.		analiza_serpiente_2
    9070   00:7542                      		
    9071   00:7542                      pinta_muerta_2:
    9072   00:7542                      
    9073   00:7542  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9074   00:7546  11 18 00            		ld		de,24
    9075   00:7549  DD 19               		add		ix,de
    9076   00:754B  FD 21 3F C6         		ld		iy,variables_serpiente_2
    9077   00:754F                      		
    9078   00:754F  CD 78 75            		call	pintamos_serpiente_muerta
    9079   00:7552                      		
    9080   00:7552  C3 B5 74            		jr.		analiza_serpiente_3
    9081   00:7555                      
    9082   00:7555                      pinta_muerta_3:
    9083   00:7555                      
    9084   00:7555  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9085   00:7559  11 20 00            		ld		de,32
    9086   00:755C  DD 19               		add		ix,de
    9087   00:755E  FD 21 49 C6         		ld		iy,variables_serpiente_3
    9088   00:7562                      		
    9089   00:7562  CD 78 75            		call	pintamos_serpiente_muerta
    9090   00:7565                      		
    9091   00:7565  C3 D1 74            		jr.		analiza_serpiente_4
    9092   00:7568                      		
    9093   00:7568                      pinta_muerta_4:
    9094   00:7568                      
    9095   00:7568  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9096   00:756C  11 28 00            		ld		de,40
    9097   00:756F  DD 19               		add		ix,de
    9098   00:7571  FD 21 53 C6         		ld		iy,variables_serpiente_4
    9099   00:7575                      
    9100   00:7575  C3 78 75            		jp		pintamos_serpiente_muerta
    9101   00:7578                      
    9102   00:7578                      pintamos_serpiente_muerta:		
    9103   00:7578                      		
    9104   00:7578  FD 7E 09            		ld		a,(iy+9)
    9105   00:757B  47                  		ld		b,a
    9106   00:757C  3A 21 C6            		ld		a,(pantalla_activa)
    9107   00:757F  B8                  		cp		b
    9108   00:7580  20 9D               		jr.		nz,no_Esta_en_pantalla
    9109   00:7582                      			
    9110   00:7582  FD 7E 01            		ld		a,(iy+1)
    9111   00:7585  DD 77 00            		ld		(ix+),a
    9112   00:7588  DD 77 04            		ld		(ix+4),a
    9113   00:758B  FD 7E 00            		ld		a,(iy)
    9114   00:758E  DD 77 01            		ld		(ix+1),a
    9115   00:7591  DD 77 05            		ld		(ix+5),a	
    9116   00:7594  3E B4               		ld		a,180
    9117   00:7596  DD 77 02            		ld		(ix+2),a
    9118   00:7599  3E B8               		ld		a,184
    9119   00:759B  DD 77 06            		ld		(ix+6),a
    9120   00:759E                      		
    9121   00:759E  C9                  		ret
    9122   00:759F                      		
    9123   00:759F                      rutina_de_movimiento_serpientes:
    9124   00:759F                      		
    9125   00:759F  3A 21 C6            		ld		a,(pantalla_activa)
    9126   00:75A2  08                  		ex		af,af'
    9127   00:75A3  FD 7E 09            		ld		a,(iy+9)
    9128   00:75A6  32 21 C6            		ld		(pantalla_activa),a
    9129   00:75A9                      		
    9130   00:75A9  FD 7E 02            		ld		a,(iy+2)
    9131   00:75AC  B7                  		or		a
    9132   00:75AD  20 56               		jr.		nz,suma_x_serpiente
    9133   00:75AF                      
    9134   00:75AF                      resta_x_serpiente:
    9135   00:75AF                      				
    9136   00:75AF  FD 7E 00            		ld		a,(iy)
    9137   00:75B2  FE 03               		cp		3
    9138   00:75B4  DA 5A 76            		jr.		c,va_a_pantalla_1
    9139   00:75B7                      		
    9140   00:75B7  FD 7E 08            		ld		a,(iy+8)
    9141   00:75BA  3D                  		dec		a
    9142   00:75BB  FD 77 08            		ld		(iy+8),a
    9143   00:75BE  B7                  		or		a
    9144   00:75BF  C2 7F 76            		jr.		nz,pose_serp
    9145   00:75C2                      		
    9146   00:75C2  FD 7E 07            		ld		a,(iy+7)
    9147   00:75C5  FD 77 08            		ld		(iy+8),a
    9148   00:75C8                      				
    9149   00:75C8  FD 7E 00            		ld		a,[iy]
    9150   00:75CB  3D                  		dec		a														
    9151   00:75CC  57                  		ld		d,a
    9152   00:75CD  FD 7E 01            		ld		a,[iy+1]
    9153   00:75D0  C6 0F               		add		15
    9154   00:75D2  5F                  		ld		e,a
    9155   00:75D3  CD C7 62            		call	get_bloque_en_X_Y
    9156   00:75D6                      				
    9157   00:75D6  FE 1F               		cp		31
    9158   00:75D8  DA 72 76            		jr.		c,serp_cambia_paso_a_derecha
    9159   00:75DB                      		
    9160   00:75DB  FD 7E 00            		ld		a,[iy]
    9161   00:75DE  3D                  		dec		a														
    9162   00:75DF  57                  		ld		d,a
    9163   00:75E0  FD 7E 01            		ld		a,[iy+1]
    9164   00:75E3  C6 11               		add		17
    9165   00:75E5  5F                  		ld		e,a
    9166   00:75E6  CD C7 62            		call	get_bloque_en_X_Y
    9167   00:75E9  FE 4D               		cp		77
    9168   00:75EB  CA FC 75            		jp		z,resta_x_serpiente_final
    9169   00:75EE  FE 29               		cp		41
    9170   00:75F0  CA FC 75            		jp		z,resta_x_serpiente_final
    9171   00:75F3  FE 2A               		cp		42
    9172   00:75F5  CA FC 75            		jp		z,resta_x_serpiente_final		
    9173   00:75F8  FE 1F               		cp		31
    9174   00:75FA  30 76               		jr.		nc,serp_cambia_paso_a_derecha
    9175   00:75FC                      
    9176   00:75FC                      resta_x_serpiente_final:
    9177   00:75FC                      		
    9178   00:75FC  FD 7E 00            		ld		a,(iy)
    9179   00:75FF  3D                  		dec		a
    9180   00:7600  FD 77 00            		ld		(iy),a
    9181   00:7603  18 7A               		jr.		pose_serp
    9182   00:7605                      		
    9183   00:7605                      suma_x_serpiente:
    9184   00:7605                      		
    9185   00:7605  FD 7E 00            		ld		a,(iy)
    9186   00:7608  FE ED               		cp		237
    9187   00:760A  30 5A               		jr.		nc,va_a_pantalla_2
    9188   00:760C                      		
    9189   00:760C  FD 7E 08            		ld		a,(iy+8)
    9190   00:760F  3D                  		dec		a
    9191   00:7610  FD 77 08            		ld		(iy+8),a
    9192   00:7613  B7                  		or		a
    9193   00:7614  20 69               		jr.		nz,pose_serp
    9194   00:7616                      		
    9195   00:7616  FD 7E 07            		ld		a,(iy+7)
    9196   00:7619  FD 77 08            		ld		(iy+8),a
    9197   00:761C                      		
    9198   00:761C  FD 7E 00            		ld		a,[iy]
    9199   00:761F  C6 10               		add		16														
    9200   00:7621  57                  		ld		d,a
    9201   00:7622  FD 7E 01            		ld		a,[iy+1]
    9202   00:7625  C6 0F               		add		15
    9203   00:7627  5F                  		ld		e,a
    9204   00:7628  CD C7 62            		call	get_bloque_en_X_Y
    9205   00:762B                      		
    9206   00:762B  FE 1F               		cp		31
    9207   00:762D  38 4A               		jr.		c,serp_cambia_paso_a_izquierda
    9208   00:762F                      		
    9209   00:762F  FD 7E 00            		ld		a,[iy]
    9210   00:7632  C6 10               		add		16														
    9211   00:7634  57                  		ld		d,a
    9212   00:7635  FD 7E 01            		ld		a,[iy+1]
    9213   00:7638  C6 11               		add		17
    9214   00:763A  5F                  		ld		e,a
    9215   00:763B  CD C7 62            		call	get_bloque_en_X_Y
    9216   00:763E  FE 4D               		cp		77
    9217   00:7640  CA 51 76            		jp		z,suma_x_serpiente_final
    9218   00:7643  FE 29               		cp		41
    9219   00:7645  CA 51 76            		jp		z,suma_x_serpiente_final
    9220   00:7648  FE 2A               		cp		42
    9221   00:764A  CA 51 76            		jp		z,suma_x_serpiente_final
    9222   00:764D                      		
    9223   00:764D  FE 1F               		cp		31
    9224   00:764F  30 28               		jr.		nc,serp_cambia_paso_a_izquierda
    9225   00:7651                      
    9226   00:7651                      suma_x_serpiente_final:
    9227   00:7651                      		
    9228   00:7651  FD 7E 00            		ld		a,(iy)
    9229   00:7654  3C                  		inc		a
    9230   00:7655  FD 77 00            		ld		(iy),a
    9231   00:7658  18 25               		jr.		pose_serp
    9232   00:765A                      
    9233   00:765A                      va_a_pantalla_1:
    9234   00:765A                      
    9235   00:765A  3E EC               		ld		a,236
    9236   00:765C  FD 77 00            		ld		(iy),a
    9237   00:765F  3E 01               		ld		a,1
    9238   00:7661  FD 77 09            		ld		(iy+9),a
    9239   00:7664                      		
    9240   00:7664  08                  		ex		af,af'
    9241   00:7665  C9                  		ret
    9242   00:7666                      
    9243   00:7666                      va_a_pantalla_2:
    9244   00:7666                      
    9245   00:7666  3E 04               		ld		a,4
    9246   00:7668  FD 77 00            		ld		(iy),a
    9247   00:766B  3E 02               		ld		a,2
    9248   00:766D  FD 77 09            		ld		(iy+9),a
    9249   00:7670                      		
    9250   00:7670  08                  		ex		af,af'
    9251   00:7671  C9                  		ret
    9252   00:7672                      				
    9253   00:7672                      serp_cambia_paso_a_derecha:
    9254   00:7672                      
    9255   00:7672  3E 01               		ld		a,1
    9256   00:7674  FD 77 02            		ld		(iy+2),a
    9257   00:7677  18 06               		jr.		pose_serp
    9258   00:7679                      		
    9259   00:7679                      serp_cambia_paso_a_izquierda:
    9260   00:7679                      
    9261   00:7679  AF                  		xor		a
    9262   00:767A  FD 77 02            		ld		(iy+2),a
    9263   00:767D  18 00               		jr.		pose_serp
    9264   00:767F                      		
    9265   00:767F                      pose_serp:
    9266   00:767F                      
    9267   00:767F  FD 7E 06            		ld		a,(iy+6)
    9268   00:7682  3D                  		dec		a
    9269   00:7683  FD 77 06            		ld		(iy+6),a
    9270   00:7686  B7                  		or		a
    9271   00:7687  20 17               		jr.		nz,elegir_sprite_serp
    9272   00:7689                      
    9273   00:7689  FD 7E 05            		ld		a,(iy+5)
    9274   00:768C  FD 77 06            		ld		(iy+6),a
    9275   00:768F                      		
    9276   00:768F  FD 7E 03            		ld		a,(iy+3)
    9277   00:7692  B7                  		or		a
    9278   00:7693  20 07               		jr.		nz,paso_2_serp
    9279   00:7695                      		
    9280   00:7695                      paso_1_serp:
    9281   00:7695                      
    9282   00:7695  3E 01               		ld		a,1
    9283   00:7697  FD 77 03            		ld		(iy+3),a
    9284   00:769A                      		
    9285   00:769A  18 04               		jr.		elegir_sprite_serp
    9286   00:769C                      		
    9287   00:769C                      paso_2_serp:
    9288   00:769C                      
    9289   00:769C  AF                  		xor		a
    9290   00:769D  FD 77 03            		ld		(iy+3),a
    9291   00:76A0                      		
    9292   00:76A0                      elegir_sprite_serp:
    9293   00:76A0                      
    9294   00:76A0  FD 7E 02            		ld		a,(iy+2)
    9295   00:76A3  B7                  		or		a
    9296   00:76A4  20 12               		jr.		nz,suma_direccion_1_serp
    9297   00:76A6                      		
    9298   00:76A6                      suma_direccion_0_serp:
    9299   00:76A6                      
    9300   00:76A6  FD 7E 03            		ld		a,(iy+3)
    9301   00:76A9  B7                  		or		a
    9302   00:76AA  20 06               		jr.		nz,suma_paso_01_serp
    9303   00:76AC                      		
    9304   00:76AC                      suma_paso_00_serp:
    9305   00:76AC                      
    9306   00:76AC  3E 64               		ld		a,25*4
    9307   00:76AE  06 74               		ld		b,29*4
    9308   00:76B0  08                  		ex		af,af'
    9309   00:76B1  C9                  		ret
    9310   00:76B2                      
    9311   00:76B2                      suma_paso_01_serp:
    9312   00:76B2                      		
    9313   00:76B2  3E 68               		ld		a,26*4
    9314   00:76B4  06 78               		ld		b,30*4
    9315   00:76B6  08                  		ex		af,af'
    9316   00:76B7  C9                  		ret
    9317   00:76B8                      		
    9318   00:76B8                      suma_direccion_1_serp:
    9319   00:76B8                      
    9320   00:76B8  FD 7E 03            		ld		a,(iy+3)
    9321   00:76BB  B7                  		or		a
    9322   00:76BC  20 06               		jr.		nz,suma_paso_11_serp
    9323   00:76BE                      
    9324   00:76BE                      suma_paso_10_serp:
    9325   00:76BE                      
    9326   00:76BE  3E 6C               		ld		a,27*4
    9327   00:76C0  06 7C               		ld		b,31*4
    9328   00:76C2  08                  		ex		af,af'
    9329   00:76C3  C9                  		ret
    9330   00:76C4                      
    9331   00:76C4                      suma_paso_11_serp:
    9332   00:76C4                      
    9333   00:76C4  3E 70               		ld		a,28*4
    9334   00:76C6  06 80               		ld		b,32*4
    9335   00:76C8  08                  		ex		af,af'
    9336   00:76C9  C9                  		ret	
    9337   00:76CA                      
    9338   00:76CA                      ; partes repetidas de los motores de vram
    9339   00:76CA                      uno_diez:
    9340   00:76CA                      
    9341   00:76CA  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9342   00:76CD  C6 01               		add		1
    9343   00:76CF  57                  		ld		d,a
    9344   00:76D0  C3 D9 76            		jp		x_diez
    9345   00:76D3                      		
    9346   00:76D3                      seis_diez:
    9347   00:76D3                      
    9348   00:76D3  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9349   00:76D6  C6 06               		add		6
    9350   00:76D8  57                  		ld		d,a
    9351   00:76D9                      
    9352   00:76D9                      x_diez:
    9353   00:76D9                      
    9354   00:76D9  3A 1C C0            		ld		a,[py]
    9355   00:76DC  C6 0A               		add		10
    9356   00:76DE  5F                  		ld		e,a
    9357   00:76DF                      		
    9358   00:76DF  C9                  		ret	
    9359   00:76E0                      		
    9360   00:76E0                      dos_diez:
    9361   00:76E0                      
    9362   00:76E0  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9363   00:76E3  C6 02               		add		2
    9364   00:76E5  57                  		ld		d,a
    9365   00:76E6  18 F1               		jr.		x_diez	
    9366   00:76E8                      
    9367   00:76E8                      menos_dos_diez:
    9368   00:76E8                      
    9369   00:76E8  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9370   00:76EB  D6 02               		sub		2
    9371   00:76ED  57                  		ld		d,a
    9372   00:76EE  18 E9               		jr.		x_diez	
    9373   00:76F0                      
    9374   00:76F0                      seis_dos:
    9375   00:76F0                      
    9376   00:76F0  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9377   00:76F3  C6 06               		add		6
    9378   00:76F5  57                  		ld		d,a
    9379   00:76F6                      		
    9380   00:76F6                      x_dos:
    9381   00:76F6                      		
    9382   00:76F6  3A 1C C0            		ld		a,[py]
    9383   00:76F9  C6 02               		add		2
    9384   00:76FB  5F                  		ld		e,a
    9385   00:76FC                      		
    9386   00:76FC  C9                  		ret
    9387   00:76FD                      
    9388   00:76FD                      cero_cero:
    9389   00:76FD                      		
    9390   00:76FD  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9391   00:7700  57                  		ld		d,a
    9392   00:7701                      
    9393   00:7701                      x_cero:
    9394   00:7701                      
    9395   00:7701  3A 1C C0            		ld		a,[py]
    9396   00:7704  5F                  		ld		e,a
    9397   00:7705                      		
    9398   00:7705  C9                  		ret
    9399   00:7706                      
    9400   00:7706                      menos_uno_cero:
    9401   00:7706                      
    9402   00:7706  3A 1B C0            		ld		a,[px]
    9403   00:7709  D6 01               		sub		1														;para buffer y vram moviendo -1 y 0					
    9404   00:770B  57                  		ld		d,a
    9405   00:770C  18 F3               		jr.		x_cero
    9406   00:770E                      		
    9407   00:770E                      siete_dieciseis:
    9408   00:770E                      		
    9409   00:770E  3A 1B C0            		ld		a,[px]
    9410   00:7711  C6 07               		add		7					;para buffer y vram moviendo 6 y 10						
    9411   00:7713  57                  		ld		d,a
    9412   00:7714                      
    9413   00:7714                      x_dieciseis:
    9414   00:7714                      
    9415   00:7714  3A 1C C0            		ld		a,[py]
    9416   00:7717  C6 10               		add		16
    9417   00:7719  5F                  		ld		e,a
    9418   00:771A                      		
    9419   00:771A  C9                  		ret
    9420   00:771B                      		
    9421   00:771B                      menos_uno_dieciseis:
    9422   00:771B                      		
    9423   00:771B  3A 1B C0            		ld		a,[px]
    9424   00:771E  3D                  		dec		a					;para buffer y vram moviendo 6 y 10						
    9425   00:771F  57                  		ld		d,a
    9426   00:7720  18 F2               		jr.		x_dieciseis
    9427   00:7722                      		
    9428   00:7722                      dieciseis_dieciseis:
    9429   00:7722                      		
    9430   00:7722  3A 1B C0            		ld		a,[px]
    9431   00:7725  C6 10               		add		16					;para buffer y vram moviendo 6 y 10						
    9432   00:7727  57                  		ld		d,a
    9433   00:7728  18 EA               		jr.		x_dieciseis
    9434   00:772A                      		
    9435   00:772A                      menos_dos_dieciocho:
    9436   00:772A                      		
    9437   00:772A  3A 1B C0            		ld		a,[px]
    9438   00:772D  D6 02               		sub		2					;para buffer y vram moviendo -2 y 18						
    9439   00:772F  57                  		ld		d,a
    9440   00:7730                      
    9441   00:7730                      x_dieciocho:
    9442   00:7730                      
    9443   00:7730  3A 1C C0            		ld		a,[py]
    9444   00:7733  C6 12               		add		18
    9445   00:7735  5F                  		ld		e,a
    9446   00:7736                      		
    9447   00:7736  C9                  		ret
    9448   00:7737                      				
    9449   00:7737                      catorce_diez:
    9450   00:7737                      		
    9451   00:7737  3A 1B C0            		ld		a,[px]
    9452   00:773A  C6 0E               		add		14					;para buffer y vram moviendo 14 y 10						
    9453   00:773C  57                  		ld		d,a
    9454   00:773D  18 9A               		jr.		x_diez
    9455   00:773F                      
    9456   00:773F                      diez_diez:
    9457   00:773F                      
    9458   00:773F  3A 1B C0            		ld		a,[px]
    9459   00:7742  C6 0A               		add		10					;para buffer y vram moviendo 14 y 10						
    9460   00:7744  57                  		ld		d,a
    9461   00:7745  18 92               		jr.		x_diez
    9462   00:7747                      		
    9463   00:7747                      doce_diez:
    9464   00:7747                      		
    9465   00:7747  3A 1B C0            		ld		a,[px]
    9466   00:774A  C6 0C               		add		12					;para buffer y vram moviendo 12 y 10						
    9467   00:774C  57                  		ld		d,a
    9468   00:774D  18 8A               		jr.		x_diez
    9469   00:774F                      		
    9470   00:774F                      catorce_dos:
    9471   00:774F                      		
    9472   00:774F  3A 1B C0            		ld		a,[px]
    9473   00:7752  C6 0E               		add		14					;para buffer y vram moviendo 14 y 22						
    9474   00:7754  57                  		ld		d,a
    9475   00:7755  18 9F               		jr.		x_dos
    9476   00:7757                      				
    9477   00:7757                      catorce_dieciocho:
    9478   00:7757                      		
    9479   00:7757  3A 1B C0            		ld		a,[px]
    9480   00:775A  C6 0E               		add		14					;para buffer y vram moviendo 14 y 18						
    9481   00:775C  57                  		ld		d,a
    9482   00:775D  18 D1               		jr.		x_dieciocho
    9483   00:775F                      		
    9484   00:775F                      veinte_diez:
    9485   00:775F                      		
    9486   00:775F  3A 1B C0            		ld		a,[px]
    9487   00:7762  C6 14               		add		20					;para buffer y vram moviendo 6 y 10						
    9488   00:7764  57                  		ld		d,a
    9489   00:7765  C3 D9 76            		jr.		x_diez
    9490   00:7768                      		
    9491   00:7768  C9                  		ret
    9492   00:7769                      
    9493   00:7769                      veintidos_diez:
    9494   00:7769                      		
    9495   00:7769  3A 1B C0            		ld		a,[px]
    9496   00:776C  C6 16               		add		22					;para buffer y vram moviendo 6 y 10						
    9497   00:776E  57                  		ld		d,a
    9498   00:776F  C3 D9 76            		jr.		x_diez
    9499   00:7772                      				
    9500   00:7772                      menos_diez_diez:
    9501   00:7772                      		
    9502   00:7772  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9503   00:7775  D6 0A               		sub		10
    9504   00:7777  57                  		ld		d,a
    9505   00:7778  C3 D9 76            		jr.		x_diez
    9506   00:777B                      		
    9507   00:777B                      seis_dieciocho:
    9508   00:777B                      		
    9509   00:777B  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9510   00:777E  C6 06               		add		6
    9511   00:7780  57                  		ld		d,a
    9512   00:7781  18 AD               		jr.		x_dieciocho
    9513   00:7783                      
    9514   00:7783                      menos_diez_dieciocho:
    9515   00:7783                      		
    9516   00:7783  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9517   00:7786  D6 0A               		sub		10
    9518   00:7788  57                  		ld		d,a
    9519   00:7789  18 A5               		jr.		x_dieciocho
    9520   00:778B                      
    9521   00:778B                      tres_quince:
    9522   00:778B                      		
    9523   00:778B  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 3 y 15	
    9524   00:778E  C6 03               		add		3
    9525   00:7790  57                  		ld		d,a
    9526   00:7791                      
    9527   00:7791                      
    9528   00:7791                      x_quince:
    9529   00:7791                      
    9530   00:7791  3A 1C C0            		ld		a,[py]
    9531   00:7794  C6 0F               		add		15
    9532   00:7796  5F                  		ld		e,a
    9533   00:7797                      		
    9534   00:7797  C9                  		ret
    9535   00:7798                      
    9536   00:7798                      tres_dos:
    9537   00:7798  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 3 y 2
    9538   00:779B  C6 03               		add		3
    9539   00:779D  57                  		ld		d,a
    9540   00:779E  C3 F6 76            		jr.		x_dos
    9541   00:77A1                      				
    9542   00:77A1                      
    9543   00:77A1                      		
    9544   00:77A1                      dos_dieciocho:
    9545   00:77A1                      		
    9546   00:77A1  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10		
    9547   00:77A4  C6 02               		add		2				
    9548   00:77A6  57                  		ld		d,a
    9549   00:77A7  18 87               		jr.		x_dieciocho
    9550   00:77A9                      		
    9551   00:77A9                      ocho_dieciocho:
    9552   00:77A9  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9553   00:77AC  C6 08               		add		8
    9554   00:77AE  57                  		ld		d,a
    9555   00:77AF  C3 30 77            		jr.		x_dieciocho
    9556   00:77B2                      		
    9557   00:77B2                      diez_dieciocho:
    9558   00:77B2  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9559   00:77B5  C6 0A               		add		10
    9560   00:77B7  57                  		ld		d,a
    9561   00:77B8  C3 30 77            		jr.		x_dieciocho
    9562   00:77BB                      		
    9563   00:77BB                      ocho_uno:
    9564   00:77BB                      
    9565   00:77BB  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9566   00:77BE  C6 08               		add		8
    9567   00:77C0  57                  		ld		d,a
    9568   00:77C1                      
    9569   00:77C1                      x_uno:
    9570   00:77C1                      
    9571   00:77C1  3A 1C C0            		ld		a,[py]
    9572   00:77C4  3C                  		inc		a
    9573   00:77C5  5F                  		ld		e,a
    9574   00:77C6                      		
    9575   00:77C6  C9                  		ret
    9576   00:77C7                      ocho_cuatro:
    9577   00:77C7                      
    9578   00:77C7  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9579   00:77CA  C6 08               		add		8
    9580   00:77CC  57                  		ld		d,a
    9581   00:77CD  18 2D               		jr.		x_cuatro_mas
    9582   00:77CF                      						
    9583   00:77CF                      dieciseis_quince:
    9584   00:77CF                      
    9585   00:77CF  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 16 y 15						
    9586   00:77D2  C6 10               		add		16
    9587   00:77D4  57                  		ld		d,a
    9588   00:77D5  18 BA               		jr.		x_quince
    9589   00:77D7                      
    9590   00:77D7                      dieciseis_dos:
    9591   00:77D7                      
    9592   00:77D7  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 16 y 2						
    9593   00:77DA  C6 10               		add		16
    9594   00:77DC  57                  		ld		d,a
    9595   00:77DD  C3 F6 76            		jr.		x_dos
    9596   00:77E0                      
    9597   00:77E0                      menos_dos_menos_cuatro:
    9598   00:77E0                      		
    9599   00:77E0  3A 1B C0            		ld		a,[px]													;para buffer y vram moviendo -2 y menos 4						
    9600   00:77E3  D6 02               		sub		2
    9601   00:77E5  57                  		ld		d,a
    9602   00:77E6  18 0D               		jr.		x_cuatro
    9603   00:77E8                      
    9604   00:77E8                      nueve_menos_cuatro:
    9605   00:77E8                      
    9606   00:77E8  3A 1B C0            		ld		a,[px]													;para buffer y vram moviendo 9 y menos 4						
    9607   00:77EB  C6 09               		add		9
    9608   00:77ED  57                  		ld		d,a
    9609   00:77EE  18 05               		jr.		x_cuatro
    9610   00:77F0                      						
    9611   00:77F0                      uno_menos_cuatro:
    9612   00:77F0                      
    9613   00:77F0  3A 1B C0            		ld		a,[px]													;para buffer y vram moviendo 1 y -4					
    9614   00:77F3  3C                  		inc		a
    9615   00:77F4  57                  		ld		d,a
    9616   00:77F5                      
    9617   00:77F5                      x_cuatro:
    9618   00:77F5                      
    9619   00:77F5  3A 1C C0            		ld		a,[py]
    9620   00:77F8  D6 04               		sub		4
    9621   00:77FA  5F                  		ld		e,a
    9622   00:77FB                      		
    9623   00:77FB  C9                  		ret
    9624   00:77FC                      
    9625   00:77FC                      x_cuatro_mas:
    9626   00:77FC                      
    9627   00:77FC  3A 1C C0            		ld		a,[py]
    9628   00:77FF  C6 04               		add		4
    9629   00:7801  5F                  		ld		e,a
    9630   00:7802                      		
    9631   00:7802  C9                  		ret
    9632   00:7803                      				
    9633   00:7803                      menos_uno_quince:
    9634   00:7803                      
    9635   00:7803  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
    9636   00:7806  3D                  		dec		a
    9637   00:7807  57                  		ld		d,a
    9638   00:7808  18 87               		jr.		x_quince
    9639   00:780A                      
    9640   00:780A                      menos_uno_dos:
    9641   00:780A                      
    9642   00:780A  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo -1 y 2						
    9643   00:780D  3D                  		dec		a
    9644   00:780E  57                  		ld		d,a
    9645   00:780F  C3 F6 76            		jr.		x_dos
    9646   00:7812                      
    9647   00:7812                      pinta_en_pantalla:
    9648   00:7812                      
    9649   00:7812  11 00 18            		ld		de,#1800												;pinta en pantalla lo especificado anteriormente
    9650   00:7815  19                  		add		hl,de
    9651   00:7816  E5                  		push	hl
    9652   00:7817  32 EE EE            		ld		[#eeee],a
    9653   00:781A  21 EE EE            		ld		hl,#eeee
    9654   00:781D  D1                  		pop		de
    9655   00:781E  01 01 00            		ld		bc,1
    9656   00:7821  C3 5C 00            		jp		GRABAVRAM
    9657   00:7824                      	
    9658   00:7824                      efecto_sonido:
    9659   00:7824                      		
    9660   00:7824  4F                  		ld		c,a
    9661   00:7825  C3 FA 7F            		jp		ayFX_INIT
    9662   00:7828                      
    9663   00:7828                      ; partes repetidas de los motores de sprites
    9664   00:7828                      
    9665   00:7828                      CERO_CUATRO_OCHO:
    9666   00:7828                      
    9667   00:7828  DD 77 00            		ld		(ix),a
    9668   00:782B  DD 77 04            		ld		(ix+4),a
    9669   00:782E  DD 77 08            		ld		(ix+8),a
    9670   00:7831                      		
    9671   00:7831  C9                  		ret
    9672   00:7832                      		
    9673   00:7832                      UNO_CINCO_NUEVE:
    9674   00:7832                      
    9675   00:7832  DD 77 01            		ld		(ix+1),a
    9676   00:7835  DD 77 05            		ld		(ix+5),a
    9677   00:7838  DD 77 09            		ld		(ix+9),a
    9678   00:783B                      		
    9679   00:783B  C9                  		ret
    9680   00:783C                      
    9681   00:783C                      DOS_SEIS_DIEZ:
    9682   00:783C                      
    9683   00:783C  DD 77 02            		ld		(ix+2),a
    9684   00:783F  C6 04               		add		4
    9685   00:7841  DD 77 06            		ld		(ix+6),a
    9686   00:7844  C6 04               		add		4
    9687   00:7846  DD 77 0A            		ld		(ix+10),a
    9688   00:7849                      		
    9689   00:7849  C9                  		ret
    9690   00:784A                      		
    9691   00:784A                      		;DESCOMPRESORES
    9692   00:784A                      
    9693   00:784A                      depack_VRAM:		
    9694   00:784A                      
    9695   00:784A                      		include "PL_VRAM_Depack_SJASM.asm"						; hl=ram/rom fuente de=vram destino
       1.  00:784A                      ;-----------------------------------------------------------
       2.  00:784A                      ; Pletter v0.5b VRAM Depacker v1.1 - 16Kb version
       3.  00:784A                      ; HL = RAM/ROM source ; DE = VRAM destination
       4.  00:784A                      ;-----------------------------------------------------------
       5.  00:784A                      ;	di
       6.  00:784A                      
       7.  00:784A                      ; VRAM address setup
       8.  00:784A  7B                  	ld	a,e
       9.  00:784B  D3 99               	out	[099h],a
      10.  00:784D  7A                  	ld	a,d
      11.  00:784E  F6 40               	or	040h
      12.  00:7850  D3 99               	out	[099h],a
      13.  00:7852                      
      14.  00:7852                      ; Initialization
      15.  00:7852  7E                  	ld	a,[hl]
      16.  00:7853  23                  	inc	hl
      17.  00:7854  D9                  	exx
      18.  00:7855  11 00 00            	ld	de,0
      19.  00:7858  87                  	add	a,a
      20.  00:7859  3C                  	inc	a
      21.  00:785A  CB 13               	rl	e
      22.  00:785C  87                  	add	a,a
      23.  00:785D  CB 13               	rl	e
      24.  00:785F  87                  	add	a,a
      25.  00:7860  CB 13               	rl	e
      26.  00:7862  CB 13               	rl	e
      27.  00:7864  21 1A 79            	ld	hl,modes
      28.  00:7867  19                  	add	hl,de
      29.  00:7868  5E                  	ld	e,[hl]
      30.  00:7869  DD 6B               	ld	ixl,e
      31.  00:786B  23                  	inc	hl
      32.  00:786C  5E                  	ld	e,[hl]
      33.  00:786D  DD 63               	ld	ixh,e
      34.  00:786F  1E 01               	ld	e,1
      35.  00:7871  D9                  	exx
      36.  00:7872  FD 21 7B 78         	ld	iy,loop
      37.  00:7876                      
      38.  00:7876                      ; Main depack loop
      39.  00:7876  0E 98               literal:ld	c,098h
      40.  00:7878  ED A3               	outi
      41.  00:787A  13                  	inc	de
      42.  00:787B  87                  loop:	add	a,a
      43.  00:787C  CC 0F 79              	call	z,getbit
      44.  00:787F  30 F5               	jr	nc,literal
      45.  00:7881                      
      46.  00:7881                      ; Compressed data
      47.  00:7881  D9                  	exx
      48.  00:7882  62                  	ld	h,d
      49.  00:7883  6B                  	ld	l,e
      50.  00:7884  87                  getlen: add	a,a
      51.  00:7885  CC 13 79            	call	z,getbitexx
      52.  00:7888  30 1D               	jr	nc,lenok
      53.  00:788A  87                  lus:	add	a,a
      54.  00:788B  CC 13 79            	call	z,getbitexx
      55.  00:788E  ED 6A               	adc	hl,hl
      56.  00:7890  D8                  	ret	c
      57.  00:7891  87                  	add	a,a
      58.  00:7892  CC 13 79            	call	z,getbitexx
      59.  00:7895  30 10               	jr	nc,lenok
      60.  00:7897  87                  	add	a,a
      61.  00:7898  CC 13 79            	call	z,getbitexx
      62.  00:789B  ED 6A               	adc	hl,hl
      63.  00:789D  DA 19 79            	jp	c,Depack_out
      64.  00:78A0  87                  	add	a,a
      65.  00:78A1  CC 13 79            	call	z,getbitexx
      66.  00:78A4  DA 8A 78            	jp	c,lus
      67.  00:78A7  23                  lenok:  inc	hl
      68.  00:78A8  D9                  	exx
      69.  00:78A9  4E                  	ld	c,[hl]
      70.  00:78AA  23                  	inc	hl
      71.  00:78AB  06 00               	ld	b,0
      72.  00:78AD  CB 79               	bit	7,c
      73.  00:78AF  CA E2 78            	jp	z,offsok
      74.  00:78B2  DD E9               	jp	ix
      75.  00:78B4                      
      76.  00:78B4  87                  mode7:  add	a,a
      77.  00:78B5  CC 0F 79              	call	z,getbit
      78.  00:78B8  CB 10               	rl	b
      79.  00:78BA  87                  mode6:	add	a,a
      80.  00:78BB  CC 0F 79              	call	z,getbit
      81.  00:78BE  CB 10               	rl	b
      82.  00:78C0  87                  mode5:  add	a,a
      83.  00:78C1  CC 0F 79              	call	z,getbit
      84.  00:78C4  CB 10               	rl	b
      85.  00:78C6  87                  mode4:  add	a,a
      86.  00:78C7  CC 0F 79              	call	z,getbit
      87.  00:78CA  CB 10               	rl	b
      88.  00:78CC  87                  mode3:  add	a,a
      89.  00:78CD  CC 0F 79              	call	z,getbit
      90.  00:78D0  CB 10               	rl	b
      91.  00:78D2  87                  mode2:	add	a,a
      92.  00:78D3  CC 0F 79              	call	z,getbit
      93.  00:78D6  CB 10               	rl	b
      94.  00:78D8  87                  	add	a,a
      95.  00:78D9  CC 0F 79              	call	z,getbit
      96.  00:78DC  30 04               	jr	nc,offsok
      97.  00:78DE  B7                  	or	a
      98.  00:78DF  04                  	inc	b
      99.  00:78E0  CB B9               	res	7,c
     100.  00:78E2  03                  offsok: inc	bc
     101.  00:78E3  E5                  	push	hl
     102.  00:78E4  D9                  	exx
     103.  00:78E5  E5                  	push	hl
     104.  00:78E6  D9                  	exx
     105.  00:78E7  6B                  	ld	l,e
     106.  00:78E8  62                  	ld	h,d
     107.  00:78E9  ED 42               	sbc	hl,bc
     108.  00:78EB  C1                  	pop	bc
     109.  00:78EC  F5                  	push	af
     110.  00:78ED  7D                  .loop:	ld	a,l
     111.  00:78EE  D3 99               	out	[099h],a
     112.  00:78F0  7C                  	ld	a,h
     113.  00:78F1  00                  	nop                     ; VDP timing
     114.  00:78F2  D3 99               	out	[099h],a
     115.  00:78F4  00                  	nop                     ; VDP timing
     116.  00:78F5  DB 98               	in	a,[098h]
     117.  00:78F7  08                  	ex	af,af'
     118.  00:78F8  7B                  	ld	a,e
     119.  00:78F9  00                  	nop			; VDP timing
     120.  00:78FA  D3 99               	out	[099h],a
     121.  00:78FC  7A                  	ld	a,d
     122.  00:78FD  F6 40               	or	040h
     123.  00:78FF  D3 99               	out	[099h],a
     124.  00:7901  08                  	ex	af,af'
     125.  00:7902  00                  	nop			; VDP timing
     126.  00:7903  D3 98               	out	[098h],a
     127.  00:7905  13                  	inc	de
     128.  00:7906  ED A1               	cpi
     129.  00:7908  EA ED 78            	jp	pe,.loop
     130.  00:790B  F1                  	pop	af
     131.  00:790C  E1                  	pop	hl
     132.  00:790D  FD E9               	jp	iy
     133.  00:790F                      
     134.  00:790F  7E                  getbit: ld	a,[hl]
     135.  00:7910  23                  	inc	hl
     136.  00:7911  17                  	rla
     137.  00:7912  C9                  	ret
     138.  00:7913                      
     139.  00:7913                      getbitexx:
     140.  00:7913  D9                  	exx
     141.  00:7914  7E                  	ld	a,[hl]
     142.  00:7915  23                  	inc	hl
     143.  00:7916  D9                  	exx
     144.  00:7917  17                  	rla
     145.  00:7918  C9                  	ret
     146.  00:7919                      
     147.  00:7919                      ; Depacker exit
     148.  00:7919                      Depack_out:
     149.  00:7919                      ;	ei
     150.  00:7919  C9                  	ret
     151.  00:791A                      
     152.  00:791A                      modes:
     153.  00:791A  E2 78               	dw	offsok
     154.  00:791C  D2 78               	dw	mode2
     155.  00:791E  CC 78               	dw	mode3
     156.  00:7920  C6 78               	dw	mode4
     157.  00:7922  C0 78               	dw	mode5
     158.  00:7924  BA 78               	dw	mode6
     159.  00:7926  B4 78               	dw	mode7
    9696   00:7928                      
    9697   00:7928                      depack:
    9698   00:7928                      
    9699   00:7928                      		include	"unpack.asm"									; hl=ram/rom fuente de=ram destino
       1.  00:7928                      ; pletter v0.5c msx unpacker
       2.  00:7928                      
       3.  00:7928                      ; call unpack with hl pointing to some pletter5 data, and de pointing to the destination.
       4.  00:7928                      ; changes all registers
       5.  00:7928                      
       6.  00:7928                      ; define lengthindata when the original size is written in the pletter data
       7.  00:7928                      
       8.  00:7928                      ;  define LENGTHINDATA
       9.  00:7928                      
      10.  00:7928                        module pletter
      11.  00:7928                      
      12.  00:7928                        macro GETBIT
      13.  00:7928                    <   add a,a
      14.  00:7928                    <   call z,getbit
      15.  00:7928                    <   endmacro
      16.  00:7928                      
      17.  00:7928                        macro GETBITEXX
      18.  00:7928                    <   add a,a
      19.  00:7928                    <   call z,getbitexx
      20.  00:7928                    <   endmacro
      21.  00:7928                      
      22.  00:7928                      @unpack
      23.  00:7928                      
      24.  00:7928                        ifdef LENGTHINDATA
      25.  00:7928                    ~   inc hl
      26.  00:7928                    ~   inc hl
      27.  00:7928                    ~   endif
      28.  00:7928                      
      29.  00:7928  7E                    ld a,(hl)
      30.  00:7929  23                    inc hl
      31.  00:792A  D9                    exx
      32.  00:792B  11 00 00              ld de,0
      33.  00:792E  87                    add a,a
      34.  00:792F  3C                    inc a
      35.  00:7930  CB 13                 rl e
      36.  00:7932  87                    add a,a
      37.  00:7933  CB 13                 rl e
      38.  00:7935  87                    add a,a
      39.  00:7936  CB 13                 rl e
      40.  00:7938  CB 13                 rl e
      41.  00:793A  21 C6 79              ld hl,modes
      42.  00:793D  19                    add hl,de
      43.  00:793E  5E                    ld e,(hl)
      44.  00:793F  DD 6B                 ld ixl,e
      45.  00:7941  23                    inc hl
      46.  00:7942  5E                    ld e,(hl)
      47.  00:7943  DD 63                 ld ixh,e
      48.  00:7945  1E 01                 ld e,1
      49.  00:7947  D9                    exx
      50.  00:7948  FD 21 4E 79           ld iy,loop
      51.  00:794C                      literal
      52.  00:794C  ED A0                 ldi
      53.  00:794E                      loop
      54.  00:794E                        GETBIT
      54.  00:794E  87                >   add a,a
      54.  00:794F  CC BC 79          >   call z,getbit
      55.  00:7952  30 F8                 jr nc,literal
      56.  00:7954  D9                    exx
      57.  00:7955  62                    ld h,d
      58.  00:7956  6B                    ld l,e
      59.  00:7957                      getlen
      60.  00:7957                        GETBITEXX
      60.  00:7957  87                >   add a,a
      60.  00:7958  CC C0 79          >   call z,getbitexx
      61.  00:795B  30 1B                 jr nc,.lenok
      62.  00:795D                      .lus
      63.  00:795D                        GETBITEXX
      63.  00:795D  87                >   add a,a
      63.  00:795E  CC C0 79          >   call z,getbitexx
      64.  00:7961  ED 6A                 adc hl,hl
      65.  00:7963  D8                    ret c
      66.  00:7964                        GETBITEXX
      66.  00:7964  87                >   add a,a
      66.  00:7965  CC C0 79          >   call z,getbitexx
      67.  00:7968  30 0E                 jr nc,.lenok
      68.  00:796A                        GETBITEXX
      68.  00:796A  87                >   add a,a
      68.  00:796B  CC C0 79          >   call z,getbitexx
      69.  00:796E  ED 6A                 adc hl,hl
      70.  00:7970  D8                    ret c
      71.  00:7971                        GETBITEXX
      71.  00:7971  87                >   add a,a
      71.  00:7972  CC C0 79          >   call z,getbitexx
      72.  00:7975  DA 5D 79              jp c,.lus
      73.  00:7978                      .lenok
      74.  00:7978  23                    inc hl
      75.  00:7979  D9                    exx
      76.  00:797A  4E                    ld c,(hl)
      77.  00:797B  23                    inc hl
      78.  00:797C  06 00                 ld b,0
      79.  00:797E  CB 79                 bit 7,c
      80.  00:7980  CA AD 79              jp z,offsok
      81.  00:7983  DD E9                 jp ix
      82.  00:7985                      
      83.  00:7985                      mode6
      84.  00:7985                        GETBIT
      84.  00:7985  87                >   add a,a
      84.  00:7986  CC BC 79          >   call z,getbit
      85.  00:7989  CB 10                 rl b
      86.  00:798B                      mode5
      87.  00:798B                        GETBIT
      87.  00:798B  87                >   add a,a
      87.  00:798C  CC BC 79          >   call z,getbit
      88.  00:798F  CB 10                 rl b
      89.  00:7991                      mode4
      90.  00:7991                        GETBIT
      90.  00:7991  87                >   add a,a
      90.  00:7992  CC BC 79          >   call z,getbit
      91.  00:7995  CB 10                 rl b
      92.  00:7997                      mode3
      93.  00:7997                        GETBIT
      93.  00:7997  87                >   add a,a
      93.  00:7998  CC BC 79          >   call z,getbit
      94.  00:799B  CB 10                 rl b
      95.  00:799D                      mode2
      96.  00:799D                        GETBIT
      96.  00:799D  87                >   add a,a
      96.  00:799E  CC BC 79          >   call z,getbit
      97.  00:79A1  CB 10                 rl b
      98.  00:79A3                        GETBIT
      98.  00:79A3  87                >   add a,a
      98.  00:79A4  CC BC 79          >   call z,getbit
      99.  00:79A7  30 04                 jr nc,offsok
     100.  00:79A9  B7                    or a
     101.  00:79AA  04                    inc b
     102.  00:79AB  CB B9                 res 7,c
     103.  00:79AD                      offsok
     104.  00:79AD  03                    inc bc
     105.  00:79AE  E5                    push hl
     106.  00:79AF  D9                    exx
     107.  00:79B0  E5                    push hl
     108.  00:79B1  D9                    exx
     109.  00:79B2  6B                    ld l,e
     110.  00:79B3  62                    ld h,d
     111.  00:79B4  ED 42                 sbc hl,bc
     112.  00:79B6  C1                    pop bc
     113.  00:79B7  ED B0                 ldir
     114.  00:79B9  E1                    pop hl
     115.  00:79BA  FD E9                 jp iy
     116.  00:79BC                      
     117.  00:79BC                      getbit
     118.  00:79BC  7E                    ld a,(hl)
     119.  00:79BD  23                    inc hl
     120.  00:79BE  17                    rla
     121.  00:79BF  C9                    ret
     122.  00:79C0                      
     123.  00:79C0                      getbitexx
     124.  00:79C0  D9                    exx
     125.  00:79C1  7E                    ld a,(hl)
     126.  00:79C2  23                    inc hl
     127.  00:79C3  D9                    exx
     128.  00:79C4  17                    rla
     129.  00:79C5  C9                    ret
     130.  00:79C6                      
     131.  00:79C6                      modes
     132.  00:79C6  AD 79                 word offsok
     133.  00:79C8  9D 79                 word mode2
     134.  00:79CA  97 79                 word mode3
     135.  00:79CC  91 79                 word mode4
     136.  00:79CE  8B 79                 word mode5
     137.  00:79D0  85 79                 word mode6
     138.  00:79D2                      
     139.  00:79D2                        endmodule
     140.  00:79D2                      
     141.  00:79D2                      ;eof
    9700   00:79D2                      
    9701   00:79D2                      		;la instrucción que dejaremos en lugar del gancho
    9702   00:79D2                      		
    9703   00:79D2                      nuestra_isr:
    9704   00:79D2                      
    9705   00:79D2  CD 3E 7F            		call	PT3_ROUT												;envia los datos a los registros del PSG
    9706   00:79D5  CD 46 7E            		call	PT3_PLAY												;calcula el siguiente trozo de música que será enviado la próxima vez
    9707   00:79D8  CD 30 80            		call	ayFX_PLAY												;calcula el siguiente trozo de efecto que será enviado la próxima vez
    9708   00:79DB                      ;		jp		VIEJA_INTERR											;ahora se va a ejecutar la original que había en el gancho
    9709   00:79DB  C9                  		ret
    9710   00:79DC                      		;gancho area salvada
    9711   00:79DC                      		
    9712   00:79DC                      		;MUSICA Y EFECTOS
    9713   00:79DC                      		
    9714   00:79DC                      		include 	"PT3-ROM_sjasm.asm"									;incluye el codigo del reproductor de PT3 (musica)
       1.  00:79DC                      		; --- PT3 REPLAYER WORKING ON ROM ---
       2.  00:79DC                      		; --- Can be assembled with asMSX ---
       3.  00:79DC                      		; --- ROM version: MSX-KUN        ---
       4.  00:79DC                      		; --- asMSX version 2: SapphiRe   ---
       5.  00:79DC                      
       6.  00:79DC                      ; Based on MSX full version of PT3 by Dioniso
       7.  00:79DC                      ;
       8.  00:79DC                      ; This version of the replayer can be used with any note table
       9.  00:79DC                      ; This version also allows the use of PT3 commands
      10.  00:79DC                      ; First 99 bytes of each PT3 module should be stripped off
      11.  00:79DC                      ;
      12.  00:79DC                      ; PLAY and PSG WRITE routines seperated to allow independent calls
      13.  00:79DC                      ;
      14.  00:79DC                      ; ROM LENGTH: 1549 bytes
      15.  00:79DC                      ; RAM LENGTH:  576 bytes
      16.  00:79DC                      
      17.  00:79DC                      
      18.  00:79DC                      
      19.  00:79DC                      ;SJASM version by BTV 2016
      20.  00:79DC                      
      21.  00:79DC                      
      22.  00:79DC                      		; --- CONSTANT VALUES DEFINITION ---
      23.  00:79DC                      
      24.  00:79DC                      ;ChannelsVars
      25.  00:79DC                      ;struc	CHNPRM
      26.  00:79DC                      ;reset group
      27.  00:79DC  (00:0000)           CHNPRM_PsInOr	equ 0	;RESB 1
      28.  00:79DC  (00:0001)           CHNPRM_PsInSm	equ 1	;RESB 1
      29.  00:79DC  (00:0002)           CHNPRM_CrAmSl	equ 2	;RESB 1
      30.  00:79DC  (00:0003)           CHNPRM_CrNsSl	equ 3	;RESB 1
      31.  00:79DC  (00:0004)           CHNPRM_CrEnSl	equ 4	;RESB 1
      32.  00:79DC  (00:0005)           CHNPRM_TSlCnt	equ 5	;RESB 1
      33.  00:79DC  (00:0006)           CHNPRM_CrTnSl	equ 6	;RESW 1
      34.  00:79DC  (00:0008)           CHNPRM_TnAcc	equ 8	;RESW 1
      35.  00:79DC  (00:000A)           CHNPRM_COnOff	equ 10	;RESB 1
      36.  00:79DC                      ;reset group
      37.  00:79DC                      
      38.  00:79DC  (00:000B)           CHNPRM_OnOffD	equ 11	;RESB 1
      39.  00:79DC                      
      40.  00:79DC                      ;IX for PTDECOD here [+12]
      41.  00:79DC  (00:000C)           CHNPRM_OffOnD	equ 12	;RESB 1
      42.  00:79DC  (00:000D)           CHNPRM_OrnPtr	equ 13	;RESW 1
      43.  00:79DC  (00:000F)           CHNPRM_SamPtr	equ 15	;RESW 1
      44.  00:79DC  (00:0011)           CHNPRM_NNtSkp	equ 17	;RESB 1
      45.  00:79DC  (00:0012)           CHNPRM_Note	equ 18	;RESB 1
      46.  00:79DC  (00:0013)           CHNPRM_SlToNt	equ 19	;RESB 1
      47.  00:79DC  (00:0014)           CHNPRM_Env_En	equ 20	;RESB 1
      48.  00:79DC  (00:0015)           CHNPRM_Flags	equ 21	;RESB 1
      49.  00:79DC                       ;Enabled - 0,SimpleGliss - 2
      50.  00:79DC  (00:0016)           CHNPRM_TnSlDl	equ 22	;RESB 1
      51.  00:79DC  (00:0017)           CHNPRM_TSlStp	equ 23	;RESW 1
      52.  00:79DC  (00:0019)           CHNPRM_TnDelt	equ 25	;RESW 1
      53.  00:79DC  (00:001B)           CHNPRM_NtSkCn	equ 27	;RESB 1
      54.  00:79DC  (00:001C)           CHNPRM_Volume	equ 28	;RESB 1
      55.  00:79DC  (00:001D)           CHNPRM_Size	equ 29	;RESB 1
      56.  00:79DC                      ;endstruc
      57.  00:79DC                      
      58.  00:79DC                      ;struc	AR
      59.  00:79DC  (00:0000)           AR_TonA		equ 0	;RESW 1
      60.  00:79DC  (00:0002)           AR_TonB		equ 2	;RESW 1
      61.  00:79DC  (00:0004)           AR_TonC		equ 4	;RESW 1
      62.  00:79DC  (00:0006)           AR_Noise	equ 6	;RESB 1
      63.  00:79DC  (00:0007)           AR_Mixer	equ 7	;RESB 1
      64.  00:79DC  (00:0008)           AR_AmplA	equ 8	;RESB 1
      65.  00:79DC  (00:0009)           AR_AmplB	equ 9	;RESB 1
      66.  00:79DC  (00:000A)           AR_AmplC	equ 10	;RESB 1
      67.  00:79DC  (00:000B)           AR_Env		equ 11	;RESW 1
      68.  00:79DC  (00:000D)           AR_EnvTp	equ 13	;RESB 1
      69.  00:79DC                      ;endstruc
      70.  00:79DC                      
      71.  00:79DC                      		; --- CODE STARTS HERE ---
      72.  00:79DC                      
      73.  00:79DC  21 00 F0            CHECKLP:	LD	HL,PT3_SETUP
      74.  00:79DF  CB FE               		SET	7,[HL]
      75.  00:79E1  CB 46               		BIT	0,[HL]
      76.  00:79E3  C8                  		RET	Z
      77.  00:79E4  E1                  		POP	HL
      78.  00:79E5  21 7A F0            		LD	HL,DelyCnt
      79.  00:79E8  34                  		INC	[HL]
      80.  00:79E9  21 3E F0            		LD	HL,ChanA+CHNPRM_NtSkCn
      81.  00:79EC  34                  		INC	[HL]
      82.  00:79ED  AF                  PT3_MUTE:	XOR	A
      83.  00:79EE  67                  		LD	H,A
      84.  00:79EF  6F                  		LD	L,A
      85.  00:79F0  32 48 F1            		LD	[AYREGS+AR_AmplA],A
      86.  00:79F3  22 49 F1            		LD	[AYREGS+AR_AmplB],HL
      87.  00:79F6  C3 3F 7F            		JP	ROUT_A0
      88.  00:79F9                      
      89.  00:79F9                      PT3_INIT:	;HL - AddressOfModule - 100
      90.  00:79F9  22 01 F0            		LD [PT3_MODADDR],HL
      91.  00:79FC  E5                  		PUSH HL
      92.  00:79FD  11 64 00            		LD DE,100
      93.  00:7A00  19                  		ADD HL,DE
      94.  00:7A01  7E                  		LD A,[HL]
      95.  00:7A02  32 1C F0            		LD [PT3_Delay],A
      96.  00:7A05  E5                  		PUSH HL
      97.  00:7A06  DD E1               		POP IX
      98.  00:7A08  19                  		ADD HL,DE
      99.  00:7A09  22 03 F0            		LD [PT3_CrPsPtr],HL
     100.  00:7A0C  DD 5E 02            		LD E,[IX+102-100]
     101.  00:7A0F  19                  		ADD HL,DE
     102.  00:7A10  23                  		INC HL
     103.  00:7A11  22 18 F0            		LD [PT3_LPosPtr],HL
     104.  00:7A14  D1                  		POP DE
     105.  00:7A15  DD 6E 03            		LD L,[IX+103-100]
     106.  00:7A18  DD 66 04            		LD H,[IX+104-100]
     107.  00:7A1B  19                  		ADD HL,DE
     108.  00:7A1C  22 1A F0            		LD [PT3_PatsPtr],HL
     109.  00:7A1F  21 A9 00            		LD HL,169
     110.  00:7A22  19                  		ADD HL,DE
     111.  00:7A23  22 07 F0            		LD [PT3_OrnPtrs],HL
     112.  00:7A26  21 69 00            		LD HL,105
     113.  00:7A29  19                  		ADD HL,DE
     114.  00:7A2A  22 05 F0            		LD [PT3_SAMPTRS],HL
     115.  00:7A2D  21 00 F0            		LD HL,PT3_SETUP
     116.  00:7A30  CB BE               		RES 7,[HL]
     117.  00:7A32                      
     118.  00:7A32                      		; --- note table data depacker ---
     119.  00:7A32                      		; Depacks first 12 tones of each tone table
     120.  00:7A32                      
     121.  00:7A32  11 B3 7F            		LD DE,T_PACK
     122.  00:7A35  01 B1 F1            		LD BC,T1_+(2*49)-1
     123.  00:7A38  1A                  .TP_0:		LD A,[DE]
     124.  00:7A39  13                  		INC DE
     125.  00:7A3A  FE 1E               		CP 15*2
     126.  00:7A3C  30 06               		JR NC,.TP_1
     127.  00:7A3E  67                  		LD H,A
     128.  00:7A3F  1A                  		LD A,[DE]
     129.  00:7A40  6F                  		LD L,A
     130.  00:7A41  13                  		INC DE
     131.  00:7A42  18 07               		JR .TP_2
     132.  00:7A44  D5                  .TP_1:		PUSH DE
     133.  00:7A45  16 00               		LD D,0
     134.  00:7A47  5F                  		LD E,A
     135.  00:7A48  19                  		ADD HL,DE
     136.  00:7A49  19                  		ADD HL,DE
     137.  00:7A4A  D1                  		POP DE
     138.  00:7A4B  7C                  .TP_2:		LD A,H
     139.  00:7A4C  02                  		LD [BC],A
     140.  00:7A4D  0B                  		DEC BC
     141.  00:7A4E  7D                  		LD A,L
     142.  00:7A4F  02                  		LD [BC],A
     143.  00:7A50  0B                  		DEC BC
     144.  00:7A51  D6 F0               		SUB $F0
     145.  00:7A53  20 E3               		JR NZ,.TP_0
     146.  00:7A55                      
     147.  00:7A55                      		; --- INITIALIZE PT3 VARIABLES ---
     148.  00:7A55  21 23 F0            		LD HL,VARS
     149.  00:7A58  77                  		LD [HL],A
     150.  00:7A59  11 24 F0            		LD DE,VARS+1
     151.  00:7A5C  01 2C 01            		LD BC,VAR0END-VARS-1
     152.  00:7A5F  ED B0               		LDIR
     153.  00:7A61                      
     154.  00:7A61  3C                  		INC A
     155.  00:7A62  32 7A F0            		LD [DelyCnt],A
     156.  00:7A65  21 01 F0            		LD HL,$F001 ;H - CHNPRM_Volume, L - CHNPRM_NtSkCn
     157.  00:7A68  22 3E F0            		LD [ChanA+CHNPRM_NtSkCn],HL
     158.  00:7A6B  22 5B F0            		LD [ChanB+CHNPRM_NtSkCn],HL
     159.  00:7A6E  22 78 F0            		LD [ChanC+CHNPRM_NtSkCn],HL
     160.  00:7A71                      
     161.  00:7A71  21 AF 7F            		LD HL,EMPTYSAMORN
     162.  00:7A74  22 12 F0            		LD [PT3_AdInPtA],HL ;ptr to zero
     163.  00:7A77  22 30 F0            		LD [ChanA+CHNPRM_OrnPtr],HL ;ornament 0 is "0,1,0"
     164.  00:7A7A  22 4D F0            		LD [ChanB+CHNPRM_OrnPtr],HL ;in all versions from
     165.  00:7A7D  22 6A F0            		LD [ChanC+CHNPRM_OrnPtr],HL ;3.xx to 3.6x and VTII
     166.  00:7A80                      
     167.  00:7A80  22 32 F0            		LD [ChanA+CHNPRM_SamPtr],HL ;S1 There is no default
     168.  00:7A83  22 4F F0            		LD [ChanB+CHNPRM_SamPtr],HL ;S2 sample in PT3, so, you
     169.  00:7A86  22 6C F0            		LD [ChanC+CHNPRM_SamPtr],HL ;S3 can comment S1,2,3; see
     170.  00:7A89                      					    ;also EMPTYSAMORN comment
     171.  00:7A89                      
     172.  00:7A89                      		; --- NOTE TABLE CREATOR (c) Ivan Roshin, adapted by SapphiRe ---
     173.  00:7A89  DD 7E FF            		LD A,[IX+99-100] ;TONE TABLE NUMBER
     174.  00:7A8C  17                  		RLA
     175.  00:7A8D  E6 07               		AND 7
     176.  00:7A8F  21 5F 7F            		LD HL,NT_DATA
     177.  00:7A92  D5                  		PUSH DE
     178.  00:7A93  50                  		LD D,B		; ld d,0 (bc is 0000 after LDIR)
     179.  00:7A94  87                  		ADD A,A
     180.  00:7A95  5F                  		LD E,A
     181.  00:7A96  19                  		ADD HL,DE	; hl -> init of correct note table data
     182.  00:7A97  5E                  		LD E,[HL]
     183.  00:7A98  23                  		INC HL
     184.  00:7A99  CB 3B               		SRL E
     185.  00:7A9B  9F                  		SBC A,A
     186.  00:7A9C  E6 A7               		AND $A7			;$00 (NOP) or $A7 (AND A)
     187.  00:7A9E  32 21 F0            		LD [PT3_NTL3],A		; CORRECT INSTRUCTION, DEPENDS OF SELECTED TABLE
     188.  00:7AA1  3E C9               		LD A,$C9		; RET CODE
     189.  00:7AA3  32 22 F0            		LD [PT3_NTL3+1],A	; RET PLACED
     190.  00:7AA6  EB                  		EX DE,HL
     191.  00:7AA7  C1                  		POP BC ;BC=T1_
     192.  00:7AA8  09                  		ADD HL,BC
     193.  00:7AA9                      
     194.  00:7AA9  1A                  		LD A,[DE]                           
     195.  00:7AAA                      
     196.  00:7AAA  01 6F 7F            		LD BC,T_
     197.  00:7AAD  81                  		ADD A,C
     198.  00:7AAE  4F                  		LD C,A
     199.  00:7AAF  88                  		ADC A,B
     200.  00:7AB0                      
     201.  00:7AB0  91                  		SUB C
     202.  00:7AB1  47                  		LD B,A
     203.  00:7AB2  C5                  		PUSH BC
     204.  00:7AB3  11 80 F0            		LD DE,NT_
     205.  00:7AB6  D5                  		PUSH DE
     206.  00:7AB7                      
     207.  00:7AB7  06 0C               		LD B,12
     208.  00:7AB9  C5                  .L1:		PUSH BC
     209.  00:7ABA  4E                  		LD C,[HL]
     210.  00:7ABB  23                  		INC HL
     211.  00:7ABC  E5                  		PUSH HL
     212.  00:7ABD  46                  		LD B,[HL]
     213.  00:7ABE                      
     214.  00:7ABE  D5                  		PUSH DE
     215.  00:7ABF  EB                  		EX DE,HL
     216.  00:7AC0  11 17 00            		LD DE,23
     217.  00:7AC3  DD 26 08            		db $DD,$26,$08	;LD XH,8
     218.  00:7AC6                      
     219.  00:7AC6  CB 38               .L2:		SRL B
     220.  00:7AC8  CB 19               		RR C
     221.  00:7ACA  CD 21 F0            .L3:		CALL PT3_NTL3	;AND A or NOP
     222.  00:7ACD  79                  		LD A,C
     223.  00:7ACE  8A                  		ADC A,D	;=ADC 0
     224.  00:7ACF  77                  		LD [HL],A
     225.  00:7AD0  23                  		INC HL
     226.  00:7AD1  78                  		LD A,B
     227.  00:7AD2  8A                  		ADC A,D
     228.  00:7AD3  77                  		LD [HL],A
     229.  00:7AD4  19                  		ADD HL,DE
     230.  00:7AD5  DD 25               		db $DD,$25	;DEC XH
     231.  00:7AD7  20 ED               		JR NZ,.L2
     232.  00:7AD9                      
     233.  00:7AD9  D1                  		POP DE
     234.  00:7ADA  13                  		INC DE
     235.  00:7ADB  13                  		INC DE
     236.  00:7ADC  E1                  		POP HL
     237.  00:7ADD  23                  		INC HL
     238.  00:7ADE  C1                  		POP BC
     239.  00:7ADF  10 D8               		DJNZ .L1
     240.  00:7AE1                      
     241.  00:7AE1  E1                  		POP HL
     242.  00:7AE2  D1                  		POP DE
     243.  00:7AE3                      
     244.  00:7AE3  7B                  		LD A,E
     245.  00:7AE4  D5                  		PUSH DE
     246.  00:7AE5  11 7B 7F            		LD DE,TCOLD_1
     247.  00:7AE8  BB                  		CP E
     248.  00:7AE9  D1                  		POP DE
     249.  00:7AEA  20 05               		JR NZ,.CORR_1
     250.  00:7AEC  3E FD               		LD A,$FD
     251.  00:7AEE  32 AE F0            		LD [NT_+$2E],A
     252.  00:7AF1                      
     253.  00:7AF1  1A                  .CORR_1:	LD A,[DE]
     254.  00:7AF2  A7                  		AND A
     255.  00:7AF3  28 11               		JR Z,.TC_EXIT
     256.  00:7AF5  1F                  		RRA
     257.  00:7AF6  F5                  		PUSH AF
     258.  00:7AF7  87                  		ADD A,A
     259.  00:7AF8  4F                  		LD C,A
     260.  00:7AF9  09                  		ADD HL,BC
     261.  00:7AFA  F1                  		POP AF
     262.  00:7AFB  30 02               		JR NC,.CORR_2
     263.  00:7AFD  35                  		DEC [HL]
     264.  00:7AFE  35                  		DEC [HL]
     265.  00:7AFF  34                  .CORR_2:	INC [HL]
     266.  00:7B00  A7                  		AND A
     267.  00:7B01  ED 42               		SBC HL,BC
     268.  00:7B03  13                  		INC DE
     269.  00:7B04  18 EB               		JR .CORR_1
     270.  00:7B06                      
     271.  00:7B06                      .TC_EXIT:	;POP AF
     272.  00:7B06                      
     273.  00:7B06                      		; --- CREATE PT3 VOLUME TABLE (c) Ivan Roshin, adapted by SapphiRe ---
     274.  00:7B06  21 11 00            		ld	hl,$11
     275.  00:7B09  54                  		ld	d,h
     276.  00:7B0A  5C                  		ld	e,h
     277.  00:7B0B  DD 21 50 F1         		ld	IX,VT_+16
     278.  00:7B0F  06 0F               		ld	b,15
     279.  00:7B11  E5                  .INITV1:	push	hl
     280.  00:7B12  19                  		add	hl,de
     281.  00:7B13  EB                  		ex	de,hl
     282.  00:7B14  ED 62               		sbc	hl,hl
     283.  00:7B16  48                  		ld	c,b
     284.  00:7B17  06 10               		ld	b,16
     285.  00:7B19  7D                  .INITV2:	ld	a,l
     286.  00:7B1A  17                  		rla
     287.  00:7B1B  7C                  		ld	a,h
     288.  00:7B1C  CE 00               		adc	a,0
     289.  00:7B1E  DD 77 00            		ld	[ix],a
     290.  00:7B21  DD 23               		inc	ix
     291.  00:7B23  19                  		add	hl,de
     292.  00:7B24  10 F3               		djnz	.INITV2
     293.  00:7B26  E1                  		pop	hl
     294.  00:7B27  7B                  		ld	a,e
     295.  00:7B28  FE 77               		cp	$77
     296.  00:7B2A  20 01               		jr	nz,.INITV3
     297.  00:7B2C  1C                  		inc	e
     298.  00:7B2D  41                  .INITV3:	ld	b,c
     299.  00:7B2E  10 E1               		djnz	.INITV1
     300.  00:7B30                      
     301.  00:7B30  C9                  		RET
     302.  00:7B31                      
     303.  00:7B31                      		;pattern decoder
     304.  00:7B31  DD 36 08 00         PD_OrSm:	LD [IX+(CHNPRM_Env_En-12)],0
     305.  00:7B35  CD BB 7C            		CALL SETORN
     306.  00:7B38  0A                  		LD A,[BC]
     307.  00:7B39  03                  		INC BC
     308.  00:7B3A  0F                  		RRCA
     309.  00:7B3B                      
     310.  00:7B3B  87                  PD_SAM:		ADD A,A
     311.  00:7B3C  5F                  PD_SAM_:	LD E,A
     312.  00:7B3D  16 00               		LD D,0
     313.  00:7B3F  2A 05 F0            		LD HL,[PT3_SAMPTRS]
     314.  00:7B42  19                  		ADD HL,DE
     315.  00:7B43  5E                  		LD E,[HL]
     316.  00:7B44  23                  		INC HL
     317.  00:7B45  56                  		LD D,[HL]
     318.  00:7B46  2A 01 F0            		LD HL,[PT3_MODADDR]
     319.  00:7B49  19                  		ADD HL,DE
     320.  00:7B4A  DD 75 03            		LD [IX+(CHNPRM_SamPtr-12)],L
     321.  00:7B4D  DD 74 04            		LD [IX+(CHNPRM_SamPtr+1-12)],H
     322.  00:7B50  18 41               		JR PD_LOOP
     323.  00:7B52                      
     324.  00:7B52  07                  PD_VOL:		RLCA
     325.  00:7B53  07                  		RLCA
     326.  00:7B54  07                  		RLCA
     327.  00:7B55  07                  		RLCA
     328.  00:7B56  DD 77 10            		LD [IX+(CHNPRM_Volume-12)],A
     329.  00:7B59  18 3B               		JR PD_LP2
     330.  00:7B5B                      	
     331.  00:7B5B  DD 77 08            PD_EOff:	LD [IX+(CHNPRM_Env_En-12)],A
     332.  00:7B5E  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     333.  00:7B61  18 33               		JR PD_LP2
     334.  00:7B63                      
     335.  00:7B63  3D                  PD_SorE:	DEC A
     336.  00:7B64  20 07               		JR NZ,PD_ENV
     337.  00:7B66  0A                  		LD A,[BC]
     338.  00:7B67  03                  		INC BC
     339.  00:7B68  DD 77 05            		LD [IX+(CHNPRM_NNtSkp-12)],A
     340.  00:7B6B  18 29               		JR PD_LP2
     341.  00:7B6D                      
     342.  00:7B6D  CD 9F 7C            PD_ENV:		CALL SETENV
     343.  00:7B70  18 24               		JR PD_LP2
     344.  00:7B72                      
     345.  00:7B72  CD BB 7C            PD_ORN:		CALL SETORN
     346.  00:7B75  18 1C               		JR PD_LOOP
     347.  00:7B77                             
     348.  00:7B77  DD 77 08            PD_ESAM:	LD [IX+(CHNPRM_Env_En-12)],A
     349.  00:7B7A  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     350.  00:7B7D  C4 9F 7C            		CALL NZ,SETENV
     351.  00:7B80  0A                  		LD A,[BC]
     352.  00:7B81  03                  		INC BC
     353.  00:7B82  18 B8               		JR PD_SAM_
     354.  00:7B84                      
     355.  00:7B84  DD 7E 06            PTDECOD:	LD A,[IX+(CHNPRM_Note-12)]
     356.  00:7B87  32 0F F0            		LD [PT3_PrNote],A
     357.  00:7B8A  DD 6E FA            		LD L,[IX+(CHNPRM_CrTnSl-12)]
     358.  00:7B8D  DD 66 FB            		LD H,[IX+(CHNPRM_CrTnSl+1-12)]
     359.  00:7B90  22 10 F0            		LD [PT3_PrSlide],HL
     360.  00:7B93                      
     361.  00:7B93  11 10 20            PD_LOOP:	LD DE,$2010
     362.  00:7B96  0A                  PD_LP2:		LD A,[BC]
     363.  00:7B97  03                  		INC BC
     364.  00:7B98  83                  		ADD A,E
     365.  00:7B99  38 96               		JR C,PD_OrSm
     366.  00:7B9B  82                  		ADD A,D
     367.  00:7B9C  28 4A               		JR Z,PD_FIN
     368.  00:7B9E  38 9B               		JR C,PD_SAM
     369.  00:7BA0  83                  		ADD A,E
     370.  00:7BA1  28 25               		JR Z,PD_REL
     371.  00:7BA3  38 AD               		JR C,PD_VOL
     372.  00:7BA5  83                  		ADD A,E
     373.  00:7BA6  28 B3               		JR Z,PD_EOff
     374.  00:7BA8  38 B9               		JR C,PD_SorE
     375.  00:7BAA  C6 60               		ADD A,96
     376.  00:7BAC  38 20               		JR C,PD_NOTE
     377.  00:7BAE  83                  		ADD A,E
     378.  00:7BAF  38 C1               		JR C,PD_ORN
     379.  00:7BB1  82                  		ADD A,D
     380.  00:7BB2  38 0F               		JR C,PD_NOIS
     381.  00:7BB4  83                  		ADD A,E
     382.  00:7BB5  38 C0               		JR C,PD_ESAM
     383.  00:7BB7  87                  		ADD A,A
     384.  00:7BB8  5F                  		LD E,A
     385.  00:7BB9  21 F4 5B            		LD HL,(SPCCOMS+$DF20) % 65536	; Adapted from original Speccy version (saves 6 bytes)
     386.  00:7BBC  19                  		ADD HL,DE
     387.  00:7BBD  5E                  		LD E,[HL]
     388.  00:7BBE  23                  		INC HL
     389.  00:7BBF  56                  		LD D,[HL]
     390.  00:7BC0  D5                  		PUSH DE
     391.  00:7BC1  18 D0               		JR PD_LOOP
     392.  00:7BC3                      
     393.  00:7BC3  32 7E F0            PD_NOIS:	LD [Ns_Base],A
     394.  00:7BC6  18 CE               		JR PD_LP2
     395.  00:7BC8                      
     396.  00:7BC8  DD CB 09 86         PD_REL:		RES 0,[IX+(CHNPRM_Flags-12)]
     397.  00:7BCC  18 08               		JR PD_RES
     398.  00:7BCE                      	
     399.  00:7BCE  DD 77 06            PD_NOTE:	LD [IX+(CHNPRM_Note-12)],A
     400.  00:7BD1  DD CB 09 C6         		SET 0,[IX+(CHNPRM_Flags-12)]
     401.  00:7BD5  AF                  		XOR A
     402.  00:7BD6                      
     403.  00:7BD6  ED 73 09 F0         PD_RES:		LD [PT3_PDSP],SP
     404.  00:7BDA  DD F9               		LD SP,IX
     405.  00:7BDC  67                  		LD H,A
     406.  00:7BDD  6F                  		LD L,A
     407.  00:7BDE  E5                  		PUSH HL
     408.  00:7BDF  E5                  		PUSH HL
     409.  00:7BE0  E5                  		PUSH HL
     410.  00:7BE1  E5                  		PUSH HL
     411.  00:7BE2  E5                  		PUSH HL
     412.  00:7BE3  E5                  		PUSH HL
     413.  00:7BE4  ED 7B 09 F0         		LD SP,[PT3_PDSP]
     414.  00:7BE8                      
     415.  00:7BE8  DD 7E 05            PD_FIN:		LD A,[IX+(CHNPRM_NNtSkp-12)]
     416.  00:7BEB  DD 77 0F            		LD [IX+(CHNPRM_NtSkCn-12)],A
     417.  00:7BEE  C9                  		RET
     418.  00:7BEF                      
     419.  00:7BEF  DD CB 09 96         C_PORTM:	RES 2,[IX+(CHNPRM_Flags-12)]
     420.  00:7BF3  0A                  		LD A,[BC]
     421.  00:7BF4  03                  		INC BC
     422.  00:7BF5                      		;SKIP PRECALCULATED TONE DELTA [BECAUSE
     423.  00:7BF5                      		;CANNOT BE RIGHT AFTER PT3 COMPILATION]
     424.  00:7BF5  03                  		INC BC
     425.  00:7BF6  03                  		INC BC
     426.  00:7BF7  DD 77 0A            		LD [IX+(CHNPRM_TnSlDl-12)],A
     427.  00:7BFA  DD 77 F9            		LD [IX+(CHNPRM_TSlCnt-12)],A
     428.  00:7BFD  11 80 F0            		LD DE,NT_
     429.  00:7C00  DD 7E 06            		LD A,[IX+(CHNPRM_Note-12)]
     430.  00:7C03  DD 77 07            		LD [IX+(CHNPRM_SlToNt-12)],A
     431.  00:7C06  87                  		ADD A,A
     432.  00:7C07  6F                  		LD L,A
     433.  00:7C08  26 00               		LD H,0
     434.  00:7C0A  19                  		ADD HL,DE
     435.  00:7C0B  7E                  		LD A,[HL]
     436.  00:7C0C  23                  		INC HL
     437.  00:7C0D  66                  		LD H,[HL]
     438.  00:7C0E  6F                  		LD L,A
     439.  00:7C0F  E5                  		PUSH HL
     440.  00:7C10  3A 0F F0            		LD A,[PT3_PrNote]
     441.  00:7C13  DD 77 06            		LD [IX+(CHNPRM_Note-12)],A
     442.  00:7C16  87                  		ADD A,A
     443.  00:7C17  6F                  		LD L,A
     444.  00:7C18  26 00               		LD H,0
     445.  00:7C1A  19                  		ADD HL,DE
     446.  00:7C1B  5E                  		LD E,[HL]
     447.  00:7C1C  23                  		INC HL
     448.  00:7C1D  56                  		LD D,[HL]
     449.  00:7C1E  E1                  		POP HL
     450.  00:7C1F  ED 52               		SBC HL,DE
     451.  00:7C21  DD 75 0D            		LD [IX+(CHNPRM_TnDelt-12)],L
     452.  00:7C24  DD 74 0E            		LD [IX+(CHNPRM_TnDelt+1-12)],H
     453.  00:7C27  ED 5B 10 F0         		LD DE,[PT3_PrSlide]
     454.  00:7C2B  DD 73 FA            		LD [IX+(CHNPRM_CrTnSl-12)],E
     455.  00:7C2E  DD 72 FB            		LD [IX+(CHNPRM_CrTnSl+1-12)],D
     456.  00:7C31  0A                  		LD A,[BC] ;SIGNED TONE STEP
     457.  00:7C32  03                  		INC BC
     458.  00:7C33  08                  		EX AF,AF'
     459.  00:7C34  0A                  		LD A,[BC]
     460.  00:7C35  03                  		INC BC
     461.  00:7C36  A7                  		AND A
     462.  00:7C37  28 01               		JR Z,.NOSIG
     463.  00:7C39  EB                  		EX DE,HL
     464.  00:7C3A  ED 52               .NOSIG:	SBC HL,DE
     465.  00:7C3C  F2 44 7C            		JP P,SET_STP
     466.  00:7C3F  2F                  		CPL
     467.  00:7C40  08                  		EX AF,AF'
     468.  00:7C41  ED 44               		NEG
     469.  00:7C43  08                  		EX AF,AF'
     470.  00:7C44  DD 77 0C            SET_STP:	LD [IX+(CHNPRM_TSlStp+1-12)],A
     471.  00:7C47  08                  		EX AF,AF'
     472.  00:7C48  DD 77 0B            		LD [IX+(CHNPRM_TSlStp-12)],A
     473.  00:7C4B  DD 36 FE 00         		LD [IX+(CHNPRM_COnOff-12)],0
     474.  00:7C4F  C9                  		RET
     475.  00:7C50                      
     476.  00:7C50  DD CB 09 D6         C_GLISS:	SET 2,[IX+(CHNPRM_Flags-12)]
     477.  00:7C54  0A                  		LD A,[BC]
     478.  00:7C55  03                  		INC BC
     479.  00:7C56  DD 77 0A            		LD [IX+(CHNPRM_TnSlDl-12)],A
     480.  00:7C59  DD 77 F9            		LD [IX+(CHNPRM_TSlCnt-12)],A
     481.  00:7C5C  0A                  		LD A,[BC]
     482.  00:7C5D  03                  		INC BC
     483.  00:7C5E  08                  		EX AF,AF'
     484.  00:7C5F  0A                  		LD A,[BC]
     485.  00:7C60  03                  		INC BC
     486.  00:7C61  18 E1               		JR SET_STP
     487.  00:7C63                      
     488.  00:7C63  0A                  C_SMPOS:	LD A,[BC]
     489.  00:7C64  03                  		INC BC
     490.  00:7C65  DD 77 F5            		LD [IX+(CHNPRM_PsInSm-12)],A
     491.  00:7C68  C9                  		RET
     492.  00:7C69                      
     493.  00:7C69  0A                  C_ORPOS:	LD A,[BC]
     494.  00:7C6A  03                  		INC BC
     495.  00:7C6B  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     496.  00:7C6E  C9                  		RET
     497.  00:7C6F                      
     498.  00:7C6F  0A                  C_VIBRT:	LD A,[BC]
     499.  00:7C70  03                  		INC BC
     500.  00:7C71  DD 77 FF            		LD [IX+(CHNPRM_OnOffD-12)],A
     501.  00:7C74  DD 77 FE            		LD [IX+(CHNPRM_COnOff-12)],A
     502.  00:7C77  0A                  		LD A,[BC]
     503.  00:7C78  03                  		INC BC
     504.  00:7C79  DD 77 00            		LD [IX+(CHNPRM_OffOnD-12)],A
     505.  00:7C7C  AF                  		XOR A
     506.  00:7C7D  DD 77 F9            		LD [IX+(CHNPRM_TSlCnt-12)],A
     507.  00:7C80  DD 77 FA            		LD [IX+(CHNPRM_CrTnSl-12)],A
     508.  00:7C83  DD 77 FB            		LD [IX+(CHNPRM_CrTnSl+1-12)],A
     509.  00:7C86  C9                  		RET
     510.  00:7C87                      
     511.  00:7C87  0A                  C_ENGLS:	LD A,[BC]
     512.  00:7C88  03                  		INC BC
     513.  00:7C89  32 1E F0            		LD [PT3_Env_Del],A
     514.  00:7C8C  32 7D F0            		LD [CurEDel],A
     515.  00:7C8F  0A                  		LD A,[BC]
     516.  00:7C90  03                  		INC BC
     517.  00:7C91  6F                  		LD L,A
     518.  00:7C92  0A                  		LD A,[BC]
     519.  00:7C93  03                  		INC BC
     520.  00:7C94  67                  		LD H,A
     521.  00:7C95  22 1F F0            		LD [PT3_ESldAdd],HL
     522.  00:7C98  C9                  		RET
     523.  00:7C99                      
     524.  00:7C99  0A                  C_DELAY:	LD A,[BC]
     525.  00:7C9A  03                  		INC BC
     526.  00:7C9B  32 1C F0            		LD [PT3_Delay],A
     527.  00:7C9E  C9                  		RET
     528.  00:7C9F                      	
     529.  00:7C9F  DD 73 08            SETENV:		LD [IX+(CHNPRM_Env_En-12)],E
     530.  00:7CA2  32 4D F1            		LD [AYREGS+AR_EnvTp],A
     531.  00:7CA5  0A                  		LD A,[BC]
     532.  00:7CA6  03                  		INC BC
     533.  00:7CA7  67                  		LD H,A
     534.  00:7CA8  0A                  		LD A,[BC]
     535.  00:7CA9  03                  		INC BC
     536.  00:7CAA  6F                  		LD L,A
     537.  00:7CAB  22 4E F1            		LD [EnvBase],HL
     538.  00:7CAE  AF                  		XOR A
     539.  00:7CAF  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     540.  00:7CB2  32 7D F0            		LD [CurEDel],A
     541.  00:7CB5  67                  		LD H,A
     542.  00:7CB6  6F                  		LD L,A
     543.  00:7CB7  22 7B F0            		LD [CurESld],HL
     544.  00:7CBA  C9                  C_NOP:		RET
     545.  00:7CBB                      
     546.  00:7CBB  87                  SETORN:		ADD A,A
     547.  00:7CBC  5F                  		LD E,A
     548.  00:7CBD  16 00               		LD D,0
     549.  00:7CBF  DD 72 F4            		LD [IX+(CHNPRM_PsInOr-12)],D
     550.  00:7CC2  2A 07 F0            		LD HL,[PT3_OrnPtrs]
     551.  00:7CC5  19                  		ADD HL,DE
     552.  00:7CC6  5E                  		LD E,[HL]
     553.  00:7CC7  23                  		INC HL
     554.  00:7CC8  56                  		LD D,[HL]
     555.  00:7CC9  2A 01 F0            		LD HL,[PT3_MODADDR]
     556.  00:7CCC  19                  		ADD HL,DE
     557.  00:7CCD  DD 75 01            		LD [IX+(CHNPRM_OrnPtr-12)],L
     558.  00:7CD0  DD 74 02            		LD [IX+(CHNPRM_OrnPtr+1-12)],H
     559.  00:7CD3  C9                  		RET
     560.  00:7CD4                      
     561.  00:7CD4                      		;ALL 16 ADDRESSES TO PROTECT FROM BROKEN PT3 MODULES
     562.  00:7CD4  BA 7C               SPCCOMS:	dw C_NOP
     563.  00:7CD6  50 7C               		dw C_GLISS
     564.  00:7CD8  EF 7B               		dw C_PORTM
     565.  00:7CDA  63 7C               		dw C_SMPOS
     566.  00:7CDC  69 7C               		dw C_ORPOS
     567.  00:7CDE  6F 7C               		dw C_VIBRT
     568.  00:7CE0  BA 7C               		dw C_NOP
     569.  00:7CE2  BA 7C               		dw C_NOP
     570.  00:7CE4  87 7C               		dw C_ENGLS
     571.  00:7CE6  99 7C               		dw C_DELAY
     572.  00:7CE8  BA 7C               		dw C_NOP
     573.  00:7CEA  BA 7C               		dw C_NOP
     574.  00:7CEC  BA 7C               		dw C_NOP
     575.  00:7CEE  BA 7C               		dw C_NOP
     576.  00:7CF0  BA 7C               		dw C_NOP
     577.  00:7CF2  BA 7C               		dw C_NOP
     578.  00:7CF4                      
     579.  00:7CF4  AF                  CHREGS:		XOR A
     580.  00:7CF5  32 4A F1            		LD [AYREGS+AR_AmplC],A
     581.  00:7CF8  DD CB 15 46         		BIT 0,[IX+CHNPRM_Flags]
     582.  00:7CFC  E5                  		PUSH HL
     583.  00:7CFD  CA 23 7E            		JP Z,.CH_EXIT
     584.  00:7D00  ED 73 0B F0         		LD [PT3_CSP],SP
     585.  00:7D04  DD 6E 0D            		LD L,[IX+CHNPRM_OrnPtr]
     586.  00:7D07  DD 66 0E            		LD H,[IX+CHNPRM_OrnPtr+1]
     587.  00:7D0A  F9                  		LD SP,HL
     588.  00:7D0B  D1                  		POP DE
     589.  00:7D0C  67                  		LD H,A
     590.  00:7D0D  DD 7E 00            		LD A,[IX+CHNPRM_PsInOr]
     591.  00:7D10  6F                  		LD L,A
     592.  00:7D11  39                  		ADD HL,SP
     593.  00:7D12  3C                  		INC A
     594.  00:7D13  BA                  		CP D
     595.  00:7D14  38 01               		JR C,.CH_ORPS
     596.  00:7D16  7B                  		LD A,E
     597.  00:7D17  DD 77 00            .CH_ORPS:	LD [IX+CHNPRM_PsInOr],A
     598.  00:7D1A  DD 7E 12            		LD A,[IX+CHNPRM_Note]
     599.  00:7D1D  86                  		ADD A,[HL]
     600.  00:7D1E  F2 22 7D            		JP P,.CH_NTP
     601.  00:7D21  AF                  		XOR A
     602.  00:7D22  FE 60               .CH_NTP:	CP 96
     603.  00:7D24  38 02               		JR C,.CH_NOK
     604.  00:7D26  3E 5F               		LD A,95
     605.  00:7D28  87                  .CH_NOK:	ADD A,A
     606.  00:7D29  08                  		EX AF,AF'
     607.  00:7D2A  DD 6E 0F            		LD L,[IX+CHNPRM_SamPtr]
     608.  00:7D2D  DD 66 10            		LD H,[IX+CHNPRM_SamPtr+1]
     609.  00:7D30  F9                  		LD SP,HL
     610.  00:7D31  D1                  		POP DE
     611.  00:7D32  26 00               		LD H,0
     612.  00:7D34  DD 7E 01            		LD A,[IX+CHNPRM_PsInSm]
     613.  00:7D37  47                  		LD B,A
     614.  00:7D38  87                  		ADD A,A
     615.  00:7D39  87                  		ADD A,A
     616.  00:7D3A  6F                  		LD L,A
     617.  00:7D3B  39                  		ADD HL,SP
     618.  00:7D3C  F9                  		LD SP,HL
     619.  00:7D3D  78                  		LD A,B
     620.  00:7D3E  3C                  		INC A
     621.  00:7D3F  BA                  		CP D
     622.  00:7D40  38 01               		JR C,.CH_SMPS
     623.  00:7D42  7B                  		LD A,E
     624.  00:7D43  DD 77 01            .CH_SMPS:	LD [IX+CHNPRM_PsInSm],A
     625.  00:7D46  C1                  		POP BC
     626.  00:7D47  E1                  		POP HL
     627.  00:7D48  DD 5E 08            		LD E,[IX+CHNPRM_TnAcc]
     628.  00:7D4B  DD 56 09            		LD D,[IX+CHNPRM_TnAcc+1]
     629.  00:7D4E  19                  		ADD HL,DE
     630.  00:7D4F  CB 70               		BIT 6,B
     631.  00:7D51  28 06               		JR Z,.CH_NOAC
     632.  00:7D53  DD 75 08            		LD [IX+CHNPRM_TnAcc],L
     633.  00:7D56  DD 74 09            		LD [IX+CHNPRM_TnAcc+1],H
     634.  00:7D59  EB                  .CH_NOAC:	EX DE,HL
     635.  00:7D5A  08                  		EX AF,AF'
     636.  00:7D5B  6F                  		LD L,A
     637.  00:7D5C  26 00               		LD H,0
     638.  00:7D5E  31 80 F0            		LD SP,NT_
     639.  00:7D61  39                  		ADD HL,SP
     640.  00:7D62  F9                  		LD SP,HL
     641.  00:7D63  E1                  		POP HL
     642.  00:7D64  19                  		ADD HL,DE
     643.  00:7D65  DD 5E 06            		LD E,[IX+CHNPRM_CrTnSl]
     644.  00:7D68  DD 56 07            		LD D,[IX+CHNPRM_CrTnSl+1]
     645.  00:7D6B  19                  		ADD HL,DE
     646.  00:7D6C  ED 7B 0B F0         		LD SP,[PT3_CSP]
     647.  00:7D70  E3                  		EX [SP],HL
     648.  00:7D71  AF                  		XOR A
     649.  00:7D72  DD B6 05            		OR [IX+CHNPRM_TSlCnt]
     650.  00:7D75  28 3E               		JR Z,.CH_AMP
     651.  00:7D77  DD 35 05            		DEC [IX+CHNPRM_TSlCnt]
     652.  00:7D7A  20 39               		JR NZ,.CH_AMP
     653.  00:7D7C  DD 7E 16            		LD A,[IX+CHNPRM_TnSlDl]
     654.  00:7D7F  DD 77 05            		LD [IX+CHNPRM_TSlCnt],A
     655.  00:7D82  DD 6E 17            		LD L,[IX+CHNPRM_TSlStp]
     656.  00:7D85  DD 66 18            		LD H,[IX+CHNPRM_TSlStp+1]
     657.  00:7D88  7C                  		LD A,H
     658.  00:7D89  19                  		ADD HL,DE
     659.  00:7D8A  DD 75 06            		LD [IX+CHNPRM_CrTnSl],L
     660.  00:7D8D  DD 74 07            		LD [IX+CHNPRM_CrTnSl+1],H
     661.  00:7D90  DD CB 15 56         		BIT 2,[IX+CHNPRM_Flags]
     662.  00:7D94  20 1F               		JR NZ,.CH_AMP
     663.  00:7D96  DD 5E 19            		LD E,[IX+CHNPRM_TnDelt]
     664.  00:7D99  DD 56 1A            		LD D,[IX+CHNPRM_TnDelt+1]
     665.  00:7D9C  A7                  		AND A
     666.  00:7D9D  28 01               		JR Z,.CH_STPP
     667.  00:7D9F  EB                  		EX DE,HL
     668.  00:7DA0  ED 52               .CH_STPP:	SBC HL,DE
     669.  00:7DA2  FA B5 7D            		JP M,.CH_AMP
     670.  00:7DA5  DD 7E 13            		LD A,[IX+CHNPRM_SlToNt]
     671.  00:7DA8  DD 77 12            		LD [IX+CHNPRM_Note],A
     672.  00:7DAB  AF                  		XOR A
     673.  00:7DAC  DD 77 05            		LD [IX+CHNPRM_TSlCnt],A
     674.  00:7DAF  DD 77 06            		LD [IX+CHNPRM_CrTnSl],A
     675.  00:7DB2  DD 77 07            		LD [IX+CHNPRM_CrTnSl+1],A
     676.  00:7DB5  DD 7E 02            .CH_AMP:	LD A,[IX+CHNPRM_CrAmSl]
     677.  00:7DB8  CB 79               		BIT 7,C
     678.  00:7DBA  28 13               		JR Z,.CH_NOAM
     679.  00:7DBC  CB 71               		BIT 6,C
     680.  00:7DBE  28 07               		JR Z,.CH_AMIN
     681.  00:7DC0  FE 0F               		CP 15
     682.  00:7DC2  28 0B               		JR Z,.CH_NOAM
     683.  00:7DC4  3C                  		INC A
     684.  00:7DC5  18 05               		JR .CH_SVAM
     685.  00:7DC7  FE F1               .CH_AMIN:	CP -15
     686.  00:7DC9  28 04               		JR Z,.CH_NOAM
     687.  00:7DCB  3D                  		DEC A
     688.  00:7DCC  DD 77 02            .CH_SVAM:	LD [IX+CHNPRM_CrAmSl],A
     689.  00:7DCF  6F                  .CH_NOAM:	LD L,A
     690.  00:7DD0  78                  		LD A,B
     691.  00:7DD1  E6 0F               		AND 15
     692.  00:7DD3  85                  		ADD A,L
     693.  00:7DD4  F2 D8 7D            		JP P,.CH_APOS
     694.  00:7DD7  AF                  		XOR A
     695.  00:7DD8  FE 10               .CH_APOS:	CP 16
     696.  00:7DDA  38 02               		JR C,.CH_VOL
     697.  00:7DDC  3E 0F               		LD A,15
     698.  00:7DDE  DD B6 1C            .CH_VOL:	OR [IX+CHNPRM_Volume]
     699.  00:7DE1  6F                  		LD L,A
     700.  00:7DE2  26 00               		LD H,0
     701.  00:7DE4  11 40 F1            		LD DE,VT_
     702.  00:7DE7  19                  		ADD HL,DE
     703.  00:7DE8  7E                  		LD A,[HL]
     704.  00:7DE9  CB 41               .CH_ENV:	BIT 0,C
     705.  00:7DEB  20 03               		JR NZ,.CH_NOEN
     706.  00:7DED  DD B6 14            		OR [IX+CHNPRM_Env_En]
     707.  00:7DF0  32 4A F1            .CH_NOEN:	LD [AYREGS+AR_AmplC],A
     708.  00:7DF3  CB 78               		BIT 7,B
     709.  00:7DF5  79                  		LD A,C
     710.  00:7DF6  28 19               		JR Z,.NO_ENSL
     711.  00:7DF8  17                  		RLA
     712.  00:7DF9  17                  		RLA
     713.  00:7DFA  CB 2F               		SRA A
     714.  00:7DFC  CB 2F               		SRA A
     715.  00:7DFE  CB 2F               		SRA A
     716.  00:7E00  DD 86 04            		ADD A,[IX+CHNPRM_CrEnSl] ;SEE COMMENT BELOW
     717.  00:7E03  CB 68               		BIT 5,B
     718.  00:7E05  28 03               		JR Z,.NO_ENAC
     719.  00:7E07  DD 77 04            		LD [IX+CHNPRM_CrEnSl],A
     720.  00:7E0A  21 1D F0            .NO_ENAC:	LD HL,PT3_AddToEn
     721.  00:7E0D  86                  		ADD A,[HL] ;BUG IN PT3 - NEED WORD HERE.
     722.  00:7E0E                      			   ;FIX IT IN NEXT VERSION?
     723.  00:7E0E  77                  		LD [HL],A
     724.  00:7E0F  18 0E               		JR .CH_MIX
     725.  00:7E11  1F                  .NO_ENSL:	RRA
     726.  00:7E12  DD 86 03            		ADD A,[IX+CHNPRM_CrNsSl]
     727.  00:7E15  32 7F F0            		LD [AddToNs],A
     728.  00:7E18  CB 68               		BIT 5,B
     729.  00:7E1A  28 03               		JR Z,.CH_MIX
     730.  00:7E1C  DD 77 03            		LD [IX+CHNPRM_CrNsSl],A
     731.  00:7E1F  78                  .CH_MIX:	LD A,B
     732.  00:7E20  1F                  		RRA
     733.  00:7E21  E6 48               		AND $48
     734.  00:7E23  21 47 F1            .CH_EXIT:	LD HL,AYREGS+AR_Mixer
     735.  00:7E26  B6                  		OR [HL]
     736.  00:7E27  0F                  		RRCA
     737.  00:7E28  77                  		LD [HL],A
     738.  00:7E29  E1                  		POP HL
     739.  00:7E2A  AF                  		XOR A
     740.  00:7E2B  DD B6 0A            		OR [IX+CHNPRM_COnOff]
     741.  00:7E2E  C8                  		RET Z
     742.  00:7E2F  DD 35 0A            		DEC [IX+CHNPRM_COnOff]
     743.  00:7E32  C0                  		RET NZ
     744.  00:7E33  DD AE 15            		XOR [IX+CHNPRM_Flags]
     745.  00:7E36  DD 77 15            		LD [IX+CHNPRM_Flags],A
     746.  00:7E39  1F                  		RRA
     747.  00:7E3A  DD 7E 0B            		LD A,[IX+CHNPRM_OnOffD]
     748.  00:7E3D  38 03               		JR C,.CH_ONDL
     749.  00:7E3F  DD 7E 0C            		LD A,[IX+CHNPRM_OffOnD]
     750.  00:7E42  DD 77 0A            .CH_ONDL:	LD [IX+CHNPRM_COnOff],A
     751.  00:7E45  C9                  		RET
     752.  00:7E46                      
     753.  00:7E46  AF                  PT3_PLAY:	XOR A
     754.  00:7E47  32 1D F0            		LD [PT3_AddToEn],A
     755.  00:7E4A  32 47 F1            		LD [AYREGS+AR_Mixer],A
     756.  00:7E4D  3D                  		DEC A
     757.  00:7E4E  32 4D F1            		LD [AYREGS+AR_EnvTp],A
     758.  00:7E51  21 7A F0            		LD HL,DelyCnt
     759.  00:7E54  35                  		DEC [HL]
     760.  00:7E55  C2 DC 7E            		JP NZ,.PL2
     761.  00:7E58  21 3E F0            		LD HL,ChanA+CHNPRM_NtSkCn
     762.  00:7E5B  35                  		DEC [HL]
     763.  00:7E5C  20 4E               		JR NZ,.PL1B
     764.  00:7E5E  ED 4B 12 F0         		LD BC,[PT3_AdInPtA]
     765.  00:7E62  0A                  		LD A,[BC]
     766.  00:7E63  A7                  		AND A
     767.  00:7E64  20 3B               		JR NZ,.PL1A
     768.  00:7E66  57                  		LD D,A
     769.  00:7E67  32 7E F0            		LD [Ns_Base],A
     770.  00:7E6A  2A 03 F0            		LD HL,[PT3_CrPsPtr]
     771.  00:7E6D  23                  		INC HL
     772.  00:7E6E  7E                  		LD A,[HL]
     773.  00:7E6F  3C                  		INC A
     774.  00:7E70  20 08               		JR NZ,.PLNLP
     775.  00:7E72  CD DC 79            		CALL CHECKLP
     776.  00:7E75  2A 18 F0            		LD HL,[PT3_LPosPtr]
     777.  00:7E78  7E                  		LD A,[HL]
     778.  00:7E79  3C                  		INC A
     779.  00:7E7A  22 03 F0            .PLNLP:	LD [PT3_CrPsPtr],HL
     780.  00:7E7D  3D                  		DEC A
     781.  00:7E7E  87                  		ADD A,A
     782.  00:7E7F  5F                  		LD E,A
     783.  00:7E80  CB 12               		RL D
     784.  00:7E82  2A 1A F0            		LD HL,[PT3_PatsPtr]
     785.  00:7E85  19                  		ADD HL,DE
     786.  00:7E86  ED 5B 01 F0         		LD DE,[PT3_MODADDR]
     787.  00:7E8A  ED 73 0D F0         		LD [PT3_PSP],SP
     788.  00:7E8E  F9                  		LD SP,HL
     789.  00:7E8F  E1                  		POP HL
     790.  00:7E90  19                  		ADD HL,DE
     791.  00:7E91  44                  		LD B,H
     792.  00:7E92  4D                  		LD C,L
     793.  00:7E93  E1                  		POP HL
     794.  00:7E94  19                  		ADD HL,DE
     795.  00:7E95  22 14 F0            		LD [PT3_AdInPtB],HL
     796.  00:7E98  E1                  		POP HL
     797.  00:7E99  19                  		ADD HL,DE
     798.  00:7E9A  22 16 F0            		LD [PT3_AdInPtC],HL
     799.  00:7E9D  ED 7B 0D F0         		LD SP,[PT3_PSP]
     800.  00:7EA1                      
     801.  00:7EA1  DD 21 2F F0         .PL1A:		LD IX,ChanA+12
     802.  00:7EA5  CD 84 7B            		CALL PTDECOD
     803.  00:7EA8  ED 43 12 F0         		LD [PT3_AdInPtA],BC
     804.  00:7EAC                      
     805.  00:7EAC  21 5B F0            .PL1B:		LD HL,ChanB+CHNPRM_NtSkCn
     806.  00:7EAF  35                  		DEC [HL]
     807.  00:7EB0  20 0F               		JR NZ,.PL1C
     808.  00:7EB2  DD 21 4C F0         		LD IX,ChanB+12
     809.  00:7EB6  ED 4B 14 F0         		LD BC,[PT3_AdInPtB]
     810.  00:7EBA  CD 84 7B            		CALL PTDECOD
     811.  00:7EBD  ED 43 14 F0         		LD [PT3_AdInPtB],BC
     812.  00:7EC1                      
     813.  00:7EC1  21 78 F0            .PL1C:		LD HL,ChanC+CHNPRM_NtSkCn
     814.  00:7EC4  35                  		DEC [HL]
     815.  00:7EC5  20 0F               		JR NZ,.PL1D
     816.  00:7EC7  DD 21 69 F0         		LD IX,ChanC+12
     817.  00:7ECB  ED 4B 16 F0         		LD BC,[PT3_AdInPtC]
     818.  00:7ECF  CD 84 7B            		CALL PTDECOD
     819.  00:7ED2  ED 43 16 F0         		LD [PT3_AdInPtC],BC
     820.  00:7ED6                      
     821.  00:7ED6  3A 1C F0            .PL1D:		LD A,[PT3_Delay]
     822.  00:7ED9  32 7A F0            		LD [DelyCnt],A
     823.  00:7EDC                      
     824.  00:7EDC  DD 21 23 F0         .PL2:		LD IX,ChanA
     825.  00:7EE0  2A 40 F1            		LD HL,[AYREGS+AR_TonA]
     826.  00:7EE3  CD F4 7C            		CALL CHREGS
     827.  00:7EE6  22 40 F1            		LD [AYREGS+AR_TonA],HL
     828.  00:7EE9  3A 4A F1            		LD A,[AYREGS+AR_AmplC]
     829.  00:7EEC  32 48 F1            		LD [AYREGS+AR_AmplA],A
     830.  00:7EEF  DD 21 40 F0         		LD IX,ChanB
     831.  00:7EF3  2A 42 F1            		LD HL,[AYREGS+AR_TonB]
     832.  00:7EF6  CD F4 7C            		CALL CHREGS
     833.  00:7EF9  22 42 F1            		LD [AYREGS+AR_TonB],HL
     834.  00:7EFC  3A 4A F1            		LD A,[AYREGS+AR_AmplC]
     835.  00:7EFF  32 49 F1            		LD [AYREGS+AR_AmplB],A
     836.  00:7F02  DD 21 5D F0         		LD IX,ChanC
     837.  00:7F06  2A 44 F1            		LD HL,[AYREGS+AR_TonC]
     838.  00:7F09  CD F4 7C            		CALL CHREGS
     839.  00:7F0C  22 44 F1            		LD [AYREGS+AR_TonC],HL
     840.  00:7F0F                      
     841.  00:7F0F  2A 7E F0            		LD HL,[Ns_Base_AddToNs]
     842.  00:7F12  7C                  		LD A,H
     843.  00:7F13  85                  		ADD A,L
     844.  00:7F14  32 46 F1            		LD [AYREGS+AR_Noise],A
     845.  00:7F17                      
     846.  00:7F17  3A 1D F0            		LD A,[PT3_AddToEn]
     847.  00:7F1A  5F                  		LD E,A
     848.  00:7F1B  87                  		ADD A,A
     849.  00:7F1C  9F                  		SBC A,A
     850.  00:7F1D  57                  		LD D,A
     851.  00:7F1E  2A 4E F1            		LD HL,[EnvBase]
     852.  00:7F21  19                  		ADD HL,DE
     853.  00:7F22  ED 5B 7B F0         		LD DE,[CurESld]
     854.  00:7F26  19                  		ADD HL,DE
     855.  00:7F27  22 4B F1            		LD [AYREGS+AR_Env],HL
     856.  00:7F2A                      
     857.  00:7F2A  AF                  		XOR A
     858.  00:7F2B  21 7D F0            		LD HL,CurEDel
     859.  00:7F2E  B6                  		OR [HL]
     860.  00:7F2F  C8                  		RET Z
     861.  00:7F30  35                  		DEC [HL]
     862.  00:7F31  C0                  		RET NZ
     863.  00:7F32  3A 1E F0            		LD A,[PT3_Env_Del]
     864.  00:7F35  77                  		LD [HL],A
     865.  00:7F36  2A 1F F0            		LD HL,[PT3_ESldAdd]
     866.  00:7F39  19                  		ADD HL,DE
     867.  00:7F3A  22 7B F0            		LD [CurESld],HL
     868.  00:7F3D  C9                  		RET
     869.  00:7F3E                      
     870.  00:7F3E  AF                  PT3_ROUT:	XOR A
     871.  00:7F3F                      	
     872.  00:7F3F                      ROUT_A0:	; --- FIXES BITS 6 AND 7 OF MIXER ---
     873.  00:7F3F  21 47 F1            		LD	HL,AYREGS+AR_Mixer
     874.  00:7F42  CB FE               		set	7,[hl]
     875.  00:7F44  CB B6               		res	6,[hl]
     876.  00:7F46                      
     877.  00:7F46  0E A0               		LD C,$A0
     878.  00:7F48  21 40 F1            		LD HL,AYREGS
     879.  00:7F4B  ED 79               .LOUT:		OUT [C],A
     880.  00:7F4D  0C                  		INC C
     881.  00:7F4E  ED A3               		OUTI 
     882.  00:7F50  0D                  		DEC C
     883.  00:7F51  3C                  		INC A
     884.  00:7F52  FE 0D               		CP 13
     885.  00:7F54  20 F5               		JR NZ,.LOUT
     886.  00:7F56  ED 79               		OUT [C],A
     887.  00:7F58  7E                  		LD A,[HL]
     888.  00:7F59  A7                  		AND A
     889.  00:7F5A  F8                  		RET M
     890.  00:7F5B  0C                  		INC C
     891.  00:7F5C  ED 79               		OUT [C],A
     892.  00:7F5E  C9                  		RET
     893.  00:7F5F                      
     894.  00:7F5F  64                  NT_DATA:	db (T_NEW_0-T1_)*2
     895.  00:7F60  2A                  		db TCNEW_0-T_
     896.  00:7F61  65                  		db (T_OLD_0-T1_)*2+1
     897.  00:7F62  00                  		db TCOLD_0-T_
     898.  00:7F63  01                  		db (T_NEW_1-T1_)*2+1
     899.  00:7F64  0C                  		db TCNEW_1-T_
     900.  00:7F65  01                  		db (T_OLD_1-T1_)*2+1
     901.  00:7F66  0C                  		db TCOLD_1-T_
     902.  00:7F67  94                  		db (T_NEW_2-T1_)*2
     903.  00:7F68  35                  		db TCNEW_2-T_
     904.  00:7F69  30                  		db (T_OLD_2-T1_)*2
     905.  00:7F6A  0E                  		db TCOLD_2-T_
     906.  00:7F6B  60                  		db (T_NEW_3-T1_)*2
     907.  00:7F6C  20                  		db TCNEW_3-T_
     908.  00:7F6D  60                  		db (T_OLD_3-T1_)*2
     909.  00:7F6E  21                  		db TCOLD_3-T_
     910.  00:7F6F                      
     911.  00:7F6F                      T_:
     912.  00:7F6F                      
     913.  00:7F6F                      TCOLD_0:	db $00+1,$04+1,$08+1,$0A+1,$0C+1,$0E+1,$12+1,$14+1
     913.  00:7F6F  01 05 09 0B 0D 0F 13 15 
     914.  00:7F77  19 25 3D 00         		db $18+1,$24+1,$3C+1,0
     915.  00:7F7B                      TCNEW_1:	
     916.  00:7F7B  5D 00               TCOLD_1:	db $5C+1,0
     917.  00:7F7D                      TCOLD_2:	db $30+1,$36+1,$4C+1,$52+1,$5E+1,$70+1,$82,$8C,$9C
     917.  00:7F7D  31 37 4D 53 5F 71 82 8C 9C 
     918.  00:7F86                      		db $9E,$A0,$A6,$A8,$AA,$AC,$AE,$AE,0
     918.  00:7F86  9E A0 A6 A8 AA AC AE AE 00 
     919.  00:7F8F  57                  TCNEW_3:	db $56+1
     920.  00:7F90                      TCOLD_3:	db $1E+1,$22+1,$24+1,$28+1,$2C+1,$2E+1,$32+1,$BE+1,0
     920.  00:7F90  1F 23 25 29 2D 2F 33 BF 00 
     921.  00:7F99                      TCNEW_0:	db $1C+1,$20+1,$22+1,$26+1,$2A+1,$2C+1,$30+1,$54+1
     921.  00:7F99  1D 21 23 27 2B 2D 31 55 
     922.  00:7FA1  BD BF 00            		db $BC+1,$BE+1,0
     923.  00:7FA4                      TCNEW_2:	db $1A+1,$20+1,$24+1,$28+1,$2A+1,$3A+1,$4C+1,$5E+1
     923.  00:7FA4  1B 21 25 29 2B 3B 4D 5F 
     924.  00:7FAC  BB BD BF            		db $BA+1,$BC+1,$BE+1
     925.  00:7FAF                      
     926.  00:7FAF  00 01 00 90         EMPTYSAMORN: 	db 0,1,0,$90 ;delete $90 if you don't need default sample
     927.  00:7FB3                      
     928.  00:7FB3                      T_PACK:		; First 12 values of tone tables (packed)
     929.  00:7FB3  0D                  		db ($06EC*2)/256
     930.  00:7FB4  D8                  		db #d8
     931.  00:7FB5  69                  		db $0755-$06EC
     932.  00:7FB6  70                  		db $07C5-$0755
     933.  00:7FB7  76                  		db $083B-$07C5
     934.  00:7FB8  7D                  		db $08B8-$083B
     935.  00:7FB9  85                  		db $093D-$08B8
     936.  00:7FBA  8D                  		db $09CA-$093D
     937.  00:7FBB  95                  		db $0A5F-$09CA
     938.  00:7FBC  9D                  		db $0AFC-$0A5F
     939.  00:7FBD  A8                  		db $0BA4-$0AFC
     940.  00:7FBE  B1                  		db $0C55-$0BA4
     941.  00:7FBF  BB                  		db $0D10-$0C55
     942.  00:7FC0  0C                  		db ($066D*2)/256
     943.  00:7FC1  DA                  		db #da
     944.  00:7FC2  62                  		db $06CF-$066D
     945.  00:7FC3  68                  		db $0737-$06CF
     946.  00:7FC4  6D                  		db $07A4-$0737
     947.  00:7FC5  75                  		db $0819-$07A4
     948.  00:7FC6  7B                  		db $0894-$0819
     949.  00:7FC7  83                  		db $0917-$0894
     950.  00:7FC8  8A                  		db $09A1-$0917
     951.  00:7FC9  92                  		db $0A33-$09A1
     952.  00:7FCA  9C                  		db $0ACF-$0A33
     953.  00:7FCB  A4                  		db $0B73-$0ACF
     954.  00:7FCC  AF                  		db $0C22-$0B73
     955.  00:7FCD  B8                  		db $0CDA-$0C22
     956.  00:7FCE  0E                  		db ($0704*2)/256
     957.  00:7FCF  08                  		db #08
     958.  00:7FD0  6A                  		db $076E-$0704
     959.  00:7FD1  72                  		db $07E0-$076E
     960.  00:7FD2  78                  		db $0858-$07E0
     961.  00:7FD3  7E                  		db $08D6-$0858
     962.  00:7FD4  86                  		db $095C-$08D6
     963.  00:7FD5  90                  		db $09EC-$095C
     964.  00:7FD6  96                  		db $0A82-$09EC
     965.  00:7FD7  A0                  		db $0B22-$0A82
     966.  00:7FD8  AA                  		db $0BCC-$0B22
     967.  00:7FD9  B4                  		db $0C80-$0BCC
     968.  00:7FDA  BE                  		db $0D3E-$0C80
     969.  00:7FDB  0F                  		db ($07E0*2)/256
     970.  00:7FDC  C0                  		db #c0
     971.  00:7FDD  78                  		db $0858-$07E0
     972.  00:7FDE  88                  		db $08E0-$0858
     973.  00:7FDF  80                  		db $0960-$08E0
     974.  00:7FE0  90                  		db $09F0-$0960
     975.  00:7FE1  98                  		db $0A88-$09F0
     976.  00:7FE2  A0                  		db $0B28-$0A88
     977.  00:7FE3  B0                  		db $0BD8-$0B28
     978.  00:7FE4  A8                  		db $0C80-$0BD8
     979.  00:7FE5  E0                  		db $0D60-$0C80
     980.  00:7FE6  B0                  		db $0E10-$0D60
     981.  00:7FE7  E8                  		db $0EF8-$0E10
    9715   00:7FE8                      		include		"ayFX-ROM_sjasm.asm"								;incluye el codigo del reproductor AY (efectos)
       1.  00:7FE8                      		; --- ayFX REPLAYER v1.31 ---
       2.  00:7FE8                      
       3.  00:7FE8                      		; --- v1.31	Fixed bug on previous version, only PSG channel C worked
       4.  00:7FE8                      		; --- v1.3	Fixed volume and Relative volume versions on the same file, conditional compilation
       5.  00:7FE8                      		; ---		Support for dynamic or fixed channel allocation
       6.  00:7FE8                      		; --- v1.2f/r	ayFX bank support
       7.  00:7FE8                      		; --- v1.11f/r	If a frame volume is zero then no AYREGS update
       8.  00:7FE8                      		; --- v1.1f/r	Fixed volume for all ayFX streams
       9.  00:7FE8                      		; --- v1.1	Explicit priority (as suggested by AR)
      10.  00:7FE8                      		; --- v1.0f	Bug fixed (error when using noise)
      11.  00:7FE8                      		; --- v1.0	Initial release
      12.  00:7FE8                      
      13.  00:7FE8                      		; --- DEFINE AYFXRELATIVE AS 0 FOR FIXED VOLUME VERSION ---
      14.  00:7FE8                      		; --- DEFINE AYFXRELATIVE AS 1 FOR RELATIVE VOLUME VERSION ---
      15.  00:7FE8  (00:0000)           AYFXRELATIVE equ 0
      16.  00:7FE8                      
      17.  00:7FE8                      ayFX_SETUP:																; ---          ayFX replayer setup          ---
      18.  00:7FE8                      																		; --- INPUT: HL -> pointer to the ayFX bank ---
      19.  00:7FE8  22 41 F2            		ld	[ayFX_BANK],hl												; Current ayFX bank
      20.  00:7FEB  3E 01               		ld	a,1															; a:=0
      21.  00:7FED  32 40 F2            		ld	[ayFX_MODE],a												; Initial mode: fixed channel
      22.  00:7FF0  3C                  		inc	a															; Starting channel (=1)
      23.  00:7FF1  32 4A F2            		ld	[ayFX_CHANNEL],a											; Updated
      24.  00:7FF4                      ayFX_END:																; --- End of an ayFX stream ---
      25.  00:7FF4  3E FF               		ld	a,255														; Lowest ayFX priority
      26.  00:7FF6  32 43 F2            		ld	[ayFX_PRIORITY],a											; Priority saved (not playing ayFX stream)
      27.  00:7FF9  C9                  		ret																; Return
      28.  00:7FFA                      
      29.  00:7FFA                      ayFX_INIT:	; ---     INIT A NEW ayFX STREAM     ---
      30.  00:7FFA                      		; --- INPUT: A -> sound to be played ---
      31.  00:7FFA                      		; ---        C -> sound priority     ---
      32.  00:7FFA  C5                  		push	bc				; Store bc in stack
      33.  00:7FFB  D5                  		push	de				; Store de in stack
      34.  00:7FFC  E5                  		push	hl				; Store hl in stack
      35.  00:7FFD                      		; --- Check if the index is in the bank ---
      36.  00:7FFD  47                  		ld	b,a				; b:=a (new ayFX stream index)
      37.  00:7FFE  2A 41 F2            		ld	hl,[ayFX_BANK]			; Current ayFX BANK
      38.  00:8001  7E                  		ld	a,[hl]				; Number of samples in the bank
      39.  00:8002  B7                  		or	a				; If zero (means 256 samples)...
      40.  00:8003  28 06               		jr	z,.CHECK_PRI			; ...goto .CHECK_PRI
      41.  00:8005                      		; The bank has less than 256 samples
      42.  00:8005  78                  		ld	a,b				; a:=b (new ayFX stream index)
      43.  00:8006  BE                  		cp	[hl]				; If new index is not in the bank...
      44.  00:8007  3E 02               		ld	a,2				; a:=2 (error 2: Sample not in the bank)
      45.  00:8009  30 21               		jr	nc,.INIT_END			; ...we can't init it
      46.  00:800B                      .CHECK_PRI:	; --- Check if the new priority is lower than the current one ---
      47.  00:800B                      		; ---   Remember: 0 = highest priority, 15 = lowest priority  ---
      48.  00:800B  78                  		ld	a,b				; a:=b (new ayFX stream index)
      49.  00:800C  3A 43 F2            		ld	a,[ayFX_PRIORITY]		; a:=Current ayFX stream priority
      50.  00:800F  B9                  		cp	c				; If new ayFX stream priority is lower than current one...
      51.  00:8010  3E 01               		ld	a,1				; a:=1 (error 1: A sample with higher priority is being played)
      52.  00:8012  38 18               		jr	c,.INIT_END			; ...we don't start the new ayFX stream
      53.  00:8014                      		; --- Set new priority ---
      54.  00:8014  79                  		ld	a,c				; a:=New priority
      55.  00:8015  E6 0F               		and	$0F				; We mask the priority
      56.  00:8017  32 43 F2            		ld	[ayFX_PRIORITY],a		; new ayFX stream priority saved in RAM
      57.  00:801A                      
      58.  00:801A                      		IF ( AYFXRELATIVE == 1 )
      59.  00:801A                    ~ 			; --- Volume adjust using PT3 volume table ---
      60.  00:801A                    ~ 			ld	c,a				; c:=New priority (fixed)
      61.  00:801A                    ~ 			ld	a,15				; a:=15
      62.  00:801A                    ~ 			sub	c				; a:=15-New priority = relative volume
      63.  00:801A                    ~ 			jr	z,.INIT_NOSOUND		; If priority is 15 -> no sound output (volume is zero)
      64.  00:801A                    ~ 			add	a,a				; a:=a*2
      65.  00:801A                    ~ 			add	a,a				; a:=a*4
      66.  00:801A                    ~ 			add	a,a				; a:=a*8
      67.  00:801A                    ~ 			add	a,a				; a:=a*16
      68.  00:801A                    ~ 			ld	e,a				; e:=a
      69.  00:801A                    ~ 			ld	d,0				; de:=a
      70.  00:801A                    ~ 			ld	hl,VT_				; hl:=PT3 volume table
      71.  00:801A                    ~ 			add	hl,de				; hl is a pointer to the relative volume table
      72.  00:801A                    ~ 			ld	[ayFX_VT],hl			; Save pointer
      73.  00:801A                    ~ 		ENDIF
      74.  00:801A                      
      75.  00:801A                      		; --- Calculate the pointer to the new ayFX stream ---
      76.  00:801A  ED 5B 41 F2         		ld	de,[ayFX_BANK]			; de:=Current ayFX bank
      77.  00:801E  13                  		inc	de				; de points to the increments table of the bank
      78.  00:801F  68                  		ld	l,b				; l:=b (new ayFX stream index)
      79.  00:8020  26 00               		ld	h,0				; hl:=b (new ayFX stream index)
      80.  00:8022  29                  		add	hl,hl				; hl:=hl*2
      81.  00:8023  19                  		add	hl,de				; hl:=hl+de (hl points to the correct increment)
      82.  00:8024  5E                  		ld	e,[hl]				; e:=lower byte of the increment
      83.  00:8025  23                  		inc	hl				; hl points to the higher byte of the correct increment
      84.  00:8026  56                  		ld	d,[hl]				; de:=increment
      85.  00:8027  19                  		add	hl,de				; hl:=hl+de (hl points to the new ayFX stream)
      86.  00:8028  22 44 F2            		ld	[ayFX_POINTER],hl		; Pointer saved in RAM
      87.  00:802B  AF                  		xor	a				; a:=0 (no errors)
      88.  00:802C  E1                  .INIT_END:	pop	hl				; Retrieve hl from stack
      89.  00:802D  D1                  		pop	de				; Retrieve de from stack
      90.  00:802E  C1                  		pop	bc				; Retrieve bc from stack
      91.  00:802F  C9                  		ret					; Return
      92.  00:8030                      
      93.  00:8030                      		IF ( AYFXRELATIVE == 1 )
      94.  00:8030                    ~ .INIT_NOSOUND:	; --- Init a sample with relative volume zero -> no sound output ---
      95.  00:8030                    ~ 			ld	a,255				; Lowest ayFX priority
      96.  00:8030                    ~ 			ld	[ayFX_PRIORITY],a		; Priority saved (not playing ayFX stream)
      97.  00:8030                    ~ 			jr	.INIT_END			; Jumps to .INIT_END
      98.  00:8030                    ~ 		ENDIF
      99.  00:8030                      
     100.  00:8030                      ayFX_PLAY:	; --- PLAY A FRAME OF AN ayFX STREAM ---
     101.  00:8030  3A 43 F2            		ld	a,[ayFX_PRIORITY]		; a:=Current ayFX stream priority
     102.  00:8033  B7                  		or	a				; If priority has bit 7 on...
     103.  00:8034  F8                  		ret	m				; ...return
     104.  00:8035                      		; --- Calculate next ayFX channel (if needed) ---
     105.  00:8035  3A 40 F2            		ld	a,[ayFX_MODE]			; ayFX mode
     106.  00:8038  E6 01               		and	1				; If bit0=0 (fixed channel)...
     107.  00:803A  28 08               		jr	z,.TAKECB			; ...skip channel changing
     108.  00:803C  21 4A F2            		ld	hl,ayFX_CHANNEL			; Old ayFX playing channel
     109.  00:803F  35                  		dec	[hl]				; New ayFX playing channel
     110.  00:8040  20 02               		jr	nz,.TAKECB			; If not zero jump to .TAKECB
     111.  00:8042  36 03               		ld	[hl],3				; If zero -> set channel 3
     112.  00:8044                      .TAKECB:	; --- Extract control byte from stream ---
     113.  00:8044  2A 44 F2            		ld	hl,[ayFX_POINTER]		; Pointer to the current ayFX stream
     114.  00:8047  4E                  		ld	c,[hl]				; c:=Control byte
     115.  00:8048  23                  		inc	hl				; Increment pointer
     116.  00:8049                      		; --- Check if there's new tone on stream ---
     117.  00:8049  CB 69               		bit	5,c				; If bit 5 c is off...
     118.  00:804B  28 08               		jr	z,.CHECK_NN			; ...jump to .CHECK_NN (no new tone)
     119.  00:804D                      		; --- Extract new tone from stream ---
     120.  00:804D  5E                  		ld	e,[hl]				; e:=lower byte of new tone
     121.  00:804E  23                  		inc	hl				; Increment pointer
     122.  00:804F  56                  		ld	d,[hl]				; d:=higher byte of new tone
     123.  00:8050  23                  		inc	hl				; Increment pointer
     124.  00:8051  ED 53 46 F2         		ld	[ayFX_TONE],de			; ayFX tone updated
     125.  00:8055                      .CHECK_NN:	; --- Check if there's new noise on stream ---
     126.  00:8055  CB 71               		bit	6,c				; if bit 6 c is off...
     127.  00:8057  28 09               		jr	z,.SETPOINTER			; ...jump to .SETPOINTER (no new noise)
     128.  00:8059                      		; --- Extract new noise from stream ---
     129.  00:8059  7E                  		ld	a,[hl]				; a:=New noise
     130.  00:805A  23                  		inc	hl				; Increment pointer
     131.  00:805B  FE 20               		cp	$20				; If it's an illegal value of noise (used to mark end of stream)...
     132.  00:805D  28 95               		jr.	z,ayFX_END			; ...jump to ayFX_END
     133.  00:805F  32 48 F2            		ld	[ayFX_NOISE],a			; ayFX noise updated
     134.  00:8062                      .SETPOINTER:	; --- Update ayFX pointer ---
     135.  00:8062  22 44 F2            		ld	[ayFX_POINTER],hl		; Update ayFX stream pointer
     136.  00:8065                      		; --- Extract volume ---
     137.  00:8065  79                  		ld	a,c				; a:=Control byte
     138.  00:8066  E6 0F               		and	$0F				; lower nibble
     139.  00:8068                      
     140.  00:8068                      		IF ( AYFXRELATIVE == 1 )
     141.  00:8068                    ~ 			; --- Fix the volume using PT3 Volume Table ---
     142.  00:8068                    ~ 			ld	hl,[ayFX_VT]			; hl:=Pointer to relative volume table
     143.  00:8068                    ~ 			ld	e,a				; e:=a (ayFX volume)
     144.  00:8068                    ~ 			ld	d,0				; d:=0
     145.  00:8068                    ~ 			add	hl,de				; hl:=hl+de (hl points to the relative volume of this frame
     146.  00:8068                    ~ 			ld	a,[hl]				; a:=ayFX relative volume
     147.  00:8068                    ~ 			or	a				; If relative volume is zero...
     148.  00:8068                    ~ 		ENDIF
     149.  00:8068                      
     150.  00:8068  32 49 F2            		ld	[ayFX_VOLUME],a			; ayFX volume updated
     151.  00:806B  C8                  		ret	z				; ...return (don't copy ayFX values in to AYREGS)
     152.  00:806C                      		; -------------------------------------
     153.  00:806C                      		; --- COPY ayFX VALUES IN TO AYREGS ---
     154.  00:806C                      		; -------------------------------------
     155.  00:806C                      		; --- Set noise channel ---
     156.  00:806C  CB 79               		bit	7,c				; If noise is off...
     157.  00:806E  20 06               		jr	nz,.SETMASKS			; ...jump to .SETMASKS
     158.  00:8070  3A 48 F2            		ld	a,[ayFX_NOISE]			; ayFX noise value
     159.  00:8073  32 46 F1            		ld	[AYREGS+6],a			; copied in to AYREGS (noise channel)
     160.  00:8076                      .SETMASKS:	; --- Set mixer masks ---
     161.  00:8076  79                  		ld	a,c				; a:=Control byte
     162.  00:8077  E6 90               		and	$90				; Only bits 7 and 4 (noise and tone mask for psg reg 7)
     163.  00:8079  FE 90               		cp	$90				; If no noise and no tone...
     164.  00:807B  C8                  		ret	z				; ...return (don't copy ayFX values in to AYREGS)
     165.  00:807C                      		; --- Copy ayFX values in to ARYREGS ---
     166.  00:807C  0F                  		rrca					; Rotate a to the right (1 TIME)
     167.  00:807D  0F                  		rrca					; Rotate a to the right (2 TIMES) (OR mask)
     168.  00:807E  16 DB               		ld	d,$DB				; d:=Mask for psg mixer (AND mask)
     169.  00:8080                      		; --- Dump to correct channel ---
     170.  00:8080  21 4A F2            		ld	hl,ayFX_CHANNEL			; Next ayFX playing channel
     171.  00:8083  46                  		ld	b,[hl]				; Channel counter
     172.  00:8084                      .CHK1:		; --- Check if playing channel was 1 ---
     173.  00:8084  10 0D               		djnz	.CHK2				; Decrement and jump if channel was not 1
     174.  00:8086                      .PLAY_C:	; --- Play ayFX stream on channel C ---
     175.  00:8086  CD B5 80            		call	.SETMIXER			; Set PSG mixer value (returning a=ayFX volume and hl=ayFX tone)
     176.  00:8089  32 4A F1            		ld	[AYREGS+10],a			; Volume copied in to AYREGS (channel C volume)
     177.  00:808C  CB 51               		bit	2,c				; If tone is off...
     178.  00:808E  C0                  		ret	nz				; ...return
     179.  00:808F  22 44 F1            		ld	[AYREGS+4],hl			; copied in to AYREGS (channel C tone)
     180.  00:8092  C9                  		ret					; Return
     181.  00:8093                      .CHK2:		; --- Check if playing channel was 2 ---
     182.  00:8093  CB 0A               		rrc	d				; Rotate right AND mask
     183.  00:8095  0F                  		rrca					; Rotate right OR mask
     184.  00:8096  10 0D               		djnz	.CHK3				; Decrement and jump if channel was not 2
     185.  00:8098                      .PLAY_B:	; --- Play ayFX stream on channel B ---
     186.  00:8098  CD B5 80            		call	.SETMIXER			; Set PSG mixer value (returning a=ayFX volume and hl=ayFX tone)
     187.  00:809B  32 49 F1            		ld	[AYREGS+9],a			; Volume copied in to AYREGS (channel B volume)
     188.  00:809E  CB 49               		bit	1,c				; If tone is off...
     189.  00:80A0  C0                  		ret	nz				; ...return
     190.  00:80A1  22 42 F1            		ld	[AYREGS+2],hl			; copied in to AYREGS (channel B tone)
     191.  00:80A4  C9                  		ret					; Return
     192.  00:80A5                      .CHK3:		; --- Check if playing channel was 3 ---
     193.  00:80A5  CB 0A               		rrc	d				; Rotate right AND mask
     194.  00:80A7  0F                  		rrca					; Rotate right OR mask
     195.  00:80A8                      .PLAY_A:	; --- Play ayFX stream on channel A ---
     196.  00:80A8  CD B5 80            		call	.SETMIXER			; Set PSG mixer value (returning a=ayFX volume and hl=ayFX tone)
     197.  00:80AB  32 48 F1            		ld	[AYREGS+8],a			; Volume copied in to AYREGS (channel A volume)
     198.  00:80AE  CB 41               		bit	0,c				; If tone is off...
     199.  00:80B0  C0                  		ret	nz				; ...return
     200.  00:80B1  22 40 F1            		ld	[AYREGS+0],hl			; copied in to AYREGS (channel A tone)
     201.  00:80B4  C9                  		ret					; Return
     202.  00:80B5                      .SETMIXER:	; --- Set PSG mixer value ---
     203.  00:80B5  4F                  		ld	c,a				; c:=OR mask
     204.  00:80B6  3A 47 F1            		ld	a,[AYREGS+7]			; a:=PSG mixer value
     205.  00:80B9  A2                  		and	d				; AND mask
     206.  00:80BA  B1                  		or	c				; OR mask
     207.  00:80BB  32 47 F1            		ld	[AYREGS+7],a			; PSG mixer value updated
     208.  00:80BE  3A 49 F2            		ld	a,[ayFX_VOLUME]			; a:=ayFX volume value
     209.  00:80C1  2A 46 F2            		ld	hl,[ayFX_TONE]			; ayFX tone value
     210.  00:80C4  C9                  		ret					; Return
     211.  00:80C5                      
     212.  00:80C5                      		IF ( AYFXRELATIVE == 1 )
     213.  00:80C5                    ~ 			; --- UNCOMMENT THIS IF YOU DON'T USE THIS REPLAYER WITH PT3 REPLAYER ---
     214.  00:80C5                    ~ 		;VT_:	.INCBIN	"VT.BIN"
     215.  00:80C5                    ~ 			; --- UNCOMMENT THIS IF YOU DON'T USE THIS REPLAYER WITH PT3 REPLAYER ---
     216.  00:80C5                    ~ 		ENDIF
    9716   00:80C5                      		
    9717   00:80C5                      	;Variables del replayer... las coloco desde aqui.
    9718   00:80C5                      	;mirar que hace la directiva MAP del SJASM
    9719   00:80C5  (F000)              	map		#f000
    9720   00:80C5                      
    9721   00:80C5                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PT3 REPLAYER
    9722   00:80C5                      
    9723   00:80C5  (00:F000)           PT3_SETUP:			#1	;set bit0 to 1, if you want to play without looping
    9724   00:80C5                      					;bit7 is set each time, when loop point is passed
    9725   00:80C5  (00:F001)           PT3_MODADDR:		#2
    9726   00:80C5  (00:F003)           PT3_CrPsPtr:		#2
    9727   00:80C5  (00:F005)           PT3_SAMPTRS:		#2
    9728   00:80C5  (00:F007)           PT3_OrnPtrs:		#2
    9729   00:80C5  (00:F009)           PT3_PDSP:			#2
    9730   00:80C5  (00:F00B)           PT3_CSP:			#2
    9731   00:80C5  (00:F00D)           PT3_PSP:			#2
    9732   00:80C5  (00:F00F)           PT3_PrNote:			#1
    9733   00:80C5  (00:F010)           PT3_PrSlide:		#2
    9734   00:80C5  (00:F012)           PT3_AdInPtA:		#2
    9735   00:80C5  (00:F014)           PT3_AdInPtB:		#2
    9736   00:80C5  (00:F016)           PT3_AdInPtC:		#2
    9737   00:80C5  (00:F018)           PT3_LPosPtr:		#2
    9738   00:80C5  (00:F01A)           PT3_PatsPtr:		#2
    9739   00:80C5  (00:F01C)           PT3_Delay:			#1
    9740   00:80C5  (00:F01D)           PT3_AddToEn:		#1
    9741   00:80C5  (00:F01E)           PT3_Env_Del:		#1
    9742   00:80C5  (00:F01F)           PT3_ESldAdd:		#2
    9743   00:80C5  (00:F021)           PT3_NTL3:			#2	; AND A / NOP (note table creator)
    9744   00:80C5                      
    9745   00:80C5  (00:F023)           VARS:				#0
    9746   00:80C5                      
    9747   00:80C5  (00:F023)           ChanA:				#29			;CHNPRM_Size
    9748   00:80C5  (00:F040)           ChanB:				#29			;CHNPRM_Size
    9749   00:80C5  (00:F05D)           ChanC:				#29			;CHNPRM_Size
    9750   00:80C5                      
    9751   00:80C5                      ;GlobalVars
    9752   00:80C5  (00:F07A)           DelyCnt:			#1
    9753   00:80C5  (00:F07B)           CurESld:			#2
    9754   00:80C5  (00:F07D)           CurEDel:			#1
    9755   00:80C5  (00:F07E)           Ns_Base_AddToNs:	#0
    9756   00:80C5  (00:F07E)           Ns_Base:			#1
    9757   00:80C5  (00:F07F)           AddToNs:			#1
    9758   00:80C5                      
    9759   00:80C5  (00:F080)           NT_:				#192	; Puntero a/tabla de frecuencias
    9760   00:80C5                      
    9761   00:80C5  (00:F140)           AYREGS:				#0
    9762   00:80C5  (00:F140)           VT_:				#14
    9763   00:80C5  (00:F14E)           EnvBase:			#2
    9764   00:80C5  (00:F150)           VAR0END:			#0
    9765   00:80C5                      
    9766   00:80C5  (00:F150)           T1_:				#0		
    9767   00:80C5  (00:F150)           T_NEW_1:			#0
    9768   00:80C5  (00:F150)           T_OLD_1:			#24
    9769   00:80C5  (00:F168)           T_OLD_2:			#24
    9770   00:80C5  (00:F180)           T_NEW_3:			#0
    9771   00:80C5  (00:F180)           T_OLD_3:			#2
    9772   00:80C5  (00:F182)           T_OLD_0:			#0
    9773   00:80C5  (00:F182)           T_NEW_0:			#24
    9774   00:80C5  (00:F19A)           T_NEW_2:			#166
    9775   00:80C5                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PT3 REPLAYER END
    9776   00:80C5                      
    9777   00:80C5                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ayFX REPLAYER 
    9778   00:80C5  (00:F240)           ayFX_MODE:			#1			; ayFX mode
    9779   00:80C5  (00:F241)           ayFX_BANK:			#2			; Current ayFX Bank
    9780   00:80C5  (00:F243)           ayFX_PRIORITY:		#1			; Current ayFX stream priotity
    9781   00:80C5  (00:F244)           ayFX_POINTER:		#2			; Pointer to the current ayFX stream
    9782   00:80C5  (00:F246)           ayFX_TONE:			#2			; Current tone of the ayFX stream
    9783   00:80C5  (00:F248)           ayFX_NOISE:			#1			; Current noise of the ayFX stream
    9784   00:80C5  (00:F249)           ayFX_VOLUME:		#1			; Current volume of the ayFX stream
    9785   00:80C5  (00:F24A)           ayFX_CHANNEL:		#1			; PSG channel to play the ayFX stream
    9786   00:80C5                      
    9787   00:80C5                      	;IF (AYFXRELATIVE == 1 ) 
    9788   00:80C5                      ;ayFX_VT:	ds	2			; ayFX relative volume table pointer
    9789   00:80C5                      	;ENDIF
    9790   00:80C5                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ayFX REPLAYER END
    9791   00:80C5                      																
    9792   00:80C5                      ;CONSTANTES
    9793   00:80C5                      
    9794   00:80C5  (068E)              EFECTOS_BAN_P:	incbin	"efectos_PLETTER.afb"								;incluye el banco de efectos
    9795   00:8753                      
    9796   00:8753                      sanctuary_x:	db	242,224,237,226,243,244,224,241,248,64
    9796   00:8753  F2 E0 ED E2 F3 F4 E0 F1 F8 40 
    9797   00:875D  C0 C1               sanctuary_1:	db	192,193
    9798   00:875F  C0 C2               sanctuary_2:	db	192,194
    9799   00:8761  C0 C3               sanctuary_3:	db	192,195
    9800   00:8763  C0 C4               sanctuary_4:	db	192,196
    9801   00:8765  C0 C5               sanctuary_5:	db	192,197
    9802   00:8767  C0 C6               sanctuary_6:	db	192,198
    9803   00:8769  C0 C7               sanctuary_7:	db	192,199
    9804   00:876B  C0 C8               sanctuary_8:	db	192,200
    9805   00:876D  C0 C9               sanctuary_9:	db	192,201
    9806   00:876F  C1 C0               sanctuary_10:	db	193,192
    9807   00:8771  C1 C1               sanctuary_11:	db	193,193
    9808   00:8773  C1 C2               sanctuary_12:	db	193,194
    9809   00:8775  C1 C3               sanctuary_13:	db	193,195
    9810   00:8777  C1 C4               sanctuary_14:	db	193,196
    9811   00:8779  C1 C5               sanctuary_15:	db	193,197
    9812   00:877B  C1 C6               sanctuary_16:	db	193,198
    9813   00:877D  C1 C7               sanctuary_17:	db	193,199
    9814   00:877F  C1 C8               sanctuary_18:	db	193,200
    9815   00:8781                      santuario_x:	db	242,224,237,243,244,224,241,232,238,64
    9815   00:8781  F2 E0 ED F3 F4 E0 F1 E8 EE 40 
    9816   00:878B                      
    9817   00:878B                      consejo_2:		db	195,64,225,238,236,225,224,242,64,64,193,64,242,244,228,235,238,251
    9817   00:878B  C3 40 E1 EE EC E1 E0 F2 40 40 C1 40 F2 F4 E4 EB 
    9817   00:879B  EE FB 
    9818   00:879D                      consejo_3:		db	244,242,224,64,209,64,227,228,64,228,242,226,224,235,74,237,64,242,232,64,41,42,64,228,242,243,8,64,241,238,243,224
    9818   00:879D  F4 F2 E0 40 D1 40 E3 E4 40 E4 F2 E2 E0 EB 4A ED 
    9818   00:87AD  40 F2 E8 40 29 2A 40 E4 F2 F3 08 40 F1 EE F3 E0 
    9819   00:87BD                      consejo_4:		db 	64, 64, 236, 238, 233, 224, 227, 238, 64, 237, 238, 64, 224, 241, 227, 228, 241, 8, 242, 251, 64, 64, 242, 9, 226, 224, 243, 228, 64, 64
    9819   00:87BD  40 40 EC EE E9 E0 E3 EE 40 ED EE 40 E0 F1 E3 E4 
    9819   00:87CD  F1 08 F2 FB 40 40 F2 09 E2 E0 F3 E4 40 40 
    9820   00:87DB                      consejo_5:		db 	64, 237, 238, 64, 243, 238, 227, 238, 242, 64, 235, 238, 242, 64, 236, 244, 241, 238, 242, 64, 242, 238, 237, 64, 232, 230, 244, 224, 235, 228, 242, 64
    9820   00:87DB  40 ED EE 40 F3 EE E3 EE F2 40 EB EE F2 40 EC F4 
    9820   00:87EB  F1 EE F2 40 F2 EE ED 40 E8 E6 F4 E0 EB E4 F2 40 
    9821   00:87FB                      consejo_6:		DB  224,226,243,232,245,224, 64,64,235,224,64, 64, 64,228,242,226,224,235,228,241,224, 64, 64,242,228,226,241,228,243,224
    9821   00:87FB  E0 E2 F3 E8 F5 E0 40 40 EB E0 40 40 40 E4 F2 E2 
    9821   00:880B  E0 EB E4 F1 E0 40 40 F2 E4 E2 F1 E4 F3 E0 
    9822   00:8819                      consejo_7:		db	228, 235, 64, 225, 238, 236, 225, 228, 241, 238, 64, 243, 228, 64, 236, 238, 233, 224, 241, 8, 64, 227, 228, 236, 224, 242, 232, 224, 227, 238
    9822   00:8819  E4 EB 40 E1 EE EC E1 E4 F1 EE 40 F3 E4 40 EC EE 
    9822   00:8829  E9 E0 F1 08 40 E3 E4 EC E0 F2 E8 E0 E3 EE 
    9823   00:8837                      consejo_8:		DB  64,64,64,64,64,245,224,226,73,224, 64,235,224, 64,225,224,235,242,224, 64,64, 64, 64,64
    9823   00:8837  40 40 40 40 40 F5 E0 E2 49 E0 40 EB E0 40 E1 E0 
    9823   00:8847  EB F2 E0 40 40 40 40 40 
    9824   00:884F                      consejo_9:		db	228, 237, 226, 232, 228, 237, 227, 228, 64, 235, 224, 64, 235, 244, 249, 64, 239, 224, 241, 224, 64, 239, 238, 227, 228, 241, 64, 245, 228, 241
    9824   00:884F  E4 ED E2 E8 E4 ED E3 E4 40 EB E0 40 EB F4 F9 40 
    9824   00:885F  EF E0 F1 E0 40 EF EE E3 E4 F1 40 F5 E4 F1 
    9825   00:886D                      advice_2:		db	195,64,225,238,236,225,242,64,64,64,64,193,64,229,235,238,238,241
    9825   00:886D  C3 40 E1 EE EC E1 F2 40 40 40 40 C1 40 E5 EB EE 
    9825   00:887D  EE F1 
    9826   00:887F                      advice_3:		db	244,242,228,64,209,64,224,242,64,224,64,242,243,228,239,64,64,232,229,64,41,42,64,232,242,64,225,241,238,234,228,237
    9826   00:887F  F4 F2 E4 40 D1 40 E0 F2 40 E0 40 F2 F3 E4 EF 40 
    9826   00:888F  40 E8 E5 40 29 2A 40 E8 F2 40 E1 F1 EE EA E4 ED 
    9827   00:889F                      advice_4:		db 	232,229,64,248,238,244,64,224,241,228,64,246,228,243,251,64,248,238,244,64,246,238,237,120,243,64,225,244,241,237
    9827   00:889F  E8 E5 40 F8 EE F4 40 E0 F1 E4 40 F6 E4 F3 FB 40 
    9827   00:88AF  F8 EE F4 40 F6 EE ED 78 F3 40 E1 F4 F1 ED 
    9828   00:88BD                      advice_5:		db 	64,237, 238, 243, 64, 224, 235, 235, 64, 243,231,228,64,246, 224, 235, 235, 242, 64, 224, 241, 228, 64, 243, 231, 228, 64, 242, 224, 236, 228,64
    9828   00:88BD  40 ED EE F3 40 E0 EB EB 40 F3 E7 E4 40 F6 E0 EB 
    9828   00:88CD  EB F2 40 E0 F1 E4 40 F3 E7 E4 40 F2 E0 EC E4 40 
    9829   00:88DD                      advice_6:		db	224, 226, 243, 232, 245, 224, 243, 228, 64, 64, 243, 231, 228, 64, 64, 242, 228, 226, 241, 228, 243, 64, 64, 235, 224, 227, 227, 228, 241, 242
    9829   00:88DD  E0 E2 F3 E8 F5 E0 F3 E4 40 40 F3 E7 E4 40 40 F2 
    9829   00:88ED  E4 E2 F1 E4 F3 40 40 EB E0 E3 E3 E4 F1 F2 
    9830   00:88FB                      advice_7:		db	243,231,228,64,229, 232, 241, 228, 236, 224, 237, 64, 246, 232, 235, 235, 64, 230, 228, 243, 64, 248, 238, 244, 64, 243, 238, 238, 64, 246, 228, 243
    9830   00:88FB  F3 E7 E4 40 E5 E8 F1 E4 EC E0 ED 40 F6 E8 EB EB 
    9830   00:890B  40 E6 E4 F3 40 F8 EE F4 40 F3 EE EE 40 F6 E4 F3 
    9831   00:891B                      advice_8:		DB  228,236,239,243,248, 64,243,231,228, 64,239,238,237,227,64,64,243,238,64,230,228,243,64,224,226,241,238,242,242,64,232,243
    9831   00:891B  E4 EC EF F3 F8 40 F3 E7 E4 40 EF EE ED E3 40 40 
    9831   00:892B  F3 EE 40 E6 E4 F3 40 E0 E2 F1 EE F2 F2 40 E8 F3 
    9832   00:893B                      advice_9:		db	243, 244, 241, 237, 64, 243, 231, 228, 64, 235, 232, 230, 231, 243, 242,64,238, 237, 64, 242, 238, 64, 248,238,244,64,64,226,224,237
    9832   00:893B  F3 F4 F1 ED 40 F3 E7 E4 40 EB E8 E6 E7 F3 F2 40 
    9832   00:894B  EE ED 40 F2 EE 40 F8 EE F4 40 40 E2 E0 ED 
    9833   00:8959  F2 E4 E4            advice_9_1:		db	242,228,228
    9834   00:895C                      lo_has_logrado:	db	235,238,64,231,224,242,64,235,238,230,241,224,227,238,251,64,228,242,243,224,242,64,236,244,241,232,228,237,227,238,252
    9834   00:895C  EB EE 40 E7 E0 F2 40 EB EE E6 F1 E0 E3 EE FB 40 
    9834   00:896C  E4 F2 F3 E0 F2 40 EC F4 F1 E8 E4 ED E3 EE FC 
    9835   00:897B                      felicidades:	db	212,64,212,64,229,64,228,64,235,64,232,64,226,64,232,64,227,64,224,64,227,64,228,64,242,64,252,64,252,64
    9835   00:897B  D4 40 D4 40 E5 40 E4 40 EB 40 E8 40 E2 40 E8 40 
    9835   00:898B  E3 40 E0 40 E3 40 E4 40 F2 40 FC 40 FC 40 
    9836   00:8999                      camino_a:		db	236,232,228,237,243,241,224,242,251,64,228,237,64,238,243,241,238,64,64,242,224,237,243,244,224,241,232,238
    9836   00:8999  EC E8 E4 ED F3 F1 E0 F2 FB 40 E4 ED 40 EE F3 F1 
    9836   00:89A9  EE 40 40 F2 E0 ED F3 F4 E0 F1 E8 EE 
    9837   00:89B5                      camino_a_ing:	db	232,237,64,224,237,238,243,231,228,241,64,242,224,237,226,243,244,224,241,248
    9837   00:89B5  E8 ED 40 E0 ED EE F3 E7 E4 F1 40 F2 E0 ED E2 F3 
    9837   00:89C5  F4 E0 F1 F8 
    9838   00:89C9                      fin_nivel_1_1:	DB 	237,238, 64,231,228, 64,224,241,227,232,227,238, 64, 64,235,238, 64, 64,242,244,229,232,226,232,228,237,243,228,251
    9838   00:89C9  ED EE 40 E7 E4 40 E0 F1 E3 E8 E3 EE 40 40 EB EE 
    9838   00:89D9  40 40 F2 F4 E5 E8 E2 E8 E4 ED F3 E4 FB 
    9839   00:89E6                      fin_nivel_1_2:	DB  227,224,236,228,227,244,241,232,242, 64,239,232,227,228, 64,240,244,228, 64, 64,233,244,228,230,244,228
    9839   00:89E6  E3 E0 EC E4 E3 F4 F1 E8 F2 40 EF E8 E3 E4 40 F0 
    9839   00:89F6  F4 E4 40 40 E9 F4 E4 E6 F4 E4 
    9840   00:8A00                      fin_nivel_1_3:	DB  224,235, 64,237,232,245,228,235, 64,227,232,229,73,226,232,235
    9840   00:8A00  E0 EB 40 ED E8 F5 E4 EB 40 E3 E8 E5 49 E2 E8 EB 
    9841   00:8A10                      end_level_1_1:	DB  232, 64,231,224,245,228, 64,237,238,243, 64,225,244,241,237,228,227, 64,228,237,238,244,230,231,251
    9841   00:8A10  E8 40 E7 E0 F5 E4 40 ED EE F3 40 E1 F4 F1 ED E4 
    9841   00:8A20  E3 40 E4 ED EE F4 E6 E7 FB 
    9842   00:8A29                      end_level_1_2:	DB  230,232,245,228,236,228,231,224,241,227, 64,224,242,234,242, 64,236,228, 64,243,238, 64,239,235,224,248
    9842   00:8A29  E6 E8 F5 E4 EC E4 E7 E0 F1 E3 40 E0 F2 EA F2 40 
    9842   00:8A39  EC E4 40 F3 EE 40 EF EB E0 F8 
    9843   00:8A43                      end_level_1_3:	DB  243,231,228,64,231,224,241,227,64,235,228,245,228,235
    9843   00:8A43  F3 E7 E4 40 E7 E0 F1 E3 40 EB E4 F5 E4 EB 
    9844   00:8A51                      
    9845   00:8A51  61 61 71 61         col_letras_5:	db	97,97,113,97
    9846   00:8A55  81 81 71 81         col_letras_7:	db	129,129,113,129
    9847   00:8A59  91 91 71 91         col_letras_8:	db	145,145,113,145
    9848   00:8A5D  A1 A1 71 A1         col_letras_9:	db	161,161,113,161
    9849   00:8A61  B1 B1 71 B1         col_letras_10:	db	177,177,113,177
    9850   00:8A65  D1 D1 71 D1         col_letras_12:	db	209,209,113,209
    9851   00:8A69                      
    9852   00:8A69  (0079)              blanco:			incbin	"BLANCO_pletter.DAT"
    9853   00:8AE2  (0055)              mas_blanco:		incbin	"BLANCO_mas_pletter.DAT"
    9854   00:8B37  (001A)              marcador:		incbin	"marcador_pletter.dat"
    9855   00:8B51  (000E)              trofeos:		incbin	"trofeos_pletter.dat"
    9856   00:8B5F                      sprites:		; --- prota derecha quieto
    9857   00:8B5F                      				; color 1
    9858   00:8B5F                      sprites13:		DB $00,$0F,$1F,$1F,$36,$34,$7C,$3E
    9858   00:8B5F  00 0F 1F 1F 36 34 7C 3E 
    9859   00:8B67                      				DB $1E,$3F,$49,$28,$1F,$10,$07,$00
    9859   00:8B67  1E 3F 49 28 1F 10 07 00 
    9860   00:8B6F                      				DB $00,$F0,$F8,$98,$50,$50,$08,$08
    9860   00:8B6F  00 F0 F8 98 50 50 08 08 
    9861   00:8B77                      				DB $10,$E0,$A0,$50,$F0,$90,$C0,$00
    9861   00:8B77  10 E0 A0 50 F0 90 C0 00 
    9862   00:8B7F                      				; color 2
    9863   00:8B7F                      				DB $00,$36,$17,$00,$0F,$00,$00,$00
    9863   00:8B7F  00 36 17 00 0F 00 00 00 
    9864   00:8B87                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9864   00:8B87  00 00 00 00 00 00 00 00 
    9865   00:8B8F                      				DB $00,$40,$A0,$00,$60,$00,$00,$00
    9865   00:8B8F  00 40 A0 00 60 00 00 00 
    9866   00:8B97                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9866   00:8B97  00 00 00 00 00 00 00 00 
    9867   00:8B9F                      				; color 9
    9868   00:8B9F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9868   00:8B9F  00 00 00 00 00 00 00 00 
    9869   00:8BA7                      				DB $00,$00,$00,$09,$0B,$03,$01,$01
    9869   00:8BA7  00 00 00 09 0B 03 01 01 
    9870   00:8BAF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9870   00:8BAF  00 00 00 00 00 00 00 00 
    9871   00:8BB7                      				DB $00,$00,$60,$A0,$A0,$F0,$F0,$E0
    9871   00:8BB7  00 00 60 A0 A0 F0 F0 E0 
    9872   00:8BBF                      				; 
    9873   00:8BBF                      				; --- prota derecha andando
    9874   00:8BBF                      				; color 1
    9875   00:8BBF                      sprites14:		DB $07,$0F,$0F,$1B,$1B,$3F,$1F,$0F
    9875   00:8BBF  07 0F 0F 1B 1B 3F 1F 0F 
    9876   00:8BC7                      				DB $1F,$24,$14,$0F,$08,$18,$1E,$00
    9876   00:8BC7  1F 24 14 0F 08 18 1E 00 
    9877   00:8BCF                      				DB $F8,$FC,$8C,$58,$58,$04,$84,$88
    9877   00:8BCF  F8 FC 8C 58 58 04 84 88 
    9878   00:8BD7                      				DB $F8,$D8,$24,$FC,$66,$AE,$1C,$00
    9878   00:8BD7  F8 D8 24 FC 66 AE 1C 00 
    9879   00:8BDF                      				; color 2
    9880   00:8BDF                      				DB $1B,$0B,$00,$07,$07,$00,$00,$00
    9880   00:8BDF  1B 0B 00 07 07 00 00 00 
    9881   00:8BE7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9881   00:8BE7  00 00 00 00 00 00 00 00 
    9882   00:8BEF                      				DB $20,$D8,$00,$98,$10,$00,$00,$00
    9882   00:8BEF  20 D8 00 98 10 00 00 00 
    9883   00:8BF7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9883   00:8BF7  00 00 00 00 00 00 00 00 
    9884   00:8BFF                      				; color 9
    9885   00:8BFF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9885   00:8BFF  00 00 00 00 00 00 00 00 
    9886   00:8C07                      				DB $00,$00,$04,$04,$00,$00,$00,$00
    9886   00:8C07  00 00 04 04 00 00 00 00 
    9887   00:8C0F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9887   00:8C0F  00 00 00 00 00 00 00 00 
    9888   00:8C17                      				DB $00,$70,$A0,$A0,$F8,$78,$70,$00
    9888   00:8C17  00 70 A0 A0 F8 78 70 00 
    9889   00:8C1F                      				; 
    9890   00:8C1F                      				; --- prota izquierda quieto
    9891   00:8C1F                      				; color 1
    9892   00:8C1F                      sprites15:		DB $00,$0F,$1F,$19,$0A,$0A,$10,$10
    9892   00:8C1F  00 0F 1F 19 0A 0A 10 10 
    9893   00:8C27                      				DB $08,$07,$05,$0A,$0F,$09,$03,$00
    9893   00:8C27  08 07 05 0A 0F 09 03 00 
    9894   00:8C2F                      				DB $00,$F0,$F8,$F8,$6C,$2C,$3E,$7C
    9894   00:8C2F  00 F0 F8 F8 6C 2C 3E 7C 
    9895   00:8C37                      				DB $78,$FC,$92,$14,$F8,$08,$E0,$00
    9895   00:8C37  78 FC 92 14 F8 08 E0 00 
    9896   00:8C3F                      				; color 2
    9897   00:8C3F                      				DB $00,$02,$05,$00,$06,$00,$00,$00
    9897   00:8C3F  00 02 05 00 06 00 00 00 
    9898   00:8C47                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9898   00:8C47  00 00 00 00 00 00 00 00 
    9899   00:8C4F                      				DB $00,$6C,$E8,$00,$F0,$00,$00,$00
    9899   00:8C4F  00 6C E8 00 F0 00 00 00 
    9900   00:8C57                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9900   00:8C57  00 00 00 00 00 00 00 00 
    9901   00:8C5F                      				; color 9
    9902   00:8C5F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9902   00:8C5F  00 00 00 00 00 00 00 00 
    9903   00:8C67                      				DB $00,$00,$06,$05,$05,$0F,$0F,$07
    9903   00:8C67  00 00 06 05 05 0F 0F 07 
    9904   00:8C6F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9904   00:8C6F  00 00 00 00 00 00 00 00 
    9905   00:8C77                      				DB $00,$00,$00,$90,$D0,$C0,$80,$80
    9905   00:8C77  00 00 00 90 D0 C0 80 80 
    9906   00:8C7F                      				; 
    9907   00:8C7F                      				; --- prota izquierdo andando
    9908   00:8C7F                      				; color 1
    9909   00:8C7F                      sprites16:		DB $1F,$3F,$31,$1A,$1A,$20,$21,$11
    9909   00:8C7F  1F 3F 31 1A 1A 20 21 11 
    9910   00:8C87                      				DB $1F,$1B,$24,$3F,$66,$75,$38,$00
    9910   00:8C87  1F 1B 24 3F 66 75 38 00 
    9911   00:8C8F                      				DB $E0,$F0,$F0,$D8,$D8,$FC,$F8,$F0
    9911   00:8C8F  E0 F0 F0 D8 D8 FC F8 F0 
    9912   00:8C97                      				DB $F8,$24,$28,$F0,$10,$18,$78,$00
    9912   00:8C97  F8 24 28 F0 10 18 78 00 
    9913   00:8C9F                      				; color 2
    9914   00:8C9F                      				DB $04,$1B,$00,$19,$08,$00,$00,$00
    9914   00:8C9F  04 1B 00 19 08 00 00 00 
    9915   00:8CA7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9915   00:8CA7  00 00 00 00 00 00 00 00 
    9916   00:8CAF                      				DB $D8,$D0,$00,$E0,$E0,$00,$00,$00
    9916   00:8CAF  D8 D0 00 E0 E0 00 00 00 
    9917   00:8CB7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9917   00:8CB7  00 00 00 00 00 00 00 00 
    9918   00:8CBF                      				; color 9
    9919   00:8CBF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9919   00:8CBF  00 00 00 00 00 00 00 00 
    9920   00:8CC7                      				DB $00,$0E,$05,$05,$1F,$1E,$0E,$00
    9920   00:8CC7  00 0E 05 05 1F 1E 0E 00 
    9921   00:8CCF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9921   00:8CCF  00 00 00 00 00 00 00 00 
    9922   00:8CD7                      				DB $00,$00,$20,$20,$00,$00,$00,$00
    9922   00:8CD7  00 00 20 20 00 00 00 00 
    9923   00:8CDF                      				; 
    9924   00:8CDF                      				; --- subiendo 1
    9925   00:8CDF                      				; color 1
    9926   00:8CDF                      				DB $00,$07,$0F,$1F,$1F,$3F,$5F,$4F
    9926   00:8CDF  00 07 0F 1F 1F 3F 5F 4F 
    9927   00:8CE7                      				DB $7F,$5D,$4B,$28,$1C,$17,$10,$00
    9927   00:8CE7  7F 5D 4B 28 1C 17 10 00 
    9928   00:8CEF                      				DB $00,$E0,$F0,$F8,$F8,$F8,$F8,$F0
    9928   00:8CEF  00 E0 F0 F8 F8 F8 F8 F0 
    9929   00:8CF7                      				DB $F8,$FC,$D4,$14,$38,$E8,$08,$70
    9929   00:8CF7  F8 FC D4 14 38 E8 08 70 
    9930   00:8CFF                      				; color 6
    9931   00:8CFF                      				DB $22,$34,$17,$03,$08,$0F,$00,$00
    9931   00:8CFF  22 34 17 03 08 0F 00 00 
    9932   00:8D07                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9932   00:8D07  00 00 00 00 00 00 00 00 
    9933   00:8D0F                      				DB $00,$28,$E8,$C0,$10,$F0,$00,$00
    9933   00:8D0F  00 28 E8 C0 10 F0 00 00 
    9934   00:8D17                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9934   00:8D17  00 00 00 00 00 00 00 00 
    9935   00:8D1F                      				; color 9
    9936   00:8D1F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9936   00:8D1F  00 00 00 00 00 00 00 00 
    9937   00:8D27                      				DB $00,$00,$00,$00,$00,$20,$30,$00
    9937   00:8D27  00 00 00 00 00 20 30 00 
    9938   00:8D2F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9938   00:8D2F  00 00 00 00 00 00 00 00 
    9939   00:8D37                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9939   00:8D37  00 00 00 00 00 00 00 00 
    9940   00:8D3F                      				; 
    9941   00:8D3F                      				; --- subiendo 2
    9942   00:8D3F                      				; color 1
    9943   00:8D3F                      				DB $00,$07,$0F,$1F,$1F,$1F,$1F,$0F
    9943   00:8D3F  00 07 0F 1F 1F 1F 1F 0F 
    9944   00:8D47                      				DB $1F,$3F,$2B,$28,$1C,$17,$10,$0E
    9944   00:8D47  1F 3F 2B 28 1C 17 10 0E 
    9945   00:8D4F                      				DB $00,$E0,$F0,$F8,$F8,$FC,$FA,$F2
    9945   00:8D4F  00 E0 F0 F8 F8 FC FA F2 
    9946   00:8D57                      				DB $FE,$BA,$D2,$14,$38,$E8,$08,$00
    9946   00:8D57  FE BA D2 14 38 E8 08 00 
    9947   00:8D5F                      				; color 6
    9948   00:8D5F                      				DB $00,$14,$17,$03,$08,$0F,$00,$00
    9948   00:8D5F  00 14 17 03 08 0F 00 00 
    9949   00:8D67                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9949   00:8D67  00 00 00 00 00 00 00 00 
    9950   00:8D6F                      				DB $44,$2C,$E8,$C0,$10,$F0,$00,$00
    9950   00:8D6F  44 2C E8 C0 10 F0 00 00 
    9951   00:8D77                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9951   00:8D77  00 00 00 00 00 00 00 00 
    9952   00:8D7F                      				; color 9
    9953   00:8D7F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9953   00:8D7F  00 00 00 00 00 00 00 00 
    9954   00:8D87                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9954   00:8D87  00 00 00 00 00 00 00 00 
    9955   00:8D8F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9955   00:8D8F  00 00 00 00 00 00 00 00 
    9956   00:8D97                      				DB $00,$00,$00,$00,$00,$04,$0C,$00
    9956   00:8D97  00 00 00 00 00 04 0C 00 
    9957   00:8D9F                      				; 
    9958   00:8D9F                      				; --- prota cae
    9959   00:8D9F                      				; color 1
    9960   00:8D9F                      				DB $17,$1F,$3F,$3E,$2C,$2A,$3A,$18
    9960   00:8D9F  17 1F 3F 3E 2C 2A 3A 18 
    9961   00:8DA7                      				DB $0C,$1F,$16,$11,$31,$AF,$E2,$72
    9961   00:8DA7  0C 1F 16 11 31 AF E2 72 
    9962   00:8DAF                      				DB $E0,$E8,$F8,$3C,$14,$54,$5C,$18
    9962   00:8DAF  E0 E8 F8 3C 14 54 5C 18 
    9963   00:8DB7                      				DB $30,$F8,$68,$88,$8D,$F7,$87,$0E
    9963   00:8DB7  30 F8 68 88 8D F7 87 0E 
    9964   00:8DBF                      				; color 2
    9965   00:8DBF                      				DB $00,$09,$0E,$0E,$10,$1C,$00,$00
    9965   00:8DBF  00 09 0E 0E 10 1C 00 00 
    9966   00:8DC7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9966   00:8DC7  00 00 00 00 00 00 00 00 
    9967   00:8DCF                      				DB $00,$90,$70,$70,$08,$78,$00,$00
    9967   00:8DCF  00 90 70 70 08 78 00 00 
    9968   00:8DD7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9968   00:8DD7  00 00 00 00 00 00 00 00 
    9969   00:8DDF                      				; color 9
    9970   00:8DDF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9970   00:8DDF  00 00 00 00 00 00 00 00 
    9971   00:8DE7                      				DB $00,$00,$01,$13,$15,$05,$07,$03
    9971   00:8DE7  00 00 01 13 15 05 07 03 
    9972   00:8DEF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9972   00:8DEF  00 00 00 00 00 00 00 00 
    9973   00:8DF7                      				DB $00,$00,$C0,$E8,$A8,$A0,$E0,$C0
    9973   00:8DF7  00 00 C0 E8 A8 A0 E0 C0 
    9974   00:8DFF                      				; 
    9975   00:8DFF                      				; --- explosion 1
    9976   00:8DFF                      				; color 1
    9977   00:8DFF                      				DB $60,$57,$65,$57,$60,$10,$09,$07
    9977   00:8DFF  60 57 65 57 60 10 09 07 
    9978   00:8E07                      				DB $03,$03,$05,$01,$01,$00,$00,$00
    9978   00:8E07  03 03 05 01 01 00 00 00 
    9979   00:8E0F                      				DB $0C,$0C,$0C,$00,$0C,$10,$A0,$E0
    9979   00:8E0F  0C 0C 0C 00 0C 10 A0 E0 
    9980   00:8E17                      				DB $F8,$E0,$50,$00,$00,$00,$00,$00
    9980   00:8E17  F8 E0 50 00 00 00 00 00 
    9981   00:8E1F                      				; 
    9982   00:8E1F                      				; --- explosion 2
    9983   00:8E1F                      				; color 1
    9984   00:8E1F                      				DB $60,$57,$65,$57,$60,$08,$0E,$07
    9984   00:8E1F  60 57 65 57 60 08 0E 07 
    9985   00:8E27                      				DB $07,$3F,$07,$0F,$13,$00,$00,$00
    9985   00:8E27  07 3F 07 0F 13 00 00 00 
    9986   00:8E2F                      				DB $06,$76,$56,$70,$06,$10,$78,$F0
    9986   00:8E2F  06 76 56 70 06 10 78 F0 
    9987   00:8E37                      				DB $E0,$F0,$C0,$E0,$F0,$C8,$80,$00
    9987   00:8E37  E0 F0 C0 E0 F0 C8 80 00 
    9988   00:8E3F                      				; 
    9989   00:8E3F                      				; --- explosion 3
    9990   00:8E3F                      				; color 1
    9991   00:8E3F                      				DB $60,$57,$65,$57,$60,$0D,$FD,$1D
    9991   00:8E3F  60 57 65 57 60 0D FD 1D 
    9992   00:8E47                      				DB $3C,$39,$0C,$06,$0F,$13,$21,$01
    9992   00:8E47  3C 39 0C 06 0F 13 21 01 
    9993   00:8E4F                      				DB $05,$77,$57,$75,$05,$B0,$B6,$B8
    9993   00:8E4F  05 77 57 75 05 B0 B6 B8 
    9994   00:8E57                      				DB $3C,$9F,$38,$70,$E8,$E6,$42,$00
    9994   00:8E57  3C 9F 38 70 E8 E6 42 00 
    9995   00:8E5F                      				; SPRITE EN BLANCO
    9996   00:8E5F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9996   00:8E5F  00 00 00 00 00 00 00 00 
    9997   00:8E67                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9997   00:8E67  00 00 00 00 00 00 00 00 
    9998   00:8E6F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9998   00:8E6F  00 00 00 00 00 00 00 00 
    9999   00:8E77                      				DB $00,$00,$00,$00,$00,$00,$00,$00
    9999   00:8E77  00 00 00 00 00 00 00 00 
   10000   00:8E7F                      				;
   10001   00:8E7F                      				; --- Serpiente izquierda 1
   10002   00:8E7F                      				; color 5
   10003   00:8E7F                      				DB $00,$00,$1F,$3F,$7F,$7E,$3A,$12
   10003   00:8E7F  00 00 1F 3F 7F 7E 3A 12 
   10004   00:8E87                      				DB $7E,$3D,$00,$07,$0F,$00,$0F,$00
   10004   00:8E87  7E 3D 00 07 0F 00 0F 00 
   10005   00:8E8F                      				DB $00,$00,$C0,$E0,$F0,$F0,$F0,$F0
   10005   00:8E8F  00 00 C0 E0 F0 F0 F0 F0 
   10006   00:8E97                      				DB $F0,$F0,$20,$C0,$B0,$2E,$DE,$00
   10006   00:8E97  F0 F0 20 C0 B0 2E DE 00 
   10007   00:8E9F                      				; --- Serpìente izquierda 2
   10008   00:8E9F                      				; color 5
   10009   00:8E9F                      				DB $00,$00,$0F,$1F,$1F,$0E,$04,$1F
   10009   00:8E9F  00 00 0F 1F 1F 0E 04 1F 
   10010   00:8EA7                      				DB $0F,$00,$0F,$1F,$00,$1F,$1F,$00
   10010   00:8EA7  0F 00 0F 1F 00 1F 1F 00 
   10011   00:8EAF                      				DB $00,$00,$E0,$F0,$B8,$B8,$B8,$B8
   10011   00:8EAF  00 00 E0 F0 B8 B8 B8 B8 
   10012   00:8EB7                      				DB $38,$F0,$60,$80,$60,$5C,$BC,$00
   10012   00:8EB7  38 F0 60 80 60 5C BC 00 
   10013   00:8EBF                      				; --- Serpiente derecha 1
   10014   00:8EBF                      				; color 5
   10015   00:8EBF                      				DB $00,$00,$03,$07,$0F,$0F,$0F,$0F
   10015   00:8EBF  00 00 03 07 0F 0F 0F 0F 
   10016   00:8EC7                      				DB $0F,$0F,$04,$03,$0D,$74,$7B,$00
   10016   00:8EC7  0F 0F 04 03 0D 74 7B 00 
   10017   00:8ECF                      				DB $00,$00,$F8,$FC,$FE,$7E,$5C,$48
   10017   00:8ECF  00 00 F8 FC FE 7E 5C 48 
   10018   00:8ED7                      				DB $7E,$BC,$00,$E0,$F0,$00,$F0,$00
   10018   00:8ED7  7E BC 00 E0 F0 00 F0 00 
   10019   00:8EDF                      				; --- Serpiente derecha 2
   10020   00:8EDF                      				; color 5
   10021   00:8EDF                      				DB $00,$00,$07,$0F,$1D,$1D,$1D,$1D
   10021   00:8EDF  00 00 07 0F 1D 1D 1D 1D 
   10022   00:8EE7                      				DB $1C,$0F,$06,$01,$06,$3A,$3D,$00
   10022   00:8EE7  1C 0F 06 01 06 3A 3D 00 
   10023   00:8EEF                      				DB $00,$00,$F0,$F8,$F8,$70,$20,$F8
   10023   00:8EEF  00 00 F0 F8 F8 70 20 F8 
   10024   00:8EF7                      				DB $F0,$00,$F0,$F8,$00,$F8,$F8,$00
   10024   00:8EF7  F0 00 F0 F8 00 F8 F8 00 
   10025   00:8EFF                      				; --- Serpiente izquierda 1
   10026   00:8EFF                      				; color 1
   10027   00:8EFF                      				DB $00,$1F,$20,$40,$80,$81,$C5,$ED
   10027   00:8EFF  00 1F 20 40 80 81 C5 ED 
   10028   00:8F07                      				DB $81,$42,$3F,$08,$10,$1F,$10,$0F
   10028   00:8F07  81 42 3F 08 10 1F 10 0F 
   10029   00:8F0F                      				DB $00,$C0,$20,$10,$08,$08,$08,$08
   10029   00:8F0F  00 C0 20 10 08 08 08 08 
   10030   00:8F17                      				DB $08,$08,$D0,$30,$4E,$D1,$21,$FF
   10030   00:8F17  08 08 D0 30 4E D1 21 FF 
   10031   00:8F1F                      				; --- Serpìente izquierda 2
   10032   00:8F1F                      				; color 1
   10033   00:8F1F                      				DB $00,$0F,$10,$20,$20,$31,$3B,$20
   10033   00:8F1F  00 0F 10 20 20 31 3B 20 
   10034   00:8F27                      				DB $10,$0F,$10,$20,$3F,$20,$20,$1F
   10034   00:8F27  10 0F 10 20 3F 20 20 1F 
   10035   00:8F2F                      				DB $00,$E0,$10,$08,$44,$44,$44,$44
   10035   00:8F2F  00 E0 10 08 44 44 44 44 
   10036   00:8F37                      				DB $C4,$08,$90,$60,$9C,$A2,$42,$FE
   10036   00:8F37  C4 08 90 60 9C A2 42 FE 
   10037   00:8F3F                      				; --- Serpiente derecha 1
   10038   00:8F3F                      				; color 1
   10039   00:8F3F                      				DB $00,$03,$04,$08,$10,$10,$10,$10
   10039   00:8F3F  00 03 04 08 10 10 10 10 
   10040   00:8F47                      				DB $10,$10,$0B,$0C,$72,$8B,$84,$FF
   10040   00:8F47  10 10 0B 0C 72 8B 84 FF 
   10041   00:8F4F                      				DB $00,$F8,$04,$02,$01,$81,$A3,$B7
   10041   00:8F4F  00 F8 04 02 01 81 A3 B7 
   10042   00:8F57                      				DB $81,$42,$FC,$10,$08,$F8,$08,$F0
   10042   00:8F57  81 42 FC 10 08 F8 08 F0 
   10043   00:8F5F                      				; --- Serpiente derecha 2
   10044   00:8F5F                      				; color 1
   10045   00:8F5F                      				DB $00,$07,$08,$10,$22,$22,$22,$22
   10045   00:8F5F  00 07 08 10 22 22 22 22 
   10046   00:8F67                      				DB $23,$10,$09,$06,$39,$45,$42,$7F
   10046   00:8F67  23 10 09 06 39 45 42 7F 
   10047   00:8F6F                      				DB $00,$F0,$08,$04,$04,$8C,$DC,$04
   10047   00:8F6F  00 F0 08 04 04 8C DC 04 
   10048   00:8F77                      				DB $08,$F0,$08,$04,$FC,$04,$04,$F8		
   10048   00:8F77  08 F0 08 04 FC 04 04 F8 
   10049   00:8F7F                      				; --- Prota derecha lanza 1
   10050   00:8F7F                      				; color 1
   10051   00:8F7F                      				DB $0F,$1F,$1F,$2D,$2C,$7C,$3E,$1E
   10051   00:8F7F  0F 1F 1F 2D 2C 7C 3E 1E 
   10052   00:8F87                      				DB $FF,$A3,$D1,$79,$0F,$10,$31,$3C
   10052   00:8F87  FF A3 D1 79 0F 10 31 3C 
   10053   00:8F8F                      				DB $F0,$F8,$18,$90,$B0,$08,$C8,$10
   10053   00:8F8F  F0 F8 18 90 B0 08 C8 10 
   10054   00:8F97                      				DB $F0,$A8,$14,$14,$F8,$CC,$5C,$38
   10054   00:8F97  F0 A8 14 14 F8 CC 5C 38 
   10055   00:8F9F                      				; color 6
   10056   00:8F9F                      				DB $5C,$2E,$06,$00,$0F,$0E,$00,$00
   10056   00:8F9F  5C 2E 06 00 0F 0E 00 00 
   10057   00:8FA7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10057   00:8FA7  00 00 00 00 00 00 00 00 
   10058   00:8FAF                      				DB $50,$E8,$E8,$00,$30,$20,$00,$00
   10058   00:8FAF  50 E8 E8 00 30 20 00 00 
   10059   00:8FB7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10059   00:8FB7  00 00 00 00 00 00 00 00 
   10060   00:8FBF                      				; color 9
   10061   00:8FBF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10061   00:8FBF  00 00 00 00 00 00 00 00 
   10062   00:8FC7                      				DB $00,$00,$12,$13,$03,$01,$01,$00
   10062   00:8FC7  00 00 12 13 03 01 01 00 
   10063   00:8FCF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10063   00:8FCF  00 00 00 00 00 00 00 00 
   10064   00:8FD7                      				DB $00,$E0,$60,$40,$F0,$30,$E0,$00
   10064   00:8FD7  00 E0 60 40 F0 30 E0 00 
   10065   00:8FDF                      				; 
   10066   00:8FDF                      				; --- Prota derecha lanza 2
   10067   00:8FDF                      				; color 1
   10068   00:8FDF                      				DB $00,$07,$0F,$0F,$1B,$1B,$3F,$1F
   10068   00:8FDF  00 07 0F 0F 1B 1B 3F 1F 
   10069   00:8FE7                      				DB $0F,$1F,$2A,$24,$2F,$18,$30,$3C
   10069   00:8FE7  0F 1F 2A 24 2F 18 30 3C 
   10070   00:8FEF                      				DB $00,$F8,$FC,$CC,$6C,$28,$04,$94
   10070   00:8FEF  00 F8 FC CC 6C 28 04 94 
   10071   00:8FF7                      				DB $88,$FC,$42,$82,$7E,$F8,$88,$7C
   10071   00:8FF7  88 FC 42 82 7E F8 88 7C 
   10072   00:8FFF                      				; color 6
   10073   00:8FFF                      				DB $00,$15,$1B,$10,$07,$0F,$00,$00
   10073   00:8FFF  00 15 1B 10 07 0F 00 00 
   10074   00:9007                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10074   00:9007  00 00 00 00 00 00 00 00 
   10075   00:900F                      				DB $00,$BC,$7C,$80,$00,$70,$00,$00
   10075   00:900F  00 BC 7C 80 00 70 00 00 
   10076   00:9017                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10076   00:9017  00 00 00 00 00 00 00 00 
   10077   00:901F                      				; color 9
   10078   00:901F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10078   00:901F  00 00 00 00 00 00 00 00 
   10079   00:9027                      				DB $00,$00,$00,$04,$04,$00,$00,$00
   10079   00:9027  00 00 00 04 04 00 00 00 
   10080   00:902F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10080   00:902F  00 00 00 00 00 00 00 00 
   10081   00:9037                      				DB $00,$00,$30,$90,$D0,$F8,$68,$70
   10081   00:9037  00 00 30 90 D0 F8 68 70 
   10082   00:903F                      				; 
   10083   00:903F                      				; --- Prota izquierda lanza 1
   10084   00:903F                      				; color 1
   10085   00:903F                      				DB $0F,$1F,$18,$09,$0D,$10,$13,$08
   10085   00:903F  0F 1F 18 09 0D 10 13 08 
   10086   00:9047                      				DB $0F,$15,$28,$28,$1F,$33,$3A,$1C
   10086   00:9047  0F 15 28 28 1F 33 3A 1C 
   10087   00:904F                      				DB $F0,$F8,$F8,$B4,$34,$3E,$7C,$78
   10087   00:904F  F0 F8 F8 B4 34 3E 7C 78 
   10088   00:9057                      				DB $FF,$C5,$8B,$9E,$F0,$08,$8C,$3C
   10088   00:9057  FF C5 8B 9E F0 08 8C 3C 
   10089   00:905F                      				; color 6
   10090   00:905F                      				DB $0A,$17,$17,$00,$0C,$04,$00,$00
   10090   00:905F  0A 17 17 00 0C 04 00 00 
   10091   00:9067                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10091   00:9067  00 00 00 00 00 00 00 00 
   10092   00:906F                      				DB $3A,$74,$60,$00,$F0,$70,$00,$00
   10092   00:906F  3A 74 60 00 F0 70 00 00 
   10093   00:9077                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10093   00:9077  00 00 00 00 00 00 00 00 
   10094   00:907F                      				; color 9
   10095   00:907F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10095   00:907F  00 00 00 00 00 00 00 00 
   10096   00:9087                      				DB $00,$07,$06,$02,$0F,$0C,$07,$00
   10096   00:9087  00 07 06 02 0F 0C 07 00 
   10097   00:908F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10097   00:908F  00 00 00 00 00 00 00 00 
   10098   00:9097                      				DB $00,$00,$48,$C8,$C0,$80,$80,$00 
   10098   00:9097  00 00 48 C8 C0 80 80 00 
   10099   00:909F                      				; --- Prota izquierda lanza 2
   10100   00:909F                      				; color 1
   10101   00:909F                      				DB $00,$1F,$3F,$33,$36,$14,$20,$29
   10101   00:909F  00 1F 3F 33 36 14 20 29 
   10102   00:90A7                      				DB $11,$3F,$42,$41,$7E,$1F,$11,$3E
   10102   00:90A7  11 3F 42 41 7E 1F 11 3E 
   10103   00:90AF                      				DB $00,$E0,$F0,$F0,$D8,$D8,$FC,$F8
   10103   00:90AF  00 E0 F0 F0 D8 D8 FC F8 
   10104   00:90B7                      				DB $F0,$F8,$54,$24,$F4,$18,$0C,$3C
   10104   00:90B7  F0 F8 54 24 F4 18 0C 3C 
   10105   00:90BF                      				; color 6
   10106   00:90BF                      				DB $00,$3D,$3E,$01,$00,$0E,$00,$00
   10106   00:90BF  00 3D 3E 01 00 0E 00 00 
   10107   00:90C7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10107   00:90C7  00 00 00 00 00 00 00 00 
   10108   00:90CF                      				DB $00,$A8,$D8,$08,$E0,$F0,$00,$00
   10108   00:90CF  00 A8 D8 08 E0 F0 00 00 
   10109   00:90D7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10109   00:90D7  00 00 00 00 00 00 00 00 
   10110   00:90DF                      				; color 9
   10111   00:90DF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10111   00:90DF  00 00 00 00 00 00 00 00 
   10112   00:90E7                      				DB $00,$00,$0C,$09,$0B,$1F,$16,$0E
   10112   00:90E7  00 00 0C 09 0B 1F 16 0E 
   10113   00:90EF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10113   00:90EF  00 00 00 00 00 00 00 00 
   10114   00:90F7                      				DB $00,$00,$00,$20,$20,$00,$00,$00
   10114   00:90F7  00 00 00 20 20 00 00 00 
   10115   00:90FF                      				; 
   10116   00:90FF                      				; --- Serpiente muerta
   10117   00:90FF                      					; color 5
   10118   00:90FF                      				DB $00,$00,$00,$00,$03,$0F,$1E,$3F
   10118   00:90FF  00 00 00 00 03 0F 1E 3F 
   10119   00:9107                      				DB $38,$3D,$3D,$3D,$3F,$1D,$0D,$00
   10119   00:9107  38 3D 3D 3D 3F 1D 0D 00 
   10120   00:910F                      				DB $00,$00,$00,$00,$E0,$F8,$FC,$7A
   10120   00:910F  00 00 00 00 E0 F8 FC 7A 
   10121   00:9117                      				DB $16,$82,$CE,$D6,$DA,$DA,$B8,$00
   10121   00:9117  16 82 CE D6 DA DA B8 00 
   10122   00:911F                      				; color 1
   10123   00:911F                      				DB $00,$00,$00,$03,$0C,$10,$21,$40
   10123   00:911F  00 00 00 03 0C 10 21 40 
   10124   00:9127                      				DB $47,$42,$42,$42,$40,$22,$12,$0F
   10124   00:9127  47 42 42 42 40 22 12 0F 
   10125   00:912F                      				DB $00,$00,$00,$E0,$18,$04,$02,$85
   10125   00:912F  00 00 00 E0 18 04 02 85 
   10126   00:9137                      				DB $E9,$7D,$31,$29,$25,$25,$46,$FC
   10126   00:9137  E9 7D 31 29 25 25 46 FC 
   10127   00:913F                      			
   10128   00:913F                      				; 
   10129   00:913F                      				; --- Serpiente mata prota
   10130   00:913F                      				; color 1
   10131   00:913F                      				DB $0F,$10,$20,$20,$31,$3B,$60,$B0
   10131   00:913F  0F 10 20 20 31 3B 60 B0 
   10132   00:9147                      				DB $5F,$BC,$19,$F4,$43,$A4,$54,$2F
   10132   00:9147  5F BC 19 F4 43 A4 54 2F 
   10133   00:914F                      				DB $E0,$18,$04,$52,$75,$79,$79,$9D
   10133   00:914F  E0 18 04 52 75 79 79 9D 
   10134   00:9157                      				DB $7F,$1D,$18,$37,$D1,$09,$0A,$FC
   10134   00:9157  7F 1D 18 37 D1 09 0A FC 
   10135   00:915F                      				; color 3
   10136   00:915F                      				DB $00,$0F,$1F,$1F,$0E,$04,$1F,$4F
   10136   00:915F  00 0F 1F 1F 0E 04 1F 4F 
   10137   00:9167                      				DB $20,$00,$00,$08,$3C,$1B,$0B,$00
   10137   00:9167  20 00 00 08 3C 1B 0B 00 
   10138   00:916F                      				DB $00,$E0,$F8,$AC,$8A,$86,$86,$02
   10138   00:916F  00 E0 F8 AC 8A 86 86 02 
   10139   00:9177                      				DB $00,$00,$00,$08,$2E,$F6,$F4,$00
   10139   00:9177  00 00 00 08 2E F6 F4 00 
   10140   00:917F                      				; color 4
   10141   00:917F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10141   00:917F  00 00 00 00 00 00 00 00 
   10142   00:9187                      				DB $00,$00,$00,$00,$00,$40,$20,$00
   10142   00:9187  00 00 00 00 00 40 20 00 
   10143   00:918F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10143   00:918F  00 00 00 00 00 00 00 00 
   10144   00:9197                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10144   00:9197  00 00 00 00 00 00 00 00 
   10145   00:919F                      				; color 9
   10146   00:919F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10146   00:919F  00 00 00 00 00 00 00 00 
   10147   00:91A7                      				DB $00,$43,$E6,$03,$00,$00,$00,$00
   10147   00:91A7  00 43 E6 03 00 00 00 00 
   10148   00:91AF                      				DB $00,$00,$00,$00,$00,$00,$00,$60
   10148   00:91AF  00 00 00 00 00 00 00 60 
   10149   00:91B7                      				DB $80,$E2,$E7,$C0,$00,$00,$00,$00
   10149   00:91B7  80 E2 E7 C0 00 00 00 00 
   10150   00:91BF                      				; --- incendio izquierda
   10151   00:91BF                      				; color 1
   10152   00:91BF                      				DB $AD,$A9,$ED,$49,$4D,$00,$0F,$0E
   10152   00:91BF  AD A9 ED 49 4D 00 0F 0E 
   10153   00:91C7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10153   00:91C7  00 00 00 00 00 00 00 00 
   10154   00:91CF                      				DB $D5,$55,$DD,$54,$55,$00,$E0,$E0
   10154   00:91CF  D5 55 DD 54 55 00 E0 E0 
   10155   00:91D7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10155   00:91D7  00 00 00 00 00 00 00 00 
   10156   00:91DF                      				; color 6
   10157   00:91DF                      				DB $00,$00,$02,$16,$32,$1F,$10,$11
   10157   00:91DF  00 00 02 16 32 1F 10 11 
   10158   00:91E7                      				DB $1F,$3F,$3F,$3C,$1E,$98,$D0,$F0
   10158   00:91E7  1F 3F 3F 3C 1E 98 D0 F0 
   10159   00:91EF                      				DB $00,$00,$00,$28,$A8,$F8,$18,$18
   10159   00:91EF  00 00 00 28 A8 F8 18 18 
   10160   00:91F7                      				DB $F4,$F6,$7E,$FE,$77,$77,$23,$1F
   10160   00:91F7  F4 F6 7E FE 77 77 23 1F 
   10161   00:91FF                      				; color 10
   10162   00:91FF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10162   00:91FF  00 00 00 00 00 00 00 00 
   10163   00:9207                      				DB $00,$00,$00,$03,$01,$07,$2F,$0F
   10163   00:9207  00 00 00 03 01 07 2F 0F 
   10164   00:920F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10164   00:920F  00 00 00 00 00 00 00 00 
   10165   00:9217                      				DB $00,$00,$80,$00,$88,$88,$DC,$E0
   10165   00:9217  00 00 80 00 88 88 DC E0 
   10166   00:921F                      				; 
   10167   00:921F                      				; --- incendio derecha
   10168   00:921F                      				; color 1
   10169   00:921F                      				DB $00,$00,$0F,$0E,$00,$01,$01,$00
   10169   00:921F  00 00 0F 0E 00 01 01 00 
   10170   00:9227                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10170   00:9227  00 00 00 00 00 00 00 00 
   10171   00:922F                      				DB $00,$00,$E0,$E0,$00,$00,$00,$00
   10171   00:922F  00 00 E0 E0 00 00 00 00 
   10172   00:9237                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10172   00:9237  00 00 00 00 00 00 00 00 
   10173   00:923F                      				; color 6
   10174   00:923F                      				DB $06,$0F,$10,$11,$5F,$5E,$1E,$3F
   10174   00:923F  06 0F 10 11 5F 5E 1E 3F 
   10175   00:9247                      				DB $1F,$1F,$0F,$4D,$1E,$18,$98,$FC
   10175   00:9247  1F 1F 0F 4D 1E 18 98 FC 
   10176   00:924F                      				DB $F8,$F2,$16,$10,$F8,$F2,$E0,$F2
   10176   00:924F  F8 F2 16 10 F8 F2 E0 F2 
   10177   00:9257                      				DB $72,$F2,$F9,$F1,$E8,$68,$7C,$2C
   10177   00:9257  72 F2 F9 F1 E8 68 7C 2C 
   10178   00:925F                      				; color 10
   10179   00:925F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10179   00:925F  00 00 00 00 00 00 00 00 
   10180   00:9267                      				DB $00,$00,$00,$02,$01,$07,$07,$03
   10180   00:9267  00 00 00 02 01 07 07 03 
   10181   00:926F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10181   00:926F  00 00 00 00 00 00 00 00 
   10182   00:9277                      				DB $80,$00,$00,$00,$10,$90,$80,$D0
   10182   00:9277  80 00 00 00 10 90 80 D0 
   10183   00:927F                      
   10184   00:927F                      sprites2:		; --- BOMBERO DERECHA QUIETO
   10185   00:927F                      				; color 1
   10186   00:927F                      				DB $00,$03,$05,$0A,$0F,$40,$7F,$0A
   10186   00:927F  00 03 05 0A 0F 40 7F 0A 
   10187   00:9287                      				DB $0A,$0F,$37,$49,$59,$2F,$1A,$03
   10187   00:9287  0A 0F 37 49 59 2F 1A 03 
   10188   00:928F                      				DB $00,$F0,$50,$D0,$F0,$02,$FE,$50
   10188   00:928F  00 F0 50 D0 F0 02 FE 50 
   10189   00:9297                      				DB $70,$90,$F0,$7E,$42,$FE,$60,$F0
   10189   00:9297  70 90 F0 7E 42 FE 60 F0 
   10190   00:929F                      				; color 4
   10191   00:929F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10191   00:929F  00 00 00 00 00 00 00 00 
   10192   00:92A7                      				DB $02,$05,$00,$3F,$00,$05,$05,$00
   10192   00:92A7  02 05 00 3F 00 05 05 00 
   10193   00:92AF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10193   00:92AF  00 00 00 00 00 00 00 00 
   10194   00:92B7                      				DB $A0,$20,$00,$FC,$00,$A0,$80,$60
   10194   00:92B7  A0 20 00 FC 00 A0 80 60 
   10195   00:92BF                      				; color 11
   10196   00:92BF                      				DB $00,$36,$26,$10,$03,$00,$00,$00
   10196   00:92BF  00 36 26 10 03 00 00 00 
   10197   00:92C7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10197   00:92C7  00 00 00 00 00 00 00 00 
   10198   00:92CF                      				DB $00,$80,$BC,$00,$60,$00,$00,$00
   10198   00:92CF  00 80 BC 00 60 00 00 00 
   10199   00:92D7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10199   00:92D7  00 00 00 00 00 00 00 00 
   10200   00:92DF                      				; 
   10201   00:92DF                      				; --- BOMBERO DERECHA ANDANDO
   10202   00:92DF                      				; color 1
   10203   00:92DF                      				DB $01,$02,$05,$07,$20,$3F,$05,$05
   10203   00:92DF  01 02 05 07 20 3F 05 05 
   10204   00:92E7                      				DB $07,$1B,$24,$2C,$17,$0C,$0E,$07
   10204   00:92E7  07 1B 24 2C 17 0C 0E 07 
   10205   00:92EF                      				DB $F8,$A8,$68,$F8,$01,$FF,$28,$38
   10205   00:92EF  F8 A8 68 F8 01 FF 28 38 
   10206   00:92F7                      				DB $C8,$F8,$BF,$A1,$FF,$6C,$DC,$38
   10206   00:92F7  C8 F8 BF A1 FF 6C DC 38 
   10207   00:92FF                      				; color 4
   10208   00:92FF                      				DB $00,$00,$00,$00,$00,$00,$00,$01
   10208   00:92FF  00 00 00 00 00 00 00 01 
   10209   00:9307                      				DB $02,$00,$1F,$00,$02,$02,$00,$00
   10209   00:9307  02 00 1F 00 02 02 00 00 
   10210   00:930F                      				DB $00,$00,$00,$00,$00,$00,$00,$50
   10210   00:930F  00 00 00 00 00 00 00 50 
   10211   00:9317                      				DB $90,$00,$FE,$00,$D0,$C0,$30,$00
   10211   00:9317  90 00 FE 00 D0 C0 30 00 
   10212   00:931F                      				; color 11
   10213   00:931F                      				DB $1B,$13,$08,$03,$01,$00,$00,$00
   10213   00:931F  1B 13 08 03 01 00 00 00 
   10214   00:9327                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10214   00:9327  00 00 00 00 00 00 00 00 
   10215   00:932F                      				DB $40,$5E,$00,$B0,$20,$00,$00,$00
   10215   00:932F  40 5E 00 B0 20 00 00 00 
   10216   00:9337                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10216   00:9337  00 00 00 00 00 00 00 00 
   10217   00:933F                      				; 
   10218   00:933F                      				; --- BOMBERO IZQUIERDA QUIETO
   10219   00:933F                      				; color 1
   10220   00:933F                      				DB $00,$0F,$0A,$0B,$0F,$40,$7F,$0A
   10220   00:933F  00 0F 0A 0B 0F 40 7F 0A 
   10221   00:9347                      				DB $0E,$09,$0F,$7E,$42,$7F,$06,$0F
   10221   00:9347  0E 09 0F 7E 42 7F 06 0F 
   10222   00:934F                      				DB $00,$C0,$A0,$50,$F0,$02,$FE,$50
   10222   00:934F  00 C0 A0 50 F0 02 FE 50 
   10223   00:9357                      				DB $50,$F0,$EC,$92,$9A,$F4,$58,$C0
   10223   00:9357  50 F0 EC 92 9A F4 58 C0 
   10224   00:935F                      				; color 4
   10225   00:935F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10225   00:935F  00 00 00 00 00 00 00 00 
   10226   00:9367                      				DB $05,$04,$00,$3F,$00,$05,$01,$06
   10226   00:9367  05 04 00 3F 00 05 01 06 
   10227   00:936F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10227   00:936F  00 00 00 00 00 00 00 00 
   10228   00:9377                      				DB $40,$A0,$00,$FC,$00,$A0,$A0,$00
   10228   00:9377  40 A0 00 FC 00 A0 A0 00 
   10229   00:937F                      
   10230   00:937F                      				; color 9
   10231   00:937F                      sprites3:		DB $00,$01,$3D,$00,$06,$00,$00,$00
   10231   00:937F  00 01 3D 00 06 00 00 00 
   10232   00:9387                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10232   00:9387  00 00 00 00 00 00 00 00 
   10233   00:938F                      				DB $00,$6C,$64,$08,$C0,$00,$00,$00
   10233   00:938F  00 6C 64 08 C0 00 00 00 
   10234   00:9397                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10234   00:9397  00 00 00 00 00 00 00 00 
   10235   00:939F                      				; 
   10236   00:939F                      				; --- BOMBERO IZQUIERDA ANDANDO
   10237   00:939F                      				; color 1
   10238   00:939F                      				DB $1F,$15,$16,$1F,$80,$FF,$14,$1C
   10238   00:939F  1F 15 16 1F 80 FF 14 1C 
   10239   00:93A7                      				DB $13,$1F,$FD,$85,$FF,$36,$3B,$1C
   10239   00:93A7  13 1F FD 85 FF 36 3B 1C 
   10240   00:93AF                      				DB $80,$40,$A0,$E0,$04,$FC,$A0,$A0
   10240   00:93AF  80 40 A0 E0 04 FC A0 A0 
   10241   00:93B7                      				DB $E0,$D8,$24,$34,$E8,$30,$70,$E0
   10241   00:93B7  E0 D8 24 34 E8 30 70 E0 
   10242   00:93BF                      				; color 4
   10243   00:93BF                      				DB $00,$00,$00,$00,$00,$00,$00,$0A
   10243   00:93BF  00 00 00 00 00 00 00 0A 
   10244   00:93C7                      				DB $09,$00,$7F,$00,$0B,$03,$0C,$00
   10244   00:93C7  09 00 7F 00 0B 03 0C 00 
   10245   00:93CF                      				DB $00,$00,$00,$00,$00,$00,$00,$80
   10245   00:93CF  00 00 00 00 00 00 00 80 
   10246   00:93D7                      				DB $40,$00,$F8,$00,$40,$40,$00,$00
   10246   00:93D7  40 00 F8 00 40 40 00 00 
   10247   00:93DF                      				; color 11
   10248   00:93DF                      				DB $02,$7A,$00,$0D,$04,$00,$00,$00
   10248   00:93DF  02 7A 00 0D 04 00 00 00 
   10249   00:93E7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10249   00:93E7  00 00 00 00 00 00 00 00 
   10250   00:93EF                      				DB $D8,$C8,$10,$C0,$80,$00,$00,$00
   10250   00:93EF  D8 C8 10 C0 80 00 00 00 
   10251   00:93F7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10251   00:93F7  00 00 00 00 00 00 00 00 
   10252   00:93FF                      				; 
   10253   00:93FF                      				; --- BOMBERO SUBIENDO 1
   10254   00:93FF                      				; color 1
   10255   00:93FF                      				DB $07,$0C,$37,$54,$54,$54,$2D,$1A
   10255   00:93FF  07 0C 37 54 54 54 2D 1A 
   10256   00:9407                      				DB $0F,$1f,$2F,$2A,$1A,$0F,$12,$1E
   10256   00:9407  0F 1F 2F 2A 1A 0F 12 1E 
   10257   00:940F                      				DB $E0,$30,$EC,$2A,$2A,$2A,$B4,$5C
   10257   00:940F  E0 30 EC 2A 2A 2A B4 5C 
   10258   00:9417                      				DB $F2,$fE,$F2,$5C,$58,$E8,$78,$00
   10258   00:9417  F2 FE F2 5C 58 E8 78 00 
   10259   00:941F                      				; color 9
   10260   00:941F                      				DB $00,$00,$00,$00,$00,$00,$00,$03
   10260   00:941F  00 00 00 00 00 00 00 03 
   10261   00:9427                      				DB $08,$2B,$2B,$2B,$12,$05,$00,$00
   10261   00:9427  08 2B 2B 2B 12 05 00 00 
   10262   00:942F                      				DB $00,$00,$00,$00,$00,$00,$00,$C0
   10262   00:942F  00 00 00 00 00 00 00 C0 
   10263   00:9437                      				DB $10,$D4,$D4,$D4,$48,$A0,$00,$00
   10263   00:9437  10 D4 D4 D4 48 A0 00 00 
   10264   00:943F                      spritescaebom:	; --- BOMBERO CIRCUNSATANCIAL CAYENDO
   10265   00:943F                      				; color 1
   10266   00:943F                      				DB $38,$67,$6A,$1F,$66,$E5,$3E,$AA
   10266   00:943F  38 67 6A 1F 66 E5 3E AA 
   10267   00:9447                      				DB $59,$0A,$7F,$40,$0A,$0A,$06,$03
   10267   00:9447  59 0A 7F 40 0A 0A 06 03 
   10268   00:944F                      				DB $1C,$E6,$56,$F8,$66,$A7,$7C,$55
   10268   00:944F  1C E6 56 F8 66 A7 7C 55 
   10269   00:9457                      				DB $9A,$50,$FE,$02,$50,$50,$60,$C0
   10269   00:9457  9A 50 FE 02 50 50 60 C0 
   10270   00:945F                      				; color 4
   10271   00:945F                      				DB $C1,$45,$06,$15,$00,$3F,$05,$05
   10271   00:945F  C1 45 06 15 00 3F 05 05 
   10272   00:9467                      				DB $01,$00,$00,$00,$00,$00,$00,$00
   10272   00:9467  01 00 00 00 00 00 00 00 
   10273   00:946F                      				DB $83,$A2,$60,$A8,$00,$FC,$A0,$A0
   10273   00:946F  83 A2 60 A8 00 FC A0 A0 
   10274   00:9477                      				DB $80,$00,$00,$00,$00,$00,$00,$00
   10274   00:9477  80 00 00 00 00 00 00 00 
   10275   00:947F                      				; color 9
   10276   00:947F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10276   00:947F  00 00 00 00 00 00 00 00 
   10277   00:9487                      				DB $00,$00,$00,$18,$15,$00,$19,$1A
   10277   00:9487  00 00 00 18 15 00 19 1A 
   10278   00:948F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10278   00:948F  00 00 00 00 00 00 00 00 
   10279   00:9497                      				DB $00,$00,$00,$18,$A8,$00,$98,$58				
   10279   00:9497  00 00 00 18 A8 00 98 58 
   10280   00:949F                      				;SIGUE BOMBERO SUBIENDO 1
   10281   00:949F                      				; color 13
   10282   00:949F                      sprites4:		DB $10,$15,$05,$00,$0C,$00,$00,$00
   10282   00:949F  10 15 05 00 0C 00 00 00 
   10283   00:94A7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10283   00:94A7  00 00 00 00 00 00 00 00 
   10284   00:94AF                      				DB $0C,$A0,$A0,$10,$00,$00,$00,$00
   10284   00:94AF  0C A0 A0 10 00 00 00 00 
   10285   00:94B7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10285   00:94B7  00 00 00 00 00 00 00 00 
   10286   00:94BF                      				; 
   10287   00:94BF                      				; --- BOMBERO SUBIENDO 2
   10288   00:94BF                      				; color 1
   10289   00:94BF                      				DB $07,$0C,$37,$54,$54,$54,$2D,$3A
   10289   00:94BF  07 0C 37 54 54 54 2D 3A 
   10290   00:94C7                      				DB $4F,$7f,$4F,$3A,$1A,$17,$1E,$00
   10290   00:94C7  4F 7F 4F 3A 1A 17 1E 00 
   10291   00:94CF                      				DB $E0,$30,$EC,$2A,$2A,$2A,$B4,$58
   10291   00:94CF  E0 30 EC 2A 2A 2A B4 58 
   10292   00:94D7                      				DB $F0,$f8,$F4,$54,$58,$F0,$48,$78
   10292   00:94D7  F0 F8 F4 54 58 F0 48 78 
   10293   00:94DF                      				; color 9
   10294   00:94DF                      				DB $00,$00,$00,$00,$00,$00,$00,$03
   10294   00:94DF  00 00 00 00 00 00 00 03 
   10295   00:94E7                      				DB $08,$2B,$2B,$2B,$12,$05,$00,$00
   10295   00:94E7  08 2B 2B 2B 12 05 00 00 
   10296   00:94EF                      				DB $00,$00,$00,$00,$00,$00,$00,$C0
   10296   00:94EF  00 00 00 00 00 00 00 C0 
   10297   00:94F7                      				DB $10,$D4,$D4,$D4,$48,$A0,$00,$00
   10297   00:94F7  10 D4 D4 D4 48 A0 00 00 
   10298   00:94FF                      				; color 11
   10299   00:94FF                      				DB $30,$05,$05,$08,$00,$00,$00,$00
   10299   00:94FF  30 05 05 08 00 00 00 00 
   10300   00:9507                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10300   00:9507  00 00 00 00 00 00 00 00 
   10301   00:950F                      				DB $08,$A8,$A0,$00,$30,$00,$00,$00
   10301   00:950F  08 A8 A0 00 30 00 00 00 
   10302   00:9517                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10302   00:9517  00 00 00 00 00 00 00 00 
   10303   00:951F                      				
   10304   00:951F                      				; --- CHORRO IZQUIERDA
   10305   00:951F                      				; color 9
   10306   00:951F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10306   00:951F  00 00 00 00 00 00 00 00 
   10307   00:9527                      				DB $00,$00,$10,$11,$02,$00,$00,$00
   10307   00:9527  00 00 10 11 02 00 00 00 
   10308   00:952F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10308   00:952F  00 00 00 00 00 00 00 00 
   10309   00:9537                      				DB $00,$00,$00,$40,$20,$00,$18,$00
   10309   00:9537  00 00 00 40 20 00 18 00 
   10310   00:953F                      				; color 15
   10311   00:953F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10311   00:953F  00 00 00 00 00 00 00 00 
   10312   00:9547                      				DB $00,$01,$07,$0E,$0C,$1F,$7F,$FF
   10312   00:9547  00 01 07 0E 0C 1F 7F FF 
   10313   00:954F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10313   00:954F  00 00 00 00 00 00 00 00 
   10314   00:9557                      				DB $00,$FC,$FF,$BC,$90,$F0,$E0,$F8
   10314   00:9557  00 FC FF BC 90 F0 E0 F8 
   10315   00:955F                      				; 
   10316   00:955F                      				; --- CHORRO DERECHA
   10317   00:955F                      				; color 9
   10318   00:955F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10318   00:955F  00 00 00 00 00 00 00 00 
   10319   00:9567                      				DB $00,$00,$00,$02,$04,$00,$18,$00
   10319   00:9567  00 00 00 02 04 00 18 00 
   10320   00:956F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10320   00:956F  00 00 00 00 00 00 00 00 
   10321   00:9577                      				DB $00,$00,$08,$88,$40,$00,$00,$00
   10321   00:9577  00 00 08 88 40 00 00 00 
   10322   00:957F                      				; color 15
   10323   00:957F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10323   00:957F  00 00 00 00 00 00 00 00 
   10324   00:9587                      				DB $00,$3F,$FF,$3D,$09,$0F,$07,$1F
   10324   00:9587  00 3F FF 3D 09 0F 07 1F 
   10325   00:958F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10325   00:958F  00 00 00 00 00 00 00 00 
   10326   00:9597                      				DB $00,$80,$E0,$70,$30,$F8,$FE,$FF
   10326   00:9597  00 80 E0 70 30 F8 FE FF 
   10327   00:959F                      				; --- prota quieto derecha bomba
   10328   00:959F                      				; color 1
   10329   00:959F                      sprites5:		DB $00,$0F,$1F,$5F,$B7,$4E,$A6,$87
   10329   00:959F  00 0F 1F 5F B7 4E A6 87 
   10330   00:95A7                      				DB $4F,$3F,$44,$34,$0F,$08,$03,$00
   10330   00:95A7  4F 3F 44 34 0F 08 03 00 
   10331   00:95AF                      				DB $00,$F8,$FC,$CC,$28,$28,$04,$04
   10331   00:95AF  00 F8 FC CC 28 28 04 04 
   10332   00:95B7                      				DB $08,$F0,$D0,$28,$F8,$48,$E0,$00
   10332   00:95B7  08 F0 D0 28 F8 48 E0 00 
   10333   00:95BF                      				; color 2
   10334   00:95BF                      				DB $00,$3B,$0B,$00,$07,$00,$00,$00
   10334   00:95BF  00 3B 0B 00 07 00 00 00 
   10335   00:95C7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10335   00:95C7  00 00 00 00 00 00 00 00 
   10336   00:95CF                      				DB $00,$20,$D0,$00,$B0,$00,$00,$00
   10336   00:95CF  00 20 D0 00 B0 00 00 00 
   10337   00:95D7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10337   00:95D7  00 00 00 00 00 00 00 00 
   10338   00:95DF                      				; color 9
   10339   00:95DF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10339   00:95DF  00 00 00 00 00 00 00 00 
   10340   00:95E7                      				DB $00,$00,$00,$48,$31,$59,$78,$30
   10340   00:95E7  00 00 00 48 31 59 78 30 
   10341   00:95EF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10341   00:95EF  00 00 00 00 00 00 00 00 
   10342   00:95F7                      				DB $00,$00,$30,$D0,$D0,$F8,$F8,$F0
   10342   00:95F7  00 00 30 D0 D0 F8 F8 F0 
   10343   00:95FF                      								; 
   10344   00:95FF                      				; --- prota andando derecha bomba
   10345   00:95FF                      				; color 1
   10346   00:95FF                      sprites6:		DB $07,$0F,$2F,$5B,$27,$53,$43,$27
   10346   00:95FF  07 0F 2F 5B 27 53 43 27 
   10347   00:9607                      				DB $1F,$22,$12,$0F,$08,$18,$1E,$00
   10347   00:9607  1F 22 12 0F 08 18 1E 00 
   10348   00:960F                      				DB $F8,$FC,$8C,$58,$58,$04,$84,$88
   10348   00:960F  F8 FC 8C 58 58 04 84 88 
   10349   00:9617                      				DB $F8,$D8,$24,$FC,$66,$AE,$1C,$00
   10349   00:9617  F8 D8 24 FC 66 AE 1C 00 
   10350   00:961F                      				; color 5
   10351   00:961F                      				DB $1D,$0D,$00,$07,$07,$00,$00,$00
   10351   00:961F  1D 0D 00 07 07 00 00 00 
   10352   00:9627                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10352   00:9627  00 00 00 00 00 00 00 00 
   10353   00:962F                      				DB $20,$D8,$00,$98,$10,$00,$00,$00
   10353   00:962F  20 D8 00 98 10 00 00 00 
   10354   00:9637                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10354   00:9637  00 00 00 00 00 00 00 00 
   10355   00:963F                      				; color 9
   10356   00:963F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10356   00:963F  00 00 00 00 00 00 00 00 
   10357   00:9647                      				DB $00,$00,$24,$18,$2C,$3C,$18,$00
   10357   00:9647  00 00 24 18 2C 3C 18 00 
   10358   00:964F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10358   00:964F  00 00 00 00 00 00 00 00 
   10359   00:9657                      				DB $00,$70,$A0,$A0,$F8,$78,$70,$00
   10359   00:9657  00 70 A0 A0 F8 78 70 00 
   10360   00:965F                      				; 
   10361   00:965F                      				; --- prota quieto izquierda bomba
   10362   00:965F                      				; color 1
   10363   00:965F                      sprites7:		DB $00,$1F,$3F,$33,$14,$14,$20,$20
   10363   00:965F  00 1F 3F 33 14 14 20 20 
   10364   00:9667                      				DB $10,$0F,$0B,$14,$1F,$12,$07,$00
   10364   00:9667  10 0F 0B 14 1F 12 07 00 
   10365   00:966F                      				DB $00,$F0,$F8,$FA,$ED,$72,$65,$E1
   10365   00:966F  00 F0 F8 FA ED 72 65 E1 
   10366   00:9677                      				DB $F2,$FC,$22,$2C,$F0,$10,$C0,$00
   10366   00:9677  F2 FC 22 2C F0 10 C0 00 
   10367   00:967F                      				; color 2
   10368   00:967F                      				DB $00,$04,$0B,$00,$0D,$00,$00,$00
   10368   00:967F  00 04 0B 00 0D 00 00 00 
   10369   00:9687                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10369   00:9687  00 00 00 00 00 00 00 00 
   10370   00:968F                      				DB $00,$DC,$D0,$00,$E0,$00,$00,$00
   10370   00:968F  00 DC D0 00 E0 00 00 00 
   10371   00:9697                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10371   00:9697  00 00 00 00 00 00 00 00 
   10372   00:969F                      				; color 9
   10373   00:969F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10373   00:969F  00 00 00 00 00 00 00 00 
   10374   00:96A7                      				DB $00,$00,$0C,$0B,$0B,$1F,$1F,$0F
   10374   00:96A7  00 00 0C 0B 0B 1F 1F 0F 
   10375   00:96AF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10375   00:96AF  00 00 00 00 00 00 00 00 
   10376   00:96B7                      				DB $00,$00,$00,$12,$8C,$9A,$1E,$0C
   10376   00:96B7  00 00 00 12 8C 9A 1E 0C 
   10377   00:96BF                      				; 
   10378   00:96BF                      				; --- prota andando izquierda bomba
   10379   00:96BF                      				; color 1
   10380   00:96BF                      sprites8:		DB $1F,$3F,$31,$1A,$1A,$20,$21,$11
   10380   00:96BF  1F 3F 31 1A 1A 20 21 11 
   10381   00:96C7                      				DB $1F,$1B,$24,$3F,$66,$75,$38,$00
   10381   00:96C7  1F 1B 24 3F 66 75 38 00 
   10382   00:96CF                      				DB $E0,$F0,$F4,$DA,$E4,$CA,$C2,$E4
   10382   00:96CF  E0 F0 F4 DA E4 CA C2 E4 
   10383   00:96D7                      				DB $F8,$44,$48,$F0,$10,$18,$78,$00
   10383   00:96D7  F8 44 48 F0 10 18 78 00 
   10384   00:96DF                      				; color 5
   10385   00:96DF                      				DB $04,$1B,$00,$19,$08,$00,$00,$00
   10385   00:96DF  04 1B 00 19 08 00 00 00 
   10386   00:96E7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10386   00:96E7  00 00 00 00 00 00 00 00 
   10387   00:96EF                      				DB $B8,$B0,$00,$E0,$E0,$00,$00,$00
   10387   00:96EF  B8 B0 00 E0 E0 00 00 00 
   10388   00:96F7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10388   00:96F7  00 00 00 00 00 00 00 00 
   10389   00:96FF                      				; color 9
   10390   00:96FF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10390   00:96FF  00 00 00 00 00 00 00 00 
   10391   00:9707                      				DB $00,$0E,$05,$05,$1F,$1E,$0E,$00
   10391   00:9707  00 0E 05 05 1F 1E 0E 00 
   10392   00:970F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10392   00:970F  00 00 00 00 00 00 00 00 
   10393   00:9717                      				DB $00,$00,$24,$18,$34,$3C,$18,$00
   10393   00:9717  00 00 24 18 34 3C 18 00 
   10394   00:971F                      				;
   10395   00:971F                      sprites17:		; --- altern prota subir bomba uno
   10396   00:971F                      				; color 1
   10397   00:971F                      				DB $00,$07,$BF,$4F,$97,$87,$4F,$9F
   10397   00:971F  00 07 BF 4F 97 87 4F 9F 
   10398   00:9727                      				DB $7F,$5D,$4B,$28,$1C,$17,$10,$00
   10398   00:9727  7F 5D 4B 28 1C 17 10 00 
   10399   00:972F                      				DB $00,$E0,$F0,$F8,$F8,$F8,$F8,$F0
   10399   00:972F  00 E0 F0 F8 F8 F8 F8 F0 
   10400   00:9737                      				DB $F8,$FC,$D4,$14,$38,$E8,$08,$70
   10400   00:9737  F8 FC D4 14 38 E8 08 70 
   10401   00:973F                      				; color 2
   10402   00:973F                      				DB $22,$34,$17,$03,$08,$0F,$00,$00
   10402   00:973F  22 34 17 03 08 0F 00 00 
   10403   00:9747                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10403   00:9747  00 00 00 00 00 00 00 00 
   10404   00:974F                      				DB $00,$28,$E8,$C0,$10,$F0,$00,$00
   10404   00:974F  00 28 E8 C0 10 F0 00 00 
   10405   00:9757                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10405   00:9757  00 00 00 00 00 00 00 00 
   10406   00:975F                      				; color 9
   10407   00:975F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10407   00:975F  00 00 00 00 00 00 00 00 
   10408   00:9767                      				DB $00,$00,$30,$68,$78,$30,$60,$00
   10408   00:9767  00 00 30 68 78 30 60 00 
   10409   00:976F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10409   00:976F  00 00 00 00 00 00 00 00 
   10410   00:9777                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10410   00:9777  00 00 00 00 00 00 00 00 
   10411   00:977F                      				; 
   10412   00:977F                      				; --- altern prota subir bomba dos
   10413   00:977F                      				; color 1
   10414   00:977F                      				DB $00,$03,$07,$BF,$4F,$97,$87,$4F
   10414   00:977F  00 03 07 BF 4F 97 87 4F 
   10415   00:9787                      				DB $7F,$3D,$2B,$28,$1C,$17,$10,$0E
   10415   00:9787  7F 3D 2B 28 1C 17 10 0E 
   10416   00:978F                      				DB $00,$E0,$F0,$F8,$F8,$FC,$FA,$F2
   10416   00:978F  00 E0 F0 F8 F8 FC FA F2 
   10417   00:9797                      				DB $FE,$FA,$D2,$14,$38,$E8,$08,$00
   10417   00:9797  FE FA D2 14 38 E8 08 00 
   10418   00:979F                      				; color 2
   10419   00:979F                      				DB $02,$14,$17,$03,$08,$0F,$00,$00
   10419   00:979F  02 14 17 03 08 0F 00 00 
   10420   00:97A7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10420   00:97A7  00 00 00 00 00 00 00 00 
   10421   00:97AF                      				DB $04,$2C,$E8,$C0,$10,$F0,$00,$00
   10421   00:97AF  04 2C E8 C0 10 F0 00 00 
   10422   00:97B7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10422   00:97B7  00 00 00 00 00 00 00 00 
   10423   00:97BF                      				; color 9
   10424   00:97BF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10424   00:97BF  00 00 00 00 00 00 00 00 
   10425   00:97C7                      				DB $00,$00,$00,$30,$68,$78,$30,$00
   10425   00:97C7  00 00 00 30 68 78 30 00 
   10426   00:97CF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10426   00:97CF  00 00 00 00 00 00 00 00 
   10427   00:97D7                      				DB $00,$00,$00,$00,$00,$04,$0C,$00
   10427   00:97D7  00 00 00 00 00 04 0C 00 
   10428   00:97DF                      				; 
   10429   00:97DF                      				; --- prota quieto derecha cuchillo
   10430   00:97DF                      				; color 1
   10431   00:97DF                      sprites9:		DB $00,$07,$0F,$17,$23,$23,$23,$7F
   10431   00:97DF  00 07 0F 17 23 23 23 7F 
   10432   00:97E7                      				DB $4B,$3F,$22,$24,$1F,$08,$03,$00
   10432   00:97E7  4B 3F 22 24 1F 08 03 00 
   10433   00:97EF                      				DB $00,$F8,$FC,$CC,$A8,$28,$04,$84
   10433   00:97EF  00 F8 FC CC A8 28 04 84 
   10434   00:97F7                      				DB $88,$F0,$D0,$28,$F8,$48,$E0,$00
   10434   00:97F7  88 F0 D0 28 F8 48 E0 00 
   10435   00:97FF                      				; color 5
   10436   00:97FF                      				DB $00,$1D,$1B,$00,$07,$00,$00,$00
   10436   00:97FF  00 1D 1B 00 07 00 00 00 
   10437   00:9807                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10437   00:9807  00 00 00 00 00 00 00 00 
   10438   00:980F                      				DB $00,$20,$D0,$00,$B0,$00,$00,$00
   10438   00:980F  00 20 D0 00 B0 00 00 00 
   10439   00:9817                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10439   00:9817  00 00 00 00 00 00 00 00 
   10440   00:981F                      				; color 9
   10441   00:981F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10441   00:981F  00 00 00 00 00 00 00 00 
   10442   00:9827                      				DB $00,$00,$08,$1C,$1C,$1C,$00,$34
   10442   00:9827  00 00 08 1C 1C 1C 00 34 
   10443   00:982F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10443   00:982F  00 00 00 00 00 00 00 00 
   10444   00:9837                      				DB $00,$00,$30,$50,$D0,$F8,$78,$70
   10444   00:9837  00 00 30 50 D0 F8 78 70 
   10445   00:983F                      				; 
   10446   00:983F                      				; --- prota andando derecha cuchillo
   10447   00:983F                      				; color 1
   10448   00:983F                      sprites10:		DB $07,$0F,$17,$23,$23,$23,$7F,$45
   10448   00:983F  07 0F 17 23 23 23 7F 45 
   10449   00:9847                      				DB $3F,$22,$24,$1F,$08,$18,$1E,$00
   10449   00:9847  3F 22 24 1F 08 18 1E 00 
   10450   00:984F                      				DB $F8,$FC,$8C,$58,$58,$04,$84,$88
   10450   00:984F  F8 FC 8C 58 58 04 84 88 
   10451   00:9857                      				DB $F8,$C8,$44,$FC,$66,$AE,$1C,$00
   10451   00:9857  F8 C8 44 FC 66 AE 1C 00 
   10452   00:985F                      				; color 5
   10453   00:985F                      				DB $1D,$1B,$00,$07,$07,$00,$00,$00
   10453   00:985F  1D 1B 00 07 07 00 00 00 
   10454   00:9867                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10454   00:9867  00 00 00 00 00 00 00 00 
   10455   00:986F                      				DB $30,$B8,$00,$98,$50,$00,$00,$00
   10455   00:986F  30 B8 00 98 50 00 00 00 
   10456   00:9877                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10456   00:9877  00 00 00 00 00 00 00 00 
   10457   00:987F                      				; color 9
   10458   00:987F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10458   00:987F  00 00 00 00 00 00 00 00 
   10459   00:9887                      				DB $00,$08,$1C,$1C,$1C,$00,$3A,$00
   10459   00:9887  00 08 1C 1C 1C 00 3A 00 
   10460   00:988F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10460   00:988F  00 00 00 00 00 00 00 00 
   10461   00:9897                      				DB $00,$70,$A0,$A0,$F8,$78,$70,$00
   10461   00:9897  00 70 A0 A0 F8 78 70 00 
   10462   00:989F                      				; 
   10463   00:989F                      				; --- prota quieto izquierda cuchillo
   10464   00:989F                      				; color 1
   10465   00:989F                      sprites11:		DB $00,$1F,$3F,$33,$15,$14,$20,$21
   10465   00:989F  00 1F 3F 33 15 14 20 21 
   10466   00:98A7                      				DB $11,$0F,$0B,$14,$1F,$12,$07,$00
   10466   00:98A7  11 0F 0B 14 1F 12 07 00 
   10467   00:98AF                      				DB $00,$E0,$F0,$E8,$C4,$C4,$C4,$FE
   10467   00:98AF  00 E0 F0 E8 C4 C4 C4 FE 
   10468   00:98B7                      				DB $D2,$FC,$44,$24,$F8,$10,$C0,$00
   10468   00:98B7  D2 FC 44 24 F8 10 C0 00 
   10469   00:98BF                      								; color 5
   10470   00:98BF                      				DB $00,$04,$0B,$00,$0D,$00,$00,$00
   10470   00:98BF  00 04 0B 00 0D 00 00 00 
   10471   00:98C7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10471   00:98C7  00 00 00 00 00 00 00 00 
   10472   00:98CF                      				DB $00,$B8,$D8,$00,$E0,$00,$00,$00
   10472   00:98CF  00 B8 D8 00 E0 00 00 00 
   10473   00:98D7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10473   00:98D7  00 00 00 00 00 00 00 00 
   10474   00:98DF                      				; color 9
   10475   00:98DF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10475   00:98DF  00 00 00 00 00 00 00 00 
   10476   00:98E7                      				DB $00,$00,$0C,$0A,$0B,$1F,$1E,$0E
   10476   00:98E7  00 00 0C 0A 0B 1F 1E 0E 
   10477   00:98EF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10477   00:98EF  00 00 00 00 00 00 00 00 
   10478   00:98F7                      				DB $00,$00,$10,$38,$38,$38,$00,$2C
   10478   00:98F7  00 00 10 38 38 38 00 2C 
   10479   00:98FF                      				; 
   10480   00:98FF                      				; --- prota andando izquierda cuchillo
   10481   00:98FF                      				; color 1
   10482   00:98FF                      sprites12:		DB $1F,$3F,$31,$1A,$1A,$20,$21,$11
   10482   00:98FF  1F 3F 31 1A 1A 20 21 11 
   10483   00:9907                      				DB $1F,$13,$22,$3F,$66,$75,$38,$00
   10483   00:9907  1F 13 22 3F 66 75 38 00 
   10484   00:990F                      				DB $E0,$F0,$E8,$C4,$C4,$C4,$FE,$A2
   10484   00:990F  E0 F0 E8 C4 C4 C4 FE A2 
   10485   00:9917                      				DB $FC,$44,$24,$F8,$10,$18,$78,$00
   10485   00:9917  FC 44 24 F8 10 18 78 00 
   10486   00:991F                      								; color 5
   10487   00:991F                      				DB $0C,$1D,$00,$19,$0A,$00,$00,$00
   10487   00:991F  0C 1D 00 19 0A 00 00 00 
   10488   00:9927                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10488   00:9927  00 00 00 00 00 00 00 00 
   10489   00:992F                      				DB $B8,$D8,$00,$E0,$E0,$00,$00,$00
   10489   00:992F  B8 D8 00 E0 E0 00 00 00 
   10490   00:9937                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10490   00:9937  00 00 00 00 00 00 00 00 
   10491   00:993F                      				; color 9
   10492   00:993F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10492   00:993F  00 00 00 00 00 00 00 00 
   10493   00:9947                      				DB $00,$0E,$05,$05,$1F,$1E,$0E,$00
   10493   00:9947  00 0E 05 05 1F 1E 0E 00 
   10494   00:994F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10494   00:994F  00 00 00 00 00 00 00 00 
   10495   00:9957                      				DB $00,$10,$38,$38,$38,$00,$5C,$00
   10495   00:9957  00 10 38 38 38 00 5C 00 
   10496   00:995F                      sprites18:		; --- altern prota subir cuchillo uno
   10497   00:995F                      				; color 1
   10498   00:995F                      				DB $00,$27,$5F,$9F,$9F,$9F,$FF,$AF
   10498   00:995F  00 27 5F 9F 9F 9F FF AF 
   10499   00:9967                      				DB $7F,$5D,$4B,$28,$1C,$17,$10,$00
   10499   00:9967  7F 5D 4B 28 1C 17 10 00 
   10500   00:996F                      				DB $00,$E0,$F0,$F8,$F8,$F8,$F8,$F0
   10500   00:996F  00 E0 F0 F8 F8 F8 F8 F0 
   10501   00:9977                      				DB $F8,$FC,$D4,$14,$38,$E8,$08,$70
   10501   00:9977  F8 FC D4 14 38 E8 08 70 
   10502   00:997F                      				; color 2
   10503   00:997F                      				DB $22,$34,$17,$03,$08,$0F,$00,$00
   10503   00:997F  22 34 17 03 08 0F 00 00 
   10504   00:9987                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10504   00:9987  00 00 00 00 00 00 00 00 
   10505   00:998F                      				DB $00,$28,$E8,$C0,$10,$F0,$00,$00
   10505   00:998F  00 28 E8 C0 10 F0 00 00 
   10506   00:9997                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10506   00:9997  00 00 00 00 00 00 00 00 
   10507   00:999F                      				; color 9
   10508   00:999F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10508   00:999F  00 00 00 00 00 00 00 00 
   10509   00:99A7                      				DB $00,$20,$60,$60,$60,$00,$50,$00
   10509   00:99A7  00 20 60 60 60 00 50 00 
   10510   00:99AF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10510   00:99AF  00 00 00 00 00 00 00 00 
   10511   00:99B7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10511   00:99B7  00 00 00 00 00 00 00 00 
   10512   00:99BF                      				; 
   10513   00:99BF                      				; --- altern prota subir cuchillo dos
   10514   00:99BF                      				; color 1
   10515   00:99BF                      				DB $00,$07,$0F,$1F,$3F,$5F,$5F,$5F
   10515   00:99BF  00 07 0F 1F 3F 5F 5F 5F 
   10516   00:99C7                      				DB $7F,$7D,$2B,$28,$1C,$17,$10,$0E
   10516   00:99C7  7F 7D 2B 28 1C 17 10 0E 
   10517   00:99CF                      				DB $00,$E0,$F0,$F8,$F8,$FC,$FA,$F2
   10517   00:99CF  00 E0 F0 F8 F8 FC FA F2 
   10518   00:99D7                      				DB $FE,$FA,$D2,$14,$38,$E8,$08,$00
   10518   00:99D7  FE FA D2 14 38 E8 08 00 
   10519   00:99DF                      				; color 2
   10520   00:99DF                      				DB $02,$14,$17,$03,$08,$0F,$00,$00
   10520   00:99DF  02 14 17 03 08 0F 00 00 
   10521   00:99E7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10521   00:99E7  00 00 00 00 00 00 00 00 
   10522   00:99EF                      				DB $04,$2C,$E8,$C0,$10,$F0,$00,$00
   10522   00:99EF  04 2C E8 C0 10 F0 00 00 
   10523   00:99F7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10523   00:99F7  00 00 00 00 00 00 00 00 
   10524   00:99FF                      				; color 9
   10525   00:99FF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10525   00:99FF  00 00 00 00 00 00 00 00 
   10526   00:9A07                      				DB $00,$00,$00,$00,$20,$20,$20,$00
   10526   00:9A07  00 00 00 00 20 20 20 00 
   10527   00:9A0F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10527   00:9A0F  00 00 00 00 00 00 00 00 
   10528   00:9A17                      				DB $00,$00,$00,$00,$00,$04,$0C,$00
   10528   00:9A17  00 00 00 00 00 04 0C 00 
   10529   00:9A1F                      			
   10530   00:9A1F                      				; --- petiso quieto
   10531   00:9A1F                      				; color 1
   10532   00:9A1F                      sprites_pet:	DB $01,$02,$04,$04,$0F,$10,$10,$0F
   10532   00:9A1F  01 02 04 04 0F 10 10 0F 
   10533   00:9A27                      				DB $08,$10,$10,$10,$14,$0C,$13,$0C
   10533   00:9A27  08 10 10 10 14 0C 13 0C 
   10534   00:9A2F                      				DB $C0,$30,$08,$08,$08,$90,$B0,$18
   10534   00:9A2F  C0 30 08 08 08 90 B0 18 
   10535   00:9A37                      				DB $08,$44,$2C,$14,$04,$38,$E4,$38
   10535   00:9A37  08 44 2C 14 04 38 E4 38 
   10536   00:9A3F                      				; color 4
   10537   00:9A3F                      				DB $00,$00,$00,$02,$00,$00,$00,$00
   10537   00:9A3F  00 00 00 02 00 00 00 00 
   10538   00:9A47                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10538   00:9A47  00 00 00 00 00 00 00 00 
   10539   00:9A4F                      				DB $00,$00,$00,$80,$00,$00,$00,$00
   10539   00:9A4F  00 00 00 80 00 00 00 00 
   10540   00:9A57                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10540   00:9A57  00 00 00 00 00 00 00 00 
   10541   00:9A5F                      				; color 10
   10542   00:9A5F                      				DB $00,$00,$03,$01,$00,$00,$0E,$00
   10542   00:9A5F  00 00 03 01 00 00 0E 00 
   10543   00:9A67                      				DB $07,$0F,$0F,$0F,$0B,$03,$08,$00
   10543   00:9A67  07 0F 0F 0F 0B 03 08 00 
   10544   00:9A6F                      				DB $00,$00,$C0,$60,$E0,$60,$40,$C0
   10544   00:9A6F  00 00 C0 60 E0 60 40 C0 
   10545   00:9A77                      				DB $E0,$B0,$C0,$E0,$E0,$00,$10,$00
   10545   00:9A77  E0 B0 C0 E0 E0 00 10 00 
   10546   00:9A7F                      				; color 11
   10547   00:9A7F                      				DB $00,$01,$00,$00,$00,$0F,$01,$00
   10547   00:9A7F  00 01 00 00 00 0F 01 00 
   10548   00:9A87                      				DB $00,$00,$00,$00,$00,$00,$04,$00
   10548   00:9A87  00 00 00 00 00 00 04 00 
   10549   00:9A8F                      				DB $00,$C0,$30,$10,$10,$00,$00,$20
   10549   00:9A8F  00 C0 30 10 10 00 00 20 
   10550   00:9A97                      				DB $10,$08,$10,$08,$18,$C0,$08,$00
   10550   00:9A97  10 08 10 08 18 C0 08 00 
   10551   00:9A9F                      				; 
   10552   00:9A9F                      				; --- petiso salto
   10553   00:9A9F                      				; color 1
   10554   00:9A9F                      				DB $01,$02,$04,$04,$0F,$10,$10,$0F
   10554   00:9A9F  01 02 04 04 0F 10 10 0F 
   10555   00:9AA7                      				DB $08,$10,$10,$30,$48,$3C,$07,$00
   10555   00:9AA7  08 10 10 30 48 3C 07 00 
   10556   00:9AAF                      				DB $C0,$30,$08,$08,$08,$96,$B9,$02
   10556   00:9AAF  C0 30 08 08 08 96 B9 02 
   10557   00:9AB7                      				DB $04,$1C,$04,$0C,$12,$3C,$C0,$00
   10557   00:9AB7  04 1C 04 0C 12 3C C0 00 
   10558   00:9ABF                      				; color 4
   10559   00:9ABF                      				DB $00,$00,$00,$02,$00,$00,$00,$00
   10559   00:9ABF  00 00 00 02 00 00 00 00 
   10560   00:9AC7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10560   00:9AC7  00 00 00 00 00 00 00 00 
   10561   00:9ACF                      				DB $00,$00,$00,$80,$00,$00,$00,$00
   10561   00:9ACF  00 00 00 80 00 00 00 00 
   10562   00:9AD7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10562   00:9AD7  00 00 00 00 00 00 00 00 
   10563   00:9ADF                      				; color 10
   10564   00:9ADF                      				DB $00,$00,$03,$01,$00,$08,$0E,$00
   10564   00:9ADF  00 00 03 01 00 08 0E 00 
   10565   00:9AE7                      				DB $07,$0F,$0F,$0F,$27,$03,$00,$00
   10565   00:9AE7  07 0F 0F 0F 27 03 00 00 
   10566   00:9AEF                      				DB $00,$00,$C0,$60,$E0,$60,$44,$F8
   10566   00:9AEF  00 00 C0 60 E0 60 44 F8 
   10567   00:9AF7                      				DB $F0,$E0,$F0,$E0,$C8,$00,$00,$00
   10567   00:9AF7  F0 E0 F0 E0 C8 00 00 00 
   10568   00:9AFF                      				; color 11
   10569   00:9AFF                      				DB $00,$01,$00,$00,$00,$07,$01,$00
   10569   00:9AFF  00 01 00 00 00 07 01 00 
   10570   00:9B07                      				DB $00,$00,$00,$00,$10,$00,$00,$00
   10570   00:9B07  00 00 00 00 10 00 00 00 
   10571   00:9B0F                      				DB $00,$C0,$30,$10,$10,$00,$02,$04
   10571   00:9B0F  00 C0 30 10 10 00 02 04 
   10572   00:9B17                      				DB $08,$00,$08,$10,$24,$C0,$00,$00
   10572   00:9B17  08 00 08 10 24 C0 00 00 
   10573   00:9B1F                      				; --- exp 1
   10574   00:9B1F                      				; color 1
   10575   00:9B1F                      sprites_exp:	DB $78,$84,$9C,$AA,$99,$A4,$9A,$84
   10575   00:9B1F  78 84 9C AA 99 A4 9A 84 
   10576   00:9B27                      				DB $79,$0A,$04,$00,$00,$00,$00,$00
   10576   00:9B27  79 0A 04 00 00 00 00 00 
   10577   00:9B2F                      				DB $1E,$21,$2D,$5D,$91,$2E,$68,$28
   10577   00:9B2F  1E 21 2D 5D 91 2E 68 28 
   10578   00:9B37                      				DB $90,$52,$25,$02,$00,$00,$00,$00
   10578   00:9B37  90 52 25 02 00 00 00 00 
   10579   00:9B3F                      				; color 6
   10580   00:9B3F                      				DB $00,$70,$60,$00,$44,$03,$61,$73
   10580   00:9B3F  00 70 60 00 44 03 61 73 
   10581   00:9B47                      				DB $04,$00,$00,$00,$00,$00,$00,$00
   10581   00:9B47  04 00 00 00 00 00 00 00 
   10582   00:9B4F                      				DB $00,$1C,$00,$00,$4C,$80,$00,$C0
   10582   00:9B4F  00 1C 00 00 4C 80 00 C0 
   10583   00:9B57                      				DB $40,$00,$02,$00,$00,$00,$00,$00
   10583   00:9B57  40 00 02 00 00 00 00 00 
   10584   00:9B5F                      				; color 9
   10585   00:9B5F                      				DB $00,$08,$00,$44,$22,$40,$00,$08
   10585   00:9B5F  00 08 00 44 22 40 00 08 
   10586   00:9B67                      				DB $02,$04,$00,$00,$00,$00,$00,$00
   10586   00:9B67  02 04 00 00 00 00 00 00 
   10587   00:9B6F                      				DB $00,$02,$12,$22,$22,$50,$90,$10
   10587   00:9B6F  00 02 12 22 22 50 90 10 
   10588   00:9B77                      				DB $20,$20,$00,$00,$00,$00,$00,$00
   10588   00:9B77  20 20 00 00 00 00 00 00 
   10589   00:9B7F                      				; --- exp 2
   10590   00:9B7F                      				; color 1
   10591   00:9B7F                      				DB $1C,$22,$2E,$24,$2D,$22,$2D,$22
   10591   00:9B7F  1C 22 2E 24 2D 22 2D 22 
   10592   00:9B87                      				DB $1D,$04,$02,$00,$00,$00,$00,$00
   10592   00:9B87  1D 04 02 00 00 00 00 00 
   10593   00:9B8F                      				DB $38,$44,$54,$34,$A4,$58,$50,$50
   10593   00:9B8F  38 44 54 34 A4 58 50 50 
   10594   00:9B97                      				DB $A0,$22,$45,$02,$00,$00,$00,$00
   10594   00:9B97  A0 22 45 02 00 00 00 00 
   10595   00:9B9F                      				; color 6
   10596   00:9B9F                      				DB $00,$18,$10,$00,$12,$01,$10,$19
   10596   00:9B9F  00 18 10 00 12 01 10 19 
   10597   00:9BA7                      				DB $02,$00,$00,$00,$00,$00,$00,$00
   10597   00:9BA7  02 00 00 00 00 00 00 00 
   10598   00:9BAF                      				DB $00,$30,$00,$00,$10,$80,$00,$80
   10598   00:9BAF  00 30 00 00 10 80 00 80 
   10599   00:9BB7                      				DB $00,$00,$02,$00,$00,$00,$00,$00
   10599   00:9BB7  00 00 02 00 00 00 00 00 
   10600   00:9BBF                      				; color 9
   10601   00:9BBF                      				DB $00,$04,$00,$12,$00,$10,$00,$04
   10601   00:9BBF  00 04 00 12 00 10 00 04 
   10602   00:9BC7                      				DB $00,$02,$00,$00,$00,$00,$00,$00
   10602   00:9BC7  00 02 00 00 00 00 00 00 
   10603   00:9BCF                      				DB $00,$08,$28,$48,$48,$20,$A0,$20
   10603   00:9BCF  00 08 28 48 48 20 A0 20 
   10604   00:9BD7                      				DB $40,$40,$00,$00,$00,$00,$00,$00
   10604   00:9BD7  40 40 00 00 00 00 00 00 
   10605   00:9BDF                      				; --- exp 3
   10606   00:9BDF                      				; color 1
   10607   00:9BDF                      				DB $01,$02,$02,$02,$02,$02,$02,$02
   10607   00:9BDF  01 02 02 02 02 02 02 02 
   10608   00:9BE7                      				DB $02,$02,$01,$00,$00,$00,$00,$00
   10608   00:9BE7  02 02 01 00 00 00 00 00 
   10609   00:9BEF                      				DB $80,$40,$40,$40,$40,$40,$40,$40
   10609   00:9BEF  80 40 40 40 40 40 40 40 
   10610   00:9BF7                      				DB $40,$42,$85,$02,$00,$00,$00,$00
   10610   00:9BF7  40 42 85 02 00 00 00 00 
   10611   00:9BFF                      				; color 6
   10612   00:9BFF                      				DB $00,$01,$01,$01,$01,$01,$01,$01
   10612   00:9BFF  00 01 01 01 01 01 01 01 
   10613   00:9C07                      				DB $01,$01,$00,$00,$00,$00,$00,$00
   10613   00:9C07  01 01 00 00 00 00 00 00 
   10614   00:9C0F                      				DB $00,$80,$00,$00,$00,$00,$00,$00
   10614   00:9C0F  00 80 00 00 00 00 00 00 
   10615   00:9C17                      				DB $00,$80,$02,$00,$00,$00,$00,$00
   10615   00:9C17  00 80 02 00 00 00 00 00 
   10616   00:9C1F                      				; color 9
   10617   00:9C1F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10617   00:9C1F  00 00 00 00 00 00 00 00 
   10618   00:9C27                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10618   00:9C27  00 00 00 00 00 00 00 00 
   10619   00:9C2F                      				DB $00,$00,$80,$80,$80,$80,$80,$80
   10619   00:9C2F  00 00 80 80 80 80 80 80 
   10620   00:9C37                      				DB $80,$00,$00,$00,$00,$00,$00,$00
   10620   00:9C37  80 00 00 00 00 00 00 00 
   10621   00:9C3F                      				; --- exp 4
   10622   00:9C3F                      				; color 1
   10623   00:9C3F                      				DB $1C,$22,$2A,$2C,$25,$1A,$0A,$0A
   10623   00:9C3F  1C 22 2A 2C 25 1A 0A 0A 
   10624   00:9C47                      				DB $05,$04,$02,$00,$00,$00,$00,$00
   10624   00:9C47  05 04 02 00 00 00 00 00 
   10625   00:9C4F                      				DB $38,$44,$74,$24,$B4,$44,$B4,$44
   10625   00:9C4F  38 44 74 24 B4 44 B4 44 
   10626   00:9C57                      				DB $B8,$22,$45,$02,$00,$00,$00,$00
   10626   00:9C57  B8 22 45 02 00 00 00 00 
   10627   00:9C5F                      				; color 6
   10628   00:9C5F                      				DB $00,$0C,$00,$00,$08,$01,$00,$01
   10628   00:9C5F  00 0C 00 00 08 01 00 01 
   10629   00:9C67                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10629   00:9C67  00 00 00 00 00 00 00 00 
   10630   00:9C6F                      				DB $00,$18,$08,$00,$48,$80,$08,$98
   10630   00:9C6F  00 18 08 00 48 80 08 98 
   10631   00:9C77                      				DB $40,$00,$02,$00,$00,$00,$00,$00
   10631   00:9C77  40 00 02 00 00 00 00 00 
   10632   00:9C7F                      				; color 9
   10633   00:9C7F                      				DB $00,$10,$14,$12,$12,$04,$05,$04
   10633   00:9C7F  00 10 14 12 12 04 05 04 
   10634   00:9C87                      				DB $02,$02,$00,$00,$00,$00,$00,$00
   10634   00:9C87  02 02 00 00 00 00 00 00 
   10635   00:9C8F                      				DB $00,$20,$00,$48,$00,$08,$00,$20
   10635   00:9C8F  00 20 00 48 00 08 00 20 
   10636   00:9C97                      				DB $00,$40,$00,$00,$00,$00,$00,$00
   10636   00:9C97  00 40 00 00 00 00 00 00 
   10637   00:9C9F                      				; --- exp 5
   10638   00:9C9F                      				; color 1
   10639   00:9C9F                      				DB $78,$84,$B4,$BA,$89,$74,$16,$14
   10639   00:9C9F  78 84 B4 BA 89 74 16 14 
   10640   00:9CA7                      				DB $09,$0A,$04,$00,$00,$00,$00,$00
   10640   00:9CA7  09 0A 04 00 00 00 00 00 
   10641   00:9CAF                      				DB $1E,$21,$39,$55,$99,$25,$59,$21
   10641   00:9CAF  1E 21 39 55 99 25 59 21 
   10642   00:9CB7                      				DB $9E,$52,$25,$02,$00,$00,$00,$00
   10642   00:9CB7  9E 52 25 02 00 00 00 00 
   10643   00:9CBF                      				; color 6
   10644   00:9CBF                      				DB $00,$38,$00,$00,$32,$01,$00,$03
   10644   00:9CBF  00 38 00 00 32 01 00 03 
   10645   00:9CC7                      				DB $02,$00,$00,$00,$00,$00,$00,$00
   10645   00:9CC7  02 00 00 00 00 00 00 00 
   10646   00:9CCF                      				DB $00,$0E,$06,$00,$22,$C0,$86,$CE
   10646   00:9CCF  00 0E 06 00 22 C0 86 CE 
   10647   00:9CD7                      				DB $20,$00,$02,$00,$00,$00,$00,$00
   10647   00:9CD7  20 00 02 00 00 00 00 00 
   10648   00:9CDF                      				; color 9
   10649   00:9CDF                      				DB $00,$40,$48,$44,$44,$0A,$09,$08
   10649   00:9CDF  00 40 48 44 44 0A 09 08 
   10650   00:9CE7                      				DB $04,$04,$00,$00,$00,$00,$00,$00
   10650   00:9CE7  04 04 00 00 00 00 00 00 
   10651   00:9CEF                      				DB $00,$10,$00,$22,$44,$02,$00,$10
   10651   00:9CEF  00 10 00 22 44 02 00 10 
   10652   00:9CF7                      				DB $40,$20,$00,$00,$00,$00,$00,$00
   10652   00:9CF7  40 20 00 00 00 00 00 00 
   10653   00:9CFF                      
   10654   00:9CFF                      sprites_bomb_a:	; --- bombero mano 1
   10655   00:9CFF                      				; color 1
   10656   00:9CFF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10656   00:9CFF  00 00 00 00 00 00 00 00 
   10657   00:9D07                      				DB $00,$00,$00,$00,$00,$00,$18,$24
   10657   00:9D07  00 00 00 00 00 00 18 24 
   10658   00:9D0F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10658   00:9D0F  00 00 00 00 00 00 00 00 
   10659   00:9D17                      				DB $60,$50,$C8,$88,$78,$48,$88,$90
   10659   00:9D17  60 50 C8 88 78 48 88 90 
   10660   00:9D1F                      				; color 9
   10661   00:9D1F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10661   00:9D1F  00 00 00 00 00 00 00 00 
   10662   00:9D27                      				DB $00,$00,$00,$00,$00,$00,$00,$18
   10662   00:9D27  00 00 00 00 00 00 00 18 
   10663   00:9D2F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10663   00:9D2F  00 00 00 00 00 00 00 00 
   10664   00:9D37                      				DB $00,$20,$30,$70,$00,$00,$00,$00
   10664   00:9D37  00 20 30 70 00 00 00 00 
   10665   00:9D3F                      				; color 11
   10666   00:9D3F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10666   00:9D3F  00 00 00 00 00 00 00 00 
   10667   00:9D47                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10667   00:9D47  00 00 00 00 00 00 00 00 
   10668   00:9D4F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10668   00:9D4F  00 00 00 00 00 00 00 00 
   10669   00:9D57                      				DB $00,$00,$00,$00,$00,$30,$70,$60
   10669   00:9D57  00 00 00 00 00 30 70 60 
   10670   00:9D5F                      				; 
   10671   00:9D5F                      				; --- bombero mano 2
   10672   00:9D5F                      				; color 1
   10673   00:9D5F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10673   00:9D5F  00 00 00 00 00 00 00 00 
   10674   00:9D67                      				DB $00,$00,$00,$00,$00,$00,$18,$24
   10674   00:9D67  00 00 00 00 00 00 18 24 
   10675   00:9D6F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10675   00:9D6F  00 00 00 00 00 00 00 00 
   10676   00:9D77                      				DB $00,$00,$00,$00,$00,$00,$60,$90
   10676   00:9D77  00 00 00 00 00 00 60 90 
   10677   00:9D7F                      				; color 9
   10678   00:9D7F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10678   00:9D7F  00 00 00 00 00 00 00 00 
   10679   00:9D87                      				DB $00,$00,$00,$00,$00,$00,$00,$18
   10679   00:9D87  00 00 00 00 00 00 00 18 
   10680   00:9D8F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10680   00:9D8F  00 00 00 00 00 00 00 00 
   10681   00:9D97                      				DB $00,$00,$00,$00,$00,$00,$00,$60
   10681   00:9D97  00 00 00 00 00 00 00 60 
   10682   00:9D9F                      				; color 13
   10683   00:9D9F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10683   00:9D9F  00 00 00 00 00 00 00 00 
   10684   00:9DA7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10684   00:9DA7  00 00 00 00 00 00 00 00 
   10685   00:9DAF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10685   00:9DAF  00 00 00 00 00 00 00 00 
   10686   00:9DB7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10686   00:9DB7  00 00 00 00 00 00 00 00 
   10687   00:9DBF                      				; 
   10688   00:9DBF                      				; --- bombero mano 3
   10689   00:9DBF                      				; color 1
   10690   00:9DBF                      				DB $00,$00,$00,$00,$01,$02,$06,$0A
   10690   00:9DBF  00 00 00 00 01 02 06 0A 
   10691   00:9DC7                      				DB $17,$2E,$3D,$2E,$1E,$13,$2E,$31
   10691   00:9DC7  17 2E 3D 2E 1E 13 2E 31 
   10692   00:9DCF                      				DB $00,$00,$00,$00,$C0,$20,$30,$28
   10692   00:9DCF  00 00 00 00 C0 20 30 28 
   10693   00:9DD7                      				DB $F4,$3A,$DE,$3A,$3C,$E4,$3A,$C6
   10693   00:9DD7  F4 3A DE 3A 3C E4 3A C6 
   10694   00:9DDF                      				; color 9
   10695   00:9DDF                      				DB $00,$00,$00,$00,$00,$01,$01,$05
   10695   00:9DDF  00 00 00 00 00 01 01 05 
   10696   00:9DE7                      				DB $08,$11,$02,$11,$01,$00,$00,$0E
   10696   00:9DE7  08 11 02 11 01 00 00 0E 
   10697   00:9DEF                      				DB $00,$00,$00,$00,$00,$C0,$C0,$D0
   10697   00:9DEF  00 00 00 00 00 C0 C0 D0 
   10698   00:9DF7                      				DB $08,$C4,$20,$C4,$C0,$00,$00,$38
   10698   00:9DF7  08 C4 20 C4 C0 00 00 38 
   10699   00:9DFF                      				; color 11
   10700   00:9DFF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10700   00:9DFF  00 00 00 00 00 00 00 00 
   10701   00:9E07                      				DB $00,$00,$00,$00,$00,$0C,$10,$00
   10701   00:9E07  00 00 00 00 00 0C 10 00 
   10702   00:9E0F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10702   00:9E0F  00 00 00 00 00 00 00 00 
   10703   00:9E17                      				DB $00,$00,$00,$00,$00,$18,$04,$00
   10703   00:9E17  00 00 00 00 00 18 04 00 
   10704   00:9E1F                      				; 
   10705   00:9E1F                      				; --- bombero mano 4
   10706   00:9E1F                      				; color 1
   10707   00:9E1F                      				DB $00,$00,$00,$00,$01,$02,$06,$0A
   10707   00:9E1F  00 00 00 00 01 02 06 0A 
   10708   00:9E27                      				DB $17,$2E,$3D,$2E,$1E,$13,$2E,$31
   10708   00:9E27  17 2E 3D 2E 1E 13 2E 31 
   10709   00:9E2F                      				DB $00,$00,$00,$00,$C0,$20,$30,$28
   10709   00:9E2F  00 00 00 00 C0 20 30 28 
   10710   00:9E37                      				DB $F4,$3A,$DE,$3A,$3C,$E4,$3A,$C6
   10710   00:9E37  F4 3A DE 3A 3C E4 3A C6 
   10711   00:9E3F                      				; color 9
   10712   00:9E3F                      				DB $00,$00,$00,$00,$00,$01,$01,$05
   10712   00:9E3F  00 00 00 00 00 01 01 05 
   10713   00:9E47                      				DB $08,$11,$02,$11,$01,$00,$00,$0E
   10713   00:9E47  08 11 02 11 01 00 00 0E 
   10714   00:9E4F                      				DB $00,$00,$00,$00,$00,$C0,$C0,$D0
   10714   00:9E4F  00 00 00 00 00 C0 C0 D0 
   10715   00:9E57                      				DB $08,$C4,$20,$C4,$C0,$00,$00,$38
   10715   00:9E57  08 C4 20 C4 C0 00 00 38 
   10716   00:9E5F                      				; color 11
   10717   00:9E5F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10717   00:9E5F  00 00 00 00 00 00 00 00 
   10718   00:9E67                      				DB $00,$00,$00,$00,$00,$0C,$10,$00
   10718   00:9E67  00 00 00 00 00 0C 10 00 
   10719   00:9E6F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10719   00:9E6F  00 00 00 00 00 00 00 00 
   10720   00:9E77                      				DB $00,$00,$00,$00,$00,$18,$04,$00
   10720   00:9E77  00 00 00 00 00 18 04 00 
   10721   00:9E7F                      				; 
   10722   00:9E7F                      				; --- bombero mano 5
   10723   00:9E7F                      				; color 1
   10724   00:9E7F                      				DB $00,$01,$02,$06,$0E,$12,$2F,$3C
   10724   00:9E7F  00 01 02 06 0E 12 2F 3C 
   10725   00:9E87                      				DB $2E,$1D,$1E,$27,$1E,$13,$3E,$3E
   10725   00:9E87  2E 1D 1E 27 1E 13 3E 3E 
   10726   00:9E8F                      				DB $00,$C0,$20,$30,$38,$24,$FA,$1E
   10726   00:9E8F  00 C0 20 30 38 24 FA 1E 
   10727   00:9E97                      				DB $3A,$DC,$38,$E8,$24,$E4,$B8,$C4
   10727   00:9E97  3A DC 38 E8 24 E4 B8 C4 
   10728   00:9E9F                      				; color 9
   10729   00:9E9F                      				DB $00,$00,$01,$01,$01,$0D,$10,$03
   10729   00:9E9F  00 00 01 01 01 0D 10 03 
   10730   00:9EA7                      				DB $11,$02,$01,$18,$00,$00,$00,$00
   10730   00:9EA7  11 02 01 18 00 00 00 00 
   10731   00:9EAF                      				DB $00,$00,$C0,$C0,$C0,$D8,$04,$E0
   10731   00:9EAF  00 00 C0 C0 C0 D8 04 E0 
   10732   00:9EB7                      				DB $C4,$20,$C0,$00,$00,$00,$00,$38
   10732   00:9EB7  C4 20 C0 00 00 00 00 38 
   10733   00:9EBF                      				; color 11
   10734   00:9EBF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10734   00:9EBF  00 00 00 00 00 00 00 00 
   10735   00:9EC7                      				DB $00,$00,$00,$00,$01,$0C,$01,$00
   10735   00:9EC7  00 00 00 00 01 0C 01 00 
   10736   00:9ECF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10736   00:9ECF  00 00 00 00 00 00 00 00 
   10737   00:9ED7                      				DB $00,$00,$00,$10,$D8,$18,$44,$00
   10737   00:9ED7  00 00 00 10 D8 18 44 00 
   10738   00:9EDF                      quemado_esp:	; --- ALTERN QUEMANDOSE UNO ESPAÑOL
   10739   00:9EDF                      				; color 1
   10740   00:9EDF                      				DB $EE,$8A,$AA,$AA,$EE,$00,$0F,$0E
   10740   00:9EDF  EE 8A AA AA EE 00 0F 0E 
   10741   00:9EE7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10741   00:9EE7  00 00 00 00 00 00 00 00 
   10742   00:9EEF                      				DB $EE,$2A,$4A,$8A,$EE,$00,$E0,$E0
   10742   00:9EEF  EE 2A 4A 8A EE 00 E0 E0 
   10743   00:9EF7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10743   00:9EF7  00 00 00 00 00 00 00 00 
   10744   00:9EFF                      				; color 6
   10745   00:9EFF                      				DB $00,$00,$00,$14,$10,$1F,$10,$11
   10745   00:9EFF  00 00 00 14 10 1F 10 11 
   10746   00:9F07                      				DB $1F,$3F,$3F,$3C,$1E,$98,$D0,$F0
   10746   00:9F07  1F 3F 3F 3C 1E 98 D0 F0 
   10747   00:9F0F                      				DB $00,$00,$00,$20,$10,$F8,$18,$1C
   10747   00:9F0F  00 00 00 20 10 F8 18 1C 
   10748   00:9F17                      				DB $F6,$F6,$7E,$FE,$77,$77,$23,$1F
   10748   00:9F17  F6 F6 7E FE 77 77 23 1F 
   10749   00:9F1F                      				; color 10
   10750   00:9F1F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10750   00:9F1F  00 00 00 00 00 00 00 00 
   10751   00:9F27                      				DB $00,$00,$00,$03,$01,$07,$2F,$0F
   10751   00:9F27  00 00 00 03 01 07 2F 0F 
   10752   00:9F2F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10752   00:9F2F  00 00 00 00 00 00 00 00 
   10753   00:9F37                      				DB $00,$00,$80,$00,$88,$88,$DC,$E0
   10753   00:9F37  00 00 80 00 88 88 DC E0 
   10754   00:9F3F                      pausa_sprit:	; --- pausa prota uno
   10755   00:9F3F                      				; color 1
   10756   00:9F3F                      				DB $00,$60,$A3,$A7,$AF,$AD,$AD,$AC
   10756   00:9F3F  00 60 A3 A7 AF AD AD AC 
   10757   00:9F47                      				DB $FC,$9E,$BF,$77,$24,$1C,$3F,$39
   10757   00:9F47  FC 9E BF 77 24 1C 3F 39 
   10758   00:9F4F                      				DB $00,$00,$F0,$F8,$9C,$AC,$2C,$0C
   10758   00:9F4F  00 00 F0 F8 9C AC 2C 0C 
   10759   00:9F57                      				DB $CC,$1C,$F8,$F4,$CC,$88,$FE,$8E
   10759   00:9F57  CC 1C F8 F4 CC 88 FE 8E 
   10760   00:9F5F                      				; color 2
   10761   00:9F5F                      				DB $08,$1B,$03,$00,$06,$00,$00,$00
   10761   00:9F5F  08 1B 03 00 06 00 00 00 
   10762   00:9F67                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10762   00:9F67  00 00 00 00 00 00 00 00 
   10763   00:9F6F                      				DB $08,$30,$70,$00,$70,$00,$00,$00
   10763   00:9F6F  08 30 70 00 70 00 00 00 
   10764   00:9F77                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10764   00:9F77  00 00 00 00 00 00 00 00 
   10765   00:9F7F                      				; color 9
   10766   00:9F7F                      				DB $00,$00,$00,$00,$00,$00,$00,$40
   10766   00:9F7F  00 00 00 00 00 00 00 40 
   10767   00:9F87                      				DB $40,$40,$42,$42,$43,$03,$61,$40
   10767   00:9F87  40 40 42 42 43 03 61 40 
   10768   00:9F8F                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10768   00:9F8F  00 00 00 00 00 00 00 00 
   10769   00:9F97                      				DB $00,$60,$50,$D0,$F0,$30,$E0,$00
   10769   00:9F97  00 60 50 D0 F0 30 E0 00 
   10770   00:9F9F                      				; 
   10771   00:9F9F                      				; --- pausa prota dos
   10772   00:9F9F                      				; color 1
   10773   00:9F9F                      				DB $50,$A8,$53,$27,$06,$0D,$0B,$16
   10773   00:9F9F  50 A8 53 27 06 0D 0B 16 
   10774   00:9FA7                      				DB $3E,$27,$37,$1B,$12,$0E,$3F,$39
   10774   00:9FA7  3E 27 37 1B 12 0E 3F 39 
   10775   00:9FAF                      				DB $20,$EC,$FC,$7E,$CF,$07,$9F,$26
   10775   00:9FAF  20 EC FC 7E CF 07 9F 26 
   10776   00:9FB7                      				DB $27,$0C,$F8,$F4,$CC,$8C,$FE,$8E
   10776   00:9FB7  27 0C F8 F4 CC 8C FE 8E 
   10777   00:9FBF                      				; color 2
   10778   00:9FBF                      				DB $04,$0D,$01,$00,$06,$00,$00,$00
   10778   00:9FBF  04 0D 01 00 06 00 00 00 
   10779   00:9FC7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10779   00:9FC7  00 00 00 00 00 00 00 00 
   10780   00:9FCF                      				DB $08,$30,$70,$00,$70,$00,$00,$00
   10780   00:9FCF  08 30 70 00 70 00 00 00 
   10781   00:9FD7                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10781   00:9FD7  00 00 00 00 00 00 00 00 
   10782   00:9FDF                      				; color 9
   10783   00:9FDF                      				DB $00,$00,$00,$00,$00,$00,$50,$20
   10783   00:9FDF  00 00 00 00 00 00 50 20 
   10784   00:9FE7                      				DB $00,$01,$02,$04,$09,$01,$18,$08
   10784   00:9FE7  00 01 02 04 09 01 18 08 
   10785   00:9FEF                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   10785   00:9FEF  00 00 00 00 00 00 00 00 
   10786   00:9FF7                      				DB $80,$30,$F8,$60,$D8,$D8,$F0,$00
   10786   00:9FF7  80 30 F8 60 D8 D8 F0 00 
   10787   00:9FFF                      	;
   10788   00:9FFF                      sprites_ojos:	; --- ojo izquierda 1
   10789   00:9FFF                      				; color 8
   10790   00:9FFF                      				DB $00,$00,$14,$0A,$1B,$0E,$1F,$0D
   10790   00:9FFF  00 00 14 0A 1B 0E 1F 0D 
   10791   00:A007                      				DB $01,$00,$00,$00,$00,$00,$00,$00
   10791   00:A007  01 00 00 00 00 00 00 00 
   10792   00:A00F                      				DB $00,$00,$00,$A0,$60,$48,$A0,$90
   10792   00:A00F  00 00 00 A0 60 48 A0 90 
   10793   00:A017                      				DB $E0,$E0,$40,$00,$00,$00,$00,$00
   10793   00:A017  E0 E0 40 00 00 00 00 00 
   10794   00:A01F                      				; 
   10795   00:A01F                      				; --- ojo izquierda 2
   10796   00:A01F                      				; color 8
   10797   00:A01F                      				DB $0A,$04,$19,$0E,$1D,$0E,$1F,$0F
   10797   00:A01F  0A 04 19 0E 1D 0E 1F 0F 
   10798   00:A027                      				DB $07,$03,$00,$00,$00,$00,$00,$00
   10798   00:A027  07 03 00 00 00 00 00 00 
   10799   00:A02F                      				DB $00,$00,$40,$E0,$40,$AC,$D8,$A0
   10799   00:A02F  00 00 40 E0 40 AC D8 A0 
   10800   00:A037                      				DB $E0,$E0,$40,$00,$00,$00,$00,$00
   10800   00:A037  E0 E0 40 00 00 00 00 00 
   10801   00:A03F                      				; 
   10802   00:A03F                      				; --- ojo derecha 1
   10803   00:A03F                      				; color 8
   10804   00:A03F                      				DB $00,$00,$00,$05,$06,$12,$05,$09
   10804   00:A03F  00 00 00 05 06 12 05 09 
   10805   00:A047                      				DB $07,$07,$02,$00,$00,$00,$00,$00
   10805   00:A047  07 07 02 00 00 00 00 00 
   10806   00:A04F                      				DB $00,$00,$28,$50,$D8,$70,$F8,$B0
   10806   00:A04F  00 00 28 50 D8 70 F8 B0 
   10807   00:A057                      				DB $80,$00,$00,$00,$00,$00,$00,$00
   10807   00:A057  80 00 00 00 00 00 00 00 
   10808   00:A05F                      				; 
   10809   00:A05F                      				; --- ojo derecha 2
   10810   00:A05F                      				; color 8
   10811   00:A05F                      				DB $00,$00,$02,$07,$02,$35,$1B,$05
   10811   00:A05F  00 00 02 07 02 35 1B 05 
   10812   00:A067                      				DB $07,$07,$02,$00,$00,$00,$00,$00
   10812   00:A067  07 07 02 00 00 00 00 00 
   10813   00:A06F                      				DB $50,$20,$98,$70,$B8,$70,$F8,$F0
   10813   00:A06F  50 20 98 70 B8 70 F8 F0 
   10814   00:A077                      				DB $E0,$C0,$00,$00,$00,$00,$00,$00
   10814   00:A077  E0 C0 00 00 00 00 00 00 
   10815   00:A07F                      				
   10816   00:A07F                      ;sprites_oniric:	; 
   10817   00:A07F                      				; --- oniric 1
   10818   00:A07F                      				; color 1
   10819   00:A07F                      ;				DB $00,$00,$03,$0F,$1F,$1E,$1F,$0F
   10820   00:A07F                      ;				DB $1F,$1C,$19,$39,$3D,$37,$25,$2E
   10821   00:A07F                      ;				DB $00,$00,$80,$00,$00,$F8,$5D,$A7
   10822   00:A07F                      ;				DB $F2,$F8,$2D,$3F,$1A,$87,$ED,$F8
   10823   00:A07F                      				; 
   10824   00:A07F                      				; --- oniric 2
   10825   00:A07F                      				; color 1
   10826   00:A07F                      ;				DB $00,$00,$0E,$07,$07,$FB,$D7,$2F
   10827   00:A07F                      ;				DB $7F,$FB,$A4,$E4,$D5,$0F,$BD,$FB
   10828   00:A07F                      ;				DB $00,$00,$00,$80,$C0,$C0,$C0,$80
   10829   00:A07F                      ;				DB $C0,$C0,$C0,$E0,$E0,$60,$20,$A0	
   10830   00:A07F                      				; --- oniric 3
   10831   00:A07F                      				; color 1
   10832   00:A07F                      ;				DB $39,$33,$17,$0E,$06,$02,$01,$20
   10833   00:A07F                      ;				DB $70,$D8,$CB,$CB,$CB,$CB,$73,$20
   10834   00:A07F                      ;				DB $D0,$98,$35,$7A,$70,$E0,$B0,$7A
   10835   00:A07F                      ;				DB $1F,$07,$C0,$2F,$2A,$22,$2A,$4F
   10836   00:A07F                      				; 
   10837   00:A07F                      				; --- oniric 4
   10838   00:A07F                      				; color 1
   10839   00:A07F                      ;				DB $5C,$CE,$67,$F3,$73,$3A,$6C,$F0
   10840   00:A07F                      ;				DB $C1,$01,$3C,$B2,$B2,$3C,$B2,$84
   10841   00:A07F                      ;				DB $E0,$60,$40,$80,$00,$00,$80,$98
   10842   00:A07F                      ;				DB $BC,$B4,$30,$B0,$B0,$B4,$B4,$18
   10843   00:A07F                      							
   10844   00:A07F                      				
   10845   00:A07F                      game_over:		db	64,230,224,236,228,64,64,238,245,228,241
   10845   00:A07F  40 E6 E0 EC E4 40 40 EE F5 E4 F1 
   10846   00:A08A                      se__acabo:		db	64,242,228,64,64,64,224,226,224,225,238
   10846   00:A08A  40 F2 E4 40 40 40 E0 E2 E0 E1 EE 
   10847   00:A095                      continua_i:		db	229,197,64,64,64,64,226,238,237,243,232,237,244,228
   10847   00:A095  E5 C5 40 40 40 40 E2 EE ED F3 E8 ED F4 E4 
   10848   00:A0A3                      continua_e:		db	229,197,64,64,64,64,226,238,237,243,232,237,244,224
   10848   00:A0A3  E5 C5 40 40 40 40 E2 EE ED F3 E8 ED F4 E0 
   10849   00:A0B1  EF E0 F4 F2 E4      pause:			db	239,224,244,242,228
   10850   00:A0B6                      ;test_version:	db	243,228,242,243,64,245,228,241,242,232,238,237		;para version test
   10851   00:A0B6  14 14 14 14 14      ladrillos:		db	20,20,20,20,20										;ladrillos en la zona donde se escribe el pause
   10852   00:A0BB                      
   10853   00:A0BB                      
   10854   00:A0BB                      										
   10855   00:A0BB                      empresa:		db	28,"CARAMBALpN STUDIOS  PRESENTS"					;PANTALLA DE MENU
   10855   00:A0BB  1C 43 41 52 41 4D 42 41 4C 70 4E 20 53 54 55 44 
   10855   00:A0CB  49 4F 53 20 20 50 52 45 53 45 4E 54 53 
   10856   00:A0D8                      empresa_e:		db	28,"CARAMBALpN STUDIOS  PRESENTA"
   10856   00:A0D8  1C 43 41 52 41 4D 42 41 4C 70 4E 20 53 54 55 44 
   10856   00:A0E8  49 4F 53 20 20 50 52 45 53 45 4E 54 41 
   10857   00:A0F5                      titulo_1:		db	224,"hih  i  h iih  hih i   h  i hiihxzy  y  x yzx  xzx y   x  y xzzyk k  k  k k k  k k k   k  k k   ajjl k  k ajjl k k k   k  k mjjlk  k k  k k  k k k k   k  k    kk  k k  k k  k k k k   k  k    kmjjb mjjb e  e e mjb   mjjb fjjb"
   10857   00:A0F5  E0 68 69 68 20 20 69 20 20 68 20 69 69 68 20 20 
   10857   00:A105  68 69 68 20 69 20 20 20 68 20 20 69 20 68 69 69 
   10857   00:A115  68 78 7A 79 20 20 79 20 20 78 20 79 7A 78 20 20 
   10857   00:A125  78 7A 78 20 79 20 20 20 78 20 20 79 20 78 7A 7A 
   10857   00:A135  79 6B 20 6B 20 20 6B 20 20 6B 20 6B 20 6B 20 20 
   10857   00:A145  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 6B 20 20 
   10857   00:A155  20 61 6A 6A 6C 20 6B 20 20 6B 20 61 6A 6A 6C 20 
   10857   00:A165  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 6D 6A 6A 
   10857   00:A175  6C 6B 20 20 6B 20 6B 20 20 6B 20 6B 20 20 6B 20 
   10857   00:A185  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 20 20 20 
   10857   00:A195  6B 6B 20 20 6B 20 6B 20 20 6B 20 6B 20 20 6B 20 
   10857   00:A1A5  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 20 20 20 
   10857   00:A1B5  6B 6D 6A 6A 62 20 6D 6A 6A 62 20 65 20 20 65 20 
   10857   00:A1C5  65 20 6D 6A 62 20 20 20 6D 6A 6A 62 20 66 6A 6A 
   10857   00:A1D5  62 
   10858   00:A1D6  04 4D 45 4E 72      mensaje:		db	4,"MENr"
   10859   00:A1DB  04 4D 45 4E 55      mensaje_ING:		db	4,"MENU"
   10860   00:A1E0                      teclado:		db	6,"- EASY"
   10860   00:A1E0  06 2D 20 45 41 53 59 
   10861   00:A1E7                      mando:			db	6,"- HARD"
   10861   00:A1E7  06 2D 20 48 41 52 44 
   10862   00:A1EE                      instrucciones:	db	10,"- LANGUAGE"
   10862   00:A1EE  0A 2D 20 4C 41 4E 47 55 41 47 45 
   10863   00:A1F9                      teclado_e:		db	7,"- FpCIL"
   10863   00:A1F9  07 2D 20 46 70 43 49 4C 
   10864   00:A201                      mando_e:		db	9,"- DIFqCIL"
   10864   00:A201  09 2D 20 44 49 46 71 43 49 4C 
   10865   00:A20B                      instruccion_e:	db	8,"- IDIOMA"
   10865   00:A20B  08 2D 20 49 44 49 4F 4D 41 
   10866   00:A214                      salir:			db	12,"- COVER PAGE"
   10866   00:A214  0C 2D 20 43 4F 56 45 52 20 50 41 47 45 
   10867   00:A221                      salir_e:		db	9,"- PORTADA"
   10867   00:A221  09 2D 20 50 4F 52 54 41 44 41 
   10868   00:A22B                      copyright:		db	28,"(C)  VERSION DEMO DEL  JUEGO"
   10868   00:A22B  1C 28 43 29 20 20 56 45 52 53 49 4F 4E 20 44 45 
   10868   00:A23B  4D 4F 20 44 45 4C 20 20 4A 55 45 47 4F 
   10869   00:A248                      
   10870   00:A248  01 6E               serp_1:			db	1,"n"
   10871   00:A24A  01 20               nada:			db	1," "
   10872   00:A24C                      
   10873   00:A24C                      ;programacion:	db	12,"PROGRAMMING:"
   10874   00:A24C                      ;musica:			db	6,"MUSIC:"
   10875   00:A24C                      ;graficos:		db	9,"GRAPHICS:"
   10876   00:A24C                      ;programacion_e:	db	13,"PROGRAMACIsN:"
   10877   00:A24C                      ;musica_e:		db	7,"MtSICA:"
   10878   00:A24C                      ;graficos_e:		db	9,"GRpFICOS:"
   10879   00:A24C                      ;benja:			db	15,"BENJAMrN MIGUEL"
   10880   00:A24C                      ;jorge:			db	12,"JORGE ROMERO"
   10881   00:A24C                      ;mis_chicos:		db	30,"A MIS CHICOS/A DE ASM MSX TEAM"
   10882   00:A24C                      ;ilustraciones:	db	14,"ILUSTRACIONES:"
   10883   00:A24C                      ;salguero:		db	16,"JOSq L. SALGUERO"
   10884   00:A24C                      ;ilustrations:	db	14,"ILLUSTRATIONS:"
   10885   00:A24C                      ;tromax:			db	19,"DAVID F.G. (TROMAX)"
   10886   00:A24C                      ;john:			db	12,"JOHN HASSINK"
   10887   00:A24C                      ;mano_derecha:	db	13,"MANO DERECHA:"
   10888   00:A24C                      ;mano_derecha_e:	db	11,"RIGHT HAND:"
   10889   00:A24C                      ;agradecido:		db	32,"GRACIAS A:        Y RAFA BOLLERO"
   10890   00:A24C                      ;thanks:			db	32,"THANKS TO:      AND RAFA BOLLERO"
   10891   00:A24C                      
   10892   00:A24C                      letras_A:		DB $00,$3C,$42,$42,$7E,$42,$24,$00
   10892   00:A24C  00 3C 42 42 7E 42 24 00 
   10893   00:A254                      				DB $00,$78,$44,$7C,$42,$42,$7C,$00
   10893   00:A254  00 78 44 7C 42 42 7C 00 
   10894   00:A25C                      				DB $00,$3C,$42,$40,$40,$42,$3C,$00
   10894   00:A25C  00 3C 42 40 40 42 3C 00 
   10895   00:A264                      				DB $00,$78,$44,$42,$42,$44,$38,$00
   10895   00:A264  00 78 44 42 42 44 38 00 
   10896   00:A26C                      letras_E:		DB $00,$3C,$42,$40,$78,$42,$3C,$00
   10896   00:A26C  00 3C 42 40 78 42 3C 00 
   10897   00:A274                      				DB $00,$7C,$42,$40,$58,$40,$20,$00
   10897   00:A274  00 7C 42 40 58 40 20 00 
   10898   00:A27C                      				DB $00,$3C,$42,$40,$4E,$42,$3C,$00
   10898   00:A27C  00 3C 42 40 4E 42 3C 00 
   10899   00:A284                      				DB $00,$24,$42,$42,$7E,$42,$24,$00
   10899   00:A284  00 24 42 42 7E 42 24 00 
   10900   00:A28C                      letras_I:		DB $00,$3C,$52,$10,$10,$52,$3C,$00
   10900   00:A28C  00 3C 52 10 10 52 3C 00 
   10901   00:A294                      				DB $00,$7E,$08,$04,$02,$42,$3C,$00
   10901   00:A294  00 7E 08 04 02 42 3C 00 
   10902   00:A29C                      letras_K:		DB $00,$44,$42,$5C,$42,$42,$24,$00
   10902   00:A29C  00 44 42 5C 42 42 24 00 
   10903   00:A2A4                      letras_L:		DB $00,$20,$40,$40,$40,$42,$3C,$00
   10903   00:A2A4  00 20 40 40 40 42 3C 00 
   10904   00:A2AC                      				DB $00,$24,$5A,$42,$42,$42,$24,$00
   10904   00:A2AC  00 24 5A 42 42 42 24 00 
   10905   00:A2B4                      letras_N:		DB $00,$24,$52,$52,$4A,$4A,$24,$00
   10905   00:A2B4  00 24 52 52 4A 4A 24 00 
   10906   00:A2BC                      letras_O:		DB $00,$3C,$42,$42,$42,$42,$3C,$00
   10906   00:A2BC  00 3C 42 42 42 42 3C 00 
   10907   00:A2C4                      				DB $00,$7C,$42,$42,$7C,$40,$20,$00
   10907   00:A2C4  00 7C 42 42 7C 40 20 00 
   10908   00:A2CC                      				DB $00,$3C,$42,$42,$4A,$44,$3A,$00
   10908   00:A2CC  00 3C 42 42 4A 44 3A 00 
   10909   00:A2D4                      				DB $00,$7C,$42,$42,$3C,$42,$44,$00
   10909   00:A2D4  00 7C 42 42 3C 42 44 00 
   10910   00:A2DC                      letras_S:		DB $00,$3C,$42,$30,$04,$42,$3C,$00
   10910   00:A2DC  00 3C 42 30 04 42 3C 00 
   10911   00:A2E4                      				DB $00,$3C,$42,$10,$10,$08,$08,$00
   10911   00:A2E4  00 3C 42 10 10 08 08 00 
   10912   00:A2EC                      				DB $00,$24,$42,$42,$42,$42,$3C,$00
   10912   00:A2EC  00 24 42 42 42 42 3C 00 
   10913   00:A2F4                      				DB $00,$24,$42,$42,$42,$24,$18,$00
   10913   00:A2F4  00 24 42 42 42 24 18 00 
   10914   00:A2FC                      letras_W:		DB $00,$24,$42,$42,$42,$5A,$24,$00
   10914   00:A2FC  00 24 42 42 42 5A 24 00 
   10915   00:A304                      				DB $00,$42,$24,$18,$24,$42,$42,$00
   10915   00:A304  00 42 24 18 24 42 42 00 
   10916   00:A30C                      				DB $00,$44,$42,$24,$08,$10,$10,$00
   10916   00:A30C  00 44 42 24 08 10 10 00 
   10917   00:A314                      				DB $00,$3C,$42,$08,$20,$42,$3C,$00
   10917   00:A314  00 3C 42 08 20 42 3C 00 
   10918   00:A31C                      
   10919   00:A31C                      
   10920   00:A31C                      titulo_centro1:	; --- este/sur, noerte/este, fin oeste, fin sur, fin norte, fin este
   10921   00:A31C                      				DB $00,$3F,$7F,$7F,$7F,$7C,$7B,$7A
   10921   00:A31C  00 3F 7F 7F 7F 7C 7B 7A 
   10922   00:A324                      				DB $7A,$FA,$FA,$FA,$FA,$06,$FC,$00
   10922   00:A324  7A FA FA FA FA 06 FC 00 
   10923   00:A32C                      				DB $00,$FC,$FE,$FE,$FA,$06,$FC,$00
   10923   00:A32C  00 FC FE FE FA 06 FC 00 
   10924   00:A334                      				DB $00,$3C,$76,$7A,$7A,$7A,$7A,$7A
   10924   00:A334  00 3C 76 7A 7A 7A 7A 7A 
   10925   00:A33C                      				DB $7A,$7A,$7A,$7A,$7A,$76,$3C,$00
   10925   00:A33C  7A 7A 7A 7A 7A 76 3C 00 
   10926   00:A344                      				DB $00,$3F,$7F,$7F,$5F,$60,$3F,$00
   10926   00:A344  00 3F 7F 7F 5F 60 3F 00 
   10927   00:A34C                      				DB $00,$7F,$FF,$FF,$FF,$FC,$FB,$FA
   10927   00:A34C  00 7F FF FF FF FC FB FA 
   10928   00:A354                      
   10929   00:A354                      fueguito_1:		DB 	$82,$10,$03,$58,$04,$52,$22,$7C
   10929   00:A354  82 10 03 58 04 52 22 7C 
   10930   00:A35C                      fueguito_2:		DB 	$01,$88,$0A,$94,$11,$8A,$60,$5A
   10930   00:A35C  01 88 0A 94 11 8A 60 5A 
   10931   00:A364                      				; --- horizontal, vertical, oeste/sur, noerte/este
   10932   00:A364                      				DB 	$00,$FF,$FF,$FF,$FF,$00,$FF,$00
   10932   00:A364  00 FF FF FF FF 00 FF 00 
   10933   00:A36C                      				DB 	$7A,$7A,$7A,$7A,$7A,$7A,$7A,$7A
   10933   00:A36C  7A 7A 7A 7A 7A 7A 7A 7A 
   10934   00:A374                      				DB 	$00,$FC,$F6,$FA,$FA,$FA,$FA,$7A
   10934   00:A374  00 FC F6 FA FA FA FA 7A 
   10935   00:A37C                      				DB 	$7A,$7B,$7D,$7F,$7F,$7F,$3F,$00
   10935   00:A37C  7A 7B 7D 7F 7F 7F 3F 00 
   10936   00:A384                      
   10937   00:A384                      
   10938   00:A384                      flame_1:		DB 	$08,$1C,$3E,$7F,$7F,$7F,$3E,$1C
   10938   00:A384  08 1C 3E 7F 7F 7F 3E 1C 
   10939   00:A38C                      flame_2:		DB 	$00,$08,$1C,$3E,$7F,$7F,$3E,$1C
   10939   00:A38C  00 08 1C 3E 7F 7F 3E 1C 
   10940   00:A394                      letras_A_acen:	DB 	$0C,$00,$3C,$42,$7E,$42,$24,$00
   10940   00:A394  0C 00 3C 42 7E 42 24 00 
   10941   00:A39C                      ;				DB 	$0C,$00,$3C,$42,$78,$42,$3C,$00
   10942   00:A39C                      				DB 	$0C,$00,$3C,$52,$10,$52,$3C,$00
   10942   00:A39C  0C 00 3C 52 10 52 3C 00 
   10943   00:A3A4                      ;				DB 	$0C,$00,$3C,$42,$42,$42,$3C,$00
   10944   00:A3A4                      letras_U_acen:	DB 	$0C,$00,$24,$42,$42,$42,$3C,$00
   10944   00:A3A4  0C 00 24 42 42 42 3C 00 
   10945   00:A3AC                      
   10946   00:A3AC                      fuego_quema:	DB 	$65,$90,$2A,$55,$A2,$DD,$7A,$7B
   10946   00:A3AC  65 90 2A 55 A2 DD 7A 7B 
   10947   00:A3B4                      				DB 	$2A,$C9,$16,$A4,$5A,$5D,$BE,$7A
   10947   00:A3B4  2A C9 16 A4 5A 5D BE 7A 
   10948   00:A3BC                      				DB 	$82,$D4,$A7,$DA,$0D,$D2,$2B,$7C
   10948   00:A3BC  82 D4 A7 DA 0D D2 2B 7C 
   10949   00:A3C4                      fuego_quema_2:	DB 	$79,$65,$7A,$90,$dd,$2a,$a2,$55
   10949   00:A3C4  79 65 7A 90 DD 2A A2 55 
   10950   00:A3CC                      				DB 	$7a,$5a,$c9,$be,$2A,$16,$5d,$be
   10950   00:A3CC  7A 5A C9 BE 2A 16 5D BE 
   10951   00:A3D4                      				DB 	$d3,$82,$7c,$D4,$7c,$a7,$0d,$2b
   10951   00:A3D4  D3 82 7C D4 7C A7 0D 2B 
   10952   00:A3DC                      				
   10953   00:A3DC                      parentesis_a:	db	#02,#04,#04,#08,#04,#04,#02,#00						;DEFINICION DE PARENTESIS, GUION Y PUNTO
   10953   00:A3DC  02 04 04 08 04 04 02 00 
   10954   00:A3E4                      parentesis_c:	db	#80,#40,#40,#20,#40,#40,#80,#00
   10954   00:A3E4  80 40 40 20 40 40 80 00 
   10955   00:A3EC                      guion:			db	#00,#00,#00,#82,#7C,#00,#00,#00
   10955   00:A3EC  00 00 00 82 7C 00 00 00 
   10956   00:A3F4                      punto:			db	#00,#00,#00,#00,#00,#60,#60,#00
   10956   00:A3F4  00 00 00 00 00 60 60 00 
   10957   00:A3FC                      
   10958   00:A3FC                      numero0:		DB 	$00,$3C,$42,$10,$4A,$42,$3C,$00
   10958   00:A3FC  00 3C 42 10 4A 42 3C 00 
   10959   00:A404                      				DB 	$00,$02,$02,$00,$02,$02,$02,$00
   10959   00:A404  00 02 02 00 02 02 02 00 
   10960   00:A40C                      				DB 	$00,$7C,$02,$3C,$40,$40,$3E,$00
   10960   00:A40C  00 7C 02 3C 40 40 3E 00 
   10961   00:A414                      				DB 	$00,$3C,$02,$3C,$02,$02,$3C,$00
   10961   00:A414  00 3C 02 3C 02 02 3C 00 
   10962   00:A41C                      numero4:		DB 	$00,$42,$42,$3C,$02,$02,$02,$00
   10962   00:A41C  00 42 42 3C 02 02 02 00 
   10963   00:A424                      				DB 	$00,$7C,$80,$7C,$02,$02,$7C,$00
   10963   00:A424  00 7C 80 7C 02 02 7C 00 
   10964   00:A42C                      				DB 	$00,$3C,$40,$7C,$42,$42,$3C,$00
   10964   00:A42C  00 3C 40 7C 42 42 3C 00 
   10965   00:A434                      				DB 	$00,$7C,$02,$02,$00,$02,$02,$00
   10965   00:A434  00 7C 02 02 00 02 02 00 
   10966   00:A43C                      numero8:		DB	$00,$3C,$42,$3C,$42,$42,$3C,$00
   10966   00:A43C  00 3C 42 3C 42 42 3C 00 
   10967   00:A444                      				DB	$00,$3C,$42,$42,$3C,$02,$3C,$00
   10967   00:A444  00 3C 42 42 3C 02 3C 00 
   10968   00:A44C                      dospuntos:		db	#00,#00,#60,#60,#00,#60,#60,#00
   10968   00:A44C  00 00 60 60 00 60 60 00 
   10969   00:A454                      
   10970   00:A454                      agua_1:			DB 	$20,$40,$60,$A3,$1C,$04,$04,$18
   10970   00:A454  20 40 60 A3 1C 04 04 18 
   10971   00:A45C                      chorro_1:		DB 	$2A,$54,$2A,$55,$AA,$55,$AA,$55	
   10971   00:A45C  2A 54 2A 55 AA 55 AA 55 
   10972   00:A464                      grifo_1:		DB 	$3A,$3C,$7F,$14,$2A,$54,$2A,$55
   10972   00:A464  3A 3C 7F 14 2A 54 2A 55 
   10973   00:A46C                      fuego_1_2:		DB 	$10,$30,$6C,$5E,$3E,$7C,$7A,$34
   10973   00:A46C  10 30 6C 5E 3E 7C 7A 34 
   10974   00:A474                      portal_1:		DB 	$81,$7E,$41,$40,$48,$40,$42,$40
   10974   00:A474  81 7E 41 40 48 40 42 40 
   10975   00:A47C                      				DB 	$81,$7E,$02,$02,$02,$82,$02,$12
   10975   00:A47C  81 7E 02 02 02 82 02 12 
   10976   00:A484                      				DB 	$02,$22,$32,$78,$7A,$30,$02,$FA
   10976   00:A484  02 22 32 78 7A 30 02 FA 
   10977   00:A48C                      				DB 	$40,$48,$4C,$1E,$5E,$0C,$40,$5F
   10977   00:A48C  40 48 4C 1E 5E 0C 40 5F 
   10978   00:A494  A5                  cuchillo_1:		db	$a5
   10979   00:A495  85                  bomba_1:		db	$85
   10980   00:A496                      salpic_1_1:		db $78,$D0,$C0,$7F,$7F,$C0,$D0,$78
   10980   00:A496  78 D0 C0 7F 7F C0 D0 78 
   10981   00:A49E                      salpic_1_2:		db $1E,$0B,$03,$FE,$FE,$03,$0B,$1E
   10981   00:A49E  1E 0B 03 FE FE 03 0B 1E 
   10982   00:A4A6                      
   10983   00:A4A6                      agua_2:			DB 	$20,$C0,$B0,$09,$0A,$1C,$20,$20
   10983   00:A4A6  20 C0 B0 09 0A 1C 20 20 
   10984   00:A4AE                      chorro_2:		DB 	$54,$2A,$54,$AA,$55,$AA,$55,$AA
   10984   00:A4AE  54 2A 54 AA 55 AA 55 AA 
   10985   00:A4B6                      grifo_2:		DB 	$3A,$3C,$7F,$28,$54,$2A,$54,$AA
   10985   00:A4B6  3A 3C 7F 28 54 2A 54 AA 
   10986   00:A4BE                      fuego_2_2:		DB 	$08,$0C,$36,$7A,$7C,$3E,$5E,$2C
   10986   00:A4BE  08 0C 36 7A 7C 3E 5E 2C 
   10987   00:A4C6                      portal_2:		DB 	$81,$7E,$40,$50,$42,$40,$40,$41
   10987   00:A4C6  81 7E 40 50 42 40 40 41 
   10988   00:A4CE                      				DB 	$81,$7E,$02,$22,$02,$22,$02,$02
   10988   00:A4CE  81 7E 02 22 02 22 02 02 
   10989   00:A4D6                      				DB 	$02,$12,$32,$78,$7A,$30,$02,$FA	
   10989   00:A4D6  02 12 32 78 7A 30 02 FA 
   10990   00:A4DE                      				DB 	$40,$44,$4C,$1E,$5E,$0C,$40,$5F	
   10990   00:A4DE  40 44 4C 1E 5E 0C 40 5F 
   10991   00:A4E6  F5                  cuchillo_2:		db	$f5	
   10992   00:A4E7  E5                  bomba_2:		db	$e5
   10993   00:A4E8                      salpic_2_1:		db $1E,$34,$30,$1F,$1F,$30,$34,$1E
   10993   00:A4E8  1E 34 30 1F 1F 30 34 1E 
   10994   00:A4F0                      salpic_2_2:		db $78,$2C,$0C,$F8,$F8,$0C,$2C,$78
   10994   00:A4F0  78 2C 0C F8 F8 0C 2C 78 
   10995   00:A4F8                      
   10996   00:A4F8  15 F5               color_gas_1:	db 	$15,$F5
   10997   00:A4FA  B5 F5               color_mec_1:	db 	$B5,$f5
   10998   00:A4FC  65 F5               color_gas_2:	db 	$65,$F5
   10999   00:A4FE  95 F5               color_mec_2:	db 	$95,$f5
   11000   00:A500  F5 F5               color_gas_3:	db 	$F5,$F5
   11001   00:A502  85 F5               color_mec_3:	db 	$85,$F5
   11002   00:A504  E5 F5               color_gas_4:	db 	$E5,$F5
   11003   00:A506  65 F5               color_mec_4:	db 	$65,$F5
   11004   00:A508  E5 F5               color_gas_5:	db 	$E5,$F5
   11005   00:A50A  F5 F5               color_mec_5:	db 	$F5,$F5
   11006   00:A50C  E5 F5               color_gas_6:	db 	$E5,$F5
   11007   00:A50E  E5 F5               color_mec_6:	db 	$E5,$F5
   11008   00:A510  15 F5               color_gas_7:	db 	$15,$F5
   11009   00:A512  E5 F5               color_mec_7:	db 	$E5,$f5
   11010   00:A514  E5                  color_gas_8:	db 	$E5
   11011   00:A515  E5                  color_mec_8:	db 	$E5
   11012   00:A516                      
   11013   00:A516                      
   11014   00:A516                      
   11015   00:A516                      
   11016   00:A516                      
   11017   00:A516                      
   11018   00:A516                      
   11019   00:A516                      
   11020   00:A516                      
   11021   00:A516                      
   11022   00:A516                      
   11023   00:A516                      ;48KB routines
   11024   00:A516                      
   11025   00:A516                      ; ------------------------------
   11026   00:A516                      ; SETROMPAGE0			
   11027   00:A516                      ; Posiciona nuestro cartucho en 
   11028   00:A516                      ; Pagina 0
   11029   00:A516                      ; -----------------------------
   11030   00:A516                      
   11031   00:A516                      setrompage0:			
   11032   00:A516                      				
   11033   00:A516  3A 00 C0                    				ld		a,(SLOTVAR)		
   11034   00:A519  18 03               				        jr		setslotpage0	
   11035   00:A51B                      				
   11036   00:A51B                      			
   11037   00:A51B                      			
   11038   00:A51B                      ; ------------------------------
   11039   00:A51B                      ; RECBIOS
   11040   00:A51B                      ; Posiciona la bios ROM
   11041   00:A51B                      ; -------------------------------
   11042   00:A51B                      					
   11043   00:A51B                      recbios:		
   11044   00:A51B  3A C1 FC                    				ld		a,(EXPTBL)
   11045   00:A51E                      				
   11046   00:A51E                      			
   11047   00:A51E                      
   11048   00:A51E                      ; ---------------------------
   11049   00:A51E                      ; SETSLOTPAGE0
   11050   00:A51E                      ; Posiciona el slot pasado 
   11051   00:A51E                      ; en pagina 0 del Z80
   11052   00:A51E                      ; A: Formato FxxxSSPP
   11053   00:A51E                      ; ----------------------------
   11054   00:A51E                                  
   11055   00:A51E                      setslotpage0:       
   11056   00:A51E  F3                  	di
   11057   00:A51F                      
   11058   00:A51F  47                  	ld      b,a                 ; B = Slot param in FxxxSSPP format                
   11059   00:A520                      
   11060   00:A520                      
   11061   00:A520  DB A8               	in      a,(0A8h)
   11062   00:A522  E6 FC               	and     011111100b
   11063   00:A524  57                  	ld      d,a                 ; D = Primary slot value
   11064   00:A525                      
   11065   00:A525  78                  	ld      a,b         
   11066   00:A526                      
   11067   00:A526  E6 03               	and     03  
   11068   00:A528  B2                  	or      d
   11069   00:A529  57                  	ld      d,a                 ; D = Final Value for primary slot 
   11070   00:A52A                      
   11071   00:A52A                      
   11072   00:A52A  D3 A8               	out     (0A8h),a
   11073   00:A52C                      
   11074   00:A52C                      	; Check if expanded
   11075   00:A52C  78                  	ld      a,b
   11076   00:A52D  CB 7F               	bit     7,a
   11077   00:A52F  C8                  	ret     z   
   11078   00:A530                      
   11079   00:A530  E6 03               	and     03h                             
   11080   00:A532  0F                  	rrca
   11081   00:A533  0F                  	rrca
   11082   00:A534  E6 C0               	and     011000000b
   11083   00:A536  4F                  	ld      c,a                 
   11084   00:A537  7A                  	ld      a,d
   11085   00:A538  E6 3F               	and     00111111b
   11086   00:A53A  B1                  	or      c
   11087   00:A53B  4F                  	ld      c,a                 ; Primary slot value with main slot in page 3  
   11088   00:A53C                      
   11089   00:A53C  78                  	ld      a,b
   11090   00:A53D  E6 0C               	and     00001100b
   11091   00:A53F  0F                  	rrca
   11092   00:A540  0F                  	rrca    
   11093   00:A541  E6 03               	and     03h
   11094   00:A543  47                  	ld      b,a                 ; B = Expanded slot in page 3
   11095   00:A544  79                  	ld      a,c
   11096   00:A545  D3 A8               	out     (0A8h),a            ; Slot : Main Slot, xx, xx, Main slot
   11097   00:A547  3A FF FF            	ld      a,(0FFFFh)
   11098   00:A54A  2F                  	cpl
   11099   00:A54B  E6 FC               	and     011111100b
   11100   00:A54D  B0                  	or      b
   11101   00:A54E  32 FF FF            	ld      (0FFFFh),a          ; Expanded slot selected 
   11102   00:A551                      
   11103   00:A551  4F                  	ld      c,a
   11104   00:A552                      
   11105   00:A552                      								; Slot Final. Ram, rom c, rom c, Main
   11106   00:A552  7A                  	ld      a,d                 ; A = Final value
   11107   00:A553  D3 A8               	out     (0A8h),a
   11108   00:A555                      
   11109   00:A555  E6 03               	and     3                   ; Set value in STLTBL 
   11110   00:A557  11 C5 FC            	ld      de,SLTTBL    
   11111   00:A55A  83                  	add     a,e
   11112   00:A55B  5F                  	ld      e,a
   11113   00:A55C  30 01               	jr      nc,.nocarry
   11114   00:A55E  14                  	inc     d
   11115   00:A55F                      .nocarry:
   11116   00:A55F  79                  	ld      a,c
   11117   00:A560  12                  	ld      (de),a
   11118   00:A561                      
   11119   00:A561  C9                  	ret
   11120   00:A562                      
   11121   00:A562  (0046)              COLOR_FINAL:	incbin	"TILES_FINAL.col"
   11122   00:A5A8  (0508)              TILES_FINAL:	incbin	"TILES_FINAL.til"
   11123   00:AAB0                                          
   11124   00:AAB0                      setslotpage0_end:
   11125   00:AAB0                                      
   11126   00:AAB0                      ;paso_negro_der:	incbin	"PASO_NEGRO_DERECHA_PLETTER.DAT"
   11127   00:AAB0  (0036)              paso_negro_izq:	incbin	"PASO_NEGRO_IZQUIERDA_PLETTER.DAT"				;paso oscuro de 2 pantallas cuando no hay luz
   11128   00:AAE6  (00C4)              entre_fases:	incbin	"ENTRESAN.DAT"
   11129   00:ABAA  (0126)              fase_17:		incbin	"FASE_17_pletter.dat"							
   11130   00:ACD0  (0130)              fase_18:		incbin	"FASE_18_pletter.dat"
   11131   00:AE00                      ;fase_19:		incbin	"FASE_19_pletter.dat"   						;por si se libera memoria
   11132   00:AE00  (01F5)              FINAL_ING:		incbin	"FINAL_TEMPLO_ingles.dat"
   11133   00:AFF5  (01F1)              FINAL:			incbin	"FINAL_TEMPLO.dat"
   11134   00:B1E6                      
   11135   00:B1E6  00 (3610)           		ds		#C000-$													;rellena hasta fin de la aplicacion
   11136   00:C000                      		
   11137   00:C000                      		
   11138   00:C000                      ;VARIABLES						DONDE SE SITUAN							OCUPAN	DESCRIPCION
   11139   00:C000                      
   11140   00:C000  (00:C000)           inicio_ram:						equ	#c000								;0		describe el inicio de variables
   11141   00:C000                      		
   11142   00:C000  (00:C001)           idioma:							equ	inicio_ram+1						;1		0 ingles 1 castellano 2 catalán
   11143   00:C000                      
   11144   00:C000  (00:C002)           petiso_que_toca:				equ	idioma+1							;1		0 quieto 1 saltando
   11145   00:C000  (00:C003)           petisox:						equ	petiso_que_toca+1					;1
   11146   00:C000  (00:C004)           petisoy:						equ	petisox+1							;1
   11147   00:C000  (00:C005)           espera_petiso:					equ	petisoy+1							;1
   11148   00:C000  (00:C006)           espera_petiso_resta:			equ	espera_petiso+1						;1
   11149   00:C000  (00:C007)           espera_petiso_resta_2:			equ	espera_petiso_resta+1				;1
   11150   00:C000  (00:C008)           y_exp:							equ	espera_petiso_resta_2+1				;1		y de la posicion de exp
   11151   00:C000  (00:C009)           valor_suma_resta_exp:			equ	y_exp+1								;1		para sumar y restar a y y crear el efecto de movimiento
   11152   00:C000  (00:C00A)           direccion_exp:					equ	valor_suma_resta_exp+1				;1		para saber si lo suma o si lo resta
   11153   00:C000  (00:C00B)           cuenta_gira_exp:				equ	direccion_exp+1						;1		para darle la vuelta
   11154   00:C000  (00:C00C)           retardo_exp:					equ	cuenta_gira_exp+1					;1		hacer más lenta la secuencia de exp
   11155   00:C000                      
   11156   00:C000  (00:C00D)           VIEJA_INTERR:					EQU	retardo_exp+1						;5		le damos 5 bytes para guardar la información que había en la interrupción
   11157   00:C000  (00:C012)           fuego_cambia:					equ	VIEJA_INTERR+5						;2		dos posiciones del fuego del menu 1 y 2
   11158   00:C000  (00:C014)           fuego_cambiante:				equ	fuego_cambia+2						;1		
   11159   00:C000  (00:C015)           y_serp:							equ	fuego_cambiante+1					;1		coordenada y de la sepiente de menu
   11160   00:C000                      
   11161   00:C000  (00:C016)           nivel:							equ	y_serp+1							;1		0 nevel 1 - 1 nivel 2
   11162   00:C000                      
   11163   00:C000  (00:C017)           clock:							equ	nivel+1								;2		variables de tiempo para intercalar menu y creditos
   11164   00:C000  (00:C019)           CLOCK:							equ	clock+2								;2		variable de tiempo para cuando hay 2 necearias
   11165   00:C000  (00:C01B)           px:								equ	CLOCK+2								;1		x prota
   11166   00:C000  (00:C01C)           py:								equ	px+1								;1		y prota
   11167   00:C000  (00:C01D)           puede_cambiar_de_direccion:		equ	py+1								;1		0 - no 1 - si
   11168   00:C000  (00:C01E)           vidas_prota:					equ	puede_cambiar_de_direccion+1		;1		vidas del protagonista
   11169   00:C000  (00:C01F)           color_prota:					equ	vidas_prota+1						;1		7 - mojado		8 - seco
   11170   00:C000  (00:C020)           color_lineas_prota:				equ	color_prota+1						;1		1 - seco		14 - moojado
   11171   00:C000  (00:C021)           muerto:							equ	color_lineas_prota+1				;1		0 muerto - 1 vivo
   11172   00:C000  (00:C022)           fase_en_la_que_esta:			equ	muerto+1							;1		fase en la que jugamos
   11173   00:C000  (00:C023)           estado_prota:					equ	fase_en_la_que_esta+1				;1		0=quieto 1=andando 2=saltando 3=cayendo 4=subiendo/bajando
   11174   00:C000  (00:C024)           prev_dir_prota:					equ	estado_prota+1						;1		hacia qué lado miraba antes el prota
   11175   00:C000  (00:C025)           salto_pulsado:					equ	prev_dir_prota+1					;1		para que no se pueda saltar mientras se cae o ya se está saltando
   11176   00:C000  (00:C026)           pasos_de_salto:					equ	salto_pulsado+1						;1		si está saltando indica cuánto le queda para dejar de saltar
   11177   00:C000  (00:C027)           dir_prota:						equ	pasos_de_salto+1					;1		0 derecha 1 izquierda
   11178   00:C000  (00:C028)           paso:							equ	dir_prota+1							;1		0 recto 1 andando 2 subiendo A 3 subiendo B
   11179   00:C000  (00:C029)           retard_anim:					equ	paso+1								;1		entre 0 y 9
   11180   00:C000  (00:C02A)           atributos_sprite_general:		equ	retard_anim+1						;48		4 bytes y,x,patron,color PARA 4 SPRITES
   11181   00:C000  (00:C05A)           tiene_objeto:					equ	atributos_sprite_general+48			;1		0=no 1=bomba 2=cuchillo
   11182   00:C000  (00:C05B)           px_salida:						equ	tiene_objeto+1						;1		para recordar el punto de la puerta
   11183   00:C000  (00:C05C)           py_salida:						equ	px_salida+1							;1
   11184   00:C000                      
   11185   00:C000  (00:C05D)           x_explosion:					equ	py_salida+1							;1		posición de la explosión al explotar la bomba
   11186   00:C000  (00:C05E)           y_explosion:					equ	x_explosion+1						;1
   11187   00:C000  (00:C05F)           estado_de_explosion:			equ	y_explosion+1						;1		0=no 1,2,3 sprites 22,23,24
   11188   00:C000  (00:C060)           contador_retardo_explosion:		equ	estado_de_explosion+1				;1
   11189   00:C000                      
   11190   00:C000  (00:C061)           buffer_colisiones:				equ	contador_retardo_explosion+1		;736	para leer las colisiones en RAM ya que es mucho más ràpido
   11191   00:C000  (00:C341)           buffer_colisiones_2:			equ	buffer_colisiones+736				;736	la segunda pantalla
   11192   00:C000  (00:C621)           pantalla_activa:				equ	buffer_colisiones_2+736				;1		1 = patnalla 1 - 2 = pantalla 2
   11193   00:C000                      
   11194   00:C000  (00:C622)           estado_de_salto:				equ	pantalla_activa+1					;1		1a8-9a20-21a28 salto derecha - 31a38-39a50-51a58 salto izquierda
   11195   00:C000  (00:C623)           mechero:						equ	estado_de_salto+1					;1		0 no lo tienes 1 lo tienes
   11196   00:C000  (00:C624)           gasolina:						equ	mechero+1							;1		0 no lo tienes 1 lo tienes
   11197   00:C000  (00:C625)           posicion_puerta:				equ	gasolina+1							;2		posicion de la puerta
   11198   00:C000  (00:C627)           pantalla_puerta:				equ	posicion_puerta+2					;1		pantalla en la que se encuentra 1 o 2
   11199   00:C000  (00:C628)           ya_ha_cambiado_puerta:			equ	pantalla_puerta+1					;1		0 está cerrada 1 está abierta
   11200   00:C000  (00:C629)           increm:							equ	ya_ha_cambiado_puerta+1				;1		para borrado concreto de vram
   11201   00:C000                      
   11202   00:C000  (00:C62A)           tile_a_poner_agua:				equ	increm+1							;1		decide el tile que toca en el agua
   11203   00:C000                      
   11204   00:C000  (00:C62B)           score:							equ	tile_a_poner_agua+1					;2		puntos
   11205   00:C000  (00:C62D)           contador_para_puntuacion:		equ	score+2								;2		compara con score para controlar los tiles a pintar en puntuacion
   11206   00:C000  (00:C62F)           posicion_del_punto_unidades:	equ contador_para_puntuacion+2			;1		control tile unidades
   11207   00:C000  (00:C630)           posicion_del_punto_decenas:		equ	posicion_del_punto_unidades+1		;1		control tile decenas
   11208   00:C000  (00:C631)           posicion_del_punto_centenas:	equ	posicion_del_punto_decenas+1		;1		control tile centenas
   11209   00:C000  (00:C632)           posicion_del_punto_millares:	equ	posicion_del_punto_centenas+1		;1		control tile unidades de millar
   11210   00:C000  (00:C633)           cuenta_puntos_o_no:				equ	posicion_del_punto_millares+1		;1		0 no cuenta 1 si cuenta
   11211   00:C000  (00:C634)           cuanto_sumamos_a_score:			equ	cuenta_puntos_o_no+1				;1		para el contador evolutivo
   11212   00:C000                      
   11213   00:C000  (00:C635)           variables_serpiente_1:			equ	cuanto_sumamos_a_score+1			;10		0	-	serp_x_1
   11214   00:C000                      																		;		1	-	serp_y_1
   11215   00:C000                      																		;		2	-	serp_direcion_1
   11216   00:C000                      																		;		3	-	serp_paso_1
   11217   00:C000                      																		;		4	-	color_serp_1
   11218   00:C000                      																		;		5	-	cont_retardo_serp_1
   11219   00:C000                      																		;		6	-	cont_retardo_serp_1_mobil
   11220   00:C000                      																		;		7	-	retardo_veloc_serp_1
   11221   00:C000                      																		;		8	-	retardo_veloc_serp_1_mobil
   11222   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   11223   00:C000  (00:C63F)           variables_serpiente_2:			equ	variables_serpiente_1+10			;10		0	-	serp_x_2
   11224   00:C000                      																		;		1	-	serp_y_2
   11225   00:C000                      																		;		2	-	serp_direcion_2
   11226   00:C000                      																		;		3	-	serp_paso_2
   11227   00:C000                      																		;		4	-	color_serp_2
   11228   00:C000                      																		;		5	-	cont_retardo_serp_2
   11229   00:C000                      																		;		6	-	cont_retardo_serp_2_mobil
   11230   00:C000                      																		;		7	-	retardo_veloc_serp_2
   11231   00:C000                      																		;		8	-	retardo_veloc_serp_2_mobil
   11232   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   11233   00:C000  (00:C649)           variables_serpiente_3:			equ	variables_serpiente_2+10			;10		0	-	serp_x_3
   11234   00:C000                      																		;		1	-	serp_y_3
   11235   00:C000                      																		;		2	-	serp_direcion_3
   11236   00:C000                      																		;		3	-	serp_paso_3
   11237   00:C000                      																		;		4	-	color_serp_3
   11238   00:C000                      																		;		5	-	cont_retardo_serp_3
   11239   00:C000                      																		;		6	-	cont_retardo_serp_3_mobil
   11240   00:C000                      																		;		7	-	retardo_veloc_serp_3
   11241   00:C000                      																		;		8	-	retardo_veloc_serp_3_mobil
   11242   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   11243   00:C000  (00:C653)           variables_serpiente_4:			equ	variables_serpiente_3+10			;10		0	-	serp_x_4
   11244   00:C000                      																		;		1	-	serp_y_4
   11245   00:C000                      																		;		2	-	serp_direcion_4
   11246   00:C000                      																		;		3	-	serp_paso_4
   11247   00:C000                      																		;		4	-	color_serp_4
   11248   00:C000                      																		;		5	-	cont_retardo_serp_4
   11249   00:C000                      																		;		6	-	cont_retardo_serp_4_mobil
   11250   00:C000                      																		;		7	-	retardo_veloc_serp_4
   11251   00:C000                      																		;		8	-	retardo_veloc_serp_4_mobil
   11252   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   11253   00:C000  (00:C65D)           colision_cuchillo_serp_real:	equ	variables_serpiente_4+10			;1		0	-	no hay colision, 1	-	si la hay															
   11254   00:C000  (00:C65E)           serp1:							equ	colision_cuchillo_serp_real+1		;1		serpiente 1 1-presente 0-ausente
   11255   00:C000  (00:C65F)           serp2:							equ	serp1+1								;1		serpiente 2 1-presente 0-ausente
   11256   00:C000  (00:C660)           serp3:							equ	serp2+1								;1		serpiente 3 1-presente 0-ausente
   11257   00:C000  (00:C661)           serp4:							equ	serp3+1								;1		serpiente 4 1-presente 0-ausente
   11258   00:C000                      
   11259   00:C000  (00:C662)           cont_no_salta_dos_seguidas:		equ	serp4+1								;1		para evitar el doble salto
   11260   00:C000                      
   11261   00:C000  (00:C663)           pasamos_la_fase:				equ	cont_no_salta_dos_seguidas+1		;1		0 estamos jugando 1 pasamos la fase
   11262   00:C000                      
   11263   00:C000  (00:C664)           momento_lanzamiento:			equ	pasamos_la_fase+1					;1		0 no lanza - 1 movm 1 - 2 mov 2 - 3 en órbita
   11264   00:C000  (00:C665)           pantalla_cuchillo:				equ	momento_lanzamiento+1				;1		1 o 2
   11265   00:C000  (00:C666)           contador_poses_lanzar:			equ	pantalla_cuchillo+1					;1		para retrasar las poses de lanzar
   11266   00:C000  (00:C667)           recordar_lo_que_habia:			equ	contador_poses_lanzar+1				;2		guarda el valor de lo que borra si hay que pintar circunstancialmente una cosa
   11267   00:C000  (00:C669)           dir_cuchillo:					equ	recordar_lo_que_habia+2				;1		la dirección hacia la que ba el cuchillo
   11268   00:C000  (00:C66A)           cx:								equ	dir_cuchillo+1						;1		x cuchillo
   11269   00:C000  (00:C66B)           cy:								equ	cx+1								;1		y cuchillo
   11270   00:C000                      
   11271   00:C000  (00:C66C)           escalera_activada:				equ	cy+1								;1		0 no - 1 si
   11272   00:C000  (00:C66D)           posicion_escalera:				equ	escalera_activada+1					;2		numero de tile que tiene que pintar de la escalera alternativa
   11273   00:C000  (00:C66F)           contador_escalera:				equ	posicion_escalera+2					;1		retardo para la construccion de la escalaera
   11274   00:C000  (00:C670)           limite_escalera					equ	contador_escalera+1					;2		numero de tile en el que tiene que parar de construir
   11275   00:C000  (00:C672)           pantalla_escalera:				equ	limite_escalera+2					;1		pantalla en la que está la escalera
   11276   00:C000                      
   11277   00:C000  (00:C673)           OUS_ACTIU:						equ	pantalla_escalera+1					;1		para saber el huevo que está activando
   11278   00:C000  (00:C674)           trampa:							equ	OUS_ACTIU+1							;1		cantidad de pasar fases que tienes
   11279   00:C000  (00:C675)           inmune_serp:					equ	trampa+1							;1		inmune a las serpientes
   11280   00:C000  (00:C676)           inmune_bomb:					equ	inmune_serp+1						;1		inmune a los bomberos
   11281   00:C000                      
   11282   00:C000  (00:C677)           grifo_estado:					equ	inmune_bomb+1						;1		0 - cerrado	1 - abierto
   11283   00:C000                      
   11284   00:C000                      
   11285   00:C000  (00:C678)           ESTADO_MUSICA:					EQU	grifo_estado+1						;1		0 - apagada y 1 - encendida
   11286   00:C000                      
   11287   00:C000  (00:C679)           vision_estado:					equ	ESTADO_MUSICA+1						;1		0 	-	no ve nada y 1 - lo ve todo
   11288   00:C000                      
   11289   00:C000  (00:C67A)           colision_bombero_prota_real:	equ	vision_estado+1						;1		0	-	no hay colision,	1	-	si la hay			
   11290   00:C000  (00:C67B)           bombero_1:						equ	colision_bombero_prota_real+1		;1		0 	- 	existe				1 	- 	no existe
   11291   00:C000  (00:C67C)           bombero_control:				equ	bombero_1+1							;13		0	-	x					(0 - 255)
   11292   00:C000                      																		;		1	-	y					(0 - 255)
   11293   00:C000                      																		;		2	.	velocidad			(1 - 3)
   11294   00:C000                      																		;		3	-	cada cuanto para	(0 - 255)
   11295   00:C000                      																		;		4	-	tiempo que para		(0 - 255)
   11296   00:C000                      																		;		5	-	paso				(0 - quieto	1 - andando)
   11297   00:C000                      																		;		6	-	direccion			(0 - derecha)	1 - izquierda)
   11298   00:C000                      																		;		7	-	en escalera			(0 - no	1 - si)
   11299   00:C000                      																		;		8	-	tiempo para aparecer(0-255)
   11300   00:C000                      																		;		9	-	retardo de velocidad(0-10)
   11301   00:C000                      																		;		10	-	0 - decide subir 1 - decide bajar 2- decide no utilizar
   11302   00:C000                      																		;		11	-	contador de reten para evitar que suba  y baje escaleras de forma seguida
   11303   00:C000                      																		;		12	-	pantalla en la que está 1 o 2
   11304   00:C000                      																
   11305   00:C000  (00:C689)           toca_bombero:					equ	bombero_control+13					;1		0 no saldrá bombero en la siguiente 1 si saldrá
   11306   00:C000  (00:C68A)           velocidad_paseo_fases:			equ	toca_bombero+1						;1		1 - mas tiempo para leer mensaje 2-menos tiempo
   11307   00:C000  (00:C68B)           tile_grifo_balsa_1:				equ	velocidad_paseo_fases+1				;2		tile en que se localiza el primer grifo de balsa
   11308   00:C000  (00:C68D)           tile_grifo_balsa_2:				equ	tile_grifo_balsa_1+2				;2		tile en que se localiza el segundo grifo de balsa
   11309   00:C000  (00:C68F)           grifos_balsa_cerrados:			equ	tile_grifo_balsa_2+2				;1		0 es cerrado - 1 es abierto
   11310   00:C000  (00:C690)           posicion_balsa_desde_grifo:		equ	grifos_balsa_cerrados+1				;2		posición en la que empieza la balsa, desde el grifo en sí
   11311   00:C000  (00:C692)           balsa_activa:					equ	posicion_balsa_desde_grifo+2		;1		0 - no 1 - si
   11312   00:C000  (00:C693)           balsa_bacia:					equ	balsa_activa+1						;1		0 - se vacio 1 - no se vacio
   11313   00:C000  (00:C694)           pantalla_tile_grifo_balsa_1:	equ balsa_bacia+1						;1		pantalla en la que está el grifo 1
   11314   00:C000  (00:C695)           pantalla_tile_grifo_balsa_2:	equ	pantalla_tile_grifo_balsa_1+1		;1		pantalla en la que está el grifo 2
   11315   00:C000  (00:C696)           pantalla_balsa:					equ	pantalla_tile_grifo_balsa_2+1		;1		pantalla en la que está la balsa
   11316   00:C000  (00:C697)           GAME_OVER:						equ	pantalla_balsa+1					;390	MUSICA FIN PARTIDA
   11317   00:C000                      
   11318   00:C000  (00:C81D)           MUTE:							EQU	GAME_OVER+390						;117	silencio musical								
   11319   00:C000  (00:C892)           MUERTO:							EQU	MUTE+117							;373	MUSICA MUERTO
   11320   00:C000  (00:CA07)           clock_1:						equ	MUERTO+373							;1		VARIALBLE A DEFINIR
   11321   00:C000  (00:CA08)           ENTRE_FASES:					equ	clock_1+1							;470	MUSICA ENTRE FASES
   11322   00:C000  (00:CBDE)           sticky:							equ	ENTRE_FASES+470						;1		stick o strig 0 o 1
   11323   00:C000  (00:CBDF)           EFECTOS_BANCO:					equ	sticky+1							;1939	efectos de sonido
   11324   00:C000  (00:D372)           posicion_brillo_items:			equ	EFECTOS_BANCO+1939					;1		control para el brillo de los items
   11325   00:C000  (00:D373)           GEN_MUSIC:						EQU	posicion_brillo_items+1				;2925	MUSICA INICIO
   11326   00:C000  (00:DEE0)           sigue_pulsando					equ	GEN_MUSIC+2925						;1		controla que no se pulse dos veces seguidas una dirección durante el menu
   11327   00:C000  (00:DEE1)           VDPW99:                         equ  sigue_pulsando + 1
   11328   00:C000  (00:DEE2)           VDPW98:                         equ VDPW99 + 1
   11329   00:C000  (00:DEE3)           valor_a_cambiar_en_tile_v:		equ	VDPW98+1							;1		para controlar el triple cambio de tile con una única variable
   11330   00:C000                      

    LABELS
-------------------------------------------------
00:000000C3   CLS
00:0000006C X SCREEN0
00:0000006F   SCREEN1
00:000000D2 X MODOTEXTO
00:000000C6   LOCATE
00:000000A2   CHPUT
00:000000CC   KEYOFF
00:00000062   COLOR
00:0000F3E9   COLLETRA
00:0000F3EA   COLFONDO
00:0000F3EB   COLBORDE
00:0000009F X INPUT
00:0000F3AF X ANCHOSC0
00:0000F3AF   ANCHOSC1
00:0000F3DB   CLICKOFF
00:00000041   DISSCR
00:00000044   ENASCR
00:0000013E X RDVDP
00:00000047   WRTVDP
00:0000005C   GRABAVRAM
00:00000059 X GRABARAM
00:0000005F   SCREENX
00:000000D5   ONSTICK
00:000000D8   ONSTRIG
00:0000003B X RESET
00:0000FD9A X H.KEYI
00:0000FD9F   H.TIMI
00:00000141   SNSMAT
00:00000024   ENASLT
00:0000FCC1   EXPTBL
00:0000FCC5   SLTTBL
00:00000138   RSLREG
00:0000C000   SLOTVAR
00:0000F3DF X RG0SAV
00:0000F3E0   RG1SAV
00:0000F3E1 X RG2SAV
00:0000F3E2 X RG3SAV
00:0000F3E3 X RG4SAV
00:0000F3E4 X RG5SAV
00:0000F3E5 X RG6SAV
00:0000F3E6 X RG7SAV
00:0000FFE8   RG9SAV
00:0000F3E7 X STATFL
00:00000069 X CLRSPR
00:00000000   instru_caste
00:0000011E   instru_ingle
00:0000022D   CANCION
00:000007DA   SILENCIO
00:000007F6   MUSICA_GAMEOVER
00:000008BC   MUSICA_FASES
00:00000C08   MUSICA_MUERTO
00:00000CEB   MUSICA_ENTRE_FASES
00:00000DD9   pant_carga_til
00:000018AA   pant_carga_col
00:00001D82   pant_carga
00:00001EAA   tiles_1
00:00002411   colores_1
00:00002728   fase_1
00:000027C0   fase_2
00:000028B9   fase_3
00:000029E6 X relleno_page_0_
00:00004010   START
00:0000402A   ampliamos_lectura_a_32kb
00:00004094   search_slotset
00:0000409A   search_slot
00:000040BB   PANTALLA_DE_CARGA
00:000040C9   colores_inicio
00:000040D8   cargando_patrones
00:00004104 X INICIA_MUSICA
00:00004121   petisos
00:0000413A   petiso_activity
00:00004175   petiso_a_saltar
00:00004184   registros_petiso
00:000041BD   exp_activity
00:000041D1 X exp_suma_posicion
00:000041ED   exp_resta_posicion
00:00004213   exp_sprites
00:0000421A X exp_sprite_1
00:0000421E   exp_sprites_diferente
00:0000423A   exp_sprite_2
00:0000423E   exp_sprite_3
00:00004242   exp_sprite_4
00:00004246   exp_sprite_5
00:0000424A   registros_exp
00:00004290   MENU
00:000042AF X PREPARA_VARIABLES_SERPIENTE
00:000042E7 X RUTINA_DE_MENU
00:00004323 X PANTALLA_DE_SELECCION
00:00004347 X menu_ingles
00:00004397   menu_castellano
00:000043E5   rutina_colores_inicio
00:000043F3   rutina_colores_pinto
00:000043FC   reinicia_fuego
00:00004403   cambia_variable_fuego
00:0000440E   cambia_variable_fuego_2
00:00004414   anima_fuego
00:0000444B   anima_fuego_2
00:0000447B   contro_serpiente_a_pintar
00:00004497   control_stick_menu
00:000044B1   mas_control
00:000044C3   control_stick_menu_para_dos_sticks
00:000044D1   limpiamos_la_ultima_opcion
00:000044D5   control_strig_menu
00:000044EA X controla_tiempo_para_cambio
00:000044ED   que_ha_elegido
00:00004509   idioma_a_pintar
00:0000450F X castellano
00:00004517   ingles
00:0000451E   prepara_nivel_1
00:00004525   prepara_nivel_2
00:0000452D   lee_pinta_una
00:0000452F   loop_lee_pinta_una
00:00004537   pinta_serpiente_1
00:0000454E   sube_cursor
00:0000455C   lo_sube
00:00004578   baja_cursor
00:00004586   lo_baja
00:000045A2   limpia_sprites
00:000045D0   prepara_juego
00:00004602 X instrucciones_en_ingles
00:0000460D   instrucciones_en_castellano
00:00004616   animaciones_de_instrucciones
00:00004624   animaciones_de_instrucciones_1
00:0000469C   animaciones_de_instrucciones_2
00:000046F6   animaciones_de_instrucciones_3
00:00004750   animaciones_de_instrucciones_4
00:00004784   animaciones_de_instrucciones_5
00:00004794   vamos_alla
00:00004799   esperando
00:000047AB   datos_a_preparar
00:000047FC   define_espera_entre_fases
00:00004803   coordenadas_prota
00:00004811   bloque_sanctuary_1
00:0000481F   bloque_sanctuary_1_esp
00:00004822   bloque_sanctuary_1_cont
00:0000488D   bloque_sanctuary_2
00:0000489B   bloque_sanctuary_2_esp
00:0000489E   bloque_sanctuary_2_cont
00:00004904   bloque_sanctuary_3
00:00004912   bloque_sanctuary_3_esp
00:00004915   bloque_sanctuary_3_cont
00:0000497C   bloque_sanctuary_4
00:0000497F X pinta_mando_de_luz_en_su_sitio
00:0000498D X pantalla_en_mas_blanco
00:0000499E   pantalla_en_blanco
00:000049B8   copiamos_en_pantalla_lo_de_memoria
00:000049C4   copiamos_en_pantalla_lo_de_memoria_2
00:000049C7   copiamos_en_pantalla_lo_de_memoria_tras_buffer
00:000049D0   anunciamos_el_santuario_correspondiente
00:000049D9   anunciamos_el_santuario_correspondiente_numero
00:000049E5   variables_iguales
00:00004AD7   variables_serpientes
00:00004AF7   SPRITES_PETISOS
00:00004B03 X SPRITES_OJOS
00:00004B0F   SPRITES_UNO
00:00004B2C   SPRITES_DOS
00:00004B50   SPRITES_PAUSA
00:00004B5C   SPRITES_BOMBA
00:00004B68   SPRITES_CUCHILLO
00:00004B74   SPRITES_PROTA_NORMAL
00:00004B80   SPRITES_BOMBERO_PERSIGUE
00:00004B8C   string_de_espera
00:00004B9B   activa_mute
00:00004BA6   activa_musica_fases
00:00004BD0   activa_musica_menu
00:00004BEA   activa_musica_muerto
00:00004BF5   activa_musica_entre_fases
00:00004C00   rutina_de_esperar_un_rato
00:00004C0F   PREPARACION_SCREEN_2
00:00004C21   gran_rutina
00:00004C81   ous
00:00004D18   ous_inici
00:00004D3E   ous_1_2
00:00004D49   ous_1_3
00:00004D54   ous_1_4
00:00004D5F   ous_1_5
00:00004D6A   ous_1_6
00:00004D75   ous_1_7
00:00004D80   ous_1_8
00:00004D8B   inicia_ou_2
00:00004D91   inicia_ou_3
00:00004D97   inicia_ou_4
00:00004D9D   ous_2_3
00:00004DA7   ous_2_4
00:00004DB1   ous_2_6
00:00004DBB   ous_2_7
00:00004DC6   ous_3_2
00:00004DD0   ous_3_3
00:00004DDA   ous_3_6
00:00004DE4   ous_3_7
00:00004DEE   ous_3_8
00:00004DF8   ous_4_4
00:00004E02   ous_4_5
00:00004E0C   ous_4_10
00:00004E16   aumenta_ou
00:00004E1E   inmune_a_serpientes
00:00004E2D   inmune_bombero
00:00004E3C   dos_vidas_mas
00:00004E53   activa_pasa_fases
00:00004E62   variantes_de_items
00:00004E8B   standard_brillo
00:00004E95   variante_1
00:00004EA6   variante_2
00:00004EB7   variante_3
00:00004EC8   variante_4
00:00004ED9   variante_5
00:00004EEA   variante_6
00:00004EFB   variante_7
00:00004F0D   variante_8
00:00004F25   reinicia_brillo_items
00:00004F2A   standard_tiles_cambiantes
00:00004F34   resto_de_standard
00:00004F5D   standard_tiles_cambiantes_2
00:00004F67   standard_tiles_cambiantes_3
00:00004F71   standard_tiles_cambiantes_4
00:00004F7B   tiles_cambiantes
00:00004FE4   tiles_cambiantes_1
00:0000502C   reset_clock
00:0000503F   reset_clock_2
00:00005044   limpia_clock_a_10
00:0000504C   diferencias_en_las_fases
00:0000505B   final_diferencias_fase
00:0000505C   diferencias_en_las_fases_2
00:00005065   POINT_de_diferencias_fase_1
00:00005089   POINT_de_diferencias_fase_2
00:000050AD   cambios_fase_1
00:000050B7   cambios_fase_3
00:000050DC   cambios_fase_4
00:000050E1   cambios_fase_5
00:000050EB   cambios_fase_6
00:000050F0   cambios_fase_7
00:00005104   cambios_fase_8
00:0000511A   cambios_fase_10
00:00005129   cambios_fase_13
00:0000513B X cambios_fase_14
00:0000514D   cambios_fase_17
00:0000515C   vigila_si_cierra_puertas
00:00005180   movimiento_forzado_en_puertas
00:00005197   recoloca_puerta_amarilla_derecha
00:000051C9   recoloca_puerta_amarilla_izquierda
00:000051FC   recoloca_puerta_azul_derecha
00:0000522E   recoloca_puerta_azul_izquierda
00:00005261   grifos_balsa_bombero
00:00005291   grifos_balsa_bombero_2
00:00005298   grifos_balsa_bombero_3
00:000052B2   grifos_balsa_bombero_4
00:000052B9   grifos_balsa_bombero_5
00:000052D3   grifos_balsa_bombero_6
00:000052DA   grifos_balsa_bombero_7
00:00005318   grifos_balsa_bombero_8
00:0000531F   grifos_balsa_bombero_9
00:00005327   grifos_balsa_bombero_cierre
00:0000532C   grifo_bombero
00:00005377   grifo_bombero_continua
00:00005386   grifo_bombero_1
00:0000538B   que_pinto_de_la_balsa
00:000053A5 X balsa_a_pintar_si_cerrado_grifo
00:000053B5   balsa_a_pintar_si_cerrado_grifo_1
00:000053BC   balsa_a_pintar_si_cerrado_grifo_2
00:000053CC   balsa_a_pintar_si_cerrado_grifo_3
00:000053D3   balsa_a_pintar_si_cerrado_grifo_4
00:000053F6   balsa_a_pintar_si_abierto_grifo
00:00005406   balsa_a_pintar_si_abierto_grifo_1
00:0000540D   balsa_a_pintar_si_abierto_grifo_2
00:00005427   balsa_a_pintar_si_abierto_grifo_3
00:0000542E   balsa_a_pintar_si_abierto_grifo_4
00:00005451   revisa_bombero
00:00005465   se_activa_el_bombero
00:000054A1   resta_y_camina
00:000054A8   revisa_subida_bombero
00:000054BD   continua_rvb
00:000054DF   revisa_bajada_bombero
00:000054FC   continua_rbb
00:00005519   corrige_en_escalera_bombero
00:00005522   sigue_andando
00:0000552D   decide_paso_en_escalera
00:00005537   paso_uno_escaleras
00:00005544   paso_dos_escaleras
00:00005550   revisa_caida_bombero
00:000055DD   define_direccion_bombero
00:000055E7 X va_hacia_la_izquierda
00:0000561B X paso_movido_izquierda
00:00005627   paso_quieto_izquierda
00:00005634   va_hacia_la_derecha
00:00005668 X paso_movido_derecha
00:00005673   paso_quieto_derecha
00:0000567F   cambia_la_direccion_bombero
00:00005685 X cambia_a_derecha
00:0000568E   cambia_a_izquierda
00:00005698   hacia_donde_quiero_ir
00:000056B5   bombero_cambia_de_pantalla
00:000056BC X bombero_cambia_de_pantalla_a_1
00:000056CA   bombero_cambia_de_pantalla_a_2
00:000056D8   damos_valor_bajada_bombero
00:000056DE   damos_valor_subida_bombero
00:000056E4   estamos_en_escalera
00:000056EB   ultimas_variables_bombero
00:00005719   ultimas_variables_bombero_2
00:00005735   bombero_variables_anuladas
00:00005747   revisa_escalera
00:0000576C   revisa_escalera_pantalla_2
00:0000576F   revisa_escalera_continua
00:000057BD   revisa_escalera_continua_2
00:000057D5   se_acabo_la_escalera
00:000057DA   pulsa_una_tecla
00:000057E7   pulsa_una_tecla_sigue
00:00005802   pasa_fase_con_trampa
00:00005814   una_vida_menos
00:00005826   musica_off_on
00:0000583E   reconectamos_musica
00:00005847   reconectamos_musica_2
00:00005850   pausa_el_juego
00:0000586C   rutina_de_pausa
00:00005878 X animacion_rutina_de_pausa_1
00:0000589A   animacion_rutina_de_pausa_2
00:000058C3   animacion_rutina_de_pausa_3
00:000058D0   mira_si_aprieta_una_tecla
00:000058DF   mira_si_aprieta_una_tecla_dos
00:000058E7   reconectamos
00:0000590E   reconectamos_bomba
00:00005913   reconectamos_cuchillo
00:00005916   reconectamos_sigue
00:00005929   repite_fase
00:0000593F X buscando_la_fase
00:00005945   lista_de_opciones
00:00005950   POINT_de_acceso_a_fases
00:00005958   termina_partida_mal
00:00005971 X termina_en_ingles
00:0000598B   termina_en_castellano
00:000059A3   termina_partida_mal_continua
00:000059B5   string_para_reiniciar_programa
00:000059DD   resetea_para_continue
00:000059E3   inicio
00:000059E9   musica_sin_bucle
00:000059F4   musica_con_bucle
00:000059FF   colision_bombero_prota
00:00005A78   muy_mojado_fin_partida
00:00005A89   colisiones_serpientes_prota_1
00:00005AB0   comunes_muerte_por_serpiente
00:00005AD0   espera_por_muerte
00:00005AE8   comun_colision_serpentes_1
00:00005AF1   comun_colision_serpentes_2
00:00005AF9   comun_colision_serpentes_3
00:00005B07   colisiones_serpientes_prota_2
00:00005B2A   colisiones_serpientes_prota_3
00:00005B52   colisiones_serpientes_prota_4
00:00005B72   coteja_colision_prota_serpiente
00:00005BB4   coteja_colision_prota_bombero
00:00005BD2   coteja_colision_prota_bombero_menos_siete
00:00005BD9   coteja_colision_prota_bombero_sigue
00:00005C07   colisiones_serpientes_cuchillos_comun_1
00:00005C10   colisiones_serpientes_cuchillos_comun_2
00:00005C18   colisiones_serpientes_cuchillos_comun_3
00:00005C23   colisiones_serpientes_cuchillos
00:00005C3C X colision_cuchillo_serp_1
00:00005C47   colision_cuchillo_serp_2
00:00005C65   colision_cuchillo_serp_3
00:00005C83   colision_cuchillo_serp_4
00:00005C9E   colision_cuchillo_serpiente
00:00005D00   colision_cuchillo_serpiente_continua
00:00005D14   atributos_sprites
00:00005D20   estado_en_que_se_encuentra
00:00005D4F   continua_estado
00:00005DA6   cambio_estado_a_subiendo_para_la_caida
00:00005DAC   segunda_comprovacion_caida
00:00005DBF   final_rutina_sin_caida
00:00005DC4   ultima_rectificacion_de_caida
00:00005DD0   caigo
00:00005E15   rectifico_caida_a_izquierda
00:00005E2D   rectifico_caida_a_derecha
00:00005E35   mueve_prota
00:00005E4F   stick_mando
00:00005E6B   stick_mando_2
00:00005E75   sube_escaleras
00:00005ECA   sube_escaleras_afirmativo
00:00005EE2   a_mover_a_la_izquierda
00:00005EEB   comprueba_derecha
00:00005F06   a_mover_a_la_derecha
00:00005F0D   a_subir
00:00005F1C   baja_escaleras
00:00005F46   baja_escaleras_afirmativo
00:00005F5A   a_mover_a_la_izquierda_bajando
00:00005F63   comprueba_derecha_bajando
00:00005F7B   a_mover_a_la_derecha_bajando
00:00005F82   a_bajar
00:00005F90   mueve_izquierda_prota
00:00005FDF   actualiza_el_paso_subiendo
00:00005FED   reset_retardo_y_cambia_paso_subiendo
00:00005FFD   gira_puerta_derecha_amarilla
00:0000602B   gira_puerta_izquierda_amarilla
00:00006059   gira_puerta_derecha_azul
00:00006087   gira_puerta_izquierda_azul
00:000060B5   a_pantalla_2
00:000060D4   a_pantalla_1
00:000060F3   pinta_mando_de_luz_pantalla_1
00:000060FF   cosas_a_pintar_en_pantalla_10_1
00:00006127   cosas_a_pintar_en_pantalla_11_1
00:0000614F   pinta_mando_de_luz_pantalla_2
00:0000615B   cosas_a_pintar_en_pantalla_10_2
00:00006184   cosas_a_pintar_en_pantalla_11_2
00:000061AD   mueve_derecha_prota
00:000061F6   actualiza_el_paso
00:00006204   reset_retardo_y_cambia_paso
00:00006214   actualiza_atributos_sprite
00:00006263   lanza_derecha_1
00:00006267   lanza_derecha_2
00:0000626B   mirando_izquierda
00:0000627A   lanza_izquierda_1
00:0000627E   lanza_izquierda_2
00:00006282   mirar_paso
00:00006291   todo_va_bien
00:00006299   ultimos_valores
00:000062B2   esta_cayendo_para_el_patron
00:000062B7   esta_subiendo_o_bajando_para_el_patron
00:000062BB   end
00:000062C1   set_parado
00:000062C7   get_bloque_en_X_Y
00:000062ED   cargando_pantalla_2
00:000062F0   get_bloque_en_X_Y_continua
00:000062F8   get_bloque_en_X_Y_paravram
00:00006313 X pone_estado_prota_a_0
00:00006317   pose_si_esta_parado
00:0000632B   esta_en_escalera
00:00006331   usa_objeto_o_salta
00:0000636F   sigue_comprobando
00:00006381   reduce_el_contador_de_salto
00:00006386   decide_si_usa_o_salta
00:000063E8   fase_superada
00:000063FE   apaga_los_chorros
00:00006434   quita_a_tu_derecha
00:00006470   quita_encima_tuyo
00:000064AC   quita_a_tu_izquierda
00:000064E8   quita_a_tu_derecha_2
00:00006536   quita_a_tu_izquierda_2
00:00006572   coge_algun_objeto
00:0000660C   quitamos_el_tapon
00:0000661E X quitamos_el_tapon_en_1
00:00006627   quitamos_el_tapon_en_2
00:0000662E   quitamos_el_tapon_continua
00:00006663   quitamos_el_tapon_final
00:0000666D   cierra_los_grifos_de_balsa
00:00006681 X cierra_los_grifos_de_balsa_1
00:0000668A   cierra_los_grifos_de_balsa_2
00:00006691   cierra_los_grifos_de_balsa_3
00:000066A2 X cierra_los_grifos_de_balsa_4
00:000066AC   cierra_los_grifos_de_balsa_5
00:000066B3   cierra_los_grifos_de_balsa_6
00:000066C7 X cierra_los_grifos_de_balsa_7
00:000066CF   cierra_los_grifos_de_balsa_8
00:000066D9 X cierra_los_grifos_de_balsa_9
00:000066E1   cierra_los_grifos_de_balsa_10
00:000066EB   activa_escalera_extra
00:00006709   activa_chorro_1
00:00006751   activa_chorro_2
00:00006799   moja_prota
00:000067A4   coge_toalla
00:000067D5   vida_extra
00:00006803   cierra_grifo
00:0000682E   coge_mechero_por_derecha
00:00006842 X coge_mechero_por_izquierda
00:00006856 X coge_mechero
00:0000687F   damos_la_luz
00:000068A3   coge_gasolina_por_derecha
00:000068B9   coge_gasolina_por_izquierda
00:000068CD   coge_gasolina
00:000068ED   pinta_algo_solo
00:000068F9   coge_la_bomba
00:00006930   coge_cuchillo
00:00006966   usa_bomba
00:00006973   continuamos
00:000069A8   continuamos_2
00:000069AD   continuamos_3
00:000069C3   segunda_comprovacion_de_agujeros
00:000069D8   hace_agujero_1
00:000069FB   hace_agujero_1_2
00:00006A0F   hace_agujero_2
00:00006A33   hace_agujero_2_2
00:00006A47   hace_agujero_3
00:00006A76   hace_agujero_3_2
00:00006A8A   usa_cuchillo
00:00006AAA   rutina_cuchillo_volador
00:00006ACB   comprueba_lugar_cuchillo
00:00006AD7 X lanzamos_a_la_derecha
00:00006B16   lanzamos_a_la_derecha_final
00:00006B1C   lanzamos_a_la_izquierda
00:00006B64   lanzamos_a_la_izquierda_final
00:00006B6A   avanza_cuchillo
00:00006B72 X avanza_hacia_la_derecha
00:00006BBD   avanza_hacia_la_derecha_continua
00:00006BF7   avanza_hacia_la_derecha_continua_2
00:00006C00   cuchillo_cambia_a_pantalla_dos
00:00006C21   clava_a_la_derecha
00:00006C4F   continua_clava_derecha_normal
00:00006C7B   avanza_hacia_la_izquierda
00:00006CCB   avanza_hacia_la_izquierda_continua
00:00006D05   avanza_hacia_la_izquierda_continua_2
00:00006D0E   cuchillo_cambia_a_pantalla_uno
00:00006D2F   clava_a_la_izquierda
00:00006D5B   continua_clava_izquierda_normal
00:00006D7E   fin_de_secuencia_cuchillo
00:00006D83 X trabajamos_en_pantalla_cuchillo
00:00006D8E   reclamo_posicion_cuchillo
00:00006D97   actualiza_la_puerta
00:00006E33   final_actualiza_puerta
00:00006E3A   alegria_de_color
00:00006E76   comprueba_estado_de_explosion
00:00006EB4   finalizamos_la_explosion
00:00006ECB   puntuacion_vidas_fase
00:00006EE3 X puntuacion_vidas_fase_2
00:00006F0E   pon_vidas_a_maximo
00:00006F14   fase_superior_a_diez
00:00006F21   rutina_de_puntos
00:00006F36   resetea_los_numeros
00:00006F69   termina_de_contar_puntuacion
00:00006F8D   ha_saltado
00:00006F9B   salta_hacia_la_derecha
00:00006FAA   salta_hacia_la_izquierda
00:00006FB9   salta_sube
00:00006FE2   la_y_a_la_derecha
00:00006FEA   salta_resolucion
00:00006FFD   resetea_el_salto
00:00007007   salta_sube_izquierda
00:00007033   la_y_a_la_izquierda
00:0000703B   salta_sigue
00:0000704F   salta_sigue_izquierda
00:00007062   salta_baja
00:000070B0   salta_baja_izquierda
00:000070F5   animacion_entre_fases
00:00007100   quemando_al_prota
00:0000712B   rutina_espera_quemando_1
00:00007144   rutina_espera_quemando_2
00:0000718E   completamos_la_frase_en_ingles
00:0000719A   ha_saltado_la_rutina_anterior
00:000071A0   rutina_pone_consejo
00:000071CD   consejos_fase_2
00:000071D3 X consejo_ing_fase_2
00:000071DF   consejo_esp_fase_2
00:000071EB   consejos_fase_3
00:000071F1 X consejo_ing_fase_3
00:000071FD   consejo_esp_fase_3
00:00007209   consejos_fase_4
00:0000720F X consejo_ing_fase_4
00:00007215   consejo_esp_fase_4
00:0000721B   consejos_fase_5
00:00007221 X consejo_ing_fase_5
00:0000722D   consejo_esp_fase_5
00:00007239   consejos_fase_6
00:0000723F X consejo_ing_fase_6
00:0000724B   consejo_esp_fase_6
00:00007251   consejos_fase_7
00:00007257 X consejo_ing_fase_7
00:00007263   consejo_esp_fase_7
00:00007269   consejos_fase_8
00:0000726F X consejo_ing_fase_8
00:0000727B   consejo_esp_fase_8
00:00007287   consejos_fase_9
00:0000728D X consejo_ing_fase_9
00:000072A5   consejo_esp_fase_9
00:000072AB   rutina_espera_quemando_2_cont
00:000072BB   paseito_entre_fases
00:0000731E X aparece_el_bombero
00:00007354 X aparece_el_bombero_2
00:0000736B X aparece_el_bombero_3
00:00007382 X aparece_el_bombero_4
00:00007399 X aparece_el_bombero_5
00:000073B0 X aparece_el_bombero_6
00:000073C5   aparece_el_bombero_7
00:000073EE X aparece_el_bombero_8
00:0000742F   aparece_el_bombero_9
00:00007438   tiles_cambiantes_entre_fases
00:00007457   tiles_cambiantes_1_entre_fases
00:00007460   limpia_clock_a_10_entre_fases
00:00007468   espera_de_animaciones
00:00007474   suma_a_y
00:00007479   movimiento_serpientes
00:0000747D X analiza_serpiente_1
00:00007499   analiza_serpiente_2
00:000074B5   analiza_serpiente_3
00:000074D1   analiza_serpiente_4
00:000074EC   atributos_serpiente_detallados
00:0000751F   no_Esta_en_pantalla
00:0000752F   pinta_muerta_1
00:00007542   pinta_muerta_2
00:00007555   pinta_muerta_3
00:00007568   pinta_muerta_4
00:00007578   pintamos_serpiente_muerta
00:0000759F   rutina_de_movimiento_serpientes
00:000075AF X resta_x_serpiente
00:000075FC   resta_x_serpiente_final
00:00007605   suma_x_serpiente
00:00007651   suma_x_serpiente_final
00:0000765A   va_a_pantalla_1
00:00007666   va_a_pantalla_2
00:00007672   serp_cambia_paso_a_derecha
00:00007679   serp_cambia_paso_a_izquierda
00:0000767F   pose_serp
00:00007695 X paso_1_serp
00:0000769C   paso_2_serp
00:000076A0   elegir_sprite_serp
00:000076A6 X suma_direccion_0_serp
00:000076AC X suma_paso_00_serp
00:000076B2   suma_paso_01_serp
00:000076B8   suma_direccion_1_serp
00:000076BE X suma_paso_10_serp
00:000076C4   suma_paso_11_serp
00:000076CA X uno_diez
00:000076D3   seis_diez
00:000076D9   x_diez
00:000076E0   dos_diez
00:000076E8   menos_dos_diez
00:000076F0   seis_dos
00:000076F6   x_dos
00:000076FD   cero_cero
00:00007701   x_cero
00:00007706   menos_uno_cero
00:0000770E X siete_dieciseis
00:00007714   x_dieciseis
00:0000771B   menos_uno_dieciseis
00:00007722   dieciseis_dieciseis
00:0000772A   menos_dos_dieciocho
00:00007730   x_dieciocho
00:00007737   catorce_diez
00:0000773F   diez_diez
00:00007747   doce_diez
00:0000774F   catorce_dos
00:00007757   catorce_dieciocho
00:0000775F X veinte_diez
00:00007769   veintidos_diez
00:00007772   menos_diez_diez
00:0000777B   seis_dieciocho
00:00007783   menos_diez_dieciocho
00:0000778B   tres_quince
00:00007791   x_quince
00:00007798   tres_dos
00:000077A1   dos_dieciocho
00:000077A9   ocho_dieciocho
00:000077B2   diez_dieciocho
00:000077BB   ocho_uno
00:000077C1 X x_uno
00:000077C7   ocho_cuatro
00:000077CF   dieciseis_quince
00:000077D7   dieciseis_dos
00:000077E0   menos_dos_menos_cuatro
00:000077E8   nueve_menos_cuatro
00:000077F0   uno_menos_cuatro
00:000077F5   x_cuatro
00:000077FC   x_cuatro_mas
00:00007803   menos_uno_quince
00:0000780A   menos_uno_dos
00:00007812   pinta_en_pantalla
00:00007824   efecto_sonido
00:00007828   CERO_CUATRO_OCHO
00:00007832   UNO_CINCO_NUEVE
00:0000783C   DOS_SEIS_DIEZ
00:0000784A   depack_VRAM
00:00007876   literal
00:0000787B   loop
00:00007884 X getlen
00:0000788A   lus
00:000078A7   lenok
00:000078B4   mode7
00:000078BA   mode6
00:000078C0   mode5
00:000078C6   mode4
00:000078CC   mode3
00:000078D2   mode2
00:000078E2   offsok
00:000078ED   offsok.loop
00:0000790F   getbit
00:00007913   getbitexx
00:00007919   Depack_out
00:0000791A   modes
00:00007928   depack
00:00007928 X unpack
00:0000794C   pletter.literal
00:0000794E   pletter.loop
00:00007957 X pletter.getlen
00:0000795D   pletter.getlen.lus
00:00007978   pletter.getlen.lenok
00:00007985   pletter.mode6
00:0000798B   pletter.mode5
00:00007991   pletter.mode4
00:00007997   pletter.mode3
00:0000799D   pletter.mode2
00:000079AD   pletter.offsok
00:000079BC   pletter.getbit
00:000079C0   pletter.getbitexx
00:000079C6   pletter.modes
00:000079D2   nuestra_isr
00:00000000   CHNPRM_PsInOr
00:00000001   CHNPRM_PsInSm
00:00000002   CHNPRM_CrAmSl
00:00000003   CHNPRM_CrNsSl
00:00000004   CHNPRM_CrEnSl
00:00000005   CHNPRM_TSlCnt
00:00000006   CHNPRM_CrTnSl
00:00000008   CHNPRM_TnAcc
00:0000000A   CHNPRM_COnOff
00:0000000B   CHNPRM_OnOffD
00:0000000C   CHNPRM_OffOnD
00:0000000D   CHNPRM_OrnPtr
00:0000000F   CHNPRM_SamPtr
00:00000011   CHNPRM_NNtSkp
00:00000012   CHNPRM_Note
00:00000013   CHNPRM_SlToNt
00:00000014   CHNPRM_Env_En
00:00000015   CHNPRM_Flags
00:00000016   CHNPRM_TnSlDl
00:00000017   CHNPRM_TSlStp
00:00000019   CHNPRM_TnDelt
00:0000001B   CHNPRM_NtSkCn
00:0000001C   CHNPRM_Volume
00:0000001D X CHNPRM_Size
00:00000000   AR_TonA
00:00000002   AR_TonB
00:00000004   AR_TonC
00:00000006   AR_Noise
00:00000007   AR_Mixer
00:00000008   AR_AmplA
00:00000009   AR_AmplB
00:0000000A   AR_AmplC
00:0000000B   AR_Env
00:0000000D   AR_EnvTp
00:000079DC   CHECKLP
00:000079ED X PT3_MUTE
00:000079F9   PT3_INIT
00:00007A38   PT3_INIT.TP_0
00:00007A44   PT3_INIT.TP_1
00:00007A4B   PT3_INIT.TP_2
00:00007AB9   PT3_INIT.L1
00:00007AC6   PT3_INIT.L2
00:00007ACA X PT3_INIT.L3
00:00007AF1   PT3_INIT.CORR_1
00:00007AFF   PT3_INIT.CORR_2
00:00007B06   PT3_INIT.TC_EXIT
00:00007B11   PT3_INIT.INITV1
00:00007B19   PT3_INIT.INITV2
00:00007B2D   PT3_INIT.INITV3
00:00007B31   PD_OrSm
00:00007B3B   PD_SAM
00:00007B3C   PD_SAM_
00:00007B52   PD_VOL
00:00007B5B   PD_EOff
00:00007B63   PD_SorE
00:00007B6D   PD_ENV
00:00007B72   PD_ORN
00:00007B77   PD_ESAM
00:00007B84   PTDECOD
00:00007B93   PD_LOOP
00:00007B96   PD_LP2
00:00007BC3   PD_NOIS
00:00007BC8   PD_REL
00:00007BCE   PD_NOTE
00:00007BD6   PD_RES
00:00007BE8   PD_FIN
00:00007BEF   C_PORTM
00:00007C3A   C_PORTM.NOSIG
00:00007C44   SET_STP
00:00007C50   C_GLISS
00:00007C63   C_SMPOS
00:00007C69   C_ORPOS
00:00007C6F   C_VIBRT
00:00007C87   C_ENGLS
00:00007C99   C_DELAY
00:00007C9F   SETENV
00:00007CBA   C_NOP
00:00007CBB   SETORN
00:00007CD4   SPCCOMS
00:00007CF4   CHREGS
00:00007D17   CHREGS.CH_ORPS
00:00007D22   CHREGS.CH_NTP
00:00007D28   CHREGS.CH_NOK
00:00007D43   CHREGS.CH_SMPS
00:00007D59   CHREGS.CH_NOAC
00:00007DA0   CHREGS.CH_STPP
00:00007DB5   CHREGS.CH_AMP
00:00007DC7   CHREGS.CH_AMIN
00:00007DCC   CHREGS.CH_SVAM
00:00007DCF   CHREGS.CH_NOAM
00:00007DD8   CHREGS.CH_APOS
00:00007DDE   CHREGS.CH_VOL
00:00007DE9 X CHREGS.CH_ENV
00:00007DF0   CHREGS.CH_NOEN
00:00007E0A   CHREGS.NO_ENAC
00:00007E11   CHREGS.NO_ENSL
00:00007E1F   CHREGS.CH_MIX
00:00007E23   CHREGS.CH_EXIT
00:00007E42   CHREGS.CH_ONDL
00:00007E46   PT3_PLAY
00:00007E7A   PT3_PLAY.PLNLP
00:00007EA1   PT3_PLAY.PL1A
00:00007EAC   PT3_PLAY.PL1B
00:00007EC1   PT3_PLAY.PL1C
00:00007ED6   PT3_PLAY.PL1D
00:00007EDC   PT3_PLAY.PL2
00:00007F3E   PT3_ROUT
00:00007F3F   ROUT_A0
00:00007F4B   ROUT_A0.LOUT
00:00007F5F   NT_DATA
00:00007F6F   T_
00:00007F6F   TCOLD_0
00:00007F7B   TCNEW_1
00:00007F7B   TCOLD_1
00:00007F7D   TCOLD_2
00:00007F8F   TCNEW_3
00:00007F90   TCOLD_3
00:00007F99   TCNEW_0
00:00007FA4   TCNEW_2
00:00007FAF   EMPTYSAMORN
00:00007FB3   T_PACK
00:00000000 X AYFXRELATIVE
00:00007FE8   ayFX_SETUP
00:00007FF4   ayFX_END
00:00007FFA   ayFX_INIT
00:0000800B   ayFX_INIT.CHECK_PRI
00:0000802C   ayFX_INIT.INIT_END
00:00008030   ayFX_PLAY
00:00008044   ayFX_PLAY.TAKECB
00:00008055   ayFX_PLAY.CHECK_NN
00:00008062   ayFX_PLAY.SETPOINTER
00:00008076   ayFX_PLAY.SETMASKS
00:00008084 X ayFX_PLAY.CHK1
00:00008086 X ayFX_PLAY.PLAY_C
00:00008093   ayFX_PLAY.CHK2
00:00008098 X ayFX_PLAY.PLAY_B
00:000080A5   ayFX_PLAY.CHK3
00:000080A8 X ayFX_PLAY.PLAY_A
00:000080B5   ayFX_PLAY.SETMIXER
00:0000F000   PT3_SETUP
00:0000F001   PT3_MODADDR
00:0000F003   PT3_CrPsPtr
00:0000F005   PT3_SAMPTRS
00:0000F007   PT3_OrnPtrs
00:0000F009   PT3_PDSP
00:0000F00B   PT3_CSP
00:0000F00D   PT3_PSP
00:0000F00F   PT3_PrNote
00:0000F010   PT3_PrSlide
00:0000F012   PT3_AdInPtA
00:0000F014   PT3_AdInPtB
00:0000F016   PT3_AdInPtC
00:0000F018   PT3_LPosPtr
00:0000F01A   PT3_PatsPtr
00:0000F01C   PT3_Delay
00:0000F01D   PT3_AddToEn
00:0000F01E   PT3_Env_Del
00:0000F01F   PT3_ESldAdd
00:0000F021   PT3_NTL3
00:0000F023   VARS
00:0000F023   ChanA
00:0000F040   ChanB
00:0000F05D   ChanC
00:0000F07A   DelyCnt
00:0000F07B   CurESld
00:0000F07D   CurEDel
00:0000F07E   Ns_Base_AddToNs
00:0000F07E   Ns_Base
00:0000F07F   AddToNs
00:0000F080   NT_
00:0000F140   AYREGS
00:0000F140   VT_
00:0000F14E   EnvBase
00:0000F150   VAR0END
00:0000F150   T1_
00:0000F150   T_NEW_1
00:0000F150   T_OLD_1
00:0000F168   T_OLD_2
00:0000F180   T_NEW_3
00:0000F180   T_OLD_3
00:0000F182   T_OLD_0
00:0000F182   T_NEW_0
00:0000F19A   T_NEW_2
00:0000F240   ayFX_MODE
00:0000F241   ayFX_BANK
00:0000F243   ayFX_PRIORITY
00:0000F244   ayFX_POINTER
00:0000F246   ayFX_TONE
00:0000F248   ayFX_NOISE
00:0000F249   ayFX_VOLUME
00:0000F24A   ayFX_CHANNEL
00:000080C5   EFECTOS_BAN_P
00:00008753   sanctuary_x
00:0000875D   sanctuary_1
00:0000875F   sanctuary_2
00:00008761   sanctuary_3
00:00008763 X sanctuary_4
00:00008765 X sanctuary_5
00:00008767 X sanctuary_6
00:00008769 X sanctuary_7
00:0000876B X sanctuary_8
00:0000876D X sanctuary_9
00:0000876F X sanctuary_10
00:00008771 X sanctuary_11
00:00008773 X sanctuary_12
00:00008775 X sanctuary_13
00:00008777 X sanctuary_14
00:00008779 X sanctuary_15
00:0000877B X sanctuary_16
00:0000877D X sanctuary_17
00:0000877F X sanctuary_18
00:00008781   santuario_x
00:0000878B   consejo_2
00:0000879D   consejo_3
00:000087BD   consejo_4
00:000087DB   consejo_5
00:000087FB   consejo_6
00:00008819   consejo_7
00:00008837   consejo_8
00:0000884F   consejo_9
00:0000886D   advice_2
00:0000887F   advice_3
00:0000889F   advice_4
00:000088BD   advice_5
00:000088DD   advice_6
00:000088FB   advice_7
00:0000891B   advice_8
00:0000893B   advice_9
00:00008959   advice_9_1
00:0000895C X lo_has_logrado
00:0000897B X felicidades
00:00008999   camino_a
00:000089B5   camino_a_ing
00:000089C9 X fin_nivel_1_1
00:000089E6 X fin_nivel_1_2
00:00008A00 X fin_nivel_1_3
00:00008A10 X end_level_1_1
00:00008A29 X end_level_1_2
00:00008A43 X end_level_1_3
00:00008A51   col_letras_5
00:00008A55   col_letras_7
00:00008A59   col_letras_8
00:00008A5D   col_letras_9
00:00008A61   col_letras_10
00:00008A65   col_letras_12
00:00008A69   blanco
00:00008AE2   mas_blanco
00:00008B37   marcador
00:00008B51   trofeos
00:00008B5F   sprites
00:00008B5F   sprites13
00:00008BBF X sprites14
00:00008C1F X sprites15
00:00008C7F X sprites16
00:0000927F   sprites2
00:0000937F   sprites3
00:0000943F X spritescaebom
00:0000949F   sprites4
00:0000959F   sprites5
00:000095FF X sprites6
00:0000965F X sprites7
00:000096BF X sprites8
00:0000971F X sprites17
00:000097DF   sprites9
00:0000983F X sprites10
00:0000989F X sprites11
00:000098FF X sprites12
00:0000995F X sprites18
00:00009A1F   sprites_pet
00:00009B1F X sprites_exp
00:00009CFF   sprites_bomb_a
00:00009EDF   quemado_esp
00:00009F3F   pausa_sprit
00:00009FFF   sprites_ojos
00:0000A07F   game_over
00:0000A08A   se__acabo
00:0000A095   continua_i
00:0000A0A3   continua_e
00:0000A0B1   pause
00:0000A0B6   ladrillos
00:0000A0BB   empresa
00:0000A0D8   empresa_e
00:0000A0F5   titulo_1
00:0000A1D6   mensaje
00:0000A1DB   mensaje_ING
00:0000A1E0   teclado
00:0000A1E7   mando
00:0000A1EE   instrucciones
00:0000A1F9   teclado_e
00:0000A201   mando_e
00:0000A20B   instruccion_e
00:0000A214   salir
00:0000A221   salir_e
00:0000A22B   copyright
00:0000A248   serp_1
00:0000A24A   nada
00:0000A24C   letras_A
00:0000A26C X letras_E
00:0000A28C X letras_I
00:0000A29C X letras_K
00:0000A2A4 X letras_L
00:0000A2B4 X letras_N
00:0000A2BC X letras_O
00:0000A2DC X letras_S
00:0000A2FC X letras_W
00:0000A31C   titulo_centro1
00:0000A354   fueguito_1
00:0000A35C   fueguito_2
00:0000A384   flame_1
00:0000A38C   flame_2
00:0000A394 X letras_A_acen
00:0000A3A4 X letras_U_acen
00:0000A3AC   fuego_quema
00:0000A3C4   fuego_quema_2
00:0000A3DC   parentesis_a
00:0000A3E4 X parentesis_c
00:0000A3EC   guion
00:0000A3F4 X punto
00:0000A3FC   numero0
00:0000A41C X numero4
00:0000A43C X numero8
00:0000A44C X dospuntos
00:0000A454   agua_1
00:0000A45C   chorro_1
00:0000A464 X grifo_1
00:0000A46C   fuego_1_2
00:0000A474   portal_1
00:0000A494   cuchillo_1
00:0000A495   bomba_1
00:0000A496   salpic_1_1
00:0000A49E   salpic_1_2
00:0000A4A6   agua_2
00:0000A4AE   chorro_2
00:0000A4B6 X grifo_2
00:0000A4BE   fuego_2_2
00:0000A4C6   portal_2
00:0000A4E6   cuchillo_2
00:0000A4E7   bomba_2
00:0000A4E8   salpic_2_1
00:0000A4F0   salpic_2_2
00:0000A4F8   color_gas_1
00:0000A4FA   color_mec_1
00:0000A4FC   color_gas_2
00:0000A4FE   color_mec_2
00:0000A500   color_gas_3
00:0000A502   color_mec_3
00:0000A504   color_gas_4
00:0000A506   color_mec_4
00:0000A508   color_gas_5
00:0000A50A   color_mec_5
00:0000A50C   color_gas_6
00:0000A50E   color_mec_6
00:0000A510   color_gas_7
00:0000A512   color_mec_7
00:0000A514 X color_gas_8
00:0000A515 X color_mec_8
00:0000A516   setrompage0
00:0000A51B   recbios
00:0000A51E   setslotpage0
00:0000A55F   setslotpage0.nocarry
00:0000A562 X COLOR_FINAL
00:0000A5A8 X TILES_FINAL
00:0000AAB0 X setslotpage0_end
00:0000AAB0   paso_negro_izq
00:0000AAE6   entre_fases
00:0000ABAA X fase_17
00:0000ACD0 X fase_18
00:0000AE00 X FINAL_ING
00:0000AFF5 X FINAL
00:0000C000   inicio_ram
00:0000C001   idioma
00:0000C002   petiso_que_toca
00:0000C003   petisox
00:0000C004   petisoy
00:0000C005   espera_petiso
00:0000C006   espera_petiso_resta
00:0000C007   espera_petiso_resta_2
00:0000C008   y_exp
00:0000C009   valor_suma_resta_exp
00:0000C00A   direccion_exp
00:0000C00B   cuenta_gira_exp
00:0000C00C   retardo_exp
00:0000C00D   VIEJA_INTERR
00:0000C012   fuego_cambia
00:0000C014   fuego_cambiante
00:0000C015   y_serp
00:0000C016   nivel
00:0000C017   clock
00:0000C019   CLOCK
00:0000C01B   px
00:0000C01C   py
00:0000C01D   puede_cambiar_de_direccion
00:0000C01E   vidas_prota
00:0000C01F   color_prota
00:0000C020   color_lineas_prota
00:0000C021   muerto
00:0000C022   fase_en_la_que_esta
00:0000C023   estado_prota
00:0000C024   prev_dir_prota
00:0000C025   salto_pulsado
00:0000C026   pasos_de_salto
00:0000C027   dir_prota
00:0000C028   paso
00:0000C029   retard_anim
00:0000C02A   atributos_sprite_general
00:0000C05A   tiene_objeto
00:0000C05B   px_salida
00:0000C05C   py_salida
00:0000C05D   x_explosion
00:0000C05E   y_explosion
00:0000C05F   estado_de_explosion
00:0000C060   contador_retardo_explosion
00:0000C061   buffer_colisiones
00:0000C341   buffer_colisiones_2
00:0000C621   pantalla_activa
00:0000C622   estado_de_salto
00:0000C623   mechero
00:0000C624   gasolina
00:0000C625   posicion_puerta
00:0000C627   pantalla_puerta
00:0000C628   ya_ha_cambiado_puerta
00:0000C629   increm
00:0000C62A   tile_a_poner_agua
00:0000C62B   score
00:0000C62D   contador_para_puntuacion
00:0000C62F   posicion_del_punto_unidades
00:0000C630   posicion_del_punto_decenas
00:0000C631   posicion_del_punto_centenas
00:0000C632   posicion_del_punto_millares
00:0000C633   cuenta_puntos_o_no
00:0000C634   cuanto_sumamos_a_score
00:0000C635   variables_serpiente_1
00:0000C63F   variables_serpiente_2
00:0000C649   variables_serpiente_3
00:0000C653   variables_serpiente_4
00:0000C65D   colision_cuchillo_serp_real
00:0000C65E   serp1
00:0000C65F   serp2
00:0000C660   serp3
00:0000C661   serp4
00:0000C662   cont_no_salta_dos_seguidas
00:0000C663   pasamos_la_fase
00:0000C664   momento_lanzamiento
00:0000C665   pantalla_cuchillo
00:0000C666   contador_poses_lanzar
00:0000C667   recordar_lo_que_habia
00:0000C669   dir_cuchillo
00:0000C66A   cx
00:0000C66B   cy
00:0000C66C   escalera_activada
00:0000C66D   posicion_escalera
00:0000C66F   contador_escalera
00:0000C670   limite_escalera
00:0000C672   pantalla_escalera
00:0000C673   OUS_ACTIU
00:0000C674   trampa
00:0000C675   inmune_serp
00:0000C676   inmune_bomb
00:0000C677   grifo_estado
00:0000C678   ESTADO_MUSICA
00:0000C679   vision_estado
00:0000C67A   colision_bombero_prota_real
00:0000C67B   bombero_1
00:0000C67C   bombero_control
00:0000C689   toca_bombero
00:0000C68A   velocidad_paseo_fases
00:0000C68B   tile_grifo_balsa_1
00:0000C68D   tile_grifo_balsa_2
00:0000C68F   grifos_balsa_cerrados
00:0000C690   posicion_balsa_desde_grifo
00:0000C692   balsa_activa
00:0000C693   balsa_bacia
00:0000C694   pantalla_tile_grifo_balsa_1
00:0000C695   pantalla_tile_grifo_balsa_2
00:0000C696   pantalla_balsa
00:0000C697   GAME_OVER
00:0000C81D   MUTE
00:0000C892   MUERTO
00:0000CA07   clock_1
00:0000CA08   ENTRE_FASES
00:0000CBDE   sticky
00:0000CBDF   EFECTOS_BANCO
00:0000D372   posicion_brillo_items
00:0000D373   GEN_MUSIC
00:0000DEE0   sigue_pulsando
00:0000DEE1   VDPW99
00:0000DEE2   VDPW98
00:0000DEE3   valor_a_cambiar_en_tile_v


 Output: BURNUSEXPROMCASTRADO.out
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: *  Used: 00000000

    No output

 Output: BURNUSexpcast.rom
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: *  Used: 0000C000

   Address   Length Align   Label
   00000000   49152         instru_caste
