Sjasm Z80 Assembler v0.42c - www.xl2s.tk             [2018.09.29 - 07:31:28]

burnusexprom.asm
Errors: 0

       1   00:0000                      	output "BURNUSexp.rom"
       2   00:0000                      	
       3   00:0000                      	
       4   00:0000  (00:00C3)           CLS			equ	#00C3	;CLS											;borra la pantalla
       5   00:0000  (00:006C)           SCREEN0		equ	#006C	;INITXT											;pasa a modo screen 0
       6   00:0000  (00:006F)           SCREEN1		equ	#006F	;INIT32											;pasa a modo screen 1 
       7   00:0000  (00:00D2)           MODOTEXTO	equ	#00D2	;TOTEXT											:fuerza a modo texto
       8   00:0000  (00:00C6)           LOCATE		equ	#00C6	;POSIT											;coloca el cursor en una rectrices h,l
       9   00:0000  (00:00A2)           CHPUT		equ	#00A2	;CHPUT											;escribe un caracter en pantalla
      10   00:0000  (00:00CC)           KEYOFF		equ	#00CC	;ERAFNK											;hace desaparecer las teclas de función
      11   00:0000  (00:0062)           COLOR		equ	#0062	;CHGCLR											;da color a la pantalla
      12   00:0000  (00:F3E9)           COLLETRA	equ	#F3E9	;FORCLR											;define el color de letras para CHGCLR
      13   00:0000  (00:F3EA)           COLFONDO	equ	#F3EA	;BAKCLR											;define el color de fondo para CHGCLR
      14   00:0000  (00:F3EB)           COLBORDE	equ	#F3EB	;BDRCLR											;defeine el color de bordes para CHGCLR
      15   00:0000  (00:009F)           INPUT		equ	#009F	;CHGET											;espera que pulses una tecla y manda el valor a registro a
      16   00:0000  (00:F3AF)           ANCHOSC0	equ	#F3AF	;LINL40											;define el width de screen 0
      17   00:0000  (00:F3AF)           ANCHOSC1	equ	#f3AF	;LINL32											;define el width de screen 1
      18   00:0000  (00:F3DB)           CLICKOFF	equ	#f3DB	;CLIKSW											;quita el sonido del toque de teclas
      19   00:0000  (00:0041)           DISSCR		equ	#0041													;desconecta la pantalla_en_blanco
      20   00:0000  (00:0044)           ENASCR		equ	#0044													;conecta la pantalla
      21   00:0000                      
      22   00:0000                      
      23   00:0000  (00:013E)           RDVDP		equ	#013E													;lee registro 8 del VDP
      24   00:0000  (00:0047)           WRTVDP		equ	#0047													;escribe registros del VDP
      25   00:0000  (00:005C)           GRABAVRAM	equ	#005C	;LDIRVM											;graba en vram una parte de ram
      26   00:0000  (00:0059)           GRABARAM	equ	#0059	;LDIRMV											;grava en ram una parte de vram
      27   00:0000                      
      28   00:0000  (00:005F)           SCREENX		equ	#005F	;CHGMOD											;elige el modo grafico
      29   00:0000  (00:00D5)           ONSTICK		equ	#00D5	;GTSTCK											;controla el stick
      30   00:0000  (00:00D8)           ONSTRIG		equ	#00D8	;GTTRIG											;controla los botones del joystick o la barra espaciadora
      31   00:0000  (00:003B)           RESET		equ #003B	;INITIO											;reinicia el ordenador
      32   00:0000                      
      33   00:0000  (00:FD9A)           H.KEYI		equ	#FD9A	;H.KEYI
      34   00:0000  (00:FD9F)           H.TIMI		equ	#FD9F	;H.TIMI
      35   00:0000                      
      36   00:0000  (00:0141)           SNSMAT		equ	#0141	;INKEY$											;controla si se ha pulsado una tecla
      37   00:0000                      
      38   00:0000  (00:0024)           ENASLT		equ	#0024													;para ampliar la rom
      39   00:0000  (00:FCC1)           EXPTBL		equ	#FCC1
      40   00:0000  (00:FCC5)           SLTTBL		equ	#FCC5		
      41   00:0000  (00:0138)           RSLREG  	equ	#0138
      42   00:0000  (00:C000)           SLOTVAR		equ	#C000
      43   00:0000                      
      44   00:0000  (00:F3DF)           RG0SAV		equ	#F3DF													;COPIA DE vdp DEL REGISTRO 0 (BASIC:VDP(0))
      45   00:0000  (00:F3E0)           RG1SAV		equ	#F3E0													;COPIA DE vdp DEL REGISTRO 1 (BASIC:VDP(1))
      46   00:0000  (00:F3E1)           RG2SAV		equ	#F3E1													;COPIA DE vdp DEL REGISTRO 2 (BASIC:VDP(2))
      47   00:0000  (00:F3E2)           RG3SAV		equ	#F3E2													;COPIA DE vdp DEL REGISTRO 3 (BASIC:VDP(3))
      48   00:0000  (00:F3E3)           RG4SAV		equ	#F3E3													;COPIA DE vdp DEL REGISTRO 4 (BASIC:VDP(4))
      49   00:0000  (00:F3E4)           RG5SAV		equ	#F3E4													;COPIA DE vdp DEL REGISTRO 5 (BASIC:VDP(5))
      50   00:0000  (00:F3E5)           RG6SAV		equ	#F3E5													;COPIA DE vdp DEL REGISTRO 6 (BASIC:VDP(6))
      51   00:0000  (00:F3E6)           RG7SAV		equ	#F3E6													;COPIA DE vdp DEL REGISTRO 7 (BASIC:VDP(7))
      52   00:0000  (00:FFE8)           RG9SAV		equ	#FfE8													;COPIA DE vdp DEL REGISTRO 9 (BASIC:VDP(9)) para control de los MSX2
      53   00:0000                      
      54   00:0000  (00:F3E7)           STATFL		equ	#F3E7													;COPIA DE vdp DEL REGISTRO 8 (EL QUE ES DE ESCRITURA (S#0))
      55   00:0000  (00:0069)           CLRSPR		equ	#0069													;inicializa todos los sprites
      56   00:0000                      
      57   00:0000                      ;PÀGINA 0		(#0000 - #3FFF)
      58   00:0000                      
      59   00:0000                      	org		#0000
      60   00:0000                      
      61   00:0000  (011E)              instru_caste:		incbin	"INSTRUCCIONES.DAT"							;las instrucciones en catellano
      62   00:011E  (010F)              instru_ingle:		incbin	"INSTRUCTIONS.DAT"							;las instrucciones en inglés
      63   00:022D                      
      64   00:022D  (05AD)              CANCION:			incbin	"MUSICMENUPLETTER.99"						;incluye la cancion de apertura desde el modo binario
      65   00:07DA  (001C)              SILENCIO:			incbin	"MUTEPLETTER.99"							;para crear un mute a la música
      66   00:07F6  (00C6)              MUSICA_GAMEOVER:	incbin	"GAMEOVERPLETTER.99"						;música de game over
      67   00:08BC  (034C)              MUSICA_FASES:		incbin	"FASESPLETTER.99"							;música de fases
      68   00:0C08  (00E3)              MUSICA_MUERTO:		incbin	"MUERTOPLETTER.99"							;musica de muere
      69   00:0CEB  (00EE)              MUSICA_ENTRE_FASES:	incbin	"ENTRE_FASESPLETTER.99"						;musica de entre fases
      70   00:0DD9                      
      71   00:0DD9  (0AD1)              pant_carga_til:	incbin	"PANTALLA_DE_CARGA_TILES.til"					;tiles de pantalla de carga
      72   00:18AA  (04D8)              pant_carga_col:	incbin	"PANTALLA_DE_CARGA_TILES.col"					;colores de pantalla de carga
      73   00:1D82  (0128)              pant_carga:		incbin	"PANTALLA_DE_CARGA.DAT"							;pantalla de carga
      74   00:1EAA                      
      75   00:1EAA  (0567)              tiles_1:		incbin	"TILESFpletter.til"								;tiles de juego 1
      76   00:2411  (0317)              colores_1:		incbin	"TILESFpletter.col"								;colores de juego 1
      77   00:2728                      
      78   00:2728                      
      79   00:2728  (0098)              fase_1:			incbin	"FASE_1_pletter.dat"							;pantalla fase 1
      80   00:27C0  (00F9)              fase_2:			incbin	"FASE_2_pletter.dat"
      81   00:28B9  (012D)              fase_3:			incbin	"FASE_3_pletter.dat"
      82   00:29E6  (012E)              fase_4_1:		incbin	"FASE_4_1_pletter.dat"
      83   00:2B14  (0114)              fase_4_2:		incbin	"FASE_4_2_pletter.dat"
      84   00:2C28  (013C)              fase_5_1:		incbin	"FASE_5_1_pletter.dat"
      85   00:2D64  (0152)              fase_5_2:		incbin	"FASE_5_2_pletter.dat"
      86   00:2EB6  (010E)              fase_6:			incbin	"FASE_6_pletter.dat"
      87   00:2FC4  (00C4)              fase_7_1:		incbin	"FASE_7_1_pletter.dat"
      88   00:3088  (00A2)              fase_7_2:		incbin	"FASE_7_2_pletter.dat"
      89   00:312A  (013F)              fase_8:			incbin	"FASE_8_pletter.dat"
      90   00:3269  (0171)              fase_9:			incbin	"FASE_9_pletter.dat"
      91   00:33DA  (00F8)              fase_10_1:		incbin	"FASE_10_1_pletter.dat"
      92   00:34D2  (0141)              fase_10_2:		incbin	"FASE_10_2_pletter.dat"
      93   00:3613  (012A)              fase_11_1:		incbin	"FASE_11_1_pletter.dat"
      94   00:373D  (0121)              fase_11_2:		incbin	"FASE_11_2_pletter.dat"
      95   00:385E  (0124)              fase_12:		incbin	"FASE_12_pletter.dat"
      96   00:3982  (0156)              fase_13:		incbin	"FASE_13_pletter.dat"
      97   00:3AD8  (00E0)              fase_14:		incbin	"FASE_14_pletter.dat"
      98   00:3BB8  (011D)              fase_15_1:		incbin	"FASE_15_1_pletter.dat"
      99   00:3CD5  (0100)              fase_15_2:		incbin	"FASE_15_2_pletter.dat"
     100   00:3DD5  (015E)              fase_16:		incbin	"FASE_16_pletter.dat"
     101   00:3F33                      	
     102   00:3F33                      relleno_page_0_:	
     103   00:3F33  00 (205)            		ds      04000h-$,0000h       									;Rellena hasta completar los 16KB de la pagina 0
     104   00:4000                      
     105   00:4000                      ;PÁGINAS 1 Y 2	(#4000 - #BFFF)
     106   00:4000                      
     107   00:4000                      	org		#4000	
     108   00:4000                      
     109   00:4000  41 42               	db	"AB"															;Cabecera de fichero ROM
     110   00:4002  10 40               	word	START														;Dónde empieza la ejecución
     111   00:4004                      	word	0,0,0,0,0,0
     111   00:4004  00 00 00 00 00 00 00 00 00 00 00 00 
     112   00:4010                      		
     113   00:4010                      	
     114   00:4010                      	
     115   00:4010                      START:
     116   00:4010                      
     117   00:4010                      ; pasamos a 50 herzios si es un msx2 o superior
     118   00:4010                      
     119   00:4010  3A 2D 00            		ld		a,[#002D]												;si se trata de un msx1 no tocamos la vdp registro 9
     120   00:4013  B7                  		or		a
     121   00:4014  28 14               		jr.		z,ampliamos_lectura_a_32kb
     122   00:4016                      		
     123   00:4016  3E 07               		ld		a,7
     124   00:4018  CD 41 01            		call	SNSMAT
     125   00:401B  CB 7F               		bit		7,a
     126   00:401D  28 0B               		jr.		z,ampliamos_lectura_a_32kb
     127   00:401F                      
     128   00:401F  3A E8 FF            		ld		a,(RG9SAV)
     129   00:4022  F6 02               		or		00000010b												;a 50 hz
     130   00:4024  47                  		ld		b,a
     131   00:4025  0E 09               		ld		c,9
     132   00:4027  CD 47 00            		call	WRTVDP													;lo escribe en el registro 9 del VDP
     133   00:402A                      
     134   00:402A                      ampliamos_lectura_a_32kb:
     135   00:402A                      
     136   00:402A                      ; ampliamos la lectura de rom a 32 k
     137   00:402A                      
     138   00:402A  F3                  		di
     139   00:402B                      		
     140   00:402B  ED 56               		im		1														;modo de interrupciones 1
     141   00:402D  3E C9               		ld		a,#C9													;a tiene el valor de ret
     142   00:402F  32 9F FD            		ld		(#FD9F),A												;colocamos ese ret en el gancho H.Timi POR SI EL ORDENADOR TUVIERA ALGO (ALGUN MSX 2 CONTROL DE DISQUETERA)
     143   00:4032  32 9A FD            		ld		(#FD9A),A												;colocamos ese ret en el gancho H.Key POR SI EL ORDENADOR TUVIERA ALGO
     144   00:4035  31 80 F3             		ld		sp,#F380												; colocmos la pila en esta posicion, que suele ser donde empieza las zona ram que usa el S.O. del MSX. Recuerda que la pila crece hacia abajo así que no pisaremos nada
     145   00:4038                      
     146   00:4038                      ; borramos la vram entera
     147   00:4038                      
     148   00:4038  21 00 C0                    ld  hl,inicio_ram
     149   00:403B  11 01 C0                    ld  de,inicio_ram + 1
     150   00:403E  01 80 33                    ld  bc,#F380 - inicio_ram
     151   00:4041  36 00                       ld  (hl),0
     152   00:4043  ED B0                       ldir
     153   00:4045                              
     154   00:4045  CD 94 40            		call	search_slotset
     155   00:4048                      		
     156   00:4048  FB                  		ei
     157   00:4049                      
     158   00:4049                      ;descomprimimos la musica
     159   00:4049                      
     160   00:4049  F3                  		di																;desconectamos las interrupciones
     161   00:404A  CD EC B0            		call	setrompage0												;con la pagina 0 de la rom pisamos la bios
     162   00:404D                      				
     163   00:404D  21 F6 07            		ld		hl,MUSICA_GAMEOVER										;descomprime musica game over
     164   00:4050  11 97 C6            		ld		de,GAME_OVER
     165   00:4053  CD FE 84            		call	depack
     166   00:4056                      		
     167   00:4056  21 DA 07            		ld		hl,SILENCIO												;descomprime musica mute
     168   00:4059  11 1D C8            		ld		de,MUTE
     169   00:405C  CD FE 84            		call	depack
     170   00:405F                      		
     171   00:405F  21 08 0C            		ld		hl,MUSICA_MUERTO										;descomprime musica mute
     172   00:4062  11 92 C8            		ld		de,MUERTO
     173   00:4065  CD FE 84            		call	depack
     174   00:4068                      		
     175   00:4068  21 EB 0C            		ld		hl,MUSICA_ENTRE_FASES									;descomprime musica entre fases
     176   00:406B  11 08 CA            		ld		de,ENTRE_FASES
     177   00:406E  CD FE 84            		call	depack
     178   00:4071                      		
     179   00:4071  21 9B 8C            		ld		hl,EFECTOS_BAN_P
     180   00:4074  11 DF CB            		LD		DE,EFECTOS_BANCO
     181   00:4077                      		
     182   00:4077  CD FE 84            		CALL	depack
     183   00:407A                      		
     184   00:407A  CD F1 B0            		call	recbios
     185   00:407D                      											
     186   00:407D                      ;inicializamos la música
     187   00:407D                      		        						
     188   00:407D  21 DF CB            		ld		hl,EFECTOS_BANCO										;hl ahora vale la direccion donde se encuentran los efectos
     189   00:4080  CD BE 8B            		call	ayFX_SETUP												;inicia el reproductor de efectos
     190   00:4083                      		
     191   00:4083                      ;engancha nuestra rutina de servicio al gancho que djea preparada la BIOS cuando se termina de pintar la pantalla (50 o 60 veces por segundo)
     192   00:4083                      
     193   00:4083  3E C3               		ld		a,#C3													;#c3 es el código binario de jump (jp)
     194   00:4085  32 9F FD            		ld		[H.TIMI],a												;metemos en H.TIMI ese jp
     195   00:4088  21 A8 85            		ld		hl,nuestra_isr											;cargamos nuestra secuencia en hl
     196   00:408B  22 A0 FD            		ld		[H.TIMI+1],hl											;la ponemos a continuación del jp
     197   00:408E                      		
     198   00:408E  FB                  		ei																;conectamos las interrupciones
     199   00:408F                      		
     200   00:408F  CD A6 65            		call	musica_con_bucle
     201   00:4092                      		
     202   00:4092  18 27               		jr.		PANTALLA_DE_CARGA
     203   00:4094                      
     204   00:4094                      ;original from Ramones (http://karoshi.auic.es/index.php?topic=628.0)
     205   00:4094                      ; -----------------------
     206   00:4094                      ; SEARCH_SLOTSET
     207   00:4094                      ; Posiciona en pagina 2
     208   00:4094                      ; Nuestro ROM.
     209   00:4094                      ; -----------------------
     210   00:4094                      
     211   00:4094                      search_slotset:
     212   00:4094  CD 9A 40            		call search_slot
     213   00:4097  C3 24 00            		jp ENASLT
     214   00:409A                      
     215   00:409A                      
     216   00:409A                      ; -----------------------
     217   00:409A                      ; SEARCH_SLOT
     218   00:409A                      ; Busca slot de nuestro rom
     219   00:409A                      ; -----------------------
     220   00:409A                      
     221   00:409A                      search_slot:
     222   00:409A                      
     223   00:409A  CD 38 01            	call RSLREG
     224   00:409D  0F                  	rrca
     225   00:409E  0F                  	rrca
     226   00:409F  E6 03               	and 3
     227   00:40A1  4F                  	ld c,a
     228   00:40A2  06 00               	ld b,0
     229   00:40A4  21 C1 FC            	ld hl,0FCC1h
     230   00:40A7  09                  	add hl,bc
     231   00:40A8  7E                  	ld a,(hl)
     232   00:40A9  E6 80               	and 080h
     233   00:40AB  B1                  	or c
     234   00:40AC  4F                  	ld c,a
     235   00:40AD  23                  	inc hl
     236   00:40AE  23                  	inc hl
     237   00:40AF  23                  	inc hl
     238   00:40B0  23                  	inc hl
     239   00:40B1  7E                  	ld a,(hl)
     240   00:40B2  E6 0C               	and 0Ch
     241   00:40B4  B1                  	or c
     242   00:40B5  26 80               	ld h,080h
     243   00:40B7  32 00 C0            	ld (SLOTVAR),a
     244   00:40BA  C9                  	ret	
     245   00:40BB                      	
     246   00:40BB                      PANTALLA_DE_CARGA:
     247   00:40BB                      
     248   00:40BB  CD 2F 57            		call	activa_mute
     249   00:40BE                      		
     250   00:40BE  CD A3 57            		call	PREPARACION_SCREEN_2
     251   00:40C1  CD 41 00            		call	DISSCR													;desconectamos la pantalla
     252   00:40C4  CD A6 45            		call	limpia_sprites
     253   00:40C7  CD CC 40            		call	colores_inicio
     254   00:40CA  18 0F               		jr.		cargando_patrones
     255   00:40CC                      		
     256   00:40CC                      colores_inicio:
     257   00:40CC                      		
     258   00:40CC  3E 07               		ld		a,7
     259   00:40CE  32 E9 F3            		ld		[COLLETRA],a											;aunque sólo quieras cambiar uno de los colores, tienes que volver a definir los otros dos para que te acepte un cambio
     260   00:40D1  AF                  		xor		a
     261   00:40D2  32 EA F3            		ld		[COLFONDO],a
     262   00:40D5  32 EB F3            		ld		[COLBORDE],a
     263   00:40D8  C3 62 00            		jr.		COLOR
     264   00:40DB                      
     265   00:40DB                      cargando_patrones:
     266   00:40DB                      		
     267   00:40DB  76                  		halt		
     268   00:40DC  F3                  		di
     269   00:40DD  CD EC B0            		call	setrompage0
     270   00:40E0                      		
     271   00:40E0  21 D9 0D            		ld		hl,pant_carga_til										;cargamos patrones
     272   00:40E3  11 00 00            		ld		de,#0000
     273   00:40E6  CD FC 83            		call	depack_VRAM
     274   00:40E9                      		
     275   00:40E9  21 82 1D            		ld		hl,pant_carga											;carga el marcador
     276   00:40EC  11 00 18            		ld		de,#1800
     277   00:40EF  CD FC 83            		call	depack_VRAM
     278   00:40F2                      		
     279   00:40F2  21 AA 18            		ld		hl,pant_carga_col										;cargamos colores de patrones
     280   00:40F5  11 00 20            		ld		de,#2000
     281   00:40F8  CD FC 83            		call	depack_VRAM
     282   00:40FB                      		
     283   00:40FB  CD F1 B0            		call	recbios
     284   00:40FE  FB                  		ei
     285   00:40FF                      		
     286   00:40FF                      			
     287   00:40FF  CD 8B 56            		call	SPRITES_PETISOS
     288   00:4102                      		
     289   00:4102  CD 44 00            		call	ENASCR													;conectamos la pantalla
     290   00:4105                      		
     291   00:4105  CD 64 57            		call	activa_musica_menu
     292   00:4108                      
     293   00:4108                      INICIA_MUSICA:
     294   00:4108                      
     295   00:4108  CD 64 57            		call	activa_musica_menu										;inicia el reproductor de PT3
     296   00:410B                      		
     297   00:410B  3E 01               		ld		a,1
     298   00:410D  32 0A C0            		ld		(direccion_exp),a
     299   00:4110  3E 0F               		ld		a,15
     300   00:4112  32 04 C0            		ld		(petisoy),a
     301   00:4115  3E 6E               		ld		a,110
     302   00:4117  32 03 C0            		ld		(petisox),a
     303   00:411A  3E 28               		ld		a,40
     304   00:411C  32 05 C0            		ld		(espera_petiso),a
     305   00:411F  32 07 C0            		ld		(espera_petiso_resta_2),a
     306   00:4122  32 06 C0            		ld		(espera_petiso_resta),a
     307   00:4125                      petisos:
     308   00:4125                      		
     309   00:4125  AF                  		xor		a
     310   00:4126  CD D8 00            		CALL	ONSTRIG
     311   00:4129  B7                  		or		a
     312   00:412A  C2 94 42            		jr.		nz,MENU
     313   00:412D                      		
     314   00:412D  3E 01               		ld		a,1
     315   00:412F  CD D8 00            		CALL	ONSTRIG
     316   00:4132  B7                  		or		a
     317   00:4133  C2 94 42            		jr.		nz,MENU
     318   00:4136                      		
     319   00:4136  CD 3E 41            		call	petiso_activity
     320   00:4139                      		
     321   00:4139  18 EA               		jr.		petisos
     322   00:413B                      		
     323   00:413B  C3 94 42            		jr.		MENU
     324   00:413E                      
     325   00:413E                      petiso_activity:
     326   00:413E                      
     327   00:413E  3A 06 C0            		ld		a,(espera_petiso_resta)
     328   00:4141  3D                  		dec		a
     329   00:4142  B7                  		or		a
     330   00:4143  32 06 C0            		ld		(espera_petiso_resta),a
     331   00:4146  C0                  		ret		nz
     332   00:4147  3A 05 C0            		ld		a,(espera_petiso)
     333   00:414A  32 06 C0            		ld		(espera_petiso_resta),a
     334   00:414D  3A 07 C0            		ld		a,(espera_petiso_resta_2)
     335   00:4150  3D                  		dec		a
     336   00:4151  B7                  		or		a
     337   00:4152  32 07 C0            		ld		(espera_petiso_resta_2),a
     338   00:4155  C0                  		ret		nz
     339   00:4156  3A 05 C0            		ld		a,(espera_petiso)
     340   00:4159  32 06 C0            		ld		(espera_petiso_resta),a
     341   00:415C  32 07 C0            		ld		(espera_petiso_resta_2),a
     342   00:415F                      		
     343   00:415F  2A 05 C0            		ld		hl,(espera_petiso)
     344   00:4162  22 06 C0            		ld		(espera_petiso_resta),hl
     345   00:4165                      
     346   00:4165  3A 02 C0            		ld		a,(petiso_que_toca)
     347   00:4168  B7                  		or		a
     348   00:4169  28 0E               		jr.		z,petiso_a_saltar
     349   00:416B                      		
     350   00:416B  AF                  		xor		a
     351   00:416C  32 02 C0            		ld		(petiso_que_toca),a
     352   00:416F  3A 04 C0            		ld		a,(petisoy)
     353   00:4172  C6 03               		add		3
     354   00:4174  32 04 C0            		ld		(petisoy),a
     355   00:4177  18 0F               		jr.		registros_petiso
     356   00:4179                      		
     357   00:4179                      petiso_a_saltar:
     358   00:4179                      		
     359   00:4179  3E 10               		ld		a,16
     360   00:417B  32 02 C0            		ld		(petiso_que_toca),a
     361   00:417E  3A 04 C0            		ld		a,(petisoy)
     362   00:4181  D6 03               		sub		3
     363   00:4183  32 04 C0            		ld		(petisoy),a
     364   00:4186  18 00               		jr.		registros_petiso
     365   00:4188                      
     366   00:4188                      registros_petiso:
     367   00:4188                      
     368   00:4188  76                  		halt
     369   00:4189  DD 21 2A C0         		ld		ix,atributos_sprite_general
     370   00:418D  3A 04 C0            		ld		a,(petisoy)
     371   00:4190  CD DA 83            		call	CERO_CUATRO_OCHO
     372   00:4193  DD 77 0C            		ld		(ix+12),a
     373   00:4196  3A 03 C0            		ld		a,(petisox)
     374   00:4199  CD E4 83            		call	UNO_CINCO_NUEVE
     375   00:419C  DD 77 0D            		ld		(ix+13),a
     376   00:419F  3A 02 C0            		ld		a,(petiso_que_toca)
     377   00:41A2  CD EE 83            		call	DOS_SEIS_DIEZ
     378   00:41A5  C6 04               		add		4
     379   00:41A7  DD 77 0E            		ld		(ix+14),a
     380   00:41AA  3E 01               		ld		a,1
     381   00:41AC  DD 77 03            		ld		(ix+3),a
     382   00:41AF  3E 04               		ld		a,4
     383   00:41B1  DD 77 07            		ld		(ix+7),a
     384   00:41B4  3E 0A               		ld		a,10
     385   00:41B6  DD 77 0B            		ld		(ix+11),a
     386   00:41B9  3E 0F               		ld		a,15
     387   00:41BB  DD 77 0F            		ld		(ix+15),a
     388   00:41BE                      		
     389   00:41BE  C3 C6 68            		jr.		atributos_sprites
     390   00:41C1                      
     391   00:41C1                      exp_activity:
     392   00:41C1                      
     393   00:41C1  3A 0C C0            		ld		a,(retardo_exp)
     394   00:41C4  3C                  		inc		a
     395   00:41C5  32 0C C0            		ld		(retardo_exp),a
     396   00:41C8  FE 14               		cp		20
     397   00:41CA  C0                  		ret		nz
     398   00:41CB  AF                  		xor		a
     399   00:41CC  32 0C C0            		ld		(retardo_exp),a
     400   00:41CF                      		
     401   00:41CF  3A 0A C0            		ld		a,(direccion_exp)
     402   00:41D2  B7                  		or		a
     403   00:41D3  28 1C               		jr.		z,exp_resta_posicion
     404   00:41D5                      		
     405   00:41D5                      exp_suma_posicion:
     406   00:41D5                      
     407   00:41D5  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     408   00:41D8  47                  		ld		b,a
     409   00:41D9  3A 08 C0            		ld		a,(y_exp)
     410   00:41DC  80                  		add		b
     411   00:41DD  32 08 C0            		ld		(y_exp),a
     412   00:41E0  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     413   00:41E3  3C                  		inc		a
     414   00:41E4  32 09 C0            		ld		(valor_suma_resta_exp),a
     415   00:41E7  FE 04               		cp		4
     416   00:41E9  38 2C               		jr.		c,exp_sprites
     417   00:41EB                      		
     418   00:41EB  AF                  		xor		a
     419   00:41EC  32 0A C0            		ld		(direccion_exp),a
     420   00:41EF  18 26               		jr.		exp_sprites
     421   00:41F1                      
     422   00:41F1                      exp_resta_posicion:
     423   00:41F1                      
     424   00:41F1  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     425   00:41F4  47                  		ld		b,a
     426   00:41F5  3A 08 C0            		ld		a,(y_exp)
     427   00:41F8  90                  		sub		b
     428   00:41F9  32 08 C0            		ld		(y_exp),a
     429   00:41FC  3A 09 C0            		ld		a,(valor_suma_resta_exp)
     430   00:41FF  3D                  		dec		a
     431   00:4200  32 09 C0            		ld		(valor_suma_resta_exp),a
     432   00:4203  B7                  		or		a
     433   00:4204  20 11               		jr.		nz,exp_sprites
     434   00:4206                      		
     435   00:4206  3E 01               		ld		a,1
     436   00:4208  32 0A C0            		ld		(direccion_exp),a
     437   00:420B                      		
     438   00:420B  3A 08 C0            		ld		a,(y_exp)
     439   00:420E  FE 46               		cp		70
     440   00:4210  30 05               		jr.		nc,exp_sprites
     441   00:4212                      		
     442   00:4212  3E 46               		ld		a,70
     443   00:4214  32 08 C0            		ld		(y_exp),a
     444   00:4217                      		
     445   00:4217                      exp_sprites:		
     446   00:4217                      		
     447   00:4217  3A 0B C0            		ld		a,(cuenta_gira_exp)
     448   00:421A  FE 14               		cp		20
     449   00:421C  30 04               		jr.		nc,exp_sprites_diferente
     450   00:421E                      
     451   00:421E                      exp_sprite_1:
     452   00:421E                      		
     453   00:421E  3E 20               		ld		a,8*4
     454   00:4220  18 2C               		jr.		registros_exp		
     455   00:4222                      
     456   00:4222                      exp_sprites_diferente:
     457   00:4222                      
     458   00:4222  FE 14               		cp		20
     459   00:4224  28 18               		jr.		z,exp_sprite_2
     460   00:4226  FE 1A               		cp		26
     461   00:4228  28 14               		jr.		z,exp_sprite_2
     462   00:422A  FE 15               		cp		21
     463   00:422C  28 14               		jr.		z,exp_sprite_3
     464   00:422E  FE 19               		cp		25
     465   00:4230  28 10               		jr.		z,exp_sprite_3
     466   00:4232  FE 16               		cp		22
     467   00:4234  28 10               		jr.		z,exp_sprite_4
     468   00:4236  FE 18               		cp		24
     469   00:4238  28 0C               		jr.		z,exp_sprite_4
     470   00:423A  FE 17               		cp		23
     471   00:423C  28 0C               		jr.		z,exp_sprite_5
     472   00:423E                      
     473   00:423E                      exp_sprite_2:
     474   00:423E                      		
     475   00:423E  3E 2C               		ld		a,11*4
     476   00:4240  18 0C               		jr.		registros_exp
     477   00:4242                      
     478   00:4242                      exp_sprite_3:
     479   00:4242                      		
     480   00:4242  3E 38               		ld		a,14*4
     481   00:4244  18 08               		jr.		registros_exp
     482   00:4246                      
     483   00:4246                      exp_sprite_4:
     484   00:4246                      		
     485   00:4246  3E 44               		ld		a,17*4
     486   00:4248  18 04               		jr.		registros_exp
     487   00:424A                      
     488   00:424A                      exp_sprite_5:
     489   00:424A                      		
     490   00:424A  3E 50               		ld		a,20*4
     491   00:424C  18 00               		jr.		registros_exp		
     492   00:424E                      		
     493   00:424E                      registros_exp:
     494   00:424E                      
     495   00:424E  DD 77 12            		ld		(ix+18),a
     496   00:4251  C6 04               		add		4
     497   00:4253  DD 77 16            		ld		(ix+22),a
     498   00:4256  C6 04               		add		4
     499   00:4258  DD 77 1A            		ld		(ix+26),a
     500   00:425B  3A 08 C0            		ld		a,(y_exp)
     501   00:425E  DD 77 10            		ld		(ix+16),a
     502   00:4261  DD 77 14            		ld		(ix+20),a
     503   00:4264  DD 77 18            		ld		(ix+24),a
     504   00:4267  3E 78               		ld		a,120
     505   00:4269  DD 77 11            		ld		(ix+17),a
     506   00:426C  DD 77 15            		ld		(ix+21),a
     507   00:426F  DD 77 19            		ld		(ix+25),a
     508   00:4272  3E 01               		ld		a,1
     509   00:4274  DD 77 13            		ld		(ix+19),a
     510   00:4277  3E 0A               		ld		a,10
     511   00:4279  DD 77 17            		ld		(ix+23),a
     512   00:427C  3E 0F               		ld		a,15
     513   00:427E  DD 77 1B            		ld		(ix+27),a
     514   00:4281                      		
     515   00:4281  3A 0B C0            		ld		a,(cuenta_gira_exp)
     516   00:4284  3C                  		inc		a
     517   00:4285  32 0B C0            		ld		(cuenta_gira_exp),a
     518   00:4288  FE 1B               		cp		27
     519   00:428A  C2 C6 68            		jr.		nz,atributos_sprites
     520   00:428D  AF                  		xor		a
     521   00:428E  32 0B C0            		ld		(cuenta_gira_exp),a
     522   00:4291  C3 C6 68            		jr.		atributos_sprites
     523   00:4294                      		
     524   00:4294                      MENU:		
     525   00:4294                      
     526   00:4294                      		;prepara la pantalla
     527   00:4294                      		
     528   00:4294  CD CC 40            		call	colores_inicio
     529   00:4297  CD A6 45            		call	limpia_sprites
     530   00:429A  CD A3 57            		call	PREPARACION_SCREEN_2
     531   00:429D                      		
     532   00:429D  AF                  		xor		a														;XOR se lo carga todo poniendolo a 0, es como un ld a,0 pero ocupa menos
     533   00:429E  CD C3 00            		call	CLS
     534   00:42A1                      		
     535   00:42A1  3E 20               		ld		a,32													;pone el width a 32
     536   00:42A3  32 AF F3            		ld		[ANCHOSC1],a
     537   00:42A6  AF                  		xor		a
     538   00:42A7  32 DB F3            		ld		[CLICKOFF],a											;quita el click de las teclas
     539   00:42AA  CD 6F 00            		call	SCREEN1													;pasa a modo screen 1
     540   00:42AD                      	
     541   00:42AD  CD CC 00            		call	KEYOFF													;borramos las teclas de función
     542   00:42B0  CD 8B 56            		call	SPRITES_PETISOS											;carga sprites petisos y exp
     543   00:42B3                      
     544   00:42B3                      PREPARA_VARIABLES_SERPIENTE:
     545   00:42B3                      
     546   00:42B3  3E 10               		ld		a,16
     547   00:42B5  32 15 C0            		ld		(y_serp),a
     548   00:42B8  01 B8 0B            		ld		bc,3000
     549   00:42BB  ED 43 17 C0         		ld		(clock),bc
     550   00:42BF                      		
     551   00:42BF  3E AE               		ld		a,174
     552   00:42C1  32 04 C0            		ld		(petisoy),a
     553   00:42C4  3E 1E               		ld		a,30
     554   00:42C6  32 03 C0            		ld		(petisox),a
     555   00:42C9  3E 07               		ld		a,7
     556   00:42CB  32 05 C0            		ld		(espera_petiso),a
     557   00:42CE  32 07 C0            		ld		(espera_petiso_resta_2),a
     558   00:42D1  32 06 C0            		ld		(espera_petiso_resta),a
     559   00:42D4  AF                  		xor		a
     560   00:42D5  32 09 C0            		ld		(valor_suma_resta_exp),a
     561   00:42D8  32 0B C0            		ld		(cuenta_gira_exp),a
     562   00:42DB  32 0C C0            		ld		(retardo_exp),a
     563   00:42DE  32 12 C0            		ld		(fuego_cambia),a
     564   00:42E1  3E 01               		ld		a,1
     565   00:42E3  32 0A C0            		ld		(direccion_exp),a
     566   00:42E6  3E 46               		ld		a,70
     567   00:42E8  32 08 C0            		ld		(y_exp),a
     568   00:42EB                      				
     569   00:42EB                      RUTINA_DE_MENU:
     570   00:42EB                      
     571   00:42EB  21 22 AE            		ld		hl,letras_A												;redefine las letras
     572   00:42EE  11 08 02            		ld		de,#0208
     573   00:42F1  01 D0 00            		ld		bc,8*26
     574   00:42F4  CD 5C 00            		call	GRABAVRAM
     575   00:42F7                      		
     576   00:42F7  21 F2 AE            		ld		hl,titulo_centro1										;redefine tiles de título
     577   00:42FA  11 08 03            		ld		de,#0308
     578   00:42FD  01 C0 00            		ld		bc,8*24
     579   00:4300  CD 5C 00            		call	GRABAVRAM
     580   00:4303                      		
     581   00:4303  21 B2 AF            		ld		hl,parentesis_a											;redefine parentesis
     582   00:4306  11 40 01            		ld		de,#0140
     583   00:4309  01 10 00            		ld		bc,8*2
     584   00:430C  CD 5C 00            		call	GRABAVRAM
     585   00:430F                      		
     586   00:430F  21 C2 AF            		ld		hl,guion												;redefine guion y punto
     587   00:4312  11 58 01            		ld		de,#0158
     588   00:4315  01 10 00            		ld		bc,8*2
     589   00:4318  CD 5C 00            		call	GRABAVRAM
     590   00:431B                      		
     591   00:431B  21 D2 AF            		ld		hl,numero0												;redefine numeros y dos puntos
     592   00:431E  11 80 01            		ld		de,#0180	
     593   00:4321  01 58 00            		ld		bc,8*11
     594   00:4324  CD 5C 00            		call	GRABAVRAM
     595   00:4327                      								
     596   00:4327                      PANTALLA_DE_SELECCION:
     597   00:4327                      		
     598   00:4327  AF                  		xor		a
     599   00:4328  CD C3 00            		call	CLS
     600   00:432B                      				
     601   00:432B  26 01               		ld		h,1
     602   00:432D  2E 04               		ld		l,4
     603   00:432F  CD C6 00            		call	LOCATE
     604   00:4332  21 CB AC            		ld		hl,titulo_1
     605   00:4335  CD 31 45            		call	lee_pinta_una
     606   00:4338                      						
     607   00:4338  26 02               		ld		h,2
     608   00:433A  2E 18               		ld		l,24
     609   00:433C  CD C6 00            		call	LOCATE
     610   00:433F  21 01 AE            		ld		hl,copyright
     611   00:4342  CD 31 45            		call	lee_pinta_una
     612   00:4345                      		
     613   00:4345  3A 01 C0            		ld		a,(idioma)
     614   00:4348  B7                  		or		a
     615   00:4349  28 50               		jr.		z,menu_castellano
     616   00:434B                      
     617   00:434B                      menu_ingles:
     618   00:434B                      
     619   00:434B  26 03               		ld		h,3														;escribe pantalla de menu
     620   00:434D  2E 01               		ld		l,1
     621   00:434F  CD C6 00            		call	LOCATE
     622   00:4352  21 91 AC            		ld		hl,empresa
     623   00:4355  CD 31 45            		call	lee_pinta_una
     624   00:4358                      			
     625   00:4358  26 0C               		ld		h,12
     626   00:435A  2E 10               		ld		l,16
     627   00:435C  CD C6 00            		call	LOCATE
     628   00:435F  21 B6 AD            		ld		hl,teclado
     629   00:4362  CD 31 45            		call	lee_pinta_una	
     630   00:4365                      		
     631   00:4365  26 0C               		ld		h,12
     632   00:4367  2E 12               		ld		l,18
     633   00:4369  CD C6 00            		call	LOCATE
     634   00:436C  21 BD AD            		ld		hl,mando
     635   00:436F  CD 31 45            		call	lee_pinta_una
     636   00:4372                      		
     637   00:4372  26 0F               		ld		h,15
     638   00:4374  2E 0D               		ld		l,13
     639   00:4376  CD C6 00            		call	LOCATE
     640   00:4379  21 B1 AD            		ld		hl,mensaje_ING
     641   00:437C  CD 31 45            		call	lee_pinta_una
     642   00:437F                      				
     643   00:437F  26 0C               		ld		h,12
     644   00:4381  2E 14               		ld		l,20
     645   00:4383  CD C6 00            		call	LOCATE
     646   00:4386  21 C4 AD            		ld		hl,instrucciones
     647   00:4389  CD 31 45            		call	lee_pinta_una
     648   00:438C                      		
     649   00:438C  26 0C               		ld		h,12
     650   00:438E  2E 16               		ld		l,22
     651   00:4390  CD C6 00            		call	LOCATE
     652   00:4393  21 EA AD            		ld		hl,salir
     653   00:4396  CD 31 45            		call	lee_pinta_una
     654   00:4399                      		
     655   00:4399  18 4E               		jr.		rutina_colores_inicio
     656   00:439B                      		
     657   00:439B                      menu_castellano:
     658   00:439B                      
     659   00:439B  26 03               		ld		h,3														;escribe pantalla de menu
     660   00:439D  2E 01               		ld		l,1
     661   00:439F  CD C6 00            		call	LOCATE
     662   00:43A2  21 AE AC            		ld		hl,empresa_e
     663   00:43A5  CD 31 45            		call	lee_pinta_una
     664   00:43A8                      		
     665   00:43A8  26 0F               		ld		h,15
     666   00:43AA  2E 0D               		ld		l,13
     667   00:43AC  CD C6 00            		call	LOCATE
     668   00:43AF  21 AC AD            		ld		hl,mensaje
     669   00:43B2  CD 31 45            		call	lee_pinta_una
     670   00:43B5                      		
     671   00:43B5  26 0C               		ld		h,12
     672   00:43B7  2E 10               		ld		l,16
     673   00:43B9  CD C6 00            		call	LOCATE
     674   00:43BC  21 CF AD            		ld		hl,teclado_e
     675   00:43BF  CD 31 45            		call	lee_pinta_una	
     676   00:43C2                      		
     677   00:43C2  26 0C               		ld		h,12
     678   00:43C4  2E 12               		ld		l,18
     679   00:43C6  CD C6 00            		call	LOCATE
     680   00:43C9  21 D7 AD            		ld		hl,mando_e
     681   00:43CC  CD 31 45            		call	lee_pinta_una
     682   00:43CF                      				
     683   00:43CF  26 0C               		ld		h,12
     684   00:43D1  2E 14               		ld		l,20
     685   00:43D3  CD C6 00            		call	LOCATE
     686   00:43D6  21 E1 AD            		ld		hl,instruccion_e
     687   00:43D9  CD 31 45            		call	lee_pinta_una
     688   00:43DC                      		
     689   00:43DC  26 0C               		ld		h,12
     690   00:43DE  2E 16               		ld		l,22
     691   00:43E0  CD C6 00            		call	LOCATE
     692   00:43E3  21 F7 AD            		ld		hl,salir_e
     693   00:43E6  CD 31 45            		call	lee_pinta_una		
     694   00:43E9                      				
     695   00:43E9                      rutina_colores_inicio:													;rutina de colores
     696   00:43E9                      		
     697   00:43E9  21 37 96            		ld		hl,col_letras_10
     698   00:43EC  CD F7 43            		call	rutina_colores_pinto
     699   00:43EF  21 33 96            		ld		hl,col_letras_9
     700   00:43F2  CD F7 43            		call	rutina_colores_pinto
     701   00:43F5                      		
     702   00:43F5                      								
     703   00:43F5  18 21               		jr.		anima_fuego
     704   00:43F7                      		
     705   00:43F7                      rutina_colores_pinto:
     706   00:43F7                      																		;redefine los colores de las letras
     707   00:43F7  11 0C 20            		ld		de,#200c
     708   00:43FA  01 04 00            		ld		bc,4
     709   00:43FD  CD 5C 00            		call	GRABAVRAM
     710   00:4400                      		
     711   00:4400                      reinicia_fuego:
     712   00:4400                      
     713   00:4400  21 E8 FD            		ld		hl,65000
     714   00:4403  22 12 C0            		ld		(fuego_cambia),hl
     715   00:4406  C9                  		ret
     716   00:4407                      
     717   00:4407                      cambia_variable_fuego:
     718   00:4407                      
     719   00:4407  3A 14 C0            		ld		a,(fuego_cambiante)
     720   00:440A  B7                  		or		a
     721   00:440B  28 05               		jr.		z,cambia_variable_fuego_2
     722   00:440D  AF                  		xor		a
     723   00:440E  32 14 C0            		ld		(fuego_cambiante),a
     724   00:4411                      		
     725   00:4411  C9                  		ret
     726   00:4412                      		
     727   00:4412                      cambia_variable_fuego_2:
     728   00:4412                      
     729   00:4412  3E 01               		ld		a,1
     730   00:4414  32 14 C0            		ld		(fuego_cambiante),a
     731   00:4417                      		
     732   00:4417  C9                  		ret
     733   00:4418                      				
     734   00:4418                      anima_fuego:
     735   00:4418                      
     736   00:4418  2A 12 C0            		ld		hl,(fuego_cambia)
     737   00:441B  B7                  		or		a
     738   00:441C  CC 07 44            		call	z,cambia_variable_fuego
     739   00:441F  2A 14 C0            		ld		hl,(fuego_cambiante)
     740   00:4422  B7                  		or		a
     741   00:4423  CC 00 44            		call	z,reinicia_fuego
     742   00:4426                      						
     743   00:4426  3A 14 C0            		ld		a,(fuego_cambiante)
     744   00:4429  B7                  		or		a
     745   00:442A  28 23               		jr.		z,anima_fuego_2
     746   00:442C                      		
     747   00:442C  21 2A AF            		ld		hl,fueguito_1	
     748   00:442F  11 40 03            		ld		de,#0340
     749   00:4432  01 10 00            		ld		bc,8*2
     750   00:4435  CD 5C 00            		call	GRABAVRAM
     751   00:4438                      		
     752   00:4438  21 82 AF            		ld		hl,fuego_quema	
     753   00:443B  11 C0 03            		ld		de,#03c0
     754   00:443E  01 18 00            		ld		bc,8*3
     755   00:4441  CD 5C 00            		call	GRABAVRAM
     756   00:4444                      		
     757   00:4444  21 5A AF            		ld		hl,flame_1	
     758   00:4447  11 70 03            		ld		de,#0370
     759   00:444A  CD BE 5A            		call	standard_tiles_cambiantes
     760   00:444D                      				
     761   00:444D  18 30               		jr.		contro_serpiente_a_pintar
     762   00:444F                      		
     763   00:444F                      anima_fuego_2:
     764   00:444F                      
     765   00:444F  21 01 00            		ld		hl,1
     766   00:4452  22 12 C0            		ld		(fuego_cambia),hl
     767   00:4455                      		
     768   00:4455  21 32 AF            		ld		hl,fueguito_2	
     769   00:4458  11 40 03            		ld		de,#0340
     770   00:445B  CD BE 5A            		call	standard_tiles_cambiantes
     771   00:445E                      		
     772   00:445E  21 2A AF            		ld		hl,fueguito_1											;redefine tiles de fuego
     773   00:4461  11 48 03            		ld		de,#0348
     774   00:4464  CD BE 5A            		call	standard_tiles_cambiantes
     775   00:4467                      		
     776   00:4467  21 9A AF            		ld		hl,fuego_quema_2
     777   00:446A  11 C0 03            		ld		de,#03c0
     778   00:446D  01 18 00            		ld		bc,8*3
     779   00:4470  CD 5C 00            		call	GRABAVRAM
     780   00:4473                      		
     781   00:4473  21 62 AF            		ld		hl,flame_2
     782   00:4476  11 70 03            		ld		de,#0370
     783   00:4479  01 08 00            		ld		bc,8*1
     784   00:447C  CD 5C 00            		call	GRABAVRAM
     785   00:447F                      		
     786   00:447F                      contro_serpiente_a_pintar:
     787   00:447F                      		
     788   00:447F  2A 12 C0            		ld		hl,(fuego_cambia)
     789   00:4482  2B                  		dec		hl
     790   00:4483  22 12 C0            		ld		(fuego_cambia),hl
     791   00:4486                      		
     792   00:4486  CD 3E 41            		call	petiso_activity
     793   00:4489                      		
     794   00:4489  21 2F 96            		ld		hl,col_letras_8
     795   00:448C  CD F7 43            		call	rutina_colores_pinto
     796   00:448F                      		
     797   00:448F  CD C1 41            		call	exp_activity											;llama al exp en movimiento
     798   00:4492                      		
     799   00:4492  21 2B 96            		ld		hl,col_letras_7
     800   00:4495  CD F7 43            		call	rutina_colores_pinto
     801   00:4498                      		
     802   00:4498  C3 3B 45            		jr.		pinta_serpiente_1
     803   00:449B                      				
     804   00:449B                      control_stick_menu:
     805   00:449B                      		
     806   00:449B  21 27 96            		ld		hl,col_letras_5
     807   00:449E  CD F7 43            		call	rutina_colores_pinto
     808   00:44A1                      		
     809   00:44A1  AF                  		xor		a
     810   00:44A2  CD D5 00            		call	ONSTICK
     811   00:44A5  B7                  		or		a
     812   00:44A6  C2 B5 44            		jp		nz,mas_control
     813   00:44A9  3E 01               		ld		a,1
     814   00:44AB  CD D5 00            		call	ONSTICK
     815   00:44AE  B7                  		or		a
     816   00:44AF  C2 B5 44            		jp		nz,mas_control
     817   00:44B2  C3 D5 44            		jp		limpiamos_la_ultima_opcion
     818   00:44B5                      
     819   00:44B5                      mas_control:
     820   00:44B5                      		
     821   00:44B5  3A E0 DE            		ld		a,(sigue_pulsando)
     822   00:44B8  B7                  		or		a
     823   00:44B9  C2 D9 44            		jp		nz,control_strig_menu
     824   00:44BC                      		
     825   00:44BC  AF                  		xor		a														;controla el movimiento de la serpiente en menu
     826   00:44BD  CD C7 44            		call	control_stick_menu_para_dos_sticks
     827   00:44C0                      		
     828   00:44C0  3E 01               		ld		a,1
     829   00:44C2  CD C7 44            		call	control_stick_menu_para_dos_sticks
     830   00:44C5                      		
     831   00:44C5  18 12               		jr.		control_strig_menu
     832   00:44C7                      
     833   00:44C7                      control_stick_menu_para_dos_sticks:
     834   00:44C7                      		
     835   00:44C7  CD D5 00            		call	ONSTICK
     836   00:44CA  FE 01               		cp		1
     837   00:44CC  CA 52 45            		jr.		z,sube_cursor
     838   00:44CF  FE 05               		cp		5
     839   00:44D1  CA 7C 45            		jr.		z,baja_cursor
     840   00:44D4                      		
     841   00:44D4  C9                  		ret
     842   00:44D5                      
     843   00:44D5                      limpiamos_la_ultima_opcion:
     844   00:44D5                      
     845   00:44D5  AF                  		xor		a
     846   00:44D6  32 E0 DE            		ld		(sigue_pulsando),a
     847   00:44D9                      				
     848   00:44D9                      control_strig_menu:														;controla si pulsa espacio para seleccionar una opcion
     849   00:44D9                      		
     850   00:44D9  21 3B 96            		ld		hl,col_letras_12
     851   00:44DC  CD F7 43            		call	rutina_colores_pinto
     852   00:44DF                      		
     853   00:44DF  AF                  		xor		a
     854   00:44E0  CD D8 00            		CALL	ONSTRIG
     855   00:44E3  B7                  		or		a
     856   00:44E4  20 0B               		jr.		nz,que_ha_elegido
     857   00:44E6                      		
     858   00:44E6  3E 01               		ld		a,1
     859   00:44E8  CD D8 00            		CALL	ONSTRIG
     860   00:44EB  B7                  		or		a
     861   00:44EC  20 03               		jr.		nz,que_ha_elegido
     862   00:44EE                      				
     863   00:44EE                      controla_tiempo_para_cambio:											;contador para ir a mostrar los creditos
     864   00:44EE                      		
     865   00:44EE                      ;		ld		hl,(clock)
     866   00:44EE                      ;		ld		bc,1		
     867   00:44EE                      ;		sbc		hl,bc
     868   00:44EE                      ;		ld		(clock),hl
     869   00:44EE                      ;		jr.		nz,rutina_colores_inicio			
     870   00:44EE                      ;		ld		bc,30000
     871   00:44EE                      ;		ld		(clock),bc
     872   00:44EE  C3 E9 43            		jr.		rutina_colores_inicio									;quitamos creditos para ahorrar memoria								
     873   00:44F1                      
     874   00:44F1                      ;CREDITOS:
     875   00:44F1                      		
     876   00:44F1                      ;		call	limpia_sprites
     877   00:44F1                      						
     878   00:44F1                      ;		xor		a
     879   00:44F1                      ;		call	CLS
     880   00:44F1                      				
     881   00:44F1                      ;		ld		h,18
     882   00:44F1                      ;		ld		l,1
     883   00:44F1                      ;		call	LOCATE
     884   00:44F1                      ;		ld		hl,benja
     885   00:44F1                      ;		call	lee_pinta_una
     886   00:44F1                      				
     887   00:44F1                      ;		ld		h,21
     888   00:44F1                      ;		ld		l,9
     889   00:44F1                      ;		call	LOCATE
     890   00:44F1                      ;		ld		hl,john
     891   00:44F1                      ;		call	lee_pinta_una
     892   00:44F1                      					
     893   00:44F1                      ;		ld		h,17
     894   00:44F1                      ;		ld		l,13
     895   00:44F1                      ;		call	LOCATE
     896   00:44F1                      ;		ld		hl,salguero
     897   00:44F1                      ;		call	lee_pinta_una
     898   00:44F1                      				
     899   00:44F1                      ;		ld		h,21
     900   00:44F1                      ;		ld		l,17
     901   00:44F1                      ;		call	LOCATE
     902   00:44F1                      ;		ld		hl,jorge
     903   00:44F1                      ;		call	lee_pinta_una
     904   00:44F1                      		
     905   00:44F1                      ;		ld		h,2
     906   00:44F1                      ;		ld		l,24
     907   00:44F1                      ;		call	LOCATE
     908   00:44F1                      ;		ld		hl,mis_chicos
     909   00:44F1                      ;		call	lee_pinta_una
     910   00:44F1                      				
     911   00:44F1                      ;		ld		h,14
     912   00:44F1                      ;		ld		l,5
     913   00:44F1                      ;		call	LOCATE
     914   00:44F1                      ;		ld		hl,tromax
     915   00:44F1                      ;		call	lee_pinta_una
     916   00:44F1                      		
     917   00:44F1                      ;		call	SPRITES_ONIRIC
     918   00:44F1                      		
     919   00:44F1                      ;		ld		a,140
     920   00:44F1                      ;		ld		ix,atributos_sprite_general
     921   00:44F1                      ;		ld		(ix),a
     922   00:44F1                      ;		ld		(ix+8),a
     923   00:44F1                      ;		add		16
     924   00:44F1                      ;		ld		(ix+4),a
     925   00:44F1                      ;		ld		(ix+12),a
     926   00:44F1                      ;		ld		a,90
     927   00:44F1                      ;		ld		(ix+1),a
     928   00:44F1                      ;		ld		(ix+5),a
     929   00:44F1                      ;		add		16
     930   00:44F1                      ;		ld		(ix+9),a
     931   00:44F1                      ;		ld		(ix+13),a
     932   00:44F1                      ;		ld		a,15
     933   00:44F1                      ;		ld		(ix+3),a
     934   00:44F1                      ;		ld		(ix+7),a
     935   00:44F1                      ;		ld		(ix+11),a
     936   00:44F1                      ;		ld		(ix+15),a
     937   00:44F1                      ;		xor		a
     938   00:44F1                      ;		ld		(ix+2),a
     939   00:44F1                      ;		add		4
     940   00:44F1                      ;		ld		(ix+10),a
     941   00:44F1                      ;		add		4
     942   00:44F1                      ;		ld		(ix+6),a
     943   00:44F1                      ;		add		4
     944   00:44F1                      ;		ld		(ix+14),a
     945   00:44F1                      		
     946   00:44F1                      ;		call	atributos_sprites
     947   00:44F1                      		
     948   00:44F1                      ;		ld		a,(idioma)
     949   00:44F1                      ;		cp		0
     950   00:44F1                      ;		jr.		z,creditos_castellano
     951   00:44F1                      		
     952   00:44F1                      	
     953   00:44F1                      ;creditos_ingles:
     954   00:44F1                      
     955   00:44F1                      ;		ld		h,1
     956   00:44F1                      ;		ld		l,5
     957   00:44F1                      ;		call	LOCATE
     958   00:44F1                      ;		ld		hl,mano_derecha_e
     959   00:44F1                      ;		call	lee_pinta_una
     960   00:44F1                      		
     961   00:44F1                      ;		ld		h,1
     962   00:44F1                      ;		ld		l,1
     963   00:44F1                      ;		call	LOCATE
     964   00:44F1                      ;		ld		hl,programacion
     965   00:44F1                      ;		call	lee_pinta_una
     966   00:44F1                      		
     967   00:44F1                      ;		ld		h,1
     968   00:44F1                      ;		ld		l,9
     969   00:44F1                      ;		call	LOCATE
     970   00:44F1                      ;		ld		hl,musica
     971   00:44F1                      ;		call	lee_pinta_una
     972   00:44F1                      		
     973   00:44F1                      ;		ld		h,1
     974   00:44F1                      ;		ld		l,13
     975   00:44F1                      ;		call	LOCATE
     976   00:44F1                      ;		ld		hl,ilustrations
     977   00:44F1                      ;		call	lee_pinta_una
     978   00:44F1                      		
     979   00:44F1                      ;		ld		h,1
     980   00:44F1                      ;		ld		l,17
     981   00:44F1                      ;		call	LOCATE
     982   00:44F1                      ;		ld		hl,graficos
     983   00:44F1                      ;		call	lee_pinta_una
     984   00:44F1                      		
     985   00:44F1                      ;		ld		h,1
     986   00:44F1                      ;		ld		l,20
     987   00:44F1                      ;		call	LOCATE
     988   00:44F1                      ;		ld		hl,thanks
     989   00:44F1                      ;		call	lee_pinta_una
     990   00:44F1                      		
     991   00:44F1                      ;		jr.		controla_tiempo_para_cambio_2
     992   00:44F1                      		
     993   00:44F1                      ;creditos_castellano:
     994   00:44F1                      		
     995   00:44F1                      ;		ld		h,1
     996   00:44F1                      ;		ld		l,5
     997   00:44F1                      ;		call	LOCATE
     998   00:44F1                      ;		ld		hl,mano_derecha
     999   00:44F1                      ;		call	lee_pinta_una
    1000   00:44F1                      ;		
    1001   00:44F1                      ;		ld		h,1
    1002   00:44F1                      ;		ld		l,1
    1003   00:44F1                      ;		call	LOCATE
    1004   00:44F1                      ;		ld		hl,programacion_e
    1005   00:44F1                      ;		call	lee_pinta_una
    1006   00:44F1                      		
    1007   00:44F1                      ;		ld		h,1
    1008   00:44F1                      ;		ld		l,9
    1009   00:44F1                      ;		call	LOCATE
    1010   00:44F1                      ;		ld		hl,musica_e
    1011   00:44F1                      ;		call	lee_pinta_una
    1012   00:44F1                      		
    1013   00:44F1                      ;		ld		h,1
    1014   00:44F1                      ;		ld		l,13
    1015   00:44F1                      ;		call	LOCATE
    1016   00:44F1                      ;		ld		hl,ilustraciones
    1017   00:44F1                      ;		call	lee_pinta_una
    1018   00:44F1                      		
    1019   00:44F1                      ;		ld		h,1
    1020   00:44F1                      ;		ld		l,17
    1021   00:44F1                      ;		call	LOCATE
    1022   00:44F1                      ;		ld		hl,graficos_e
    1023   00:44F1                      ;		call	lee_pinta_una
    1024   00:44F1                      		
    1025   00:44F1                      ;		ld		h,1
    1026   00:44F1                      ;		ld		l,20
    1027   00:44F1                      ;		call	LOCATE
    1028   00:44F1                      ;		ld		hl,agradecido
    1029   00:44F1                      ;		call	lee_pinta_una
    1030   00:44F1                      		
    1031   00:44F1                      ;controla_tiempo_para_cambio_2:
    1032   00:44F1                      
    1033   00:44F1                      ;		xor		a
    1034   00:44F1                      ;		CALL	ONSTRIG
    1035   00:44F1                      ;		cp		0
    1036   00:44F1                      ;		jr.		nz,prepara_contador_para_menu
    1037   00:44F1                      		
    1038   00:44F1                      ;		ld		a,1
    1039   00:44F1                      ;		CALL	ONSTRIG
    1040   00:44F1                      ;		cp		0
    1041   00:44F1                      ;		jr.		nz,prepara_contador_para_menu
    1042   00:44F1                      		
    1043   00:44F1                      ;		ld		hl,(clock)	
    1044   00:44F1                      ;		ld		bc,1				
    1045   00:44F1                      ;		sbc		hl,bc
    1046   00:44F1                      ;		ld		(clock),hl
    1047   00:44F1                      		
    1048   00:44F1                      ;		jr.		nz,controla_tiempo_para_cambio_2
    1049   00:44F1                      			
    1050   00:44F1                      ;prepara_contador_para_menu:
    1051   00:44F1                      
    1052   00:44F1                      ;		ld		bc,60000
    1053   00:44F1                      ;		ld		(clock),bc
    1054   00:44F1                      
    1055   00:44F1                      ;		jr.		MENU
    1056   00:44F1                      				
    1057   00:44F1                      que_ha_elegido:
    1058   00:44F1                      
    1059   00:44F1  3E 01               		ld		a,1														;efecto de pinchar opción
    1060   00:44F3  CD D6 83            		call	efecto_sonido
    1061   00:44F6                      		
    1062   00:44F6  3A 15 C0            		ld		a,(y_serp)
    1063   00:44F9  FE 10               		cp		16
    1064   00:44FB  CA 22 45            		jp		z,prepara_nivel_1
    1065   00:44FE  FE 12               		cp		18
    1066   00:4500  CA 29 45            		jp		z,prepara_nivel_2
    1067   00:4503  FE 14               		cp		20
    1068   00:4505  CA 0D 45            		jp		z,idioma_a_pintar
    1069   00:4508  FE 16               		cp		22
    1070   00:450A  CA 10 40            		jp		z,START
    1071   00:450D                      
    1072   00:450D                      idioma_a_pintar:
    1073   00:450D                      		
    1074   00:450D  3A 01 C0            		ld		a,(idioma)
    1075   00:4510  B7                  		or		a
    1076   00:4511  20 08               		jr.		nz,ingles
    1077   00:4513                      
    1078   00:4513                      castellano
    1079   00:4513                      
    1080   00:4513  3E 01               		ld		a,1
    1081   00:4515  32 01 C0            		ld		(idioma),a
    1082   00:4518                      		
    1083   00:4518  C3 94 42            		jr.		MENU
    1084   00:451B                      		
    1085   00:451B                      ingles:
    1086   00:451B                      	
    1087   00:451B  AF                  		xor		a
    1088   00:451C  32 01 C0            		ld		(idioma),a
    1089   00:451F                      		
    1090   00:451F  C3 94 42            		JR.		MENU
    1091   00:4522                      					
    1092   00:4522                      prepara_nivel_1:
    1093   00:4522                      
    1094   00:4522  AF                  		xor		a
    1095   00:4523  32 16 C0            		ld		(nivel),a
    1096   00:4526  CD D4 45            		call	prepara_juego
    1097   00:4529                      
    1098   00:4529                      prepara_nivel_2:
    1099   00:4529                      
    1100   00:4529  3E 01               		ld		a,1
    1101   00:452B  32 16 C0            		ld		(nivel),a
    1102   00:452E  CD D4 45            		call	prepara_juego
    1103   00:4531                      		
    1104   00:4531                      lee_pinta_una:															;imprime el texto fijo
    1105   00:4531  7E                  		ld		a,[hl]
    1106   00:4532  47                  		ld		b,a
    1107   00:4533                      		
    1108   00:4533                      loop_lee_pinta_una:
    1109   00:4533  23                  		inc		hl
    1110   00:4534  7E                  		ld		a,[hl]
    1111   00:4535  CD A2 00            		call	CHPUT
    1112   00:4538  10 F9               		djnz	loop_lee_pinta_una
    1113   00:453A  C9                  		ret
    1114   00:453B                      				
    1115   00:453B                      pinta_serpiente_1:
    1116   00:453B                      		
    1117   00:453B  ED 4B 15 C0         		ld		bc,[y_serp]
    1118   00:453F  26 0A               		ld		h,10
    1119   00:4541  69                  		ld		l,c
    1120   00:4542  CD C6 00            		call	LOCATE
    1121   00:4545  21 1E AE            		ld		hl,serp_1
    1122   00:4548  CD 31 45            		call	lee_pinta_una
    1123   00:454B  ED 43 15 C0         		ld		[y_serp],bc
    1124   00:454F  C3 9B 44            		jp		control_stick_menu
    1125   00:4552                      	
    1126   00:4552                      sube_cursor:															;comprueva si lo puede subir
    1127   00:4552                       		
    1128   00:4552  3E 01               		ld		a,1
    1129   00:4554  32 E0 DE            		ld		(sigue_pulsando),a
    1130   00:4557                      		
    1131   00:4557  3A 15 C0             		ld		a,(y_serp)
    1132   00:455A  FE 10                		cp		16
    1133   00:455C  C2 60 45             		jp		nz,lo_sube
    1134   00:455F                       		
    1135   00:455F  C9                   		ret
    1136   00:4560                      
    1137   00:4560                      lo_sube:																;lo sube porque es posible
    1138   00:4560                      
    1139   00:4560  AF                  		xor		a														;efecto de movimiento
    1140   00:4561  CD D6 83            		call	efecto_sonido
    1141   00:4564                      		
    1142   00:4564  3A 15 C0            		ld		a,(y_serp)
    1143   00:4567  26 0A               		ld		h,10
    1144   00:4569  6F                  		ld		l,a
    1145   00:456A  CD C6 00            		call	LOCATE
    1146   00:456D  21 20 AE            		ld		hl,nada
    1147   00:4570  CD 31 45            		call	lee_pinta_una
    1148   00:4573                      		
    1149   00:4573  3A 15 C0            		ld		a,(y_serp)
    1150   00:4576  D6 02               		sub		2														;decrementa a 2 veces
    1151   00:4578  32 15 C0            		ld		(y_serp),a
    1152   00:457B                      		
    1153   00:457B  C9                  		ret
    1154   00:457C                      
    1155   00:457C                      baja_cursor:															;comprueva si lo puede bajar
    1156   00:457C                      
    1157   00:457C  3E 05               		ld		a,5
    1158   00:457E  32 E0 DE            		ld		(sigue_pulsando),a
    1159   00:4581                      			
    1160   00:4581  3A 15 C0            		ld		a,(y_serp)
    1161   00:4584  FE 16                		cp		22
    1162   00:4586  C2 8A 45             		jp		nz,lo_baja
    1163   00:4589                       		
    1164   00:4589  C9                   		ret
    1165   00:458A                      
    1166   00:458A                      lo_baja:																;lo baja porque es posbile
    1167   00:458A                      
    1168   00:458A  AF                  		xor		a														;efecto de movimiento
    1169   00:458B  CD D6 83            		call	efecto_sonido
    1170   00:458E                      		
    1171   00:458E  3A 15 C0            		ld		a,(y_serp)
    1172   00:4591  26 0A               		ld		h,10
    1173   00:4593  6F                  		ld		l,a
    1174   00:4594  CD C6 00            		call	LOCATE
    1175   00:4597  21 20 AE            		ld		hl,nada
    1176   00:459A  CD 31 45            		call	lee_pinta_una
    1177   00:459D                      				
    1178   00:459D  3A 15 C0            		ld		a,(y_serp)
    1179   00:45A0  C6 02               		add		2														;incrementa a 2 veces
    1180   00:45A2  32 15 C0            		ld		(y_serp),a
    1181   00:45A5                      		
    1182   00:45A5  C9                  		ret
    1183   00:45A6                      		
    1184   00:45A6                      limpia_sprites:
    1185   00:45A6                      
    1186   00:45A6  DD 21 2A C0         		ld		ix,atributos_sprite_general
    1187   00:45AA  3E D1               		ld		a,209
    1188   00:45AC  DD 77 00            		ld		(ix),a
    1189   00:45AF  DD 77 04            		ld		(ix+4),a
    1190   00:45B2  DD 77 08            		ld		(ix+8),a
    1191   00:45B5  DD 77 0C            		ld		(ix+12),a
    1192   00:45B8  DD 77 10            		ld		(ix+16),a
    1193   00:45BB  DD 77 14            		ld		(ix+20),a
    1194   00:45BE  DD 77 18            		ld		(ix+24),a
    1195   00:45C1  DD 77 1C            		ld		(ix+28),a
    1196   00:45C4  DD 77 20            		ld		(ix+32),a
    1197   00:45C7  DD 77 24            		ld		(ix+36),a
    1198   00:45CA  DD 77 28            		ld		(ix+40),a
    1199   00:45CD  DD 77 2C            		ld		(ix+44),a
    1200   00:45D0  76                  		halt
    1201   00:45D1  C3 C6 68            		jr.		atributos_sprites
    1202   00:45D4                      				
    1203   00:45D4                      prepara_juego:
    1204   00:45D4                      		
    1205   00:45D4  CD A6 45            		call	limpia_sprites
    1206   00:45D7                      		
    1207   00:45D7  CD 2F 57            		call	activa_mute												
    1208   00:45DA                      		
    1209   00:45DA  CD A3 57            		call	PREPARACION_SCREEN_2
    1210   00:45DD                      
    1211   00:45DD                      		
    1212   00:45DD  CD A3 56            		call	SPRITES_UNO
    1213   00:45E0                      		
    1214   00:45E0  CD 41 00            		call	DISSCR													;desconectamos la pantalla
    1215   00:45E3                      		
    1216   00:45E3  CD A6 45            		call	limpia_sprites
    1217   00:45E6                      		
    1218   00:45E6  F3                  		di
    1219   00:45E7  CD EC B0            		call	setrompage0
    1220   00:45EA                      		
    1221   00:45EA  21 AA 1E            		ld		hl,tiles_1												;cargamos patrones
    1222   00:45ED  11 00 00            		ld		de,#0000
    1223   00:45F0  CD FC 83            		call	depack_VRAM
    1224   00:45F3                      		
    1225   00:45F3  21 11 24            		ld		hl,colores_1											;cargamos colores de patrones
    1226   00:45F6  11 00 20            		ld		de,#2000
    1227   00:45F9  CD FC 83            		call	depack_VRAM
    1228   00:45FC                      		
    1229   00:45FC  AF                  		xor		a
    1230   00:45FD  32 1C C0            		ld		(py),a
    1231   00:4600  3A 01 C0            		ld		a,(idioma)
    1232   00:4603  B7                  		or		a
    1233   00:4604  28 0B               		jr.		z,instrucciones_en_castellano
    1234   00:4606                      
    1235   00:4606                      instrucciones_en_ingles:		
    1236   00:4606                      																			
    1237   00:4606  21 1E 01            		ld		hl,instru_ingle											;instrucciones en ingles
    1238   00:4609  11 00 18            		ld		de,#1800
    1239   00:460C  CD FC 83            		call	depack_VRAM
    1240   00:460F                      				
    1241   00:460F  18 09               		jr.		animaciones_de_instrucciones
    1242   00:4611                      		
    1243   00:4611                      instrucciones_en_castellano:
    1244   00:4611                      
    1245   00:4611  21 00 00            		ld		hl,instru_caste											;instrucciones en castellano
    1246   00:4614  11 00 18            		ld		de,#1800
    1247   00:4617  CD FC 83            		call	depack_VRAM
    1248   00:461A                      		
    1249   00:461A                      animaciones_de_instrucciones:
    1250   00:461A                      		
    1251   00:461A  CD F1 B0            		call	recbios													;recuperamos la bios
    1252   00:461D  FB                  		ei
    1253   00:461E  CD 44 00            		call	ENASCR
    1254   00:4621                      		
    1255   00:4621  DD 21 2A C0         		ld		ix,atributos_sprite_general
    1256   00:4625  CD F0 56            		call	SPRITES_BOMBA
    1257   00:4628                      		
    1258   00:4628                      animaciones_de_instrucciones_1:
    1259   00:4628                      		
    1260   00:4628  3E 98               		ld		a,152													;camina hacia la derecha lento con o sin bomba
    1261   00:462A  DD 77 00            		ld		(ix),a
    1262   00:462D  D6 07               		sub		7
    1263   00:462F  DD 77 08            		ld		(ix+8),a
    1264   00:4632  C6 10               		add		16
    1265   00:4634  DD 77 04            		ld		(ix+4),a
    1266   00:4637                      		
    1267   00:4637  3A 1C C0            		ld		a,(py)
    1268   00:463A  C6 05               		add		5
    1269   00:463C  32 1C C0            		ld		(py),a
    1270   00:463F  CD E4 83            		call	UNO_CINCO_NUEVE
    1271   00:4642                      		
    1272   00:4642  AF                  		xor		a
    1273   00:4643  CD EE 83            		call	DOS_SEIS_DIEZ
    1274   00:4646                      		
    1275   00:4646  3E 01               		ld		a,1
    1276   00:4648  DD 77 03            		ld		(ix+3),a
    1277   00:464B  3E 03               		ld		a,3
    1278   00:464D  DD 77 07            		ld		(ix+7),a
    1279   00:4650  3E 09               		ld		a,9
    1280   00:4652  DD 77 0B            		ld		(ix+11),a
    1281   00:4655                      		
    1282   00:4655  3E 11               		ld		a,17													;efecto sonoro de paso lento
    1283   00:4657  CD D6 83            		call	efecto_sonido
    1284   00:465A                      		
    1285   00:465A  CD C6 68            		call	atributos_sprites
    1286   00:465D                      
    1287   00:465D  3E 05               		ld		a,5
    1288   00:465F  32 17 C0            		ld		(clock),a
    1289   00:4662                      		
    1290   00:4662  CD 1A 80            		call	espera_de_animaciones
    1291   00:4665                      		
    1292   00:4665  3A 1C C0            		ld		a,(py)
    1293   00:4668  C6 05               		add		5
    1294   00:466A  32 1C C0            		ld		(py),a
    1295   00:466D  CD E4 83            		call	UNO_CINCO_NUEVE
    1296   00:4670                      		
    1297   00:4670  3E 0C               		ld		a,3*4
    1298   00:4672  CD EE 83            		call	DOS_SEIS_DIEZ
    1299   00:4675                      		
    1300   00:4675  CD C6 68            		call	atributos_sprites
    1301   00:4678                      
    1302   00:4678  3E 05               		ld		a,5
    1303   00:467A  32 17 C0            		ld		(clock),a
    1304   00:467D                      				
    1305   00:467D  CD 1A 80            		call	espera_de_animaciones
    1306   00:4680                      		
    1307   00:4680  AF                  		xor		a
    1308   00:4681  CD D8 00            		CALL	ONSTRIG
    1309   00:4684  B7                  		or		a
    1310   00:4685  C2 98 47            		jr.		nz,vamos_alla
    1311   00:4688                      		
    1312   00:4688  3E 01               		ld		a,1
    1313   00:468A  CD D8 00            		CALL	ONSTRIG
    1314   00:468D  B7                  		or		a
    1315   00:468E  C2 98 47            		jr.		nz,vamos_alla
    1316   00:4691                      				
    1317   00:4691  3A 1C C0            		ld		a,(py)
    1318   00:4694  FE 78               		cp		120
    1319   00:4696  28 08               		jr.		z,animaciones_de_instrucciones_2
    1320   00:4698  38 8E               		jr.		c,animaciones_de_instrucciones_1
    1321   00:469A  FE FA               		cp		250
    1322   00:469C  28 5C               		jr.		z,animaciones_de_instrucciones_3
    1323   00:469E  38 88               		jr.		c,animaciones_de_instrucciones_1
    1324   00:46A0                      
    1325   00:46A0                      
    1326   00:46A0                      animaciones_de_instrucciones_2:									
    1327   00:46A0                      		
    1328   00:46A0  CD A3 56            		call	SPRITES_UNO
    1329   00:46A3                      		
    1330   00:46A3  3E 03               		ld		a,3														;efecto sonoro de bomba
    1331   00:46A5  CD D6 83            		call	efecto_sonido
    1332   00:46A8                      		
    1333   00:46A8  3E A0               		ld		a,160													; lanza la bomba
    1334   00:46AA  DD 77 0C            		ld		(ix+12),a
    1335   00:46AD  3E 87               		ld		a,135
    1336   00:46AF  DD 77 0D            		ld		(ix+13),a
    1337   00:46B2  3E 54               		ld		a,21*4
    1338   00:46B4  DD 77 0E            		ld		(ix+14),a
    1339   00:46B7  3E 0F               		ld		a,15
    1340   00:46B9  DD 77 0F            		ld		(ix+15),a
    1341   00:46BC                      		
    1342   00:46BC  CD C6 68            		call	atributos_sprites
    1343   00:46BF                      		
    1344   00:46BF  3E 0A               		ld		a,10
    1345   00:46C1  32 17 C0            		ld		(clock),a
    1346   00:46C4                      		
    1347   00:46C4  CD 1A 80            		call	espera_de_animaciones
    1348   00:46C7                      		
    1349   00:46C7  3E 58               		ld		a,22*4
    1350   00:46C9  DD 77 0E            		ld		(ix+14),a
    1351   00:46CC                      		
    1352   00:46CC  CD C6 68            		call	atributos_sprites
    1353   00:46CF                      		
    1354   00:46CF  3E 0A               		ld		a,10
    1355   00:46D1  32 17 C0            		ld		(clock),a
    1356   00:46D4                      		
    1357   00:46D4  CD 1A 80            		call	espera_de_animaciones
    1358   00:46D7                      		
    1359   00:46D7  3E 5C               		ld		a,23*4
    1360   00:46D9  DD 77 0E            		ld		(ix+14),a
    1361   00:46DC                      		
    1362   00:46DC  CD C6 68            		call	atributos_sprites
    1363   00:46DF                      		
    1364   00:46DF  3E 0A               		ld		a,10
    1365   00:46E1  32 17 C0            		ld		(clock),a
    1366   00:46E4                      		
    1367   00:46E4  CD 1A 80            		call	espera_de_animaciones
    1368   00:46E7                      		
    1369   00:46E7  3E 60               		ld		a,24*4
    1370   00:46E9  DD 77 0E            		ld		(ix+14),a
    1371   00:46EC                      		
    1372   00:46EC  CD C6 68            		call	atributos_sprites
    1373   00:46EF                      		
    1374   00:46EF  3E 1E               		ld		a,30
    1375   00:46F1  32 17 C0            		ld		(clock),a
    1376   00:46F4                      		
    1377   00:46F4  CD 1A 80            		call	espera_de_animaciones
    1378   00:46F7                      		
    1379   00:46F7  C3 28 46            		jr.		animaciones_de_instrucciones_1
    1380   00:46FA                      		
    1381   00:46FA                      animaciones_de_instrucciones_3:
    1382   00:46FA                      
    1383   00:46FA  3A 1C C0            		ld		a,(py)													;camina hacia la izquierda rápido
    1384   00:46FD  D6 05               		sub		5
    1385   00:46FF  32 1C C0            		ld		(py),a
    1386   00:4702  CD E4 83            		call	UNO_CINCO_NUEVE
    1387   00:4705                      		
    1388   00:4705  3E 18               		ld		a,6*4
    1389   00:4707  CD EE 83            		call	DOS_SEIS_DIEZ
    1390   00:470A                      		
    1391   00:470A  3E 12               		ld		a,18													;efecto sonoro de paso rápido
    1392   00:470C  CD D6 83            		call	efecto_sonido
    1393   00:470F                      		
    1394   00:470F  CD C6 68            		call	atributos_sprites
    1395   00:4712                      
    1396   00:4712  3E 04               		ld		a,4
    1397   00:4714  32 17 C0            		ld		(clock),a
    1398   00:4717                      		
    1399   00:4717  CD 1A 80            		call	espera_de_animaciones
    1400   00:471A                      		
    1401   00:471A  AF                  		xor		a
    1402   00:471B  CD D8 00            		CALL	ONSTRIG
    1403   00:471E  B7                  		or		a
    1404   00:471F  20 77               		jr.		nz,vamos_alla
    1405   00:4721                      		
    1406   00:4721  3E 01               		ld		a,1
    1407   00:4723  CD D8 00            		CALL	ONSTRIG
    1408   00:4726  B7                  		or		a
    1409   00:4727  20 6F               		jr.		nz,vamos_alla
    1410   00:4729                      		
    1411   00:4729  3A 1C C0            		ld		a,(py)
    1412   00:472C  FE C8               		cp		200
    1413   00:472E  30 24               		jr.		nc,animaciones_de_instrucciones_4
    1414   00:4730                      		
    1415   00:4730  C6 32               		add		50
    1416   00:4732  DD 77 0D            		ld		(ix+13),a
    1417   00:4735  DD 77 11            		ld		(ix+17),a
    1418   00:4738  3E 98               		ld		a,152
    1419   00:473A  DD 77 0C            		ld		(ix+12),a
    1420   00:473D  DD 77 10            		ld		(ix+16),a
    1421   00:4740  3E 64               		ld		a,25*4
    1422   00:4742  DD 77 0E            		ld		(ix+14),a
    1423   00:4745  3E 74               		ld		a,29*4
    1424   00:4747  DD 77 12            		ld		(ix+18),a
    1425   00:474A  3E 0B               		ld		a,11
    1426   00:474C  DD 77 0F            		ld		(ix+15),a
    1427   00:474F  3E 01               		ld		a,1
    1428   00:4751  DD 77 13            		ld		(ix+19),a
    1429   00:4754                      		
    1430   00:4754                      animaciones_de_instrucciones_4:		
    1431   00:4754                      		
    1432   00:4754  3A 1C C0            		ld		a,(py)
    1433   00:4757  D6 05               		sub		5
    1434   00:4759  32 1C C0            		ld		(py),a
    1435   00:475C  CD E4 83            		call	UNO_CINCO_NUEVE
    1436   00:475F                      		
    1437   00:475F  3E 24               		ld		a,9*4
    1438   00:4761  CD EE 83            		call	DOS_SEIS_DIEZ
    1439   00:4764                      		
    1440   00:4764  CD C6 68            		call	atributos_sprites
    1441   00:4767                      
    1442   00:4767  3E 04               		ld		a,4
    1443   00:4769  32 17 C0            		ld		(clock),a
    1444   00:476C                      		
    1445   00:476C  CD 1A 80            		call	espera_de_animaciones
    1446   00:476F                      		
    1447   00:476F  3A 1C C0            		ld		a,(py)
    1448   00:4772  FE C8               		cp		200
    1449   00:4774  30 12               		jr.		nc,animaciones_de_instrucciones_5
    1450   00:4776                      		
    1451   00:4776  C6 32               		add		50
    1452   00:4778  DD 77 0D            		ld		(ix+13),a
    1453   00:477B  DD 77 11            		ld		(ix+17),a
    1454   00:477E  3E 68               		ld		a,26*4
    1455   00:4780  DD 77 0E            		ld		(ix+14),a
    1456   00:4783  3E 78               		ld		a,30*4
    1457   00:4785  DD 77 12            		ld		(ix+18),a
    1458   00:4788                      
    1459   00:4788                      animaciones_de_instrucciones_5:
    1460   00:4788                      				
    1461   00:4788  3A 1C C0            		ld		a,(py)
    1462   00:478B  B7                  		or		a
    1463   00:478C  C2 FA 46            		jr.		nz,animaciones_de_instrucciones_3
    1464   00:478F                      		
    1465   00:478F  CD FC 56            		call	SPRITES_CUCHILLO
    1466   00:4792                      		
    1467   00:4792  CD A6 45            		call	limpia_sprites
    1468   00:4795  CD 9D 47            		call	esperando
    1469   00:4798                      
    1470   00:4798                      vamos_alla:
    1471   00:4798                      
    1472   00:4798  CD AF 47            		call	datos_a_preparar
    1473   00:479B  18 78               		jr.		bloque_sanctuary_1
    1474   00:479D                      		
    1475   00:479D                      esperando:
    1476   00:479D                      		
    1477   00:479D  CD 44 00            		call	ENASCR													;conectamos la pantalla
    1478   00:47A0  AF                  		xor		a
    1479   00:47A1  CD D8 00            		CALL	ONSTRIG
    1480   00:47A4  B7                  		or		a
    1481   00:47A5  C0                  		ret		nz
    1482   00:47A6                      		
    1483   00:47A6  3E 01               		ld		a,1
    1484   00:47A8  CD D8 00            		CALL	ONSTRIG
    1485   00:47AB  B7                  		or		a
    1486   00:47AC  28 EF               		jr.		z,esperando
    1487   00:47AE                      		
    1488   00:47AE  C9                  		ret
    1489   00:47AF                      		
    1490   00:47AF                      datos_a_preparar:
    1491   00:47AF                      		
    1492   00:47AF  CD A6 45            		call	limpia_sprites
    1493   00:47B2  CD A3 56            		call	SPRITES_UNO
    1494   00:47B5                      		
    1495   00:47B5  CD 41 00            		call	DISSCR		
    1496   00:47B8                      		
    1497   00:47B8  21 3F 96            		ld		hl,blanco												;tiles de base de pantalla
    1498   00:47BB  11 20 18            		ld		de,#1820
    1499   00:47BE  F3                  		di
    1500   00:47BF  CD FC 83            		call	depack_VRAM
    1501   00:47C2  FB                  		ei
    1502   00:47C3  21 0D 97            		ld		hl,marcador												;carga el marcador
    1503   00:47C6  11 00 18            		ld		de,#1800
    1504   00:47C9  F3                  		di
    1505   00:47CA  CD FC 83            		call	depack_VRAM
    1506   00:47CD  FB                  		ei
    1507   00:47CE  CD 44 00            		CALL	ENASCR
    1508   00:47D1                      		
    1509   00:47D1  3E C0               		ld		a,192
    1510   00:47D3  32 31 C6            		ld		(posicion_del_punto_centenas),a
    1511   00:47D6  32 30 C6            		ld		(posicion_del_punto_decenas),a
    1512   00:47D9  32 32 C6            		ld		(posicion_del_punto_millares),a
    1513   00:47DC  32 2F C6            		ld		(posicion_del_punto_unidades),a
    1514   00:47DF                      		
    1515   00:47DF  3E 06               		ld		a,6
    1516   00:47E1  32 1E C0            		ld		(vidas_prota),a
    1517   00:47E4                      		
    1518   00:47E4  3E 01               		ld		a,1
    1519   00:47E6  32 78 C6            		ld		(ESTADO_MUSICA),a
    1520   00:47E9                      		
    1521   00:47E9  AF                  		xor		a
    1522   00:47EA  32 2D C6            		ld		(contador_para_puntuacion),a
    1523   00:47ED  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    1524   00:47F0  32 2B C6            		ld		(score),a
    1525   00:47F3  32 73 C6            		ld		(OUS_ACTIU),a
    1526   00:47F6  32 74 C6            		ld		(trampa),a
    1527   00:47F9  32 75 C6            		ld		(inmune_serp),a
    1528   00:47FC  32 76 C6            		ld		(inmune_bomb),a
    1529   00:47FF                      
    1530   00:47FF  C9                  		ret
    1531   00:4800                      		
    1532   00:4800                      define_espera_entre_fases:
    1533   00:4800                      
    1534   00:4800  21 F0 00            		ld		hl,240
    1535   00:4803  22 17 C0            		ld		(clock),hl	
    1536   00:4806  C9                  		ret
    1537   00:4807                      
    1538   00:4807                      coordenadas_prota:
    1539   00:4807                      
    1540   00:4807  32 1C C0            		ld		(py),a
    1541   00:480A  32 5C C0            		ld		(py_salida),a
    1542   00:480D  78                  		ld		a,b
    1543   00:480E  32 1B C0            		ld		(px),a
    1544   00:4811  32 5B C0            		ld		(px_salida),a
    1545   00:4814                      				
    1546   00:4814  C9                  		ret
    1547   00:4815                      		
    1548   00:4815                      bloque_sanctuary_1:
    1549   00:4815                      				
    1550   00:4815  CD 32 55            		call	pantalla_en_blanco
    1551   00:4818                      		
    1552   00:4818  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 1
    1553   00:481B  B7                  		or		a
    1554   00:481C  28 05               		jr.		z,bloque_sanctuary_1_esp
    1555   00:481E  21 29 93            		ld		hl,sanctuary_x
    1556   00:4821  18 03               		jr.		bloque_sanctuary_1_cont
    1557   00:4823                      
    1558   00:4823                      bloque_sanctuary_1_esp:
    1559   00:4823                      
    1560   00:4823  21 57 93            		ld		hl,santuario_x
    1561   00:4826                      
    1562   00:4826                      bloque_sanctuary_1_cont:
    1563   00:4826                      		
    1564   00:4826                      		
    1565   00:4826  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    1566   00:4829  21 33 93            		ld		hl,sanctuary_1
    1567   00:482C  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    1568   00:482F                      		;		coordenadas prota
    1569   00:482F  3E 78               		ld		a,120													;define variables
    1570   00:4831  47                  		ld		b,a
    1571   00:4832  3E 18               		ld		a,24						
    1572   00:4834  CD 07 48            		call	coordenadas_prota
    1573   00:4837                      		
    1574   00:4837  CD 79 55            		call	variables_iguales
    1575   00:483A                      				
    1576   00:483A                      		;		coordenadas serpientes
    1577   00:483A                      		
    1578   00:483A  FD 21 35 C6         		ld		iy,variables_serpiente_1
    1579   00:483E  3E 48               		ld		a,72
    1580   00:4840  FD 77 00            		ld		(iy),a
    1581   00:4843  3E A8               		ld		a,168
    1582   00:4845  FD 77 01            		ld		(iy+1),a
    1583   00:4848  AF                  		xor	a
    1584   00:4849  FD 77 02            		ld		(iy+2),a
    1585   00:484C  3E 0B               		ld		a,11
    1586   00:484E  FD 77 04            		ld		(iy+4),a
    1587   00:4851  3E 08               		ld		a,8
    1588   00:4853  FD 77 05            		ld		(iy+5),a
    1589   00:4856  3E 01               		ld		a,1
    1590   00:4858  FD 77 07            		ld		(iy+7),a
    1591   00:485B                      						
    1592   00:485B  3E 01               		ld		a,1
    1593   00:485D  32 5E C6            		ld		(serp1),a
    1594   00:4860                      		
    1595   00:4860                      		;		otras variables
    1596   00:4860  3E 01               		ld		a,1
    1597   00:4862  32 22 C0            		ld		(fase_en_la_que_esta),a
    1598   00:4865  21 6F 00            		ld		hl,111
    1599   00:4868  22 25 C6            		ld		(posicion_puerta),hl
    1600   00:486B                      		
    1601   00:486B  CD 00 48            		call	define_espera_entre_fases					
    1602   00:486E  CD 94 57            		call	rutina_de_esperar_un_rato
    1603   00:4871                      
    1604   00:4871  CD 3A 57            		call	activa_musica_fases										;inicia el reproductor de PT3
    1605   00:4874                      		
    1606   00:4874  F3                  		di
    1607   00:4875  CD EC B0            		call	setrompage0
    1608   00:4878                      		
    1609   00:4878  21 28 27            		ld		hl,fase_1												;cargamos sanctuary 1 en ram
    1610   00:487B  11 61 C0            		ld		de,buffer_colisiones
    1611   00:487E  CD FE 84            		call	depack
    1612   00:4881                      		
    1613   00:4881  CD F1 B0            		call	recbios
    1614   00:4884  FB                  		ei
    1615   00:4885                      		
    1616   00:4885  CD E0 5B            		call	diferencias_en_las_fases
    1617   00:4888                      				
    1618   00:4888  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    1619   00:488B                      
    1620   00:488B  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1621   00:488E                      		
    1622   00:488E  C3 BD 64            		jr.		repite_fase
    1623   00:4891                      								
    1624   00:4891                      bloque_sanctuary_2:
    1625   00:4891                      		
    1626   00:4891  CD 32 55            		call	pantalla_en_blanco
    1627   00:4894                      		
    1628   00:4894  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 1
    1629   00:4897  B7                  		or		a
    1630   00:4898  28 05               		jr.		z,bloque_sanctuary_2_esp
    1631   00:489A  21 29 93            		ld		hl,sanctuary_x
    1632   00:489D  18 03               		jr.		bloque_sanctuary_2_cont
    1633   00:489F                      
    1634   00:489F                      bloque_sanctuary_2_esp:
    1635   00:489F                      
    1636   00:489F  21 57 93            		ld		hl,santuario_x
    1637   00:48A2                      
    1638   00:48A2                      bloque_sanctuary_2_cont:
    1639   00:48A2                      		
    1640   00:48A2  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    1641   00:48A5  21 35 93            		ld		hl,sanctuary_2
    1642   00:48A8  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    1643   00:48AB                      		;		coordenadas prota
    1644   00:48AB  3E 18               		ld		a,24													;define variables
    1645   00:48AD  47                  		ld		b,a
    1646   00:48AE  3E 10               		ld		a,16						
    1647   00:48B0  CD 07 48            		call	coordenadas_prota
    1648   00:48B3                      		
    1649   00:48B3  CD 79 55            		call	variables_iguales
    1650   00:48B6                      				
    1651   00:48B6                      		;		coordenadas serpientes
    1652   00:48B6                      		
    1653   00:48B6  FD 21 35 C6         		ld		iy,variables_serpiente_1
    1654   00:48BA  3E D8               		ld		a,216
    1655   00:48BC  FD 77 00            		ld		(iy),a
    1656   00:48BF  3E 10               		ld		a,16
    1657   00:48C1  FD 77 01            		ld		(iy+1),a
    1658   00:48C4  AF                  		xor	a
    1659   00:48C5  FD 77 02            		ld		(iy+2),a
    1660   00:48C8  3E 0B               		ld		a,11
    1661   00:48CA  FD 77 04            		ld		(iy+4),a
    1662   00:48CD  3E 01               		ld		a,1
    1663   00:48CF  FD 77 07            		ld		(iy+7),a
    1664   00:48D2                      						
    1665   00:48D2  3E 01               		ld		a,1
    1666   00:48D4  32 5E C6            		ld		(serp1),a
    1667   00:48D7                      		
    1668   00:48D7                      		;		otras variables
    1669   00:48D7  3E 02               		ld		a,2
    1670   00:48D9  32 22 C0            		ld		(fase_en_la_que_esta),a
    1671   00:48DC  21 43 00            		ld		hl,67
    1672   00:48DF  22 25 C6            		ld		(posicion_puerta),hl
    1673   00:48E2                      		
    1674   00:48E2  CD 00 48            		call	define_espera_entre_fases					
    1675   00:48E5  CD 94 57            		call	rutina_de_esperar_un_rato
    1676   00:48E8                      
    1677   00:48E8  CD 3A 57            		call	activa_musica_fases										;inicia el reproductor de PT3
    1678   00:48EB                      		
    1679   00:48EB  F3                  		di
    1680   00:48EC  CD EC B0            		call	setrompage0
    1681   00:48EF                      		
    1682   00:48EF  21 C0 27            		ld		hl,fase_2												;cargamos sanctuary 1 en ram
    1683   00:48F2  11 61 C0            		ld		de,buffer_colisiones
    1684   00:48F5  CD FE 84            		call	depack
    1685   00:48F8                      		
    1686   00:48F8  CD F1 B0            		call	recbios
    1687   00:48FB  FB                  		ei
    1688   00:48FC                      
    1689   00:48FC  CD E0 5B            		call	diferencias_en_las_fases
    1690   00:48FF                      				
    1691   00:48FF  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    1692   00:4902                      
    1693   00:4902  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1694   00:4905                      		
    1695   00:4905  C3 BD 64            		jr.		repite_fase
    1696   00:4908                      		
    1697   00:4908                      bloque_sanctuary_3:
    1698   00:4908                      		
    1699   00:4908  CD 32 55            		call	pantalla_en_blanco
    1700   00:490B                      		
    1701   00:490B  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 3
    1702   00:490E  B7                  		or		a
    1703   00:490F  28 05               		jr.		z,bloque_sanctuary_3_esp
    1704   00:4911  21 29 93            		ld		hl,sanctuary_x
    1705   00:4914  18 03               		jr.		bloque_sanctuary_3_cont
    1706   00:4916                      
    1707   00:4916                      bloque_sanctuary_3_esp:
    1708   00:4916                      
    1709   00:4916  21 57 93            		ld		hl,santuario_x
    1710   00:4919                      
    1711   00:4919                      bloque_sanctuary_3_cont:
    1712   00:4919                      
    1713   00:4919  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    1714   00:491C  21 37 93            		ld		hl,sanctuary_3
    1715   00:491F  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    1716   00:4922                      		
    1717   00:4922                      		;		variables coordenadas prota
    1718   00:4922                      		
    1719   00:4922  3E 78               		ld		a,120													;define variables
    1720   00:4924  47                  		ld		b,a
    1721   00:4925  3E 58               		ld		a,88						
    1722   00:4927  CD 07 48            		call	coordenadas_prota
    1723   00:492A                      		
    1724   00:492A  CD 79 55            		call	variables_iguales
    1725   00:492D                      		
    1726   00:492D                      		;variables coordenadas serpientes
    1727   00:492D                      		
    1728   00:492D  FD 21 35 C6         		ld		iy,variables_serpiente_1
    1729   00:4931                      		
    1730   00:4931  3E 18               		ld		a,24
    1731   00:4933  FD 77 01            		ld		(iy+1),a
    1732   00:4936  3E 78               		ld		a,120
    1733   00:4938  FD 77 00            		ld		(iy),a
    1734   00:493B  3E 05               		ld		a,5
    1735   00:493D  FD 77 05            		ld		(iy+5),a
    1736   00:4940  3E 0D               		ld		a,13
    1737   00:4942  FD 77 04            		ld		(iy+4),a
    1738   00:4945                      				
    1739   00:4945  3E 01               		ld		a,1	
    1740   00:4947  32 5E C6            		ld		(serp1),a
    1741   00:494A                      		
    1742   00:494A                      		;		otras variables
    1743   00:494A                      			
    1744   00:494A  3E 03               		ld		a,3
    1745   00:494C  32 22 C0            		ld		(fase_en_la_que_esta),a
    1746   00:494F  21 6F 01            		ld		hl,367
    1747   00:4952  22 25 C6            		ld		(posicion_puerta),hl
    1748   00:4955  3E 01               		ld		a,1
    1749   00:4957  32 89 C6            		ld		(toca_bombero),a
    1750   00:495A                      
    1751   00:495A  CD 00 48            		call	define_espera_entre_fases
    1752   00:495D  CD 94 57            		call	rutina_de_esperar_un_rato
    1753   00:4960                      		
    1754   00:4960  CD 3A 57            		call	activa_musica_fases
    1755   00:4963                      		
    1756   00:4963  F3                  		di
    1757   00:4964  CD EC B0            		call	setrompage0
    1758   00:4967                      		
    1759   00:4967  21 B9 28            		ld		hl,fase_3												;cargamos sanctuary 3 en ram
    1760   00:496A  11 61 C0            		ld		de,buffer_colisiones
    1761   00:496D  CD FE 84            		call	depack
    1762   00:4970                      		
    1763   00:4970  CD F1 B0            		call	recbios
    1764   00:4973  FB                  		ei
    1765   00:4974                      		
    1766   00:4974  CD E0 5B            		call	diferencias_en_las_fases
    1767   00:4977                      		
    1768   00:4977  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    1769   00:497A                      
    1770   00:497A  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1771   00:497D                      		
    1772   00:497D  C3 BD 64            		jr.		repite_fase
    1773   00:4980                      
    1774   00:4980                      bloque_sanctuary_4:
    1775   00:4980                      		
    1776   00:4980  CD 32 55            		call	pantalla_en_blanco
    1777   00:4983                      		
    1778   00:4983  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 12
    1779   00:4986  B7                  		or		a
    1780   00:4987  28 05               		jr.		z,bloque_sanctuary_4_esp
    1781   00:4989  21 29 93            		ld		hl,sanctuary_x
    1782   00:498C  18 03               		jr.		bloque_sanctuary_4_cont
    1783   00:498E                      
    1784   00:498E                      bloque_sanctuary_4_esp:
    1785   00:498E                      
    1786   00:498E  21 57 93            		ld		hl,santuario_x
    1787   00:4991                      
    1788   00:4991                      bloque_sanctuary_4_cont:
    1789   00:4991                      
    1790   00:4991  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    1791   00:4994  21 39 93            		ld		hl,sanctuary_4
    1792   00:4997  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    1793   00:499A                      		
    1794   00:499A  CD C0 56            		call	SPRITES_DOS
    1795   00:499D                      		
    1796   00:499D                      		;		coordenadas prota
    1797   00:499D                      
    1798   00:499D  3E 78               		ld		a,120													;define variables
    1799   00:499F  47                  		ld		b,a
    1800   00:49A0  3E 10               		ld		a,16						
    1801   00:49A2  CD 07 48            		call	coordenadas_prota
    1802   00:49A5                      		
    1803   00:49A5  CD 79 55            		call	variables_iguales
    1804   00:49A8                      		
    1805   00:49A8                      		;		coordenadas bombero
    1806   00:49A8                      		
    1807   00:49A8  FD 21 7C C6         		ld		iy,bombero_control
    1808   00:49AC  3E 78               		ld		a,120
    1809   00:49AE  FD 77 00            		ld		(iy),a
    1810   00:49B1  3E A8               		ld		a,168
    1811   00:49B3  FD 77 01            		ld		(iy+1),a
    1812   00:49B6  3E 01               		ld		a,1
    1813   00:49B8  FD 77 06            		ld		(iy+6),a
    1814   00:49BB  FD 77 0A            		ld		(iy+10),a
    1815   00:49BE                      												
    1816   00:49BE                      		;		otras variables
    1817   00:49BE                      		
    1818   00:49BE  21 B1 00            		ld		hl,177
    1819   00:49C1  22 6D C6            		ld		(posicion_escalera),hl
    1820   00:49C4  21 31 00            		ld		hl,49
    1821   00:49C7  22 70 C6            		ld		(limite_escalera),hl
    1822   00:49CA  3E 01               		ld		a,1
    1823   00:49CC  32 72 C6            		ld		(pantalla_escalera),a
    1824   00:49CF  3E 04               		ld		a,4
    1825   00:49D1  32 22 C0            		ld		(fase_en_la_que_esta),a
    1826   00:49D4  21 4F 00            		ld		hl,79
    1827   00:49D7  22 25 C6            		ld		(posicion_puerta),hl
    1828   00:49DA  3E 01               		ld		a,1
    1829   00:49DC  32 7B C6            		ld		(bombero_1),a
    1830   00:49DF  32 89 C6            		ld		(toca_bombero),a
    1831   00:49E2                      							
    1832   00:49E2  CD 00 48            		call	define_espera_entre_fases					
    1833   00:49E5  CD 94 57            		call	rutina_de_esperar_un_rato
    1834   00:49E8                      		
    1835   00:49E8  CD 3A 57            		call	activa_musica_fases
    1836   00:49EB                      
    1837   00:49EB  F3                  		di
    1838   00:49EC  CD EC B0            		call	setrompage0
    1839   00:49EF                      		
    1840   00:49EF  21 5E 38            		ld		hl,fase_12												;cargamos sanctuary 12 en ram
    1841   00:49F2  11 61 C0            		ld		de,buffer_colisiones
    1842   00:49F5  CD FE 84            		call	depack
    1843   00:49F8                      			
    1844   00:49F8  CD F1 B0            		call	recbios
    1845   00:49FB  FB                  		ei
    1846   00:49FC                      		
    1847   00:49FC  CD E0 5B            		call	diferencias_en_las_fases
    1848   00:49FF                      		
    1849   00:49FF  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    1850   00:4A02                      				
    1851   00:4A02  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1852   00:4A05                      		
    1853   00:4A05  C3 BD 64            		jr.		repite_fase
    1854   00:4A08                      
    1855   00:4A08                      bloque_sanctuary_5:
    1856   00:4A08                      		
    1857   00:4A08  CD 32 55            		call	pantalla_en_blanco
    1858   00:4A0B                      		
    1859   00:4A0B  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 8
    1860   00:4A0E  B7                  		or		a
    1861   00:4A0F  28 05               		jr.		z,bloque_sanctuary_5_esp
    1862   00:4A11  21 29 93            		ld		hl,sanctuary_x
    1863   00:4A14  18 03               		jr.		bloque_sanctuary_5_cont
    1864   00:4A16                      
    1865   00:4A16                      bloque_sanctuary_5_esp:
    1866   00:4A16                      
    1867   00:4A16  21 57 93            		ld		hl,santuario_x
    1868   00:4A19                      
    1869   00:4A19                      bloque_sanctuary_5_cont:
    1870   00:4A19                      
    1871   00:4A19  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    1872   00:4A1C  21 3B 93            		ld		hl,sanctuary_5
    1873   00:4A1F  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    1874   00:4A22                      		
    1875   00:4A22  CD C0 56            		call	SPRITES_DOS
    1876   00:4A25                      		
    1877   00:4A25                      		;		coordenadas prota
    1878   00:4A25                      
    1879   00:4A25  3E 78               		ld		a,120													;define variables
    1880   00:4A27  47                  		ld		b,a
    1881   00:4A28  3E 88               		ld		a,136						
    1882   00:4A2A  CD 07 48            		call	coordenadas_prota
    1883   00:4A2D                      		
    1884   00:4A2D  CD 79 55            		call	variables_iguales
    1885   00:4A30                      		
    1886   00:4A30                      		;		coordenadas bombero
    1887   00:4A30                      		
    1888   00:4A30  FD 21 7C C6         		ld		iy,bombero_control
    1889   00:4A34  3E 78               		ld		a,120
    1890   00:4A36  FD 77 00            		ld		(iy),a
    1891   00:4A39  3E 68               		ld		a,104
    1892   00:4A3B  FD 77 01            		ld		(iy+1),a
    1893   00:4A3E  3E C8               		ld		a,200
    1894   00:4A40  FD 77 08            		ld		(iy+8),a
    1895   00:4A43  3E 02               		ld		a,2
    1896   00:4A45  FD 77 09            		ld		(iy+9),a
    1897   00:4A48  3E 03               		ld		a,3
    1898   00:4A4A  FD 77 02            		ld		(iy+2),a
    1899   00:4A4D                      							
    1900   00:4A4D                      		;		otras variables
    1901   00:4A4D                      		
    1902   00:4A4D  21 DD 00            		ld		hl,221
    1903   00:4A50  22 6D C6            		ld		(posicion_escalera),hl
    1904   00:4A53  21 BD 00            		ld		hl,189
    1905   00:4A56  22 70 C6            		ld		(limite_escalera),hl
    1906   00:4A59  3E 05               		ld		a,5
    1907   00:4A5B  32 22 C0            		ld		(fase_en_la_que_esta),a
    1908   00:4A5E  21 2F 02            		ld		hl,559
    1909   00:4A61  22 25 C6            		ld		(posicion_puerta),hl
    1910   00:4A64  3E 01               		ld		a,1
    1911   00:4A66  32 7B C6            		ld		(bombero_1),a
    1912   00:4A69                      				
    1913   00:4A69  CD 00 48            		call	define_espera_entre_fases					
    1914   00:4A6C  CD 94 57            		call	rutina_de_esperar_un_rato
    1915   00:4A6F                      		
    1916   00:4A6F  CD 3A 57            		call	activa_musica_fases
    1917   00:4A72                      
    1918   00:4A72  F3                  		di
    1919   00:4A73  CD EC B0            		call	setrompage0
    1920   00:4A76                      	
    1921   00:4A76  21 A6 B8            		ld		hl,fase_18												;cargamos sanctuary 18 en ram
    1922   00:4A79  11 61 C0            		ld		de,buffer_colisiones
    1923   00:4A7C  CD FE 84            		call	depack
    1924   00:4A7F                      		
    1925   00:4A7F  CD F1 B0            		call	recbios
    1926   00:4A82  FB                  		ei
    1927   00:4A83                      		
    1928   00:4A83  CD E0 5B            		call	diferencias_en_las_fases
    1929   00:4A86                      		
    1930   00:4A86  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    1931   00:4A89                      
    1932   00:4A89  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    1933   00:4A8C                      		
    1934   00:4A8C  C3 BD 64            		jr.		repite_fase
    1935   00:4A8F                      		
    1936   00:4A8F                      bloque_sanctuary_6:
    1937   00:4A8F                      		
    1938   00:4A8F  CD 32 55            		call	pantalla_en_blanco
    1939   00:4A92                      		
    1940   00:4A92  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 1
    1941   00:4A95  B7                  		or		a
    1942   00:4A96  28 05               		jr.		z,bloque_sanctuary_6_esp
    1943   00:4A98  21 29 93            		ld		hl,sanctuary_x
    1944   00:4A9B  18 03               		jr.		bloque_sanctuary_6_cont
    1945   00:4A9D                      
    1946   00:4A9D                      bloque_sanctuary_6_esp:
    1947   00:4A9D                      
    1948   00:4A9D  21 57 93            		ld		hl,santuario_x
    1949   00:4AA0                      
    1950   00:4AA0                      bloque_sanctuary_6_cont:
    1951   00:4AA0                      		
    1952   00:4AA0  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    1953   00:4AA3  21 3D 93            		ld		hl,sanctuary_6
    1954   00:4AA6  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    1955   00:4AA9                      		
    1956   00:4AA9                      		;		coordenadas prota
    1957   00:4AA9  3E 80               		ld		a,128													;define variables
    1958   00:4AAB  47                  		ld		b,a
    1959   00:4AAC  3E 20               		ld		a,32						
    1960   00:4AAE  CD 07 48            		call	coordenadas_prota
    1961   00:4AB1                      		
    1962   00:4AB1  CD 79 55            		call	variables_iguales
    1963   00:4AB4                      				
    1964   00:4AB4                      		;		coordenadas serpientes
    1965   00:4AB4                      		
    1966   00:4AB4  FD 21 53 C6         		ld		iy,variables_serpiente_4
    1967   00:4AB8  3E C0               		ld		a,192
    1968   00:4ABA  FD 77 00            		ld		(iy),a
    1969   00:4ABD  3E 20               		ld		a,32
    1970   00:4ABF  FD 77 01            		ld		(iy+1),a
    1971   00:4AC2  AF                  		xor	a
    1972   00:4AC3  FD 77 02            		ld		(iy+2),a
    1973   00:4AC6  3E 08               		ld		a,8
    1974   00:4AC8  FD 77 04            		ld		(iy+4),a
    1975   00:4ACB  FD 77 05            		ld		(iy+5),a
    1976   00:4ACE                      				
    1977   00:4ACE  FD 21 3F C6         		ld		iy,variables_serpiente_2
    1978   00:4AD2  3E C0               		ld		a,192
    1979   00:4AD4  FD 77 00            		ld		(iy),a
    1980   00:4AD7  3E 38               		ld		a,56
    1981   00:4AD9  FD 77 01            		ld		(iy+1),a
    1982   00:4ADC  3E 0F               		ld		a,15
    1983   00:4ADE  FD 77 05            		ld		(iy+5),a
    1984   00:4AE1  3E 0A               		ld		a,10
    1985   00:4AE3  FD 77 04            		ld		(iy+4),a
    1986   00:4AE6  3E 02               		ld		a,2
    1987   00:4AE8  FD 77 07            		ld		(iy+7),a
    1988   00:4AEB                      				
    1989   00:4AEB  FD 21 49 C6         		ld		iy,variables_serpiente_3
    1990   00:4AEF  3E C0               		ld		a,192
    1991   00:4AF1  FD 77 00            		ld		(iy),a
    1992   00:4AF4  3E 58               		ld		a,88
    1993   00:4AF6  FD 77 01            		ld		(iy+1),a
    1994   00:4AF9  3E 0F               		ld		a,15
    1995   00:4AFB  FD 77 05            		ld		(iy+5),a
    1996   00:4AFE  3E 03               		ld		a,3
    1997   00:4B00  FD 77 07            		ld		(iy+7),a
    1998   00:4B03                      			
    1999   00:4B03  FD 21 35 C6         		ld		iy,variables_serpiente_1
    2000   00:4B07  3E C0               		ld		a,192
    2001   00:4B09  FD 77 00            		ld		(iy),a
    2002   00:4B0C  3E 78               		ld		a,120
    2003   00:4B0E  FD 77 01            		ld		(iy+1),a
    2004   00:4B11  3E 0F               		ld		a,15
    2005   00:4B13  FD 77 05            		ld		(iy+5),a
    2006   00:4B16  3E 03               		ld		a,3
    2007   00:4B18  FD 77 04            		ld		(iy+4),a
    2008   00:4B1B  3E 04               		ld		a,4
    2009   00:4B1D  FD 77 07            		ld		(iy+7),a
    2010   00:4B20                      				
    2011   00:4B20  3E 01               		ld		a,1
    2012   00:4B22  32 5E C6            		ld		(serp1),a
    2013   00:4B25  32 5F C6            		ld		(serp2),a
    2014   00:4B28  32 60 C6            		ld		(serp3),a
    2015   00:4B2B  32 61 C6            		ld		(serp4),a
    2016   00:4B2E                      		
    2017   00:4B2E                      		;		otras variables
    2018   00:4B2E  3E 06               		ld		a,6
    2019   00:4B30  32 22 C0            		ld		(fase_en_la_que_esta),a
    2020   00:4B33  21 90 00            		ld		hl,144
    2021   00:4B36  22 25 C6            		ld		(posicion_puerta),hl
    2022   00:4B39                      		
    2023   00:4B39  CD 00 48            		call	define_espera_entre_fases					
    2024   00:4B3C  CD 94 57            		call	rutina_de_esperar_un_rato
    2025   00:4B3F                      
    2026   00:4B3F  CD 3A 57            		call	activa_musica_fases										;inicia el reproductor de PT3
    2027   00:4B42                      		
    2028   00:4B42  F3                  		di
    2029   00:4B43  CD EC B0            		call	setrompage0
    2030   00:4B46                      		
    2031   00:4B46  21 D8 3A            		ld		hl,fase_14												;cargamos sanctuary 2 en ram
    2032   00:4B49  11 61 C0            		ld		de,buffer_colisiones
    2033   00:4B4C  CD FE 84            		call	depack
    2034   00:4B4F                      		
    2035   00:4B4F  CD F1 B0            		call	recbios
    2036   00:4B52  FB                  		ei
    2037   00:4B53                      		
    2038   00:4B53  CD E0 5B            		call	diferencias_en_las_fases	
    2039   00:4B56                      		
    2040   00:4B56  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    2041   00:4B59                      
    2042   00:4B59  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2043   00:4B5C                      		
    2044   00:4B5C  C3 BD 64            		jr.		repite_fase
    2045   00:4B5F                      
    2046   00:4B5F                      bloque_sanctuary_7:
    2047   00:4B5F                      		
    2048   00:4B5F  CD 32 55            		call	pantalla_en_blanco
    2049   00:4B62                      		
    2050   00:4B62  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 5
    2051   00:4B65  B7                  		or		a
    2052   00:4B66  28 05               		jr.		z,bloque_sanctuary_7_esp
    2053   00:4B68  21 29 93            		ld		hl,sanctuary_x
    2054   00:4B6B  18 03               		jr.		bloque_sanctuary_7_cont
    2055   00:4B6D                      
    2056   00:4B6D                      bloque_sanctuary_7_esp:
    2057   00:4B6D                      
    2058   00:4B6D  21 57 93            		ld		hl,santuario_x
    2059   00:4B70                      
    2060   00:4B70                      bloque_sanctuary_7_cont:
    2061   00:4B70                      																		;anunciamos sanctuary 5
    2062   00:4B70  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2063   00:4B73  21 3F 93            		ld		hl,sanctuary_7
    2064   00:4B76  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2065   00:4B79                      		
    2066   00:4B79                      		;		coordenadas prota
    2067   00:4B79                      		
    2068   00:4B79  3E A8               		ld		a,168													;define variables
    2069   00:4B7B  47                  		ld		b,a
    2070   00:4B7C  3E 58               		ld		a,88						
    2071   00:4B7E  CD 07 48            		call	coordenadas_prota
    2072   00:4B81                      		
    2073   00:4B81  CD 79 55            		call	variables_iguales
    2074   00:4B84                      		
    2075   00:4B84                      		;		coordenadas serpientes
    2076   00:4B84                      		
    2077   00:4B84  FD 21 35 C6         		ld		iy,variables_serpiente_1
    2078   00:4B88  3E 18               		ld		a,24
    2079   00:4B8A  FD 77 00            		ld		(iy),a
    2080   00:4B8D  3E 10               		ld		a,16
    2081   00:4B8F  FD 77 01            		ld		(iy+1),a
    2082   00:4B92  AF                  		xor	a
    2083   00:4B93  FD 77 02            		ld		(iy+2),a
    2084   00:4B96  3E 08               		ld		a,8
    2085   00:4B98  FD 77 04            		ld		(iy+4),a
    2086   00:4B9B  FD 77 05            		ld		(iy+5),a
    2087   00:4B9E                      			
    2088   00:4B9E  FD 21 49 C6         		ld		iy,variables_serpiente_3
    2089   00:4BA2                      		
    2090   00:4BA2  3E A8               		ld		a,168
    2091   00:4BA4  FD 77 01            		ld		(iy+1),a
    2092   00:4BA7  3E 18               		ld		a,24
    2093   00:4BA9  FD 77 00            		ld		(iy),a
    2094   00:4BAC  3E 0A               		ld		a,10
    2095   00:4BAE  FD 77 04            		ld		(iy+4),a		
    2096   00:4BB1                      			
    2097   00:4BB1  FD 21 3F C6         		ld		iy,variables_serpiente_2
    2098   00:4BB5                      		
    2099   00:4BB5  3E 90               		ld		a,144
    2100   00:4BB7  FD 77 01            		ld		(iy+1),a
    2101   00:4BBA  3E 60               		ld		a,96
    2102   00:4BBC  FD 77 00            		ld		(iy),a
    2103   00:4BBF  3E 02               		ld		a,2
    2104   00:4BC1  FD 77 07            		ld		(iy+7),a
    2105   00:4BC4  3E 0C               		ld		a,12
    2106   00:4BC6  FD 77 04            		ld		(iy+4),a		
    2107   00:4BC9  3E 02               		ld		a,2
    2108   00:4BCB  FD 77 09            		ld		(iy+9),a	
    2109   00:4BCE                      			
    2110   00:4BCE  3E 01               		ld		a,1
    2111   00:4BD0  32 5E C6            		ld		(serp1),a
    2112   00:4BD3  32 5F C6            		ld		(serp2),a
    2113   00:4BD6  32 60 C6            		ld		(serp3),a
    2114   00:4BD9                      						
    2115   00:4BD9                      		;		otras variables
    2116   00:4BD9                      		
    2117   00:4BD9  3E 07               		ld		a,7
    2118   00:4BDB  32 22 C0            		ld		(fase_en_la_que_esta),a
    2119   00:4BDE  21 75 01            		ld		hl,373
    2120   00:4BE1  22 25 C6            		ld		(posicion_puerta),hl
    2121   00:4BE4                      		
    2122   00:4BE4  CD 00 48            		call	define_espera_entre_fases					
    2123   00:4BE7  CD 94 57            		call	rutina_de_esperar_un_rato
    2124   00:4BEA                      		
    2125   00:4BEA  CD 3A 57            		call	activa_musica_fases
    2126   00:4BED                      		
    2127   00:4BED  F3                  		di
    2128   00:4BEE  CD EC B0            		call	setrompage0
    2129   00:4BF1                      		
    2130   00:4BF1  21 28 2C            		ld		hl,fase_5_1												;cargamos sanctuary 4 en ram
    2131   00:4BF4  11 61 C0            		ld		de,buffer_colisiones
    2132   00:4BF7  CD FE 84            		call	depack
    2133   00:4BFA                      		
    2134   00:4BFA  21 64 2D            		ld		hl,fase_5_2												;cargamos sanctuary 4 en ram la parte 2
    2135   00:4BFD  11 41 C3            		ld		de,buffer_colisiones_2
    2136   00:4C00  CD FE 84            		call	depack
    2137   00:4C03                      		
    2138   00:4C03  CD F1 B0            		call	recbios
    2139   00:4C06  FB                  		ei
    2140   00:4C07                      		
    2141   00:4C07  CD E0 5B            		call	diferencias_en_las_fases
    2142   00:4C0A                      		
    2143   00:4C0A  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    2144   00:4C0D                      
    2145   00:4C0D  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2146   00:4C10                      		
    2147   00:4C10  C3 BD 64            		jr.		repite_fase
    2148   00:4C13                      				
    2149   00:4C13                      bloque_sanctuary_8:
    2150   00:4C13                      		
    2151   00:4C13  CD 32 55            		call	pantalla_en_blanco
    2152   00:4C16                      		
    2153   00:4C16  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 4
    2154   00:4C19  B7                  		or		a
    2155   00:4C1A  28 05               		jr.		z,bloque_sanctuary_8_esp
    2156   00:4C1C  21 29 93            		ld		hl,sanctuary_x
    2157   00:4C1F  18 03               		jr.		bloque_sanctuary_8_cont
    2158   00:4C21                      
    2159   00:4C21                      bloque_sanctuary_8_esp:
    2160   00:4C21                      
    2161   00:4C21  21 57 93            		ld		hl,santuario_x
    2162   00:4C24                      
    2163   00:4C24                      bloque_sanctuary_8_cont:
    2164   00:4C24                      
    2165   00:4C24  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2166   00:4C27  21 41 93            		ld		hl,sanctuary_8
    2167   00:4C2A  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2168   00:4C2D                      		
    2169   00:4C2D                      		;		variables coordenadas prota
    2170   00:4C2D                      		
    2171   00:4C2D  3E 10               		ld		a,16													;define variables
    2172   00:4C2F  47                  		ld		b,a
    2173   00:4C30  3E A8               		ld		a,168						
    2174   00:4C32  CD 07 48            		call	coordenadas_prota
    2175   00:4C35                      		
    2176   00:4C35  CD 79 55            		call	variables_iguales
    2177   00:4C38                      		
    2178   00:4C38                      		;variables coordenadas serpientes
    2179   00:4C38                      		
    2180   00:4C38  FD 21 35 C6         		ld		iy,variables_serpiente_1
    2181   00:4C3C                      		
    2182   00:4C3C  3E 68               		ld		a,104
    2183   00:4C3E  FD 77 01            		ld		(iy+1),a
    2184   00:4C41  3E B8               		ld		a,184
    2185   00:4C43  FD 77 00            		ld		(iy),a
    2186   00:4C46  3E 05               		ld		a,5
    2187   00:4C48  FD 77 05            		ld		(iy+5),a
    2188   00:4C4B  3E 06               		ld		a,6
    2189   00:4C4D  FD 77 04            		ld		(iy+4),a
    2190   00:4C50                      				
    2191   00:4C50  FD 21 3F C6         		ld		iy,variables_serpiente_2
    2192   00:4C54                      		
    2193   00:4C54  3E 80               		ld		a,128
    2194   00:4C56  FD 77 01            		ld		(iy+1),a
    2195   00:4C59  3E 88               		ld		a,136
    2196   00:4C5B  FD 77 00            		ld		(iy),a
    2197   00:4C5E  3E 02               		ld		a,2
    2198   00:4C60  FD 77 07            		ld		(iy+7),a
    2199   00:4C63  3E 0A               		ld		a,10
    2200   00:4C65  FD 77 04            		ld		(iy+4),a		
    2201   00:4C68                      			
    2202   00:4C68  FD 21 53 C6         		ld		iy,variables_serpiente_4
    2203   00:4C6C                      		
    2204   00:4C6C  3E A8               		ld		a,168
    2205   00:4C6E  FD 77 01            		ld		(iy+1),a
    2206   00:4C71  3E B8               		ld		a,184
    2207   00:4C73  FD 77 00            		ld		(iy),a
    2208   00:4C76  3E 03               		ld		a,3
    2209   00:4C78  FD 77 07            		ld		(iy+7),a
    2210   00:4C7B  3E 0C               		ld		a,12
    2211   00:4C7D  FD 77 04            		ld		(iy+4),a		
    2212   00:4C80                      						
    2213   00:4C80  FD 21 49 C6         		ld		iy,variables_serpiente_3
    2214   00:4C84                      		
    2215   00:4C84  3E 78               		ld		a,120
    2216   00:4C86  FD 77 01            		ld		(iy+1),a
    2217   00:4C89  3E C0               		ld		a,192
    2218   00:4C8B  FD 77 00            		ld		(iy),a
    2219   00:4C8E  3E 03               		ld		a,3
    2220   00:4C90  FD 77 07            		ld		(iy+7),a
    2221   00:4C93  3E 02               		ld		a,2
    2222   00:4C95  FD 77 09            		ld		(iy+9),a
    2223   00:4C98                      		
    2224   00:4C98  3E 01               		ld		a,1
    2225   00:4C9A  32 5E C6            		ld		(serp1),a
    2226   00:4C9D  32 5F C6            		ld		(serp2),a
    2227   00:4CA0  32 60 C6            		ld		(serp3),a
    2228   00:4CA3  32 61 C6            		ld		(serp4),a
    2229   00:4CA6                      		
    2230   00:4CA6                      		;		otras variables
    2231   00:4CA6                      		
    2232   00:4CA6  3E 08               		ld		a,8
    2233   00:4CA8  32 22 C0            		ld		(fase_en_la_que_esta),a
    2234   00:4CAB  21 A2 02            		ld		hl,674
    2235   00:4CAE  22 25 C6            		ld		(posicion_puerta),hl
    2236   00:4CB1  3E 01               		ld		a,1
    2237   00:4CB3  32 89 C6            		ld		(toca_bombero),a
    2238   00:4CB6                      
    2239   00:4CB6  CD 00 48            		call	define_espera_entre_fases					
    2240   00:4CB9  CD 94 57            		call	rutina_de_esperar_un_rato
    2241   00:4CBC                      		
    2242   00:4CBC  CD 3A 57            		call	activa_musica_fases
    2243   00:4CBF                      		
    2244   00:4CBF  F3                  		di
    2245   00:4CC0  CD EC B0            		call	setrompage0
    2246   00:4CC3                      		
    2247   00:4CC3  21 E6 29            		ld		hl,fase_4_1												;cargamos sanctuary 4 en ram
    2248   00:4CC6  11 61 C0            		ld		de,buffer_colisiones
    2249   00:4CC9  CD FE 84            		call	depack
    2250   00:4CCC                      		
    2251   00:4CCC  21 14 2B            		ld		hl,fase_4_2												;cargamos sanctuary 4 en ram la parte 2
    2252   00:4CCF  11 41 C3            		ld		de,buffer_colisiones_2
    2253   00:4CD2  CD FE 84            		call	depack
    2254   00:4CD5                      		
    2255   00:4CD5  CD F1 B0            		call	recbios
    2256   00:4CD8  FB                  		ei
    2257   00:4CD9                      		
    2258   00:4CD9  CD E0 5B            		call	diferencias_en_las_fases
    2259   00:4CDC                      		
    2260   00:4CDC  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    2261   00:4CDF                      
    2262   00:4CDF  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2263   00:4CE2                      		
    2264   00:4CE2  C3 BD 64            		jr.		repite_fase
    2265   00:4CE5                      
    2266   00:4CE5                      bloque_sanctuary_9:
    2267   00:4CE5                      		
    2268   00:4CE5  CD 32 55            		call	pantalla_en_blanco
    2269   00:4CE8                      		
    2270   00:4CE8  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 13
    2271   00:4CEB  B7                  		or		a
    2272   00:4CEC  28 05               		jr.		z,bloque_sanctuary_9_esp
    2273   00:4CEE  21 29 93            		ld		hl,sanctuary_x
    2274   00:4CF1  18 03               		jr.		bloque_sanctuary_9_cont
    2275   00:4CF3                      
    2276   00:4CF3                      bloque_sanctuary_9_esp:
    2277   00:4CF3                      
    2278   00:4CF3  21 57 93            		ld		hl,santuario_x
    2279   00:4CF6                      
    2280   00:4CF6                      bloque_sanctuary_9_cont:
    2281   00:4CF6                      
    2282   00:4CF6  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2283   00:4CF9  21 43 93            		ld		hl,sanctuary_9
    2284   00:4CFC  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2285   00:4CFF                      		
    2286   00:4CFF  CD C0 56            		call	SPRITES_DOS
    2287   00:4D02                      		
    2288   00:4D02                      		;		coordenadas prota
    2289   00:4D02                      
    2290   00:4D02  3E E8               		ld		a,232													;define variables
    2291   00:4D04  47                  		ld		b,a
    2292   00:4D05  3E 10               		ld		a,16						
    2293   00:4D07  CD 07 48            		call	coordenadas_prota
    2294   00:4D0A                      		
    2295   00:4D0A  CD 79 55            		call	variables_iguales
    2296   00:4D0D                      		
    2297   00:4D0D                      		;		coordenadas bombero
    2298   00:4D0D                      		
    2299   00:4D0D  FD 21 7C C6         		ld		iy,bombero_control
    2300   00:4D11  3E 40               		ld		a,64
    2301   00:4D13  FD 77 00            		ld		(iy),a
    2302   00:4D16  3E A8               		ld		a,168
    2303   00:4D18  FD 77 01            		ld		(iy+1),a
    2304   00:4D1B  3E 01               		ld		a,1
    2305   00:4D1D  FD 77 02            		ld		(iy+2),a
    2306   00:4D20  3E 01               		ld		a,1
    2307   00:4D22  FD 77 06            		ld		(iy+6),a
    2308   00:4D25  FD 77 0A            		ld		(iy+10),a
    2309   00:4D28  3E 03               		ld		a,3
    2310   00:4D2A  FD 77 09            		ld		(iy+9),a
    2311   00:4D2D                      				
    2312   00:4D2D                      		;		variables grifos balsa
    2313   00:4D2D                      		
    2314   00:4D2D  21 CD 02            		ld		hl,717
    2315   00:4D30  22 8B C6            		ld		(tile_grifo_balsa_1),hl
    2316   00:4D33  21 D3 02            		ld		hl,723
    2317   00:4D36  22 8D C6            		ld		(tile_grifo_balsa_2),hl
    2318   00:4D39  21 10 02            		ld		hl,528
    2319   00:4D3C  22 90 C6            		ld		(posicion_balsa_desde_grifo),hl
    2320   00:4D3F  3E 01               		ld		a,1
    2321   00:4D41  32 92 C6            		ld		(balsa_activa),a
    2322   00:4D44                      										
    2323   00:4D44                      		;		otras variables
    2324   00:4D44                      		
    2325   00:4D44  3E 09               		ld		a,9
    2326   00:4D46  32 22 C0            		ld		(fase_en_la_que_esta),a
    2327   00:4D49  21 5D 00            		ld		hl,93
    2328   00:4D4C  22 25 C6            		ld		(posicion_puerta),hl
    2329   00:4D4F  3E 01               		ld		a,1
    2330   00:4D51  32 7B C6            		ld		(bombero_1),a
    2331   00:4D54  32 89 C6            		ld		(toca_bombero),a
    2332   00:4D57  AF                  		xor		a
    2333   00:4D58  32 79 C6            		ld		(vision_estado),a
    2334   00:4D5B                      							
    2335   00:4D5B  CD 00 48            		call	define_espera_entre_fases						
    2336   00:4D5E  CD 94 57            		call	rutina_de_esperar_un_rato
    2337   00:4D61                      		
    2338   00:4D61  CD 3A 57            		call	activa_musica_fases
    2339   00:4D64                      
    2340   00:4D64  F3                  		di
    2341   00:4D65  CD EC B0            		call	setrompage0
    2342   00:4D68                      		
    2343   00:4D68  21 82 39            		ld		hl,fase_13												;cargamos sanctuary 13 en ram
    2344   00:4D6B  11 61 C0            		ld		de,buffer_colisiones
    2345   00:4D6E  CD FE 84            		call	depack
    2346   00:4D71                      			
    2347   00:4D71  CD F1 B0            		call	recbios
    2348   00:4D74  FB                  		ei
    2349   00:4D75                      		
    2350   00:4D75  CD E0 5B            		call	diferencias_en_las_fases
    2351   00:4D78                      		
    2352   00:4D78  CD 21 55            		call	pantalla_en_mas_blanco
    2353   00:4D7B                      		
    2354   00:4D7B  11 77 18            		ld		de,#1877
    2355   00:4D7E  CD 13 55            		call	pinta_mando_de_luz_en_su_sitio
    2356   00:4D81                      
    2357   00:4D81                      				
    2358   00:4D81  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2359   00:4D84                      		
    2360   00:4D84  C3 BD 64            		jr.		repite_fase
    2361   00:4D87                      		
    2362   00:4D87                      bloque_sanctuary_10:
    2363   00:4D87                      		
    2364   00:4D87  CD 32 55            		call	pantalla_en_blanco
    2365   00:4D8A                      		
    2366   00:4D8A  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 11
    2367   00:4D8D  B7                  		or		a
    2368   00:4D8E  28 05               		jr.		z,bloque_sanctuary_10_esp
    2369   00:4D90  21 29 93            		ld		hl,sanctuary_x
    2370   00:4D93  18 03               		jr.		bloque_sanctuary_10_cont
    2371   00:4D95                      
    2372   00:4D95                      bloque_sanctuary_10_esp:
    2373   00:4D95                      
    2374   00:4D95  21 57 93            		ld		hl,santuario_x
    2375   00:4D98                      
    2376   00:4D98                      bloque_sanctuary_10_cont:
    2377   00:4D98                      
    2378   00:4D98  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2379   00:4D9B  21 45 93            		ld		hl,sanctuary_10
    2380   00:4D9E  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2381   00:4DA1                      		
    2382   00:4DA1  CD C0 56            		call	SPRITES_DOS
    2383   00:4DA4                      		
    2384   00:4DA4                      		;		coordenadas prota
    2385   00:4DA4                      
    2386   00:4DA4  3E 18               		ld		a,24													;define variables
    2387   00:4DA6  47                  		ld		b,a
    2388   00:4DA7  3E 10               		ld		a,16						
    2389   00:4DA9  CD 07 48            		call	coordenadas_prota
    2390   00:4DAC                      		
    2391   00:4DAC  CD 79 55            		call	variables_iguales
    2392   00:4DAF                      		
    2393   00:4DAF                      		;		coordenadas bombero
    2394   00:4DAF                      		
    2395   00:4DAF  FD 21 7C C6         		ld		iy,bombero_control
    2396   00:4DB3  3E 18               		ld		a,24
    2397   00:4DB5  FD 77 00            		ld		(iy),a
    2398   00:4DB8  3E A8               		ld		a,168
    2399   00:4DBA  FD 77 01            		ld		(iy+1),a
    2400   00:4DBD  3E 01               		ld		a,1
    2401   00:4DBF  FD 77 02            		ld		(iy+2),a
    2402   00:4DC2  3E 01               		ld		a,1
    2403   00:4DC4  FD 77 06            		ld		(iy+6),a
    2404   00:4DC7  FD 77 0A            		ld		(iy+10),a
    2405   00:4DCA  3E 03               		ld		a,3
    2406   00:4DCC  FD 77 09            		ld		(iy+9),a
    2407   00:4DCF  3E 02               		ld		a,2
    2408   00:4DD1  FD 77 0C            		ld		(iy+12),a
    2409   00:4DD4                      				
    2410   00:4DD4                      		;		variables grifos balsa
    2411   00:4DD4                      		
    2412   00:4DD4  21 31 01            		ld		hl,305
    2413   00:4DD7  22 8B C6            		ld		(tile_grifo_balsa_1),hl
    2414   00:4DDA  21 EF 01            		ld		hl,495
    2415   00:4DDD  22 8D C6            		ld		(tile_grifo_balsa_2),hl
    2416   00:4DE0  3E 02               		ld		a,2
    2417   00:4DE2  32 96 C6            		ld		(pantalla_balsa),a
    2418   00:4DE5  21 64 01            		ld		hl,356
    2419   00:4DE8  22 90 C6            		ld		(posicion_balsa_desde_grifo),hl
    2420   00:4DEB  3E 01               		ld		a,1
    2421   00:4DED  32 92 C6            		ld		(balsa_activa),a
    2422   00:4DF0                      		
    2423   00:4DF0                      								
    2424   00:4DF0                      		;		otras variables
    2425   00:4DF0                      		
    2426   00:4DF0  21 9D 00            		ld		hl,157
    2427   00:4DF3  22 6D C6            		ld		(posicion_escalera),hl
    2428   00:4DF6  21 5D 00            		ld		hl,93
    2429   00:4DF9  22 70 C6            		ld		(limite_escalera),hl
    2430   00:4DFC  3E 02               		ld		a,2
    2431   00:4DFE  32 72 C6            		ld		(pantalla_escalera),a
    2432   00:4E01  3E 0A               		ld		a,10
    2433   00:4E03  32 22 C0            		ld		(fase_en_la_que_esta),a
    2434   00:4E06  21 43 00            		ld		hl,67
    2435   00:4E09  22 25 C6            		ld		(posicion_puerta),hl
    2436   00:4E0C  3E 01               		ld		a,1
    2437   00:4E0E  32 7B C6            		ld		(bombero_1),a
    2438   00:4E11  32 21 C6            		ld		(pantalla_activa),a
    2439   00:4E14                      								
    2440   00:4E14  CD 00 48            		call	define_espera_entre_fases					
    2441   00:4E17  CD 94 57            		call	rutina_de_esperar_un_rato
    2442   00:4E1A                      		
    2443   00:4E1A  CD 3A 57            		call	activa_musica_fases
    2444   00:4E1D                      
    2445   00:4E1D  F3                  		di
    2446   00:4E1E  CD EC B0            		call	setrompage0
    2447   00:4E21                      		
    2448   00:4E21  21 B8 3B            		ld		hl,fase_15_1											;cargamos sanctuary 11 en ram
    2449   00:4E24  11 61 C0            		ld		de,buffer_colisiones
    2450   00:4E27  CD FE 84            		call	depack
    2451   00:4E2A                      		
    2452   00:4E2A  21 D5 3C            		ld		hl,fase_15_2											;cargamos sanctuary 11 en ram la parte 2
    2453   00:4E2D  11 41 C3            		ld		de,buffer_colisiones_2
    2454   00:4E30  CD FE 84            		call	depack
    2455   00:4E33                      		
    2456   00:4E33  CD F1 B0            		call	recbios
    2457   00:4E36  FB                  		ei
    2458   00:4E37                      		
    2459   00:4E37  CD E0 5B            		call	diferencias_en_las_fases
    2460   00:4E3A                      		
    2461   00:4E3A  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    2462   00:4E3D                      				
    2463   00:4E3D  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2464   00:4E40                      		
    2465   00:4E40  C3 BD 64            		jr.		repite_fase
    2466   00:4E43                      
    2467   00:4E43                      bloque_sanctuary_11:
    2468   00:4E43                      		
    2469   00:4E43  CD 32 55            		call	pantalla_en_blanco
    2470   00:4E46                      		
    2471   00:4E46  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 13
    2472   00:4E49  B7                  		or		a
    2473   00:4E4A  28 05               		jr.		z,bloque_sanctuary_11_esp
    2474   00:4E4C  21 29 93            		ld		hl,sanctuary_x
    2475   00:4E4F  18 03               		jr.		bloque_sanctuary_11_cont
    2476   00:4E51                      
    2477   00:4E51                      bloque_sanctuary_11_esp:
    2478   00:4E51                      
    2479   00:4E51  21 57 93            		ld		hl,santuario_x
    2480   00:4E54                      
    2481   00:4E54                      bloque_sanctuary_11_cont:
    2482   00:4E54                      
    2483   00:4E54  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2484   00:4E57  21 47 93            		ld		hl,sanctuary_11
    2485   00:4E5A  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2486   00:4E5D                      		
    2487   00:4E5D  CD C0 56            		call	SPRITES_DOS
    2488   00:4E60                      		
    2489   00:4E60                      		;		coordenadas prota
    2490   00:4E60                      
    2491   00:4E60  3E D0               		ld		a,208													;define variables
    2492   00:4E62  47                  		ld		b,a
    2493   00:4E63  3E 18               		ld		a,24						
    2494   00:4E65  CD 07 48            		call	coordenadas_prota
    2495   00:4E68                      		
    2496   00:4E68  CD 79 55            		call	variables_iguales
    2497   00:4E6B                      		
    2498   00:4E6B                      		;		variables grifos balsa
    2499   00:4E6B                      		
    2500   00:4E6B  21 79 02            		ld		hl,633
    2501   00:4E6E  22 8B C6            		ld		(tile_grifo_balsa_1),hl
    2502   00:4E71  21 89 02            		ld		hl,649
    2503   00:4E74  22 8D C6            		ld		(tile_grifo_balsa_2),hl
    2504   00:4E77  21 71 02            		ld		hl,625
    2505   00:4E7A  22 90 C6            		ld		(posicion_balsa_desde_grifo),hl
    2506   00:4E7D  3E 01               		ld		a,1
    2507   00:4E7F  32 92 C6            		ld		(balsa_activa),a
    2508   00:4E82                      										
    2509   00:4E82                      		;		otras variables
    2510   00:4E82                      		
    2511   00:4E82  3E 0B               		ld		a,11
    2512   00:4E84  32 22 C0            		ld		(fase_en_la_que_esta),a
    2513   00:4E87  21 7A 00            		ld		hl,122
    2514   00:4E8A  22 25 C6            		ld		(posicion_puerta),hl
    2515   00:4E8D  AF                  		xor		a
    2516   00:4E8E  32 79 C6            		ld		(vision_estado),a
    2517   00:4E91  21 DD 00            		ld		hl,221
    2518   00:4E94  22 6D C6            		ld		(posicion_escalera),hl
    2519   00:4E97  21 DD 00            		ld		hl,221
    2520   00:4E9A  22 70 C6            		ld		(limite_escalera),hl
    2521   00:4E9D                      							
    2522   00:4E9D  CD 00 48            		call	define_espera_entre_fases						
    2523   00:4EA0  CD 94 57            		call	rutina_de_esperar_un_rato
    2524   00:4EA3                      		
    2525   00:4EA3  CD 3A 57            		call	activa_musica_fases
    2526   00:4EA6                      
    2527   00:4EA6  F3                  		di
    2528   00:4EA7  CD EC B0            		call	setrompage0
    2529   00:4EAA                      		
    2530   00:4EAA  21 D5 3D            		ld		hl,fase_16												;cargamos sanctuary 13 en ram
    2531   00:4EAD  11 61 C0            		ld		de,buffer_colisiones
    2532   00:4EB0  CD FE 84            		call	depack
    2533   00:4EB3                      			
    2534   00:4EB3  CD F1 B0            		call	recbios
    2535   00:4EB6  FB                  		ei
    2536   00:4EB7                      		
    2537   00:4EB7  CD E0 5B            		call	diferencias_en_las_fases
    2538   00:4EBA                      		
    2539   00:4EBA  CD 21 55            		call	pantalla_en_mas_blanco
    2540   00:4EBD                      									
    2541   00:4EBD  11 A1 1A            		ld		de,#1AA1
    2542   00:4EC0  CD 13 55            		call	pinta_mando_de_luz_en_su_sitio
    2543   00:4EC3                      
    2544   00:4EC3                      				
    2545   00:4EC3  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2546   00:4EC6                      		
    2547   00:4EC6  C3 BD 64            		jr.		repite_fase
    2548   00:4EC9                      
    2549   00:4EC9                      bloque_sanctuary_12:
    2550   00:4EC9                      		
    2551   00:4EC9  CD 32 55            		call	pantalla_en_blanco
    2552   00:4ECC                      		
    2553   00:4ECC  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 1
    2554   00:4ECF  B7                  		or		a
    2555   00:4ED0  28 05               		jr.		z,bloque_sanctuary_12_esp
    2556   00:4ED2  21 29 93            		ld		hl,sanctuary_x
    2557   00:4ED5  18 03               		jr.		bloque_sanctuary_12_cont
    2558   00:4ED7                      
    2559   00:4ED7                      bloque_sanctuary_12_esp:
    2560   00:4ED7                      
    2561   00:4ED7  21 57 93            		ld		hl,santuario_x
    2562   00:4EDA                      
    2563   00:4EDA                      bloque_sanctuary_12_cont:
    2564   00:4EDA                      		
    2565   00:4EDA  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2566   00:4EDD  21 49 93            		ld		hl,sanctuary_12
    2567   00:4EE0  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2568   00:4EE3                      		
    2569   00:4EE3                      		;		coordenadas prota
    2570   00:4EE3  3E 78               		ld		a,120													;define variables
    2571   00:4EE5  47                  		ld		b,a
    2572   00:4EE6  3E 58               		ld		a,88						
    2573   00:4EE8  CD 07 48            		call	coordenadas_prota
    2574   00:4EEB                      		
    2575   00:4EEB  CD 79 55            		call	variables_iguales
    2576   00:4EEE                      				
    2577   00:4EEE                      		;		coordenadas serpientes
    2578   00:4EEE                      		
    2579   00:4EEE  FD 21 35 C6         		ld		iy,variables_serpiente_1
    2580   00:4EF2  3E 78               		ld		a,120
    2581   00:4EF4  FD 77 00            		ld		(iy),a
    2582   00:4EF7  3E 10               		ld		a,16
    2583   00:4EF9  FD 77 01            		ld		(iy+1),a
    2584   00:4EFC  AF                  		xor	a
    2585   00:4EFD  FD 77 02            		ld		(iy+2),a
    2586   00:4F00  FD 77 08            		ld		(iy+8),a
    2587   00:4F03  3E 08               		ld		a,8
    2588   00:4F05  FD 77 04            		ld		(iy+4),a
    2589   00:4F08  FD 77 05            		ld		(iy+5),a
    2590   00:4F0B                      				
    2591   00:4F0B  FD 21 3F C6         		ld		iy,variables_serpiente_2
    2592   00:4F0F  3E 78               		ld		a,120
    2593   00:4F11  FD 77 00            		ld		(iy),a
    2594   00:4F14  3E A8               		ld		a,168
    2595   00:4F16  FD 77 01            		ld		(iy+1),a
    2596   00:4F19  3E 0F               		ld		a,15
    2597   00:4F1B  FD 77 05            		ld		(iy+5),a
    2598   00:4F1E  3E 0A               		ld		a,10
    2599   00:4F20  FD 77 04            		ld		(iy+4),a
    2600   00:4F23  3E 02               		ld		a,2
    2601   00:4F25  FD 77 07            		ld		(iy+7),a
    2602   00:4F28  AF                  		xor		a
    2603   00:4F29  FD 77 08            		ld		(iy+8),a
    2604   00:4F2C                      								
    2605   00:4F2C  3E 01               		ld		a,1
    2606   00:4F2E  32 5E C6            		ld		(serp1),a
    2607   00:4F31  32 5F C6            		ld		(serp2),a
    2608   00:4F34                      				
    2609   00:4F34                      		;		otras variables
    2610   00:4F34  3E 0C               		ld		a,12
    2611   00:4F36  32 22 C0            		ld		(fase_en_la_que_esta),a
    2612   00:4F39  21 6F 01            		ld		hl,367
    2613   00:4F3C  22 25 C6            		ld		(posicion_puerta),hl
    2614   00:4F3F  AF                  		xor		a
    2615   00:4F40  32 79 C6            		ld		(vision_estado),a
    2616   00:4F43                      		
    2617   00:4F43                      		
    2618   00:4F43  CD 00 48            		call	define_espera_entre_fases					
    2619   00:4F46  CD 94 57            		call	rutina_de_esperar_un_rato
    2620   00:4F49                      
    2621   00:4F49  CD 3A 57            		call	activa_musica_fases										;inicia el reproductor de PT3
    2622   00:4F4C                      		
    2623   00:4F4C  F3                  		di
    2624   00:4F4D  CD EC B0            		call	setrompage0
    2625   00:4F50                      		
    2626   00:4F50  21 80 B7            		ld		hl,fase_17												;cargamos sanctuary 2 en ram
    2627   00:4F53  11 61 C0            		ld		de,buffer_colisiones
    2628   00:4F56  CD FE 84            		call	depack
    2629   00:4F59                      		
    2630   00:4F59  CD F1 B0            		call	recbios
    2631   00:4F5C  FB                  		ei
    2632   00:4F5D                      		
    2633   00:4F5D  CD E0 5B            		call	diferencias_en_las_fases	
    2634   00:4F60                      		
    2635   00:4F60  CD 21 55            		call	pantalla_en_mas_blanco
    2636   00:4F63                      		
    2637   00:4F63  11 A9 19            		ld		de,#19A9
    2638   00:4F66  CD 13 55            		call	pinta_mando_de_luz_en_su_sitio
    2639   00:4F69                      		
    2640   00:4F69  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2641   00:4F6C                      		
    2642   00:4F6C  C3 BD 64            		jr.		repite_fase
    2643   00:4F6F                      		
    2644   00:4F6F                      bloque_sanctuary_13:
    2645   00:4F6F                      		
    2646   00:4F6F  CD 32 55            		call	pantalla_en_blanco
    2647   00:4F72                      		
    2648   00:4F72  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 6
    2649   00:4F75  B7                  		or		a
    2650   00:4F76  28 05               		jr.		z,bloque_sanctuary_13_esp
    2651   00:4F78  21 29 93            		ld		hl,sanctuary_x
    2652   00:4F7B  18 03               		jr.		bloque_sanctuary_13_cont
    2653   00:4F7D                      
    2654   00:4F7D                      bloque_sanctuary_13_esp:
    2655   00:4F7D                      
    2656   00:4F7D  21 57 93            		ld		hl,santuario_x
    2657   00:4F80                      
    2658   00:4F80                      bloque_sanctuary_13_cont:
    2659   00:4F80                      
    2660   00:4F80  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2661   00:4F83  21 4B 93            		ld		hl,sanctuary_13
    2662   00:4F86  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2663   00:4F89                      		
    2664   00:4F89                      		;		coordenadas prota
    2665   00:4F89                      
    2666   00:4F89  3E 78               		ld		a,120													;define variables
    2667   00:4F8B  47                  		ld		b,a
    2668   00:4F8C  3E A8               		ld		a,168						
    2669   00:4F8E  CD 07 48            		call	coordenadas_prota
    2670   00:4F91                      		
    2671   00:4F91  CD 79 55            		call	variables_iguales
    2672   00:4F94                      		
    2673   00:4F94                      		;		coordenadas serpientes
    2674   00:4F94                      		
    2675   00:4F94  FD 21 35 C6         		ld		iy,variables_serpiente_1
    2676   00:4F98  3E 98               		ld		a,152
    2677   00:4F9A  FD 77 00            		ld		(iy),a
    2678   00:4F9D  3E 78               		ld		a,120
    2679   00:4F9F  FD 77 01            		ld		(iy+1),a
    2680   00:4FA2  AF                  		xor	a
    2681   00:4FA3  FD 77 02            		ld		(iy+2),a
    2682   00:4FA6  3E 08               		ld		a,8
    2683   00:4FA8  FD 77 04            		ld		(iy+4),a
    2684   00:4FAB  FD 77 05            		ld		(iy+5),a
    2685   00:4FAE                      			
    2686   00:4FAE  FD 21 3F C6         		ld		iy,variables_serpiente_2
    2687   00:4FB2  3E 18               		ld		a,24
    2688   00:4FB4  FD 77 00            		ld		(iy),a
    2689   00:4FB7  3E A8               		ld		a,168
    2690   00:4FB9  FD 77 01            		ld		(iy+1),a
    2691   00:4FBC  AF                  		xor	a
    2692   00:4FBD  FD 77 02            		ld		(iy+2),a
    2693   00:4FC0                      								
    2694   00:4FC0  3E 01               		ld		a,1
    2695   00:4FC2  32 5E C6            		ld		(serp1),a
    2696   00:4FC5  32 5F C6            		ld		(serp2),a
    2697   00:4FC8                      						
    2698   00:4FC8                      		;		otras variables
    2699   00:4FC8                      		
    2700   00:4FC8  21 DD 00            		ld		hl,221
    2701   00:4FCB  22 6D C6            		ld		(posicion_escalera),hl
    2702   00:4FCE  21 5D 00            		ld		hl,93
    2703   00:4FD1  22 70 C6            		ld		(limite_escalera),hl
    2704   00:4FD4  3E 0D               		ld		a,13
    2705   00:4FD6  32 22 C0            		ld		(fase_en_la_que_esta),a
    2706   00:4FD9  21 AF 02            		ld		hl,687
    2707   00:4FDC  22 25 C6            		ld		(posicion_puerta),hl
    2708   00:4FDF  3E 01               		ld		a,1
    2709   00:4FE1  32 27 C6            		ld		(pantalla_puerta),a
    2710   00:4FE4  32 89 C6            		ld		(toca_bombero),a
    2711   00:4FE7                      					
    2712   00:4FE7  CD 00 48            		call	define_espera_entre_fases				
    2713   00:4FEA  CD 94 57            		call	rutina_de_esperar_un_rato
    2714   00:4FED                      		
    2715   00:4FED  CD 3A 57            		call	activa_musica_fases
    2716   00:4FF0                      		
    2717   00:4FF0  F3                  		di
    2718   00:4FF1  CD EC B0            		call	setrompage0
    2719   00:4FF4                      		
    2720   00:4FF4  21 B6 2E            		ld		hl,fase_6												;cargamos sanctuary 6 en ram
    2721   00:4FF7  11 61 C0            		ld		de,buffer_colisiones
    2722   00:4FFA  CD FE 84            		call	depack
    2723   00:4FFD                      		
    2724   00:4FFD  CD F1 B0            		call	recbios
    2725   00:5000  FB                  		ei
    2726   00:5001                      
    2727   00:5001  CD E0 5B            		call	diferencias_en_las_fases
    2728   00:5004                      				
    2729   00:5004  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    2730   00:5007                      
    2731   00:5007  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2732   00:500A                      		
    2733   00:500A  C3 BD 64            		jr.		repite_fase
    2734   00:500D                      
    2735   00:500D                      bloque_sanctuary_14:
    2736   00:500D                      		
    2737   00:500D  CD 32 55            		call	pantalla_en_blanco
    2738   00:5010                      		
    2739   00:5010  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 7
    2740   00:5013  B7                  		or		a
    2741   00:5014  28 05               		jr.		z,bloque_sanctuary_14_esp
    2742   00:5016  21 29 93            		ld		hl,sanctuary_x
    2743   00:5019  18 03               		jr.		bloque_sanctuary_14_cont
    2744   00:501B                      
    2745   00:501B                      bloque_sanctuary_14_esp:
    2746   00:501B                      
    2747   00:501B  21 57 93            		ld		hl,santuario_x
    2748   00:501E                      
    2749   00:501E                      bloque_sanctuary_14_cont:
    2750   00:501E                      
    2751   00:501E  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2752   00:5021  21 4D 93            		ld		hl,sanctuary_14
    2753   00:5024  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2754   00:5027                      		
    2755   00:5027  CD C0 56            		call	SPRITES_DOS
    2756   00:502A                      		
    2757   00:502A                      		;		coordenadas prota
    2758   00:502A                      
    2759   00:502A  3E B8               		ld		a,184													;define variables
    2760   00:502C  47                  		ld		b,a
    2761   00:502D  3E 18               		ld		a,24						
    2762   00:502F  CD 07 48            		call	coordenadas_prota
    2763   00:5032                      		
    2764   00:5032  CD 79 55            		call	variables_iguales
    2765   00:5035                      		
    2766   00:5035                      		;		coordenadas bombero
    2767   00:5035                      		
    2768   00:5035  FD 21 7C C6         		ld		iy,bombero_control
    2769   00:5039  3E 50               		ld		a,80
    2770   00:503B  FD 77 00            		ld		(iy),a
    2771   00:503E  3E 18               		ld		a,24
    2772   00:5040  FD 77 01            		ld		(iy+1),a
    2773   00:5043  3E C8               		ld		a,200
    2774   00:5045  FD 77 08            		ld		(iy+8),a
    2775   00:5048                      										
    2776   00:5048                      		;		otras variables
    2777   00:5048                      		
    2778   00:5048  21 D9 00            		ld		hl,217
    2779   00:504B  22 6D C6            		ld		(posicion_escalera),hl
    2780   00:504E  21 59 00            		ld		hl,89
    2781   00:5051  22 70 C6            		ld		(limite_escalera),hl
    2782   00:5054  3E 0E               		ld		a,14
    2783   00:5056  32 22 C0            		ld		(fase_en_la_que_esta),a
    2784   00:5059  21 77 00            		ld		hl,119
    2785   00:505C  22 25 C6            		ld		(posicion_puerta),hl
    2786   00:505F  3E 01               		ld		a,1
    2787   00:5061  32 7B C6            		ld		(bombero_1),a
    2788   00:5064  32 27 C6            		ld		(pantalla_puerta),a
    2789   00:5067  32 89 C6            		ld		(toca_bombero),a
    2790   00:506A                      					
    2791   00:506A  CD 00 48            		call	define_espera_entre_fases					
    2792   00:506D  CD 94 57            		call	rutina_de_esperar_un_rato
    2793   00:5070                      		
    2794   00:5070  CD 3A 57            		call	activa_musica_fases
    2795   00:5073                      
    2796   00:5073  F3                  		di
    2797   00:5074  CD EC B0            		call	setrompage0
    2798   00:5077                      		
    2799   00:5077  21 C4 2F            		ld		hl,fase_7_1												;cargamos sanctuary 7 en ram
    2800   00:507A  11 61 C0            		ld		de,buffer_colisiones
    2801   00:507D  CD FE 84            		call	depack
    2802   00:5080                      		
    2803   00:5080  21 88 30            		ld		hl,fase_7_2												;cargamos sanctuary 7 en ram
    2804   00:5083  11 41 C3            		ld		de,buffer_colisiones_2
    2805   00:5086  CD FE 84            		call	depack
    2806   00:5089                      		
    2807   00:5089  CD F1 B0            		call	recbios
    2808   00:508C  FB                  		ei
    2809   00:508D                      		
    2810   00:508D  CD E0 5B            		call	diferencias_en_las_fases
    2811   00:5090                      		
    2812   00:5090  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    2813   00:5093                      
    2814   00:5093  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2815   00:5096                      		
    2816   00:5096  C3 BD 64            		jr.		repite_fase
    2817   00:5099                      
    2818   00:5099                      bloque_sanctuary_15:
    2819   00:5099                      		
    2820   00:5099  CD 32 55            		call	pantalla_en_blanco
    2821   00:509C                      		
    2822   00:509C  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 8
    2823   00:509F  B7                  		or		a
    2824   00:50A0  28 05               		jr.		z,bloque_sanctuary_15_esp
    2825   00:50A2  21 29 93            		ld		hl,sanctuary_x
    2826   00:50A5  18 03               		jr.		bloque_sanctuary_15_cont
    2827   00:50A7                      
    2828   00:50A7                      bloque_sanctuary_15_esp:
    2829   00:50A7                      
    2830   00:50A7  21 57 93            		ld		hl,santuario_x
    2831   00:50AA                      
    2832   00:50AA                      bloque_sanctuary_15_cont:
    2833   00:50AA                      
    2834   00:50AA  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2835   00:50AD  21 4F 93            		ld		hl,sanctuary_15
    2836   00:50B0  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2837   00:50B3                      		
    2838   00:50B3  CD C0 56            		call	SPRITES_DOS
    2839   00:50B6                      		
    2840   00:50B6                      		;		coordenadas prota
    2841   00:50B6                      
    2842   00:50B6  3E A8               		ld		a,168													;define variables
    2843   00:50B8  47                  		ld		b,a
    2844   00:50B9  3E 18               		ld		a,24						
    2845   00:50BB  CD 07 48            		call	coordenadas_prota
    2846   00:50BE                      		
    2847   00:50BE  CD 79 55            		call	variables_iguales
    2848   00:50C1                      		
    2849   00:50C1                      		;		coordenadas bombero
    2850   00:50C1                      		
    2851   00:50C1  FD 21 7C C6         		ld		iy,bombero_control
    2852   00:50C5  3E 48               		ld		a,72
    2853   00:50C7  FD 77 00            		ld		(iy),a
    2854   00:50CA  3E 78               		ld		a,120
    2855   00:50CC  FD 77 01            		ld		(iy+1),a
    2856   00:50CF  3E C8               		ld		a,200
    2857   00:50D1  FD 77 08            		ld		(iy+8),a
    2858   00:50D4  3E 02               		ld		a,2
    2859   00:50D6  FD 77 09            		ld		(iy+9),a
    2860   00:50D9                      		
    2861   00:50D9                      		;		variables grifos balsa
    2862   00:50D9                      		
    2863   00:50D9  21 04 02            		ld		hl,516
    2864   00:50DC  22 8B C6            		ld		(tile_grifo_balsa_1),hl
    2865   00:50DF  21 DB 01            		ld		hl,475
    2866   00:50E2  22 8D C6            		ld		(tile_grifo_balsa_2),hl
    2867   00:50E5  21 70 02            		ld		hl,624
    2868   00:50E8  22 90 C6            		ld		(posicion_balsa_desde_grifo),hl
    2869   00:50EB  3E 01               		ld		a,1
    2870   00:50ED  32 92 C6            		ld		(balsa_activa),a
    2871   00:50F0                      					
    2872   00:50F0                      		;		otras variables
    2873   00:50F0                      		
    2874   00:50F0  21 D9 01            		ld		hl,473
    2875   00:50F3  22 6D C6            		ld		(posicion_escalera),hl
    2876   00:50F6  21 39 01            		ld		hl,313
    2877   00:50F9  22 70 C6            		ld		(limite_escalera),hl
    2878   00:50FC  3E 0F               		ld		a,15
    2879   00:50FE  32 22 C0            		ld		(fase_en_la_que_esta),a
    2880   00:5101  21 75 00            		ld		hl,117
    2881   00:5104  22 25 C6            		ld		(posicion_puerta),hl
    2882   00:5107  3E 01               		ld		a,1
    2883   00:5109  32 7B C6            		ld		(bombero_1),a
    2884   00:510C                      					
    2885   00:510C  CD 00 48            		call	define_espera_entre_fases					
    2886   00:510F  CD 94 57            		call	rutina_de_esperar_un_rato
    2887   00:5112                      		
    2888   00:5112  CD 3A 57            		call	activa_musica_fases
    2889   00:5115                      
    2890   00:5115  F3                  		di
    2891   00:5116  CD EC B0            		call	setrompage0
    2892   00:5119                      		
    2893   00:5119  21 2A 31            		ld		hl,fase_8												;cargamos sanctuary 8 en ram
    2894   00:511C  11 61 C0            		ld		de,buffer_colisiones
    2895   00:511F  CD FE 84            		call	depack
    2896   00:5122                      		
    2897   00:5122  CD F1 B0            		call	recbios
    2898   00:5125  FB                  		ei
    2899   00:5126                      		
    2900   00:5126  CD E0 5B            		call	diferencias_en_las_fases
    2901   00:5129                      		
    2902   00:5129  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    2903   00:512C                      
    2904   00:512C  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    2905   00:512F                      		
    2906   00:512F  C3 BD 64            		jr.		repite_fase
    2907   00:5132                      
    2908   00:5132                      bloque_sanctuary_16:
    2909   00:5132                      		
    2910   00:5132  CD 32 55            		call	pantalla_en_blanco
    2911   00:5135                      		
    2912   00:5135  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 9
    2913   00:5138  B7                  		or		a
    2914   00:5139  28 05               		jr.		z,bloque_sanctuary_16_esp
    2915   00:513B  21 29 93            		ld		hl,sanctuary_x
    2916   00:513E  18 03               		jr.		bloque_sanctuary_16_cont
    2917   00:5140                      
    2918   00:5140                      bloque_sanctuary_16_esp:
    2919   00:5140                      
    2920   00:5140  21 57 93            		ld		hl,santuario_x
    2921   00:5143                      
    2922   00:5143                      bloque_sanctuary_16_cont:
    2923   00:5143                      
    2924   00:5143  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    2925   00:5146  21 51 93            		ld		hl,sanctuary_16
    2926   00:5149  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    2927   00:514C  CD A3 56            		call	SPRITES_UNO
    2928   00:514F                      		
    2929   00:514F                      		;		coordenadas prota
    2930   00:514F                      
    2931   00:514F  3E 60               		ld		a,96													;define variables
    2932   00:5151  47                  		ld		b,a
    2933   00:5152  3E A8               		ld		a,168						
    2934   00:5154  CD 07 48            		call	coordenadas_prota
    2935   00:5157                      		
    2936   00:5157  CD 79 55            		call	variables_iguales
    2937   00:515A                      		
    2938   00:515A                      		;		coordenadas serpientes
    2939   00:515A                      		
    2940   00:515A  FD 21 35 C6         		ld		iy,variables_serpiente_1
    2941   00:515E  3E 48               		ld		a,72
    2942   00:5160  FD 77 00            		ld		(iy),a
    2943   00:5163  3E 18               		ld		a,24
    2944   00:5165  FD 77 01            		ld		(iy+1),a
    2945   00:5168  AF                  		xor	a
    2946   00:5169  FD 77 02            		ld		(iy+2),a
    2947   00:516C  3E 08               		ld		a,8
    2948   00:516E  FD 77 04            		ld		(iy+4),a
    2949   00:5171  FD 77 05            		ld		(iy+5),a
    2950   00:5174  3E 02               		ld		a,2
    2951   00:5176  FD 77 07            		ld		(iy+7),a
    2952   00:5179                      		
    2953   00:5179  32 5E C6            		ld		(serp1),a
    2954   00:517C                      		
    2955   00:517C                      		;		variables grifos balsa
    2956   00:517C                      		
    2957   00:517C  21 5B 01            		ld		hl,347
    2958   00:517F  22 8B C6            		ld		(tile_grifo_balsa_1),hl
    2959   00:5182  21 DB 02            		ld		hl,731
    2960   00:5185  22 8D C6            		ld		(tile_grifo_balsa_2),hl
    2961   00:5188  21 7A 00            		ld		hl,122
    2962   00:518B  22 90 C6            		ld		(posicion_balsa_desde_grifo),hl
    2963   00:518E  3E 01               		ld		a,1
    2964   00:5190  32 92 C6            		ld		(balsa_activa),a
    2965   00:5193                      								
    2966   00:5193                      		;		otras variables
    2967   00:5193                      		
    2968   00:5193  21 C7 00            		ld		hl,199
    2969   00:5196  22 6D C6            		ld		(posicion_escalera),hl
    2970   00:5199  21 47 00            		ld		hl,71
    2971   00:519C  22 70 C6            		ld		(limite_escalera),hl
    2972   00:519F  3E 10               		ld		a,16
    2973   00:51A1  32 22 C0            		ld		(fase_en_la_que_esta),a
    2974   00:51A4  21 AC 02            		ld		hl,684
    2975   00:51A7  22 25 C6            		ld		(posicion_puerta),hl
    2976   00:51AA  AF                  		xor		a
    2977   00:51AB  32 79 C6            		ld		(vision_estado),a
    2978   00:51AE  3E 01               		ld		a,1
    2979   00:51B0  32 89 C6            		ld		(toca_bombero),a
    2980   00:51B3                      							
    2981   00:51B3  CD 00 48            		call	define_espera_entre_fases					
    2982   00:51B6  CD 94 57            		call	rutina_de_esperar_un_rato
    2983   00:51B9                      		
    2984   00:51B9  CD 3A 57            		call	activa_musica_fases
    2985   00:51BC                      
    2986   00:51BC  F3                  		di
    2987   00:51BD  CD EC B0            		call	setrompage0
    2988   00:51C0                      		
    2989   00:51C0  21 69 32            		ld		hl,fase_9												;cargamos sanctuary 9 en ram
    2990   00:51C3  11 61 C0            		ld		de,buffer_colisiones
    2991   00:51C6  CD FE 84            		call	depack
    2992   00:51C9                      		
    2993   00:51C9  CD F1 B0            		call	recbios
    2994   00:51CC  FB                  		ei
    2995   00:51CD                      		
    2996   00:51CD  CD E0 5B            		call	diferencias_en_las_fases
    2997   00:51D0                      		
    2998   00:51D0  CD 21 55            		call	pantalla_en_mas_blanco
    2999   00:51D3                      
    3000   00:51D3  11 01 1A            		ld		de,#1a01
    3001   00:51D6  CD 13 55            		call	pinta_mando_de_luz_en_su_sitio
    3002   00:51D9                      		
    3003   00:51D9  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    3004   00:51DC                      		
    3005   00:51DC  C3 BD 64            		jr.		repite_fase
    3006   00:51DF                      
    3007   00:51DF                      bloque_sanctuary_17:
    3008   00:51DF                      		
    3009   00:51DF  CD 32 55            		call	pantalla_en_blanco
    3010   00:51E2                      		
    3011   00:51E2  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 10
    3012   00:51E5  B7                  		or		a
    3013   00:51E6  28 05               		jr.		z,bloque_sanctuary_17_esp
    3014   00:51E8  21 29 93            		ld		hl,sanctuary_x
    3015   00:51EB  18 03               		jr.		bloque_sanctuary_17_cont
    3016   00:51ED                      
    3017   00:51ED                      bloque_sanctuary_17_esp:
    3018   00:51ED                      
    3019   00:51ED  21 57 93            		ld		hl,santuario_x
    3020   00:51F0                      
    3021   00:51F0                      bloque_sanctuary_17_cont:
    3022   00:51F0                      
    3023   00:51F0  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    3024   00:51F3  21 53 93            		ld		hl,sanctuary_17
    3025   00:51F6  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    3026   00:51F9                      		
    3027   00:51F9  CD C0 56            		call	SPRITES_DOS
    3028   00:51FC                      		
    3029   00:51FC                      		;		coordenadas prota
    3030   00:51FC                      
    3031   00:51FC  3E D8               		ld		a,216													;define variables
    3032   00:51FE  47                  		ld		b,a
    3033   00:51FF  3E 18               		ld		a,24						
    3034   00:5201  CD 07 48            		call	coordenadas_prota
    3035   00:5204                      		
    3036   00:5204  CD 79 55            		call	variables_iguales
    3037   00:5207                      			
    3038   00:5207                      		;		coordenadas bombero
    3039   00:5207                      		
    3040   00:5207  FD 21 7C C6         		ld		iy,bombero_control
    3041   00:520B  3E 38               		ld		a,56
    3042   00:520D  FD 77 00            		ld		(iy),a
    3043   00:5210  3E 90               		ld		a,144
    3044   00:5212  FD 77 01            		ld		(iy+1),a
    3045   00:5215  3E C8               		ld		a,200
    3046   00:5217  FD 77 08            		ld		(iy+8),a
    3047   00:521A  3E 04               		ld		a,4
    3048   00:521C  FD 77 09            		ld		(iy+9),a
    3049   00:521F                      				
    3050   00:521F                      		;		variables grifos balsa
    3051   00:521F                      		
    3052   00:521F  21 54 02            		ld		hl,596
    3053   00:5222  22 8B C6            		ld		(tile_grifo_balsa_1),hl
    3054   00:5225  21 DA 02            		ld		hl,730
    3055   00:5228  22 8D C6            		ld		(tile_grifo_balsa_2),hl
    3056   00:522B  3E 02               		ld		a,2
    3057   00:522D  32 96 C6            		ld		(pantalla_balsa),a
    3058   00:5230  32 95 C6            		ld		(pantalla_tile_grifo_balsa_2),a
    3059   00:5233  21 E7 01            		ld		hl,487
    3060   00:5236  22 90 C6            		ld		(posicion_balsa_desde_grifo),hl
    3061   00:5239  3E 01               		ld		a,1
    3062   00:523B  32 92 C6            		ld		(balsa_activa),a
    3063   00:523E                      		
    3064   00:523E                      								
    3065   00:523E                      		;		otras variables
    3066   00:523E                      		
    3067   00:523E  21 CB 00            		ld		hl,203
    3068   00:5241  22 6D C6            		ld		(posicion_escalera),hl
    3069   00:5244  21 4B 00            		ld		hl,75
    3070   00:5247  22 70 C6            		ld		(limite_escalera),hl
    3071   00:524A  3E 01               		ld		a,1
    3072   00:524C  32 72 C6            		ld		(pantalla_escalera),a
    3073   00:524F  3E 02               		ld		a,2
    3074   00:5251  32 21 C6            		ld		(pantalla_activa),a
    3075   00:5254  32 27 C6            		ld		(pantalla_puerta),a
    3076   00:5257  3E 11               		ld		a,17
    3077   00:5259  32 22 C0            		ld		(fase_en_la_que_esta),a
    3078   00:525C  21 7B 00            		ld		hl,123
    3079   00:525F  22 25 C6            		ld		(posicion_puerta),hl
    3080   00:5262  AF                  		xor		a
    3081   00:5263  32 79 C6            		ld		(vision_estado),a
    3082   00:5266  3E 01               		ld		a,1
    3083   00:5268  32 7B C6            		ld		(bombero_1),a
    3084   00:526B                      							
    3085   00:526B  CD 00 48            		call	define_espera_entre_fases				
    3086   00:526E  CD 94 57            		call	rutina_de_esperar_un_rato
    3087   00:5271                      		
    3088   00:5271  CD 3A 57            		call	activa_musica_fases
    3089   00:5274                      
    3090   00:5274  F3                  		di
    3091   00:5275  CD EC B0            		call	setrompage0
    3092   00:5278                      		
    3093   00:5278  21 DA 33            		ld		hl,fase_10_1											;cargamos sanctuary 10 en ram
    3094   00:527B  11 61 C0            		ld		de,buffer_colisiones
    3095   00:527E  CD FE 84            		call	depack
    3096   00:5281                      		
    3097   00:5281  21 D2 34            		ld		hl,fase_10_2											;cargamos sanctuary 4 en ram la parte 2
    3098   00:5284  11 41 C3            		ld		de,buffer_colisiones_2
    3099   00:5287  CD FE 84            		call	depack
    3100   00:528A                      		
    3101   00:528A  CD F1 B0            		call	recbios
    3102   00:528D  FB                  		ei
    3103   00:528E                      		
    3104   00:528E  CD E0 5B            		call	diferencias_en_las_fases
    3105   00:5291                      		
    3106   00:5291  CD 21 55            		call	pantalla_en_mas_blanco
    3107   00:5294                      		
    3108   00:5294  CD 41 00            		call	DISSCR
    3109   00:5297                      		
    3110   00:5297  F3                  		di
    3111   00:5298  CD EC B0            		call	setrompage0
    3112   00:529B                      		
    3113   00:529B                      		
    3114   00:529B                      		
    3115   00:529B  21 86 B6            		ld		hl,paso_negro_izq
    3116   00:529E  11 20 18            		ld		de,#1820
    3117   00:52A1  CD FC 83            		call	depack_VRAM
    3118   00:52A4                      		
    3119   00:52A4                      		
    3120   00:52A4                      		
    3121   00:52A4  CD F1 B0            		call	recbios
    3122   00:52A7  FB                  		ei
    3123   00:52A8                      		
    3124   00:52A8  CD 44 00            		call	ENASCR
    3125   00:52AB                      		
    3126   00:52AB  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    3127   00:52AE                      		
    3128   00:52AE  C3 BD 64            		jr.		repite_fase
    3129   00:52B1                      
    3130   00:52B1                      bloque_sanctuary_18:
    3131   00:52B1                      		
    3132   00:52B1  CD 32 55            		call	pantalla_en_blanco
    3133   00:52B4                      		
    3134   00:52B4  3A 01 C0            		ld		a,(idioma)												;anunciamos sanctuary 11
    3135   00:52B7  B7                  		or		a
    3136   00:52B8  28 05               		jr.		z,bloque_sanctuary_18_esp
    3137   00:52BA  21 29 93            		ld		hl,sanctuary_x
    3138   00:52BD  18 03               		jr.		bloque_sanctuary_18_cont
    3139   00:52BF                      
    3140   00:52BF                      bloque_sanctuary_18_esp:
    3141   00:52BF                      
    3142   00:52BF  21 57 93            		ld		hl,santuario_x
    3143   00:52C2                      
    3144   00:52C2                      bloque_sanctuary_18_cont:
    3145   00:52C2                      
    3146   00:52C2  CD 64 55            		call	anunciamos_el_santuario_correspondiente
    3147   00:52C5  21 55 93            		ld		hl,sanctuary_18
    3148   00:52C8  CD 6D 55            		call	anunciamos_el_santuario_correspondiente_numero
    3149   00:52CB                      		
    3150   00:52CB  CD A3 56            		call	SPRITES_UNO
    3151   00:52CE                      		
    3152   00:52CE                      		;		coordenadas prota
    3153   00:52CE                      
    3154   00:52CE  3E D8               		ld		a,216													;define variables
    3155   00:52D0  47                  		ld		b,a
    3156   00:52D1  3E 40               		ld		a,64						
    3157   00:52D3  CD 07 48            		call	coordenadas_prota
    3158   00:52D6                      		
    3159   00:52D6  CD 79 55            		call	variables_iguales
    3160   00:52D9                      		
    3161   00:52D9                      		;		coordenadas serpientes
    3162   00:52D9                      		
    3163   00:52D9  FD 21 35 C6         		ld		iy,variables_serpiente_1
    3164   00:52DD  3E 48               		ld		a,72
    3165   00:52DF  FD 77 00            		ld		(iy),a
    3166   00:52E2  3E 40               		ld		a,64
    3167   00:52E4  FD 77 01            		ld		(iy+1),a
    3168   00:52E7  AF                  		xor	a
    3169   00:52E8  FD 77 02            		ld		(iy+2),a
    3170   00:52EB  3E 08               		ld		a,8
    3171   00:52ED  FD 77 04            		ld		(iy+4),a
    3172   00:52F0  FD 77 05            		ld		(iy+5),a
    3173   00:52F3                      				
    3174   00:52F3  FD 21 3F C6         		ld		iy,variables_serpiente_2
    3175   00:52F7  3E A8               		ld		a,168
    3176   00:52F9  FD 77 00            		ld		(iy),a
    3177   00:52FC  3E 80               		ld		a,128
    3178   00:52FE  FD 77 01            		ld		(iy+1),a
    3179   00:5301  3E 0F               		ld		a,15
    3180   00:5303  FD 77 05            		ld		(iy+5),a
    3181   00:5306  3E 0A               		ld		a,10
    3182   00:5308  FD 77 04            		ld		(iy+4),a
    3183   00:530B                      				
    3184   00:530B  FD 21 49 C6         		ld		iy,variables_serpiente_3
    3185   00:530F  3E 78               		ld		a,120
    3186   00:5311  FD 77 00            		ld		(iy),a
    3187   00:5314  3E 10               		ld		a,16
    3188   00:5316  FD 77 01            		ld		(iy+1),a
    3189   00:5319                      		
    3190   00:5319  3E 0F               		ld		a,15
    3191   00:531B  FD 77 05            		ld		(iy+5),a
    3192   00:531E  3E 02               		ld		a,2
    3193   00:5320  FD 77 09            		ld		(iy+9),a
    3194   00:5323                      		
    3195   00:5323  FD 21 53 C6         		ld		iy,variables_serpiente_4
    3196   00:5327  3E 98               		ld		a,152
    3197   00:5329  FD 77 00            		ld		(iy),a
    3198   00:532C  3E A8               		ld		a,168
    3199   00:532E  FD 77 01            		ld		(iy+1),a
    3200   00:5331  3E 0F               		ld		a,15
    3201   00:5333  FD 77 05            		ld		(iy+5),a
    3202   00:5336  3E 03               		ld		a,3
    3203   00:5338  FD 77 04            		ld		(iy+4),a
    3204   00:533B  3E 02               		ld		a,2
    3205   00:533D  FD 77 09            		ld		(iy+9),a
    3206   00:5340                      		
    3207   00:5340                      		;		variables grifos balsa
    3208   00:5340                      		
    3209   00:5340  21 8D 01            		ld		hl,397
    3210   00:5343  22 8B C6            		ld		(tile_grifo_balsa_1),hl
    3211   00:5346  21 CF 00            		ld		hl,207
    3212   00:5349  22 8D C6            		ld		(tile_grifo_balsa_2),hl
    3213   00:534C  3E 02               		ld		a,2
    3214   00:534E  32 95 C6            		ld		(pantalla_tile_grifo_balsa_2),a
    3215   00:5351  21 74 01            		ld		hl,372
    3216   00:5354  22 90 C6            		ld		(posicion_balsa_desde_grifo),hl
    3217   00:5357  3E 01               		ld		a,1
    3218   00:5359  32 92 C6            		ld		(balsa_activa),a
    3219   00:535C                      										
    3220   00:535C                      		;		otras variables
    3221   00:535C                      		
    3222   00:535C  21 C2 00            		ld		hl,194
    3223   00:535F  22 6D C6            		ld		(posicion_escalera),hl
    3224   00:5362  21 42 00            		ld		hl,66
    3225   00:5365  22 70 C6            		ld		(limite_escalera),hl
    3226   00:5368  3E 01               		ld		a,1
    3227   00:536A  32 72 C6            		ld		(pantalla_escalera),a
    3228   00:536D  3E 12               		ld		a,18
    3229   00:536F  32 22 C0            		ld		(fase_en_la_que_esta),a
    3230   00:5372  21 1B 01            		ld		hl,283
    3231   00:5375  22 25 C6            		ld		(posicion_puerta),hl
    3232   00:5378  AF                  		xor		a
    3233   00:5379  32 79 C6            		ld		(vision_estado),a
    3234   00:537C  3E 01               		ld		a,1
    3235   00:537E  32 5E C6            		ld		(serp1),a
    3236   00:5381  32 5F C6            		ld		(serp2),a
    3237   00:5384  32 60 C6            		ld		(serp3),a
    3238   00:5387  32 61 C6            		ld		(serp4),a
    3239   00:538A                      							
    3240   00:538A  CD 00 48            		call	define_espera_entre_fases					
    3241   00:538D  CD 94 57            		call	rutina_de_esperar_un_rato
    3242   00:5390                      		
    3243   00:5390  CD 3A 57            		call	activa_musica_fases
    3244   00:5393                      
    3245   00:5393  F3                  		di
    3246   00:5394  CD EC B0            		call	setrompage0
    3247   00:5397                      		
    3248   00:5397  21 13 36            		ld		hl,fase_11_1											;cargamos sanctuary 11 en ram
    3249   00:539A  11 61 C0            		ld		de,buffer_colisiones
    3250   00:539D  CD FE 84            		call	depack
    3251   00:53A0                      		
    3252   00:53A0  21 3D 37            		ld		hl,fase_11_2											;cargamos sanctuary 11 en ram la parte 2
    3253   00:53A3  11 41 C3            		ld		de,buffer_colisiones_2
    3254   00:53A6  CD FE 84            		call	depack
    3255   00:53A9                      		
    3256   00:53A9  CD F1 B0            		call	recbios
    3257   00:53AC  FB                  		ei
    3258   00:53AD                      		
    3259   00:53AD  CD E0 5B            		call	diferencias_en_las_fases
    3260   00:53B0                      		
    3261   00:53B0  CD 21 55            		call	pantalla_en_mas_blanco
    3262   00:53B3                      		
    3263   00:53B3  CD 41 00            		call	DISSCR
    3264   00:53B6                      		
    3265   00:53B6  F3                  		di
    3266   00:53B7  CD EC B0            		call	setrompage0
    3267   00:53BA                      				
    3268   00:53BA  21 86 B6            		ld		hl,paso_negro_izq
    3269   00:53BD  11 20 18            		ld		de,#1820
    3270   00:53C0  CD FC 83            		call	depack_VRAM
    3271   00:53C3                      			
    3272   00:53C3  CD F1 B0            		call	recbios
    3273   00:53C6  FB                  		ei
    3274   00:53C7                      		
    3275   00:53C7  CD 44 00            		call	ENASCR
    3276   00:53CA                      		
    3277   00:53CA  CD B5 57            		call 	gran_rutina												;vamos a la rutina de movimientos general
    3278   00:53CD                      		
    3279   00:53CD  C3 BD 64            		jr.		repite_fase
    3280   00:53D0                      
    3281   00:53D0                      ;bloque_sanctuary_19:
    3282   00:53D0                      		
    3283   00:53D0                      ;		call	pantalla_en_blanco
    3284   00:53D0                      		
    3285   00:53D0                      ;		ld		a,(idioma)												;anunciamos sanctuary 8
    3286   00:53D0                      ;		cp		0
    3287   00:53D0                      ;		jr.		z,bloque_sanctuary_19_esp
    3288   00:53D0                      ;		ld		hl,sanctuary_x
    3289   00:53D0                      ;		jr.		bloque_sanctuary_19_cont
    3290   00:53D0                      
    3291   00:53D0                      ;bloque_sanctuary_19_esp:
    3292   00:53D0                      
    3293   00:53D0                      ;		ld		hl,santuario_x
    3294   00:53D0                      
    3295   00:53D0                      ;bloque_sanctuary_19_cont:
    3296   00:53D0                      
    3297   00:53D0                      ;		call	anunciamos_el_santuario_correspondiente
    3298   00:53D0                      ;		ld		hl,sanctuary_19
    3299   00:53D0                      ;		call	anunciamos_el_santuario_correspondiente_numero
    3300   00:53D0                      ;		
    3301   00:53D0                      ;		call	SPRITES_UNO
    3302   00:53D0                      ;		
    3303   00:53D0                      		;		coordenadas prota
    3304   00:53D0                      
    3305   00:53D0                      ;		ld		a,120													;define variables
    3306   00:53D0                      ;		ld		b,a
    3307   00:53D0                      ;		ld		a,152					
    3308   00:53D0                      ;		call	coordenadas_prota
    3309   00:53D0                      ;		ld		a,24
    3310   00:53D0                      ;		ld		(py),a
    3311   00:53D0                      		
    3312   00:53D0                      ;		call	variables_iguales
    3313   00:53D0                      		
    3314   00:53D0                      		;		coordenadas serpientes
    3315   00:53D0                      		
    3316   00:53D0                      ;		ld		iy,variables_serpiente_1
    3317   00:53D0                      ;		ld		a,120
    3318   00:53D0                      ;		ld		(iy),a
    3319   00:53D0                      ;		ld		a,56
    3320   00:53D0                      ;		ld		(iy+1),a
    3321   00:53D0                      ;		xor	a
    3322   00:53D0                      ;		ld		(iy+2),a
    3323   00:53D0                      ;		ld		a,8
    3324   00:53D0                      ;		ld		(iy+4),a
    3325   00:53D0                      						
    3326   00:53D0                      ;		ld		iy,variables_serpiente_2
    3327   00:53D0                      ;		ld		a,120
    3328   00:53D0                      ;		ld		(iy),a
    3329   00:53D0                      ;		ld		a,88
    3330   00:53D0                      ;		ld		(iy+1),a
    3331   00:53D0                      ;		ld		a,10
    3332   00:53D0                      ;		ld		(iy+4),a
    3333   00:53D0                      						
    3334   00:53D0                      ;		ld		iy,variables_serpiente_3
    3335   00:53D0                      ;		ld		a,120
    3336   00:53D0                      ;		ld		(iy),a
    3337   00:53D0                      ;		ld		a,120
    3338   00:53D0                      ;		ld		(iy+1),a
    3339   00:53D0                      ;		xor		a
    3340   00:53D0                      ;		ld		(iy+2),a
    3341   00:53D0                      		
    3342   00:53D0                      ;		ld		iy,variables_serpiente_4
    3343   00:53D0                      ;		ld		a,120
    3344   00:53D0                      ;		ld		(iy),a
    3345   00:53D0                      ;		ld		a,152
    3346   00:53D0                      ;		ld		(iy+1),a
    3347   00:53D0                      ;		ld		a,12
    3348   00:53D0                      ;		ld		(iy+4),a
    3349   00:53D0                      														
    3350   00:53D0                      		;		otras variables
    3351   00:53D0                      		
    3352   00:53D0                      ;		ld		a,19
    3353   00:53D0                      ;		ld		(fase_en_la_que_esta),a
    3354   00:53D0                      ;		ld		hl,623
    3355   00:53D0                      ;		ld		(posicion_puerta),hl
    3356   00:53D0                      ;		ld		a,1
    3357   00:53D0                      ;		ld		(serp1),a
    3358   00:53D0                      ;		ld		(serp2),a
    3359   00:53D0                      ;		ld		(serp3),a
    3360   00:53D0                      ;		ld		(serp4),a
    3361   00:53D0                      ;		xor		a
    3362   00:53D0                      ;		ld		(vision_estado),a
    3363   00:53D0                      		
    3364   00:53D0                      ;		call	define_espera_entre_fases					
    3365   00:53D0                      ;		call	rutina_de_esperar_un_rato
    3366   00:53D0                      		
    3367   00:53D0                      ;		call	activa_musica_fases
    3368   00:53D0                      
    3369   00:53D0                      ;		di
    3370   00:53D0                      ;		call	setrompage0
    3371   00:53D0                      		
    3372   00:53D0                      ;		ld		hl,fase_17												;cargamos sanctuary 8 en ram
    3373   00:53D0                      ;		ld		de,buffer_colisiones
    3374   00:53D0                      ;		call	depack
    3375   00:53D0                      		
    3376   00:53D0                      ;		call	recbios
    3377   00:53D0                      ;		ei
    3378   00:53D0                      		
    3379   00:53D0                      ;		call	diferencias_en_las_fases
    3380   00:53D0                      		
    3381   00:53D0                      ;		call	pantalla_en_blanco
    3382   00:53D0                      		
    3383   00:53D0                      ;		ld		de,#1881
    3384   00:53D0                      ;		call	pinta_mando_de_luz_en_su_sitio
    3385   00:53D0                      ;
    3386   00:53D0                      ;		call 	gran_rutina												;vamos a la rutina de movimientos general
    3387   00:53D0                      ;		
    3388   00:53D0                      ;		jr.		repite_fase
    3389   00:53D0                      																				
    3390   00:53D0                      FINAL_TEMPLO:
    3391   00:53D0                      		
    3392   00:53D0  3A 16 C0            		ld		a,(nivel)
    3393   00:53D3  B7                  		or		a
    3394   00:53D4  CA A7 54            		jr.		z,FINAL_TEMPLO_NIVEL_1
    3395   00:53D7                      		
    3396   00:53D7  CD A3 57            		call	PREPARACION_SCREEN_2
    3397   00:53DA                      		
    3398   00:53DA  CD 41 00            		call	DISSCR
    3399   00:53DD                      		
    3400   00:53DD  F3                  		di
    3401   00:53DE                      		
    3402   00:53DE  CD EC B0            		call	setrompage0
    3403   00:53E1                      		
    3404   00:53E1  21 7E B1            		ld		hl,TILES_FINAL											;cargamos patrones
    3405   00:53E4  11 00 00            		ld		de,#0000
    3406   00:53E7  CD FC 83            		call	depack_VRAM
    3407   00:53EA                      		
    3408   00:53EA  21 38 B1            		ld		hl,COLOR_FINAL											;cargamos colores de patrones
    3409   00:53ED  11 00 20            		ld		de,#2000
    3410   00:53F0  CD FC 83            		call	depack_VRAM
    3411   00:53F3                      		
    3412   00:53F3  3A 01 C0            		ld		a,(idioma)
    3413   00:53F6  B7                  		or		a
    3414   00:53F7  28 0F               		jr.		z,FINAL_TEMPLO_1
    3415   00:53F9                      				
    3416   00:53F9  21 D6 B9            		ld		hl,FINAL_ING											;carga PANTALLA
    3417   00:53FC  11 00 18            		ld		de,#1800
    3418   00:53FF  CD FC 83            		call	depack_VRAM
    3419   00:5402  CD F1 B0            		call	recbios
    3420   00:5405  FB                  		ei
    3421   00:5406                      		
    3422   00:5406  18 0D               		jr.		FINAL_TEMPLO_CONTINUA
    3423   00:5408                      		
    3424   00:5408                      FINAL_TEMPLO_1:
    3425   00:5408                      		
    3426   00:5408  21 CB BB            		ld		hl,FINAL												;carga PANTALLA
    3427   00:540B  11 00 18            		ld		de,#1800
    3428   00:540E  CD FC 83            		call	depack_VRAM
    3429   00:5411  CD F1 B0            		call	recbios
    3430   00:5414  FB                  		ei
    3431   00:5415                      				
    3432   00:5415                      FINAL_TEMPLO_CONTINUA:
    3433   00:5415                      
    3434   00:5415  CD 44 00            		call	ENASCR
    3435   00:5418                      				
    3436   00:5418  CD 64 57            		call	activa_musica_menu
    3437   00:541B                      		
    3438   00:541B  DD 21 2A C0         		ld		ix,atributos_sprite_general
    3439   00:541F                      
    3440   00:541F                      
    3441   00:541F                      		
    3442   00:541F  3E 9D               		ld		a,157
    3443   00:5421  32 04 C0            		ld		(petisoy),a
    3444   00:5424  3E 55               		ld		a,85
    3445   00:5426  32 03 C0            		ld		(petisox),a
    3446   00:5429  3E 0A               		ld		a,10
    3447   00:542B  32 05 C0            		ld		(espera_petiso),a
    3448   00:542E  32 07 C0            		ld		(espera_petiso_resta_2),a
    3449   00:5431  32 06 C0            		ld		(espera_petiso_resta),a
    3450   00:5434                      		
    3451   00:5434  CD 8B 56            		call	SPRITES_PETISOS
    3452   00:5437  CD 97 56            		call	SPRITES_OJOS
    3453   00:543A                      		
    3454   00:543A  AF                  		xor		a
    3455   00:543B  32 19 C0            		ld		(CLOCK),a
    3456   00:543E                      		
    3457   00:543E                      animacion_final:
    3458   00:543E                      		
    3459   00:543E  3A 19 C0            		ld		a,(CLOCK)
    3460   00:5441  B7                  		or		a
    3461   00:5442  28 2A               		jr.		z,animacion_final_cont
    3462   00:5444                      		
    3463   00:5444  AF                  		xor		a
    3464   00:5445  32 19 C0            		ld		(CLOCK),a
    3465   00:5448                      		
    3466   00:5448  3E 70               		ld		a,112
    3467   00:544A  DD 77 10            		ld		(ix+16),a
    3468   00:544D  DD 77 14            		ld		(ix+20),a
    3469   00:5450  3E 30               		ld		a,48
    3470   00:5452  DD 77 11            		ld		(ix+17),a
    3471   00:5455  3E 40               		ld		a,64
    3472   00:5457  DD 77 15            		ld		(ix+21),a
    3473   00:545A  3E 40               		ld		a,16*4
    3474   00:545C  DD 77 12            		ld		(ix+18),a
    3475   00:545F  C6 0C               		add		12
    3476   00:5461  DD 77 16            		ld		(ix+22),a
    3477   00:5464  3E 08               		ld		a,8
    3478   00:5466  DD 77 13            		ld		(ix+19),a
    3479   00:5469  DD 77 17            		ld		(ix+23),a
    3480   00:546C                      		
    3481   00:546C  18 0F               		jr.		animacion_final_recont
    3482   00:546E                      		
    3483   00:546E                      animacion_final_cont:
    3484   00:546E                      		
    3485   00:546E  3E 01               		ld		a,1
    3486   00:5470  32 19 C0            		ld		(CLOCK),a
    3487   00:5473                      		
    3488   00:5473  3E 44               		ld		a,17*4
    3489   00:5475  DD 77 12            		ld		(ix+18),a
    3490   00:5478  C6 04               		add		4
    3491   00:547A  DD 77 16            		ld		(ix+22),a
    3492   00:547D                      		
    3493   00:547D                      animacion_final_recont:
    3494   00:547D                      		
    3495   00:547D  CD C6 68            		call	atributos_sprites	
    3496   00:5480  CD 3E 41            		call	petiso_activity	
    3497   00:5483                      		
    3498   00:5483                      		
    3499   00:5483  01 60 EA            		ld		bc,60000
    3500   00:5486  ED 43 17 C0         		ld		(clock),bc
    3501   00:548A                      		
    3502   00:548A                      animacion_final_1:
    3503   00:548A                      
    3504   00:548A  3A 17 C0            		ld		a,(clock)
    3505   00:548D  3D                  		dec		a
    3506   00:548E  32 17 C0            		ld		(clock),a
    3507   00:5491  B7                  		or		a
    3508   00:5492  20 F6               		jr.		nz,animacion_final_1
    3509   00:5494                      								
    3510   00:5494  AF                  		xor		a
    3511   00:5495  CD D8 00            		CALL	ONSTRIG
    3512   00:5498  B7                  		or		a
    3513   00:5499  C2 94 42            		jr.		nz,MENU
    3514   00:549C                      		
    3515   00:549C  3E 01               		ld		a,1
    3516   00:549E  CD D8 00            		CALL	ONSTRIG
    3517   00:54A1  B7                  		or		a
    3518   00:54A2  28 9A               		jr.		z,animacion_final
    3519   00:54A4                      			
    3520   00:54A4  C3 94 42            		jr.		MENU
    3521   00:54A7                      
    3522   00:54A7                      FINAL_TEMPLO_NIVEL_1:
    3523   00:54A7                      			
    3524   00:54A7  CD A6 45            		call	limpia_sprites
    3525   00:54AA  CD 32 55            		call	pantalla_en_blanco
    3526   00:54AD  CD 64 57            		call	activa_musica_menu
    3527   00:54B0                      		
    3528   00:54B0                      			
    3529   00:54B0  3A 01 C0            		ld		a,(idioma)
    3530   00:54B3  B7                  		or		a
    3531   00:54B4  28 26               		jr.		z,FINAL_TEMPLO_NIVEL_1_ESP
    3532   00:54B6                      
    3533   00:54B6  21 E6 95            		ld		hl,end_level_1_1
    3534   00:54B9  11 24 19            		ld		de,#1924
    3535   00:54BC  01 19 00            		ld		bc,25
    3536   00:54BF  CD 5C 00            		call	GRABAVRAM
    3537   00:54C2                      		
    3538   00:54C2  21 FF 95            		ld		hl,end_level_1_2
    3539   00:54C5  11 63 19            		ld		de,#1963
    3540   00:54C8  01 1A 00            		ld		bc,26
    3541   00:54CB  CD 5C 00            		call	GRABAVRAM
    3542   00:54CE                      		
    3543   00:54CE  21 19 96            		ld		hl,end_level_1_3
    3544   00:54D1  11 A9 19            		ld		de,#19a9
    3545   00:54D4  01 0E 00            		ld		bc,14
    3546   00:54D7  CD 5C 00            		call	GRABAVRAM
    3547   00:54DA                      		
    3548   00:54DA  18 24               		jr.		FINAL_TEMPLO_NIVEL_1_CONTINUA
    3549   00:54DC                      		
    3550   00:54DC                      FINAL_TEMPLO_NIVEL_1_ESP:
    3551   00:54DC                      		
    3552   00:54DC  21 9F 95            		ld		hl,fin_nivel_1_1
    3553   00:54DF  11 22 19            		ld		de,#1922
    3554   00:54E2  01 1D 00            		ld		bc,29
    3555   00:54E5  CD 5C 00            		call	GRABAVRAM
    3556   00:54E8                      		
    3557   00:54E8  21 BC 95            		ld		hl,fin_nivel_1_2
    3558   00:54EB  11 63 19            		ld		de,#1963
    3559   00:54EE  01 1A 00            		ld		bc,26
    3560   00:54F1  CD 5C 00            		call	GRABAVRAM
    3561   00:54F4                      		
    3562   00:54F4  21 D6 95            		ld		hl,fin_nivel_1_3
    3563   00:54F7  11 A8 19            		ld		de,#19a8
    3564   00:54FA  01 10 00            		ld		bc,16
    3565   00:54FD  CD 5C 00            		call	GRABAVRAM
    3566   00:5500                      				
    3567   00:5500                      FINAL_TEMPLO_NIVEL_1_CONTINUA:		
    3568   00:5500                      				
    3569   00:5500  AF                  		xor		a
    3570   00:5501  CD D8 00            		CALL	ONSTRIG
    3571   00:5504  B7                  		or		a
    3572   00:5505  C2 94 42            		jr.		nz,MENU
    3573   00:5508                      		
    3574   00:5508  3E 01               		ld		a,1
    3575   00:550A  CD D8 00            		CALL	ONSTRIG
    3576   00:550D  B7                  		or		a
    3577   00:550E  28 F0               		jr.		z,FINAL_TEMPLO_NIVEL_1_CONTINUA
    3578   00:5510                      		
    3579   00:5510  C3 94 42            		jr.		MENU
    3580   00:5513                      
    3581   00:5513                      pinta_mando_de_luz_en_su_sitio:
    3582   00:5513                      
    3583   00:5513  3E 5D               		ld		a,93
    3584   00:5515  32 EE EE            		ld		[#eeee],a
    3585   00:5518  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    3586   00:551B  01 01 00            		ld		bc,1
    3587   00:551E  C3 5C 00            		jr.		GRABAVRAM
    3588   00:5521                      
    3589   00:5521                      pantalla_en_mas_blanco:
    3590   00:5521                      		
    3591   00:5521  CD 41 00            		call	DISSCR
    3592   00:5524                      		
    3593   00:5524  F3                  		di
    3594   00:5525  21 B8 96            		ld		hl,mas_blanco											;tiles de base de pantalla
    3595   00:5528  11 20 18            		ld		de,#1820
    3596   00:552B  CD FC 83            		call	depack_VRAM
    3597   00:552E                      				
    3598   00:552E  FB                  		ei
    3599   00:552F                      		
    3600   00:552F  C3 44 00            		jp		ENASCR
    3601   00:5532                      				
    3602   00:5532                      pantalla_en_blanco:
    3603   00:5532                      		
    3604   00:5532  CD 41 00            		call	DISSCR
    3605   00:5535                      		
    3606   00:5535  F3                  		di
    3607   00:5536  21 3F 96            		ld		hl,blanco												;tiles de base de pantalla
    3608   00:5539  11 20 18            		ld		de,#1820
    3609   00:553C  CD FC 83            		call	depack_VRAM
    3610   00:553F                      		
    3611   00:553F                      		
    3612   00:553F  21 27 97            		ld		hl,trofeos												;carga objetos
    3613   00:5542  11 18 18            		ld		de,#1818
    3614   00:5545  CD FC 83            		call	depack_VRAM
    3615   00:5548                      		
    3616   00:5548  FB                  		ei
    3617   00:5549                      		
    3618   00:5549  C3 44 00            		jp		ENASCR
    3619   00:554C                      
    3620   00:554C                      copiamos_en_pantalla_lo_de_memoria:
    3621   00:554C  3A 21 C6            		ld		a,(pantalla_activa)
    3622   00:554F  FE 01               		cp		1
    3623   00:5551  20 05               		jr.		nz,copiamos_en_pantalla_lo_de_memoria_2
    3624   00:5553                      		
    3625   00:5553  21 61 C0            		ld		hl,buffer_colisiones									;copia en vram para que lo vea el jugador
    3626   00:5556  18 03               		jr.		copiamos_en_pantalla_lo_de_memoria_tras_buffer
    3627   00:5558                      		
    3628   00:5558                      copiamos_en_pantalla_lo_de_memoria_2:
    3629   00:5558                      
    3630   00:5558  21 41 C3            		ld		hl,buffer_colisiones_2
    3631   00:555B                      		
    3632   00:555B                      copiamos_en_pantalla_lo_de_memoria_tras_buffer:
    3633   00:555B                      
    3634   00:555B  11 20 18            		ld		de,#1820
    3635   00:555E  01 E0 02            		ld		bc,736
    3636   00:5561  C3 5C 00            		jr.		GRABAVRAM
    3637   00:5564                      
    3638   00:5564                      anunciamos_el_santuario_correspondiente:
    3639   00:5564                      
    3640   00:5564  11 8A 19            		ld		de,#198a
    3641   00:5567  01 0A 00            		ld		bc,10
    3642   00:556A  C3 5C 00            		jr.		GRABAVRAM
    3643   00:556D                      
    3644   00:556D                      anunciamos_el_santuario_correspondiente_numero:
    3645   00:556D                      
    3646   00:556D  11 94 19            		ld		de,#1994
    3647   00:5570  01 02 00            		ld		bc,2
    3648   00:5573  CD 5C 00            		call	GRABAVRAM
    3649   00:5576  C3 52 7D            		jr.		rutina_pone_consejo
    3650   00:5579                      				
    3651   00:5579                      variables_iguales:
    3652   00:5579                      
    3653   00:5579  3E 02               		ld		a,2
    3654   00:557B  32 1F C0            		ld		(color_prota),a
    3655   00:557E  3E 01               		ld		a,1
    3656   00:5580  32 20 C0            		ld		(color_lineas_prota),a
    3657   00:5583  32 21 C0            		ld		(muerto),a
    3658   00:5586  32 77 C6            		ld		(grifo_estado),a
    3659   00:5589  32 79 C6            		ld		(vision_estado),a
    3660   00:558C  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    3661   00:558F  32 21 C6            		ld		(pantalla_activa),a
    3662   00:5592                      
    3663   00:5592  AF                  		xor		a
    3664   00:5593  32 23 C0            		ld		(estado_prota),a
    3665   00:5596  32 63 C6            		ld		(pasamos_la_fase),a
    3666   00:5599  32 24 C6            		ld		(gasolina),a
    3667   00:559C  32 23 C6            		ld		(mechero),a
    3668   00:559F  32 28 C6            		ld		(ya_ha_cambiado_puerta),a
    3669   00:55A2  32 5A C0            		ld		(tiene_objeto),a
    3670   00:55A5  32 26 C0            		ld		(pasos_de_salto),a
    3671   00:55A8  32 22 C6            		ld		(estado_de_salto),a
    3672   00:55AB  32 64 C6            		ld		(momento_lanzamiento),a
    3673   00:55AE  32 6C C6            		ld		(escalera_activada),a
    3674   00:55B1  32 5E C6            		ld		(serp1),a
    3675   00:55B4  32 5F C6            		ld		(serp2),a
    3676   00:55B7  32 60 C6            		ld		(serp3),a
    3677   00:55BA  32 61 C6            		ld		(serp4),a
    3678   00:55BD  32 7B C6            		ld		(bombero_1),a
    3679   00:55C0  32 7A C6            		ld		(colision_bombero_prota_real),a
    3680   00:55C3  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    3681   00:55C6  32 24 C0            		ld		(prev_dir_prota),a
    3682   00:55C9  32 27 C0            		ld		(dir_prota),a
    3683   00:55CC  32 5F C0            		ld		(estado_de_explosion),a
    3684   00:55CF  32 29 C0            		ld		(retard_anim),a
    3685   00:55D2  32 92 C6            		ld		(balsa_activa),a
    3686   00:55D5  32 89 C6            		ld		(toca_bombero),a
    3687   00:55D8  32 2A C6            		ld		(tile_a_poner_agua),a
    3688   00:55DB  32 5F C0            		ld		(estado_de_explosion),a
    3689   00:55DE  32 60 C0            		ld		(contador_retardo_explosion),a
    3690   00:55E1                      		
    3691   00:55E1  3E 01               		ld		a,1
    3692   00:55E3  32 27 C6            		ld		(pantalla_puerta),a
    3693   00:55E6  32 72 C6            		ld		(pantalla_escalera),a
    3694   00:55E9  32 8F C6            		ld		(grifos_balsa_cerrados),a
    3695   00:55EC  32 93 C6            		ld		(balsa_bacia),a
    3696   00:55EF  32 94 C6            		ld		(pantalla_tile_grifo_balsa_1),a
    3697   00:55F2  32 95 C6            		ld		(pantalla_tile_grifo_balsa_2),a
    3698   00:55F5  32 96 C6            		ld		(pantalla_balsa),a
    3699   00:55F8  32 79 C6            		ld		(vision_estado),a
    3700   00:55FB  32 17 C0            		ld		(clock),a		
    3701   00:55FE  32 69 C6            		ld		(dir_cuchillo),a
    3702   00:5601  32 6A C6            		ld		(cx),a
    3703   00:5604  32 6B C6            		ld		(cy),a
    3704   00:5607                      		
    3705   00:5607                      		; serpientes
    3706   00:5607                      		
    3707   00:5607  FD 21 35 C6         		ld		iy,variables_serpiente_1
    3708   00:560B  CD 6B 56            		call	variables_serpientes		
    3709   00:560E  FD 21 3F C6         		ld		iy,variables_serpiente_2		
    3710   00:5612  CD 6B 56            		call	variables_serpientes
    3711   00:5615  FD 21 49 C6         		ld		iy,variables_serpiente_3		
    3712   00:5619  CD 6B 56            		call	variables_serpientes
    3713   00:561C  FD 21 53 C6         		ld		iy,variables_serpiente_4		
    3714   00:5620  CD 6B 56            		call	variables_serpientes
    3715   00:5623                      		
    3716   00:5623                      		; variables bombero_1
    3717   00:5623                      		
    3718   00:5623                      		;		coordenadas bombero
    3719   00:5623                      		
    3720   00:5623  FD 21 7C C6         		ld		iy,bombero_control
    3721   00:5627  3E 02               		ld		a,2
    3722   00:5629  FD 77 02            		ld		(iy+2),a
    3723   00:562C  3E 96               		ld		a,150
    3724   00:562E  FD 77 03            		ld		(iy+3),a
    3725   00:5631  3E 0A               		ld		a,10
    3726   00:5633  FD 77 04            		ld		(iy+4),a
    3727   00:5636  AF                  		xor		a
    3728   00:5637  FD 77 05            		ld		(iy+5),a
    3729   00:563A  FD 77 06            		ld		(iy+6),a
    3730   00:563D  FD 77 07            		ld		(iy+7),a
    3731   00:5640  FD 77 0A            		ld		(iy+10),a
    3732   00:5643  3E 14               		ld		a,20
    3733   00:5645  FD 77 08            		ld		(iy+8),a
    3734   00:5648  3E 01               		ld		a,1
    3735   00:564A  FD 77 00            		ld		(iy),a
    3736   00:564D  FD 77 01            		ld		(iy+1),a
    3737   00:5650  FD 77 09            		ld		(iy+9),a
    3738   00:5653  3E 01               		ld		a,1
    3739   00:5655  FD 77 0C            		ld		(iy+12),a
    3740   00:5658                      		
    3741   00:5658  3E 05               		ld		a,5
    3742   00:565A  32 62 C6            		ld		(cont_no_salta_dos_seguidas),a
    3743   00:565D  32 66 C6            		ld		(contador_poses_lanzar),a
    3744   00:5660  3E 32               		ld		a,50
    3745   00:5662  32 6F C6            		ld		(contador_escalera),a
    3746   00:5665  3E 03               		ld		a,3
    3747   00:5667  32 8A C6            		ld		(velocidad_paseo_fases),a
    3748   00:566A                      				
    3749   00:566A  C9                  		ret
    3750   00:566B                      
    3751   00:566B                      variables_serpientes:
    3752   00:566B                      
    3753   00:566B  3E 01               		ld		a,1
    3754   00:566D  FD 77 02            		ld		(iy+2),a
    3755   00:5670  FD 77 07            		ld		(iy+7),a
    3756   00:5673  FD 77 09            		ld		(iy+9),a
    3757   00:5676  AF                  		xor		a
    3758   00:5677  FD 77 03            		ld		(iy+3),a
    3759   00:567A  FD 77 06            		ld		(iy+6),a
    3760   00:567D  3E 0E               		ld		a,14
    3761   00:567F  FD 77 04            		ld		(iy+4),a
    3762   00:5682  FD 77 05            		ld		(iy+5),a	
    3763   00:5685  3E FF               		ld		a,255
    3764   00:5687  FD 77 08            		ld		(iy+8),a
    3765   00:568A                      		
    3766   00:568A  C9                  		ret
    3767   00:568B                      		
    3768   00:568B                      SPRITES_PETISOS:
    3769   00:568B                      
    3770   00:568B  21 F5 A5            		ld		hl,sprites_pet											;cargamos petisos
    3771   00:568E  11 00 38            		ld		de,#3800
    3772   00:5691  01 E0 02            		ld		bc,736
    3773   00:5694  C3 5C 00            		jp		GRABAVRAM
    3774   00:5697                      
    3775   00:5697                      ;SPRITES_ONIRIC:
    3776   00:5697                      
    3777   00:5697                      ;		ld		hl,sprites_oniric										;cargamos petisos
    3778   00:5697                      ;		ld		de,#3800
    3779   00:5697                      ;		ld		bc,128
    3780   00:5697                      ;		call	GRABAVRAM
    3781   00:5697                      		
    3782   00:5697                      ;		ret
    3783   00:5697                      SPRITES_OJOS:
    3784   00:5697                      		
    3785   00:5697  21 D5 AB            		ld		hl,sprites_ojos											;cargamos OJOS
    3786   00:569A  11 00 3A            		ld		de,#3A00
    3787   00:569D  01 80 00            		ld		bc,128
    3788   00:56A0  C3 5C 00            		jp		GRABAVRAM
    3789   00:56A3                      				
    3790   00:56A3                      SPRITES_UNO:
    3791   00:56A3                      
    3792   00:56A3  21 35 97            		ld		hl,sprites												;carga sprites general
    3793   00:56A6  11 00 38            		ld		de,#3800
    3794   00:56A9  01 20 07            		ld		bc,1824
    3795   00:56AC  CD 5C 00            		call	GRABAVRAM
    3796   00:56AF                      		
    3797   00:56AF  3A 01 C0            		ld		a,(idioma)
    3798   00:56B2  B7                  		or		a
    3799   00:56B3  C0                  		ret		nz
    3800   00:56B4                      		
    3801   00:56B4  21 B5 AA            		ld		hl,quemado_esp											;carga sprites quemado en castellano
    3802   00:56B7  11 60 3E            		ld		de,#3e60
    3803   00:56BA  01 60 00            		ld		bc,96
    3804   00:56BD  C3 5C 00            		jp		GRABAVRAM
    3805   00:56C0                      
    3806   00:56C0                      SPRITES_DOS:
    3807   00:56C0                      
    3808   00:56C0  21 55 9E            		ld		hl,sprites2												;cargamos sprites bombero parte 1
    3809   00:56C3  11 20 3B            		ld		de,#3b20
    3810   00:56C6  01 00 01            		ld		bc,256
    3811   00:56C9  CD 5C 00            		call	GRABAVRAM
    3812   00:56CC                      
    3813   00:56CC  21 55 9F            		ld		hl,sprites3												;cargamos sprites bombero parte 2
    3814   00:56CF  11 A0 3D            		ld		de,#3da0
    3815   00:56D2  01 20 01            		ld		bc,288
    3816   00:56D5  CD 5C 00            		call	GRABAVRAM
    3817   00:56D8                      		
    3818   00:56D8  21 75 A0            		ld		hl,sprites4												;cargamos sprites bombero parte 3
    3819   00:56DB  11 E0 3E            		ld		de,#3ee0
    3820   00:56DE  01 00 01            		ld		bc,256
    3821   00:56E1  C3 5C 00            		jp		GRABAVRAM
    3822   00:56E4                      				
    3823   00:56E4                      SPRITES_PAUSA:
    3824   00:56E4                      
    3825   00:56E4  21 15 AB            		ld		hl,pausa_sprit											;cargamos sprites de pausa			
    3826   00:56E7  11 00 38            		ld		de,#3800
    3827   00:56EA  01 C0 00            		ld		bc,192
    3828   00:56ED  C3 5C 00            		jp		GRABAVRAM
    3829   00:56F0                      						
    3830   00:56F0                      SPRITES_BOMBA:
    3831   00:56F0                      
    3832   00:56F0  21 75 A1            		ld		hl,sprites5												;cargamos sprites de bomba			
    3833   00:56F3  11 00 38            		ld		de,#3800
    3834   00:56F6  01 40 02            		ld		bc,576
    3835   00:56F9  C3 5C 00            		jp		GRABAVRAM
    3836   00:56FC                      						
    3837   00:56FC                      SPRITES_CUCHILLO:
    3838   00:56FC                      
    3839   00:56FC  21 B5 A3            		ld		hl,sprites9												;cargamos sprites de cuchillo
    3840   00:56FF  11 00 38            		ld		de,#3800
    3841   00:5702  01 40 02            		ld		bc,576
    3842   00:5705  C3 5C 00            		jp		GRABAVRAM
    3843   00:5708                      		
    3844   00:5708                      SPRITES_PROTA_NORMAL:
    3845   00:5708                      		
    3846   00:5708  21 35 97            		ld		hl,sprites13											;volvemos a sprites normales
    3847   00:570B  11 00 38            		ld		de,#3800
    3848   00:570E  01 40 02            		ld		bc,576
    3849   00:5711  C3 5C 00            		jp		GRABAVRAM
    3850   00:5714                      			
    3851   00:5714                      SPRITES_BOMBERO_PERSIGUE:
    3852   00:5714                      		
    3853   00:5714  21 D5 A8            		ld		hl,sprites_bomb_a										;volvemos a sprites normales
    3854   00:5717  11 00 38            		ld		de,#3800
    3855   00:571A  01 40 02            		ld		bc,576
    3856   00:571D  C3 5C 00            		jp		GRABAVRAM
    3857   00:5720                      								
    3858   00:5720                      string_de_espera:
    3859   00:5720                      
    3860   00:5720  AF                  		xor		a
    3861   00:5721  CD D8 00            		CALL	ONSTRIG
    3862   00:5724  B7                  		or		a
    3863   00:5725  C0                  		ret		nz
    3864   00:5726                      		
    3865   00:5726  3E 01               		ld		a,1
    3866   00:5728  CD D8 00            		CALL	ONSTRIG
    3867   00:572B  B7                  		or		a
    3868   00:572C  28 F2               		jr.		z,string_de_espera
    3869   00:572E                      		
    3870   00:572E  C9                  		ret
    3871   00:572F                      
    3872   00:572F                      activa_mute:
    3873   00:572F                      	
    3874   00:572F  F3                  		di
    3875   00:5730                      		
    3876   00:5730  21 BA C7            		ld		hl,MUTE-99												;SILENCIA LA MUSICA
    3877   00:5733  CD CF 85            		call	PT3_INIT
    3878   00:5736                      		
    3879   00:5736  FB                  		ei
    3880   00:5737                      		
    3881   00:5737  C3 A6 65            		jr. 	musica_con_bucle
    3882   00:573A                      		
    3883   00:573A                      activa_musica_fases:
    3884   00:573A                      				
    3885   00:573A  CD 2F 57            		call	activa_mute
    3886   00:573D                      		
    3887   00:573D  3A 78 C6            		ld		a,(ESTADO_MUSICA)
    3888   00:5740  FE 02               		CP		2		
    3889   00:5742  28 20               		jr.		z,activa_musica_menu
    3890   00:5744                      			
    3891   00:5744  3A 78 C6            		ld		A,(ESTADO_MUSICA)
    3892   00:5747  FE 00               		cp		0
    3893   00:5749  C8                  		ret		z
    3894   00:574A                      	
    3895   00:574A  F3                  		di
    3896   00:574B                      		
    3897   00:574B  CD EC B0            		call	setrompage0												;con la pagina 0 de la rom pisamos la bios
    3898   00:574E                      		
    3899   00:574E  21 BC 08            		ld		hl,MUSICA_FASES											;descomprime musica de inicio
    3900   00:5751  11 73 D3            		ld		de,GEN_MUSIC
    3901   00:5754  CD FE 84            		call	depack
    3902   00:5757                      		
    3903   00:5757  CD F1 B0            		call	recbios
    3904   00:575A                      		
    3905   00:575A  21 10 D3            		ld		hl,GEN_MUSIC-99											;SILENCIA LA MUSICA
    3906   00:575D  CD CF 85            		call	PT3_INIT
    3907   00:5760                      		
    3908   00:5760  FB                  		ei
    3909   00:5761                      		
    3910   00:5761  C3 A6 65            		jr.		musica_con_bucle
    3911   00:5764                      
    3912   00:5764                      activa_musica_menu:
    3913   00:5764                      			
    3914   00:5764  F3                  		di
    3915   00:5765                      		
    3916   00:5765  CD EC B0            		call	setrompage0												;con la pagina 0 de la rom pisamos la bios
    3917   00:5768                      		
    3918   00:5768  21 2D 02            		ld		hl,CANCION												;descomprime musica de inicio
    3919   00:576B  11 73 D3            		ld		de,GEN_MUSIC
    3920   00:576E  CD FE 84            		call	depack
    3921   00:5771                      		
    3922   00:5771  CD F1 B0            		call	recbios
    3923   00:5774                      		
    3924   00:5774  21 10 D3            		ld		hl,GEN_MUSIC-99											;SILENCIA LA MUSICA
    3925   00:5777  CD CF 85            		call	PT3_INIT
    3926   00:577A                      		
    3927   00:577A  FB                  		ei
    3928   00:577B                      		
    3929   00:577B  C3 A6 65            		jr.		musica_con_bucle
    3930   00:577E                      		
    3931   00:577E                      activa_musica_muerto:
    3932   00:577E                      	
    3933   00:577E  F3                  		di
    3934   00:577F                      		
    3935   00:577F  21 2F C8            		ld		hl,MUERTO-99											;MUSICA DE MUERTE
    3936   00:5782  CD CF 85            		call	PT3_INIT
    3937   00:5785                      		
    3938   00:5785  FB                  		ei
    3939   00:5786                      		
    3940   00:5786  C3 9B 65            		jr.		musica_sin_bucle
    3941   00:5789                      
    3942   00:5789                      activa_musica_entre_fases:
    3943   00:5789                      	
    3944   00:5789  F3                  		di
    3945   00:578A                      		
    3946   00:578A  21 A5 C9            		ld		hl,ENTRE_FASES-99										;MUSICA ENTRE FASES
    3947   00:578D  CD CF 85            		call	PT3_INIT
    3948   00:5790                      		
    3949   00:5790  FB                  		ei
    3950   00:5791                      		
    3951   00:5791  C3 9B 65            		jr.		musica_sin_bucle
    3952   00:5794                      
    3953   00:5794                      rutina_de_esperar_un_rato:
    3954   00:5794                      
    3955   00:5794  76                  		halt
    3956   00:5795  2A 17 C0            		ld		hl,(clock)
    3957   00:5798  01 01 00            		ld		bc,1		
    3958   00:579B  ED 42               		sbc		hl,bc
    3959   00:579D  22 17 C0            		ld		(clock),hl
    3960   00:57A0  20 F2               		jr		nz,rutina_de_esperar_un_rato
    3961   00:57A2                      		
    3962   00:57A2  C9                  		ret
    3963   00:57A3                      
    3964   00:57A3                      PREPARACION_SCREEN_2:
    3965   00:57A3                      
    3966   00:57A3  3E 02               		ld		a,2
    3967   00:57A5  CD 5F 00            		call	SCREENX
    3968   00:57A8  3A E0 F3            		ld		a,(RG1SAV)
    3969   00:57AB  F6 02               		or		00000010b												;modo sprites a 16x16
    3970   00:57AD  E6 FE               		and		11111110b												;modo sprites no ampliados
    3971   00:57AF  47                  		ld		b,a
    3972   00:57B0  0E 01               		ld		c,1
    3973   00:57B2  C3 47 00            		jp		WRTVDP													;lo escribe en el registro 1 del VDP
    3974   00:57B5                      			
    3975   00:57B5                      gran_rutina:
    3976   00:57B5                      						
    3977   00:57B5  76                  		halt
    3978   00:57B6                      																		;espera a la interrupcion vblank y sincroniza toda la acción
    3979   00:57B6  CD C6 68            		call	atributos_sprites
    3980   00:57B9  CD C6 6D            		call	actualiza_atributos_sprite		
    3981   00:57BC  CD 28 7A            		call	comprueba_estado_de_explosion
    3982   00:57BF  CD 1F 5F            		call	que_pinto_de_la_balsa
    3983   00:57C2  CD 0F 5B            		call	tiles_cambiantes
    3984   00:57C5                      		
    3985   00:57C5  CD 6E 63            		call	pulsa_una_tecla
    3986   00:57C8  CD 15 58            		call	ous
    3987   00:57CB                      		
    3988   00:57CB  CD DB 62            		call	revisa_escalera
    3989   00:57CE  CD E5 5F            		call	revisa_bombero
    3990   00:57D1  CD C0 5E            		call	grifo_bombero
    3991   00:57D4  CD F5 5D            		call	grifos_balsa_bombero
    3992   00:57D7                      		
    3993   00:57D7  CD D2 68            		call	estado_en_que_se_encuentra
    3994   00:57DA  CD B0 6F            		call	apaga_los_chorros
    3995   00:57DD  CD 14 5D            		call	movimiento_forzado_en_puertas
    3996   00:57E0  CD F0 5C            		call	vigila_si_cierra_puertas
    3997   00:57E3  CD E7 69            		call	mueve_prota
    3998   00:57E6  CD E3 6E            		call	usa_objeto_o_salta
    3999   00:57E9  CD 5C 76            		call	rutina_cuchillo_volador
    4000   00:57EC  CD 24 71            		call	coge_algun_objeto
    4001   00:57EF  CD C9 6E            		call	pose_si_esta_parado
    4002   00:57F2                      		
    4003   00:57F2                      		
    4004   00:57F2  CD B1 65            		call	colision_bombero_prota
    4005   00:57F5  CD D5 67            		call	colisiones_serpientes_cuchillos
    4006   00:57F8  CD 3B 66            		call	colisiones_serpientes_prota_1
    4007   00:57FB  CD 2B 80            		call	movimiento_serpientes
    4008   00:57FE  CD 49 79            		call	actualiza_la_puerta
    4009   00:5801  CD 7D 7A            		call	puntuacion_vidas_fase
    4010   00:5804                      				
    4011   00:5804  3A 63 C6            		ld		a,(pasamos_la_fase)
    4012   00:5807  B7                  		or		a
    4013   00:5808  C2 A7 7C            		jr.		nz,animacion_entre_fases
    4014   00:580B                      		
    4015   00:580B  3A 21 C0            		ld		a,(muerto)
    4016   00:580E  B7                  		or		a
    4017   00:580F  CA BD 64            		jr.		z,repite_fase
    4018   00:5812                      		
    4019   00:5812  C3 B5 57            		jp		gran_rutina
    4020   00:5815                      
    4021   00:5815                      ous:
    4022   00:5815                      		
    4023   00:5815  3A 73 C6            		ld		a,(OUS_ACTIU)
    4024   00:5818  B7                  		or		a
    4025   00:5819  CA AC 58            		jr.		z,ous_inici
    4026   00:581C  FE 01               		cp		1
    4027   00:581E  CA D2 58            		jr.		z,ous_1_2
    4028   00:5821  FE 02               		cp		2
    4029   00:5823  CA DD 58            		jr.		z,ous_1_3
    4030   00:5826  FE 03               		cp		3
    4031   00:5828  CA E8 58            		jr.		z,ous_1_4
    4032   00:582B  FE 04               		cp		4
    4033   00:582D  CA F3 58            		jr.		z,ous_1_5
    4034   00:5830  FE 05               		cp		5
    4035   00:5832  CA FE 58            		jr.		z,ous_1_6
    4036   00:5835  FE 06               		cp		6
    4037   00:5837  CA 09 59            		jr.		z,ous_1_7
    4038   00:583A  FE 07               		cp		7
    4039   00:583C  CA 14 59            		jr.		z,ous_1_8
    4040   00:583F  FE 0A               		cp		10
    4041   00:5841  CA 09 59            		jr.		z,ous_1_7
    4042   00:5844  FE 0B               		cp		11
    4043   00:5846  CA 31 59            		jr.		z,ous_2_3
    4044   00:5849  FE 0C               		cp		12
    4045   00:584B  CA 3B 59            		jr.		z,ous_2_4
    4046   00:584E  FE 0D               		cp		13
    4047   00:5850  CA D2 58            		jr.		z,ous_1_2
    4048   00:5853  FE 0E               		cp		14
    4049   00:5855  CA 45 59            		jr.		z,ous_2_6
    4050   00:5858  FE 0F               		cp		15
    4051   00:585A  CA 4F 59            		jr.		z,ous_2_7
    4052   00:585D  FE 11               		cp		17
    4053   00:585F  CA 5A 59            		jr.		z,ous_3_2
    4054   00:5862  FE 12               		cp		18
    4055   00:5864  CA 64 59            		jr.		z,ous_3_3
    4056   00:5867  FE 13               		cp		19
    4057   00:5869  CA 09 59            		jr.		z,ous_1_7
    4058   00:586C  FE 14               		cp		20
    4059   00:586E  CA 64 59            		jr.		z,ous_3_3
    4060   00:5871  FE 15               		cp		21
    4061   00:5873  CA 6E 59            		jr.		z,ous_3_6
    4062   00:5876  FE 16               		cp		22
    4063   00:5878  CA 78 59            		jr.		z,ous_3_7
    4064   00:587B  FE 17               		cp		23
    4065   00:587D  CA 82 59            		jr.		z,ous_3_8
    4066   00:5880  FE 19               		cp		25
    4067   00:5882  CA 78 59            		jr.		z,ous_3_7
    4068   00:5885  FE 1A               		cp		26
    4069   00:5887  CA 6E 59            		jr.		z,ous_3_6
    4070   00:588A  FE 1B               		cp		27
    4071   00:588C  CA 8C 59            		jr.		z,ous_4_4
    4072   00:588F  FE 1C               		cp		28
    4073   00:5891  CA 96 59            		jr.		z,ous_4_5
    4074   00:5894  FE 1D               		cp		29
    4075   00:5896  28 45               		jr.		z,ous_1_3
    4076   00:5898  FE 1E               		cp		30
    4077   00:589A  CA 78 59            		jr.		z,ous_3_7
    4078   00:589D  FE 1F               		cp		31
    4079   00:589F  CA 8C 59            		jr.		z,ous_4_4
    4080   00:58A2  FE 20               		cp		32
    4081   00:58A4  28 58               		jr.		z,ous_1_6
    4082   00:58A6  FE 21               		cp		33
    4083   00:58A8  CA A0 59            		jr.		z,ous_4_10
    4084   00:58AB                      		
    4085   00:58AB  C9                  		ret
    4086   00:58AC                      		
    4087   00:58AC                      ous_inici:
    4088   00:58AC                      		
    4089   00:58AC  3E 05               		ld		a,5
    4090   00:58AE  CD 41 01            		call	SNSMAT
    4091   00:58B1  CB 47               		bit		0,a
    4092   00:58B3  CA AA 59            		jr.		z,aumenta_ou
    4093   00:58B6                      		
    4094   00:58B6  3E 05               		ld		a,5
    4095   00:58B8  CD 41 01            		call	SNSMAT
    4096   00:58BB  CB 4F               		bit		1,a
    4097   00:58BD  28 60               		jr.		z,inicia_ou_2
    4098   00:58BF                      		
    4099   00:58BF  3E 04               		ld		a,4
    4100   00:58C1  CD 41 01            		call	SNSMAT
    4101   00:58C4  CB 67               		bit		4,a
    4102   00:58C6  28 5D               		jr.		z,inicia_ou_3
    4103   00:58C8                      		
    4104   00:58C8  3E 04               		ld		a,4
    4105   00:58CA  CD 41 01            		call	SNSMAT
    4106   00:58CD  CB 4F               		bit		1,a
    4107   00:58CF  28 5A               		jr.		z,inicia_ou_4
    4108   00:58D1                      				
    4109   00:58D1  C9                  		ret
    4110   00:58D2                      
    4111   00:58D2                      ous_1_2:
    4112   00:58D2                      
    4113   00:58D2  3E 02               		ld		a,2
    4114   00:58D4  CD 41 01            		call	SNSMAT
    4115   00:58D7  CB 77               		bit		6,a
    4116   00:58D9  CA AA 59            		jr.		z,aumenta_ou		
    4117   00:58DC  C9                  		ret
    4118   00:58DD                      
    4119   00:58DD                      ous_1_3:
    4120   00:58DD                      
    4121   00:58DD  3E 04               		ld		a,4
    4122   00:58DF  CD 41 01            		call	SNSMAT
    4123   00:58E2  CB 4F               		bit		1,a
    4124   00:58E4  CA AA 59            		jr.		z,aumenta_ou		
    4125   00:58E7  C9                  		ret
    4126   00:58E8                      		
    4127   00:58E8                      ous_1_4:
    4128   00:58E8                      
    4129   00:58E8  3E 03               		ld		a,3
    4130   00:58EA  CD 41 01            		call	SNSMAT
    4131   00:58ED  CB 67               		bit		4,a
    4132   00:58EF  CA AA 59            		jr.		z,aumenta_ou		
    4133   00:58F2  C9                  		ret
    4134   00:58F3                      		
    4135   00:58F3                      ous_1_5:
    4136   00:58F3                      
    4137   00:58F3  3E 05               		ld		a,5
    4138   00:58F5  CD 41 01            		call	SNSMAT
    4139   00:58F8  CB 57               		bit		2,a
    4140   00:58FA  CA AA 59            		jr.		z,aumenta_ou		
    4141   00:58FD  C9                  		ret
    4142   00:58FE                      		
    4143   00:58FE                      ous_1_6:
    4144   00:58FE                      
    4145   00:58FE  3E 03               		ld		a,3
    4146   00:5900  CD 41 01            		call	SNSMAT
    4147   00:5903  CB 57               		bit		2,a
    4148   00:5905  CA AA 59            		jr.		z,aumenta_ou		
    4149   00:5908  C9                  		ret
    4150   00:5909                      		
    4151   00:5909                      ous_1_7:
    4152   00:5909                      
    4153   00:5909  3E 04               		ld		a,4
    4154   00:590B  CD 41 01            		call	SNSMAT
    4155   00:590E  CB 7F               		bit		7,a
    4156   00:5910  CA AA 59            		jr.		z,aumenta_ou		
    4157   00:5913  C9                  		ret
    4158   00:5914                      		
    4159   00:5914                      ous_1_8:
    4160   00:5914                      
    4161   00:5914  3E 03               		ld		a,3
    4162   00:5916  CD 41 01            		call	SNSMAT
    4163   00:5919  CB 77               		bit		6,a
    4164   00:591B  CA D0 59            		jr.		z,dos_vidas_mas	
    4165   00:591E  C9                  		ret
    4166   00:591F                      		
    4167   00:591F                      inicia_ou_2:
    4168   00:591F                      		
    4169   00:591F  3E 0A               		ld		a,10
    4170   00:5921  32 73 C6            		ld		(OUS_ACTIU),a
    4171   00:5924                      		
    4172   00:5924  C9                  		ret
    4173   00:5925                      
    4174   00:5925                      inicia_ou_3:
    4175   00:5925                      		
    4176   00:5925  3E 11               		ld		a,17
    4177   00:5927  32 73 C6            		ld		(OUS_ACTIU),a
    4178   00:592A                      		
    4179   00:592A  C9                  		ret
    4180   00:592B                      
    4181   00:592B                      inicia_ou_4:
    4182   00:592B                      		
    4183   00:592B  3E 19               		ld		a,25
    4184   00:592D  32 73 C6            		ld		(OUS_ACTIU),a
    4185   00:5930                      		
    4186   00:5930  C9                  		ret
    4187   00:5931                      				
    4188   00:5931                      ous_2_3:
    4189   00:5931                      
    4190   00:5931  3E 04               		ld		a,4
    4191   00:5933  CD 41 01            		call	SNSMAT
    4192   00:5936  CB 67               		bit		4,a
    4193   00:5938  28 70               		jr.		z,aumenta_ou		
    4194   00:593A  C9                  		ret
    4195   00:593B                      
    4196   00:593B                      ous_2_4:
    4197   00:593B                      
    4198   00:593B  3E 04               		ld		a,4
    4199   00:593D  CD 41 01            		call	SNSMAT
    4200   00:5940  CB 57               		bit		2,a
    4201   00:5942  28 66               		jr.		z,aumenta_ou		
    4202   00:5944  C9                  		ret
    4203   00:5945                      				
    4204   00:5945                      ous_2_6:
    4205   00:5945                      
    4206   00:5945  3E 05               		ld		a,5
    4207   00:5947  CD 41 01            		call	SNSMAT
    4208   00:594A  CB 6F               		bit		5,a
    4209   00:594C  28 5C               		jr.		z,aumenta_ou		
    4210   00:594E  C9                  		ret
    4211   00:594F                      		
    4212   00:594F                      ous_2_7:
    4213   00:594F                      
    4214   00:594F  3E 03               		ld		a,3
    4215   00:5951  CD 41 01            		call	SNSMAT
    4216   00:5954  CB 57               		bit		2,a
    4217   00:5956  CA E7 59            		jr.		z,activa_pasa_fases		
    4218   00:5959  C9                  		ret
    4219   00:595A                      
    4220   00:595A                      ous_3_2:
    4221   00:595A                      
    4222   00:595A  3E 04               		ld		a,4
    4223   00:595C  CD 41 01            		call	SNSMAT
    4224   00:595F  CB 5F               		bit		3,a
    4225   00:5961  28 47               		jr.		z,aumenta_ou		
    4226   00:5963  C9                  		ret
    4227   00:5964                      		
    4228   00:5964                      ous_3_3:
    4229   00:5964                      
    4230   00:5964  3E 03               		ld		a,3
    4231   00:5966  CD 41 01            		call	SNSMAT
    4232   00:5969  CB 77               		bit		6,a
    4233   00:596B  28 3D               		jr.		z,aumenta_ou		
    4234   00:596D  C9                  		ret
    4235   00:596E                      
    4236   00:596E                      ous_3_6:
    4237   00:596E                      
    4238   00:596E  3E 03               		ld		a,3
    4239   00:5970  CD 41 01            		call	SNSMAT
    4240   00:5973  CB 47               		bit		0,a
    4241   00:5975  28 33               		jr.		z,aumenta_ou		
    4242   00:5977  C9                  		ret
    4243   00:5978                      
    4244   00:5978                      ous_3_7:
    4245   00:5978                      
    4246   00:5978  3E 05               		ld		a,5
    4247   00:597A  CD 41 01            		call	SNSMAT
    4248   00:597D  CB 57               		bit		2,a
    4249   00:597F  28 29               		jr.		z,aumenta_ou		
    4250   00:5981  C9                  		ret
    4251   00:5982                      
    4252   00:5982                      ous_3_8:
    4253   00:5982                      
    4254   00:5982  3E 05               		ld		a,5
    4255   00:5984  CD 41 01            		call	SNSMAT
    4256   00:5987  CB 47               		bit		0,a
    4257   00:5989  28 27               		jr.		z,inmune_a_serpientes	
    4258   00:598B  C9                  		ret
    4259   00:598C                      
    4260   00:598C                      ous_4_4:
    4261   00:598C                      
    4262   00:598C  3E 04               		ld		a,4
    4263   00:598E  CD 41 01            		call	SNSMAT
    4264   00:5991  CB 47               		bit		0,a
    4265   00:5993  28 15               		jr.		z,aumenta_ou		
    4266   00:5995  C9                  		ret
    4267   00:5996                      
    4268   00:5996                      ous_4_5:
    4269   00:5996                      
    4270   00:5996  3E 05               		ld		a,5
    4271   00:5998  CD 41 01            		call	SNSMAT
    4272   00:599B  CB 77               		bit		6,a
    4273   00:599D  28 0B               		jr.		z,aumenta_ou		
    4274   00:599F  C9                  		ret
    4275   00:59A0                      
    4276   00:59A0                      ous_4_10:
    4277   00:59A0                      
    4278   00:59A0  3E 02               		ld		a,2
    4279   00:59A2  CD 41 01            		call	SNSMAT
    4280   00:59A5  CB 7F               		bit		7,a
    4281   00:59A7  28 18               		jr.		z,inmune_bombero		
    4282   00:59A9  C9                  		ret
    4283   00:59AA                      						
    4284   00:59AA                      																						
    4285   00:59AA                      aumenta_ou:
    4286   00:59AA                      		
    4287   00:59AA  3A 73 C6            		ld		a,(OUS_ACTIU)
    4288   00:59AD  3C                  		inc		a
    4289   00:59AE  32 73 C6            		ld		(OUS_ACTIU),a
    4290   00:59B1                      		
    4291   00:59B1  C9                  		ret
    4292   00:59B2                      
    4293   00:59B2                      inmune_a_serpientes:
    4294   00:59B2                      		
    4295   00:59B2  3E 64               		ld		a,100
    4296   00:59B4  32 73 C6            		ld		(OUS_ACTIU),a
    4297   00:59B7                      		
    4298   00:59B7  3E 01               		ld		a,1
    4299   00:59B9  32 75 C6            		ld		(inmune_serp),a
    4300   00:59BC                      		
    4301   00:59BC  3E 02               		ld		a,2														;efecto sonoro de coger
    4302   00:59BE  C3 D6 83            		jp		efecto_sonido
    4303   00:59C1                      
    4304   00:59C1                      inmune_bombero:
    4305   00:59C1                      		
    4306   00:59C1  3E 64               		ld		a,100
    4307   00:59C3  32 73 C6            		ld		(OUS_ACTIU),a
    4308   00:59C6                      		
    4309   00:59C6  3E 01               		ld		a,1
    4310   00:59C8  32 76 C6            		ld		(inmune_bomb),a
    4311   00:59CB                      		
    4312   00:59CB  3E 02               		ld		a,2														;efecto sonoro de coger
    4313   00:59CD  C3 D6 83            		jp		efecto_sonido
    4314   00:59D0                      	
    4315   00:59D0                      dos_vidas_mas:
    4316   00:59D0                      
    4317   00:59D0  3E 64               		ld		a,100
    4318   00:59D2  32 73 C6            		ld		(OUS_ACTIU),a
    4319   00:59D5  3A 1E C0            		ld		a,(vidas_prota)
    4320   00:59D8  C6 0A               		add		10
    4321   00:59DA  32 1E C0            		ld		(vidas_prota),a
    4322   00:59DD  3E 01               		ld		a,1
    4323   00:59DF  32 33 C6            		ld		(cuenta_puntos_o_no),a
    4324   00:59E2                      		
    4325   00:59E2  3E 02               		ld		a,2														;efecto sonoro de coger
    4326   00:59E4  C3 D6 83            		jp		efecto_sonido
    4327   00:59E7                      
    4328   00:59E7                      activa_pasa_fases:
    4329   00:59E7                      		
    4330   00:59E7  3E 64               		ld		a,100
    4331   00:59E9  32 73 C6            		ld		(OUS_ACTIU),a
    4332   00:59EC  3E 03               		ld		a,3
    4333   00:59EE  32 74 C6            		ld		(trampa),a
    4334   00:59F1                      		
    4335   00:59F1  3E 02               		ld		a,2														;efecto sonoro de coger
    4336   00:59F3  C3 D6 83            		jp		efecto_sonido
    4337   00:59F6                      
    4338   00:59F6                      variantes_de_items:
    4339   00:59F6                      		
    4340   00:59F6  3A 72 D3            		ld		a,(posicion_brillo_items)
    4341   00:59F9  3C                  		inc		a
    4342   00:59FA  32 72 D3            		ld		(posicion_brillo_items),a
    4343   00:59FD                      
    4344   00:59FD  FE 03               		cp		3
    4345   00:59FF  28 28               		jr.		z,variante_1
    4346   00:5A01  FE 06               		cp		6
    4347   00:5A03  28 35               		jr.		z,variante_2
    4348   00:5A05  FE 09               		cp		9
    4349   00:5A07  28 42               		jr.		z,variante_3
    4350   00:5A09  FE 0C               		cp		12
    4351   00:5A0B  28 4F               		jr.		z,variante_4
    4352   00:5A0D  FE 0F               		cp		15
    4353   00:5A0F  28 5C               		jr.		z,variante_5
    4354   00:5A11  FE 12               		cp		18
    4355   00:5A13  28 69               		jr.		z,variante_6
    4356   00:5A15  FE 15               		cp		21
    4357   00:5A17  28 76               		jr.		z,variante_7
    4358   00:5A19  FE 18               		cp		24
    4359   00:5A1B  CA A1 5A            		jr.		z,variante_8
    4360   00:5A1E                      		
    4361   00:5A1E  C9                  		ret
    4362   00:5A1F                      
    4363   00:5A1F                      standard_brillo:
    4364   00:5A1F                      
    4365   00:5A1F  E5                  		push	hl
    4366   00:5A20  D5                  		push	de
    4367   00:5A21  3E 02               		ld		a,2
    4368   00:5A23  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    4369   00:5A26  C3 C8 5A            		jp		resto_de_standard
    4370   00:5A29                      						
    4371   00:5A29                      variante_1:
    4372   00:5A29                      		
    4373   00:5A29  21 CE B0            		ld		hl,color_gas_1
    4374   00:5A2C  11 08 23            		ld		de,#2308
    4375   00:5A2F  CD 1F 5A            		call	standard_brillo
    4376   00:5A32  21 D0 B0            		ld		hl,color_mec_1
    4377   00:5A35  11 10 23            		ld		de,#2310
    4378   00:5A38  18 E5               		jr.		standard_brillo
    4379   00:5A3A                      		
    4380   00:5A3A                      variante_2:
    4381   00:5A3A                      		
    4382   00:5A3A  21 D2 B0            		ld		hl,color_gas_2
    4383   00:5A3D  11 09 23            		ld		de,#2309
    4384   00:5A40  CD 1F 5A            		call	standard_brillo
    4385   00:5A43  21 D4 B0            		ld		hl,color_mec_2
    4386   00:5A46  11 11 23            		ld		de,#2311
    4387   00:5A49  18 D4               		jr.		standard_brillo
    4388   00:5A4B                      		
    4389   00:5A4B                      variante_3:
    4390   00:5A4B                      		
    4391   00:5A4B  21 D6 B0            		ld		hl,color_gas_3
    4392   00:5A4E  11 0A 23            		ld		de,#230a
    4393   00:5A51  CD 1F 5A            		call	standard_brillo
    4394   00:5A54  21 D8 B0            		ld		hl,color_mec_3
    4395   00:5A57  11 12 23            		ld		de,#2312
    4396   00:5A5A  18 C3               		jr.		standard_brillo
    4397   00:5A5C                      		
    4398   00:5A5C                      variante_4:
    4399   00:5A5C                      		
    4400   00:5A5C  21 DA B0            		ld		hl,color_gas_4
    4401   00:5A5F  11 0B 23            		ld		de,#230b
    4402   00:5A62  CD 1F 5A            		call	standard_brillo
    4403   00:5A65  21 DC B0            		ld		hl,color_mec_4
    4404   00:5A68  11 13 23            		ld		de,#2313
    4405   00:5A6B  18 B2               		jr.		standard_brillo
    4406   00:5A6D                      
    4407   00:5A6D                      variante_5:
    4408   00:5A6D                      		
    4409   00:5A6D  21 DE B0            		ld		hl,color_gas_5
    4410   00:5A70  11 0C 23            		ld		de,#230c
    4411   00:5A73  CD 1F 5A            		call	standard_brillo
    4412   00:5A76  21 E0 B0            		ld		hl,color_mec_5
    4413   00:5A79  11 14 23            		ld		de,#2314
    4414   00:5A7C  18 A1               		jr.		standard_brillo
    4415   00:5A7E                      		
    4416   00:5A7E                      variante_6:
    4417   00:5A7E                      		
    4418   00:5A7E  21 E2 B0            		ld		hl,color_gas_6
    4419   00:5A81  11 0D 23            		ld		de,#230d
    4420   00:5A84  CD 1F 5A            		call	standard_brillo
    4421   00:5A87  21 E4 B0            		ld		hl,color_mec_6
    4422   00:5A8A  11 15 23            		ld		de,#2315
    4423   00:5A8D  18 90               		jr.		standard_brillo
    4424   00:5A8F                      		
    4425   00:5A8F                      variante_7:
    4426   00:5A8F                      		
    4427   00:5A8F  21 E6 B0            		ld		hl,color_gas_7
    4428   00:5A92  11 0E 23            		ld		de,#230e
    4429   00:5A95  CD 1F 5A            		call	standard_brillo
    4430   00:5A98  21 E8 B0            		ld		hl,color_mec_7
    4431   00:5A9B  11 16 23            		ld		de,#2316
    4432   00:5A9E  C3 1F 5A            		jr.		standard_brillo
    4433   00:5AA1                      		
    4434   00:5AA1                      variante_8:
    4435   00:5AA1                      		
    4436   00:5AA1  21 E5 00            		ld		hl,$e5
    4437   00:5AA4  11 0F 23            		ld		de,#230f
    4438   00:5AA7  01 01 00            		ld		bc,1
    4439   00:5AAA  CD 5C 00            		call	GRABAVRAM
    4440   00:5AAD  21 E5 00            		ld		hl,$e5
    4441   00:5AB0  11 17 23            		ld		de,#2317
    4442   00:5AB3  01 01 00            		ld		bc,1
    4443   00:5AB6  C3 5C 00            		jr.		GRABAVRAM
    4444   00:5AB9                      		
    4445   00:5AB9                      reinicia_brillo_items:
    4446   00:5AB9                      
    4447   00:5AB9  AF                  		xor		a
    4448   00:5ABA  32 72 D3            		ld		(posicion_brillo_items),a
    4449   00:5ABD                      		
    4450   00:5ABD  C9                  		ret
    4451   00:5ABE                      
    4452   00:5ABE                      standard_tiles_cambiantes:
    4453   00:5ABE                      		
    4454   00:5ABE  E5                  		push	hl
    4455   00:5ABF  D5                  		push	de
    4456   00:5AC0  3E 08               		ld		a,8
    4457   00:5AC2  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    4458   00:5AC5  C3 C8 5A            		jp		resto_de_standard
    4459   00:5AC8                      
    4460   00:5AC8                      resto_de_standard:
    4461   00:5AC8                      
    4462   00:5AC8  ED 4B E3 DE         		ld		bc,(valor_a_cambiar_en_tile_v)
    4463   00:5ACC  CD 5C 00            		CALL	GRABAVRAM
    4464   00:5ACF                      		
    4465   00:5ACF  01 00 08            		ld		bc,#800
    4466   00:5AD2  E1                  		pop		hl
    4467   00:5AD3  ED 4A               		adc		hl,bc
    4468   00:5AD5  E5                  		push	hl
    4469   00:5AD6  D1                  		pop		de
    4470   00:5AD7  E1                  		pop		hl
    4471   00:5AD8  E5                  		push	hl
    4472   00:5AD9  D5                  		push	de
    4473   00:5ADA  ED 4B E3 DE         		ld		bc,(valor_a_cambiar_en_tile_v)
    4474   00:5ADE  CD 5C 00            		CALL	GRABAVRAM
    4475   00:5AE1                      		
    4476   00:5AE1  01 00 08            		ld		bc,#800
    4477   00:5AE4  E1                  		pop		hl
    4478   00:5AE5  ED 4A               		adc		hl,bc
    4479   00:5AE7  E5                  		push	hl
    4480   00:5AE8  D1                  		pop		de
    4481   00:5AE9  E1                  		pop		hl
    4482   00:5AEA  ED 4B E3 DE         		ld		bc,(valor_a_cambiar_en_tile_v)
    4483   00:5AEE  C3 5C 00            		jp		GRABAVRAM
    4484   00:5AF1                      
    4485   00:5AF1                      standard_tiles_cambiantes_2:
    4486   00:5AF1                      
    4487   00:5AF1  E5                  		push	hl
    4488   00:5AF2  D5                  		push	de
    4489   00:5AF3  3E 01               		ld		a,1
    4490   00:5AF5  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    4491   00:5AF8  C3 C8 5A            		jp		resto_de_standard
    4492   00:5AFB                      
    4493   00:5AFB                      standard_tiles_cambiantes_3:
    4494   00:5AFB                      
    4495   00:5AFB  E5                  		push	hl
    4496   00:5AFC  D5                  		push	de
    4497   00:5AFD  3E 10               		ld		a,16
    4498   00:5AFF  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    4499   00:5B02  C3 C8 5A            		jp		resto_de_standard
    4500   00:5B05                      		
    4501   00:5B05                      standard_tiles_cambiantes_4:
    4502   00:5B05                      
    4503   00:5B05  E5                  		push	hl
    4504   00:5B06  D5                  		push	de
    4505   00:5B07  3E 20               		ld		a,8*4
    4506   00:5B09  32 E3 DE            		ld		(valor_a_cambiar_en_tile_v),a
    4507   00:5B0C  C3 C8 5A            		jp		resto_de_standard
    4508   00:5B0F                      				
    4509   00:5B0F                      								
    4510   00:5B0F                      tiles_cambiantes:
    4511   00:5B0F                      		
    4512   00:5B0F                      		
    4513   00:5B0F                      				
    4514   00:5B0F  3A 07 CA            		ld		a,(clock_1)
    4515   00:5B12  3D                  		dec		a
    4516   00:5B13  32 07 CA            		ld		(clock_1),a
    4517   00:5B16  B7                  		or		a
    4518   00:5B17  CC C0 5B            		call	z,reset_clock
    4519   00:5B1A  FE 0A               		cp		10
    4520   00:5B1C  D4 D8 5B            		call	nc,limpia_clock_a_10
    4521   00:5B1F                      		
    4522   00:5B1F  CD F6 59            		call	variantes_de_items
    4523   00:5B22                      		
    4524   00:5B22  3A 72 D3            		ld		a,(posicion_brillo_items)
    4525   00:5B25  FE 64               		cp		100
    4526   00:5B27  CC B9 5A            		call	z,reinicia_brillo_items
    4527   00:5B2A                      		
    4528   00:5B2A  3A 2A C6            		ld		a,(tile_a_poner_agua)
    4529   00:5B2D  B7                  		or		a
    4530   00:5B2E  20 48               		jr.		nz,tiles_cambiantes_1
    4531   00:5B30                      				
    4532   00:5B30  21 2A B0            		ld		hl,agua_1
    4533   00:5B33  11 70 05            		ld		de,#570
    4534   00:5B36  CD BE 5A            		call	standard_tiles_cambiantes
    4535   00:5B39                      				
    4536   00:5B39  21 32 B0            		ld		hl,chorro_1
    4537   00:5B3C  11 A8 05            		ld		de,#5a8
    4538   00:5B3F  CD FB 5A            		call	standard_tiles_cambiantes_3
    4539   00:5B42                      								
    4540   00:5B42  21 42 B0            		ld		hl,fuego_1_2
    4541   00:5B45  11 C0 04            		ld		de,#4c0
    4542   00:5B48  CD BE 5A            		call	standard_tiles_cambiantes
    4543   00:5B4B                      						
    4544   00:5B4B  21 4A B0            		ld		hl,portal_1
    4545   00:5B4E  11 68 01            		ld		de,#168
    4546   00:5B51  CD 05 5B            		call	standard_tiles_cambiantes_4
    4547   00:5B54                      		
    4548   00:5B54  21 6A B0            		ld		hl,cuchillo_1
    4549   00:5B57  11 02 23            		ld		de,#2302
    4550   00:5B5A  CD F1 5A            		call	standard_tiles_cambiantes_2
    4551   00:5B5D                      								
    4552   00:5B5D  21 6B B0            		ld		hl,bomba_1
    4553   00:5B60  11 1A 23            		ld		de,#231a
    4554   00:5B63  CD F1 5A            		call	standard_tiles_cambiantes_2
    4555   00:5B66                      								
    4556   00:5B66  21 6C B0            		ld		hl,salpic_1_1
    4557   00:5B69  11 C0 02            		ld		de,#2c0
    4558   00:5B6C  CD BE 5A            		call	standard_tiles_cambiantes
    4559   00:5B6F                      						
    4560   00:5B6F  21 74 B0            		ld		hl,salpic_1_2
    4561   00:5B72  11 D0 02            		ld		de,#2d0
    4562   00:5B75  C3 BE 5A            		jr.		standard_tiles_cambiantes
    4563   00:5B78                      						
    4564   00:5B78                      tiles_cambiantes_1:
    4565   00:5B78                      		
    4566   00:5B78  21 7C B0            		ld		hl,agua_2
    4567   00:5B7B  11 70 05            		ld		de,#570
    4568   00:5B7E  CD BE 5A            		call	standard_tiles_cambiantes
    4569   00:5B81                      						
    4570   00:5B81  21 84 B0            		ld		hl,chorro_2
    4571   00:5B84  11 A8 05            		ld		de,#5a8
    4572   00:5B87  CD FB 5A            		call	standard_tiles_cambiantes_3
    4573   00:5B8A                      								
    4574   00:5B8A  21 94 B0            		ld		hl,fuego_2_2
    4575   00:5B8D  11 C0 04            		ld		de,#4c0
    4576   00:5B90  CD BE 5A            		call	standard_tiles_cambiantes
    4577   00:5B93                      				
    4578   00:5B93  21 9C B0            		ld		hl,portal_2
    4579   00:5B96  11 68 01            		ld		de,#168
    4580   00:5B99  CD 05 5B            		call	standard_tiles_cambiantes_4
    4581   00:5B9C                      						
    4582   00:5B9C  21 BC B0            		ld		hl,cuchillo_2
    4583   00:5B9F  11 02 23            		ld		de,#2302
    4584   00:5BA2  CD F1 5A            		call	standard_tiles_cambiantes_2
    4585   00:5BA5                      				
    4586   00:5BA5  21 BD B0            		ld		hl,bomba_2
    4587   00:5BA8  11 1A 23            		ld		de,#231a
    4588   00:5BAB  CD F1 5A            		call	standard_tiles_cambiantes_2
    4589   00:5BAE                      						
    4590   00:5BAE  21 BE B0            		ld		hl,salpic_2_1
    4591   00:5BB1  11 C0 02            		ld		de,#2c0
    4592   00:5BB4  CD BE 5A            		call	standard_tiles_cambiantes
    4593   00:5BB7                      						
    4594   00:5BB7  21 C6 B0            		ld		hl,salpic_2_2
    4595   00:5BBA  11 D0 02            		ld		de,#2d0
    4596   00:5BBD  C3 BE 5A            		jr.		standard_tiles_cambiantes
    4597   00:5BC0                      				
    4598   00:5BC0                      reset_clock:
    4599   00:5BC0                      		
    4600   00:5BC0  01 0A 00            		ld		bc,10
    4601   00:5BC3  ED 43 07 CA         		ld		(clock_1),bc
    4602   00:5BC7                      		
    4603   00:5BC7  3A 2A C6            		ld		a,(tile_a_poner_agua)
    4604   00:5BCA  3C                  		inc		a
    4605   00:5BCB  32 2A C6            		ld		(tile_a_poner_agua),a
    4606   00:5BCE  FE 02               		cp		2
    4607   00:5BD0  28 01               		jr.		z,reset_clock_2
    4608   00:5BD2                      		
    4609   00:5BD2  C9                  		ret
    4610   00:5BD3                      
    4611   00:5BD3                      reset_clock_2:
    4612   00:5BD3                      
    4613   00:5BD3  AF                  		xor		a
    4614   00:5BD4  32 2A C6            		ld		(tile_a_poner_agua),a
    4615   00:5BD7                      		
    4616   00:5BD7  C9                  		ret
    4617   00:5BD8                      
    4618   00:5BD8                      limpia_clock_a_10:
    4619   00:5BD8                      
    4620   00:5BD8  01 0A 00            		ld		bc,10
    4621   00:5BDB  ED 43 07 CA         		ld		(clock_1),bc
    4622   00:5BDF                      		
    4623   00:5BDF  C9                  		ret
    4624   00:5BE0                      		
    4625   00:5BE0                      diferencias_en_las_fases:
    4626   00:5BE0                      		
    4627   00:5BE0  3A 16 C0            		ld		a,(nivel)
    4628   00:5BE3  B7                  		or		a
    4629   00:5BE4  20 0A               		jr.		nz,diferencias_en_las_fases_2
    4630   00:5BE6                      		
    4631   00:5BE6  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    4632   00:5BE9  11 F9 5B            		ld 		de,POINT_de_diferencias_fase_1
    4633   00:5BEC  C3 D9 64            		jp		lista_de_opciones
    4634   00:5BEF                      		
    4635   00:5BEF                      final_diferencias_fase:
    4636   00:5BEF                      		
    4637   00:5BEF  C9                  		ret
    4638   00:5BF0                      
    4639   00:5BF0                      diferencias_en_las_fases_2:
    4640   00:5BF0                      
    4641   00:5BF0  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    4642   00:5BF3  11 1D 5C            		ld 		de,POINT_de_diferencias_fase_2
    4643   00:5BF6  C3 D9 64            		jp		lista_de_opciones
    4644   00:5BF9                      		
    4645   00:5BF9                      POINT_de_diferencias_fase_1:
    4646   00:5BF9                      		
    4647   00:5BF9  41 5C               		dw		cambios_fase_1
    4648   00:5BFB  41 5C               		dw		cambios_fase_1
    4649   00:5BFD  4B 5C               		dw		cambios_fase_3
    4650   00:5BFF  70 5C               		dw		cambios_fase_4
    4651   00:5C01  75 5C               		dw		cambios_fase_5
    4652   00:5C03  7F 5C               		dw		cambios_fase_6
    4653   00:5C05  EF 5B               		dw		final_diferencias_fase
    4654   00:5C07  98 5C               		dw		cambios_fase_8
    4655   00:5C09  EF 5B               		dw		final_diferencias_fase
    4656   00:5C0B  EF 5B               		dw		final_diferencias_fase
    4657   00:5C0D  EF 5B               		dw		final_diferencias_fase
    4658   00:5C0F  EF 5B               		dw		final_diferencias_fase
    4659   00:5C11  EF 5B               		dw		final_diferencias_fase
    4660   00:5C13  75 5C               		dw		cambios_fase_5
    4661   00:5C15  EF 5B               		dw		final_diferencias_fase
    4662   00:5C17  EF 5B               		dw		final_diferencias_fase
    4663   00:5C19  E1 5C               		dw		cambios_fase_17
    4664   00:5C1B  EF 5B               		dw		final_diferencias_fase
    4665   00:5C1D                      
    4666   00:5C1D                      POINT_de_diferencias_fase_2:
    4667   00:5C1D                      		
    4668   00:5C1D  EF 5B               		dw		final_diferencias_fase
    4669   00:5C1F  EF 5B               		dw		final_diferencias_fase
    4670   00:5C21  EF 5B               		dw		final_diferencias_fase
    4671   00:5C23  EF 5B               		dw		final_diferencias_fase
    4672   00:5C25  EF 5B               		dw		final_diferencias_fase
    4673   00:5C27  EF 5B               		dw		final_diferencias_fase
    4674   00:5C29  84 5C               		dw		cambios_fase_7
    4675   00:5C2B  EF 5B               		dw		final_diferencias_fase
    4676   00:5C2D  EF 5B               		dw		final_diferencias_fase
    4677   00:5C2F  AE 5C               		dw		cambios_fase_10
    4678   00:5C31  EF 5B               		dw		final_diferencias_fase
    4679   00:5C33  EF 5B               		dw		final_diferencias_fase
    4680   00:5C35  BD 5C               		dw		cambios_fase_13
    4681   00:5C37  EF 5B               		dw		final_diferencias_fase
    4682   00:5C39  AE 5C               		dw		cambios_fase_10
    4683   00:5C3B  EF 5B               		dw		final_diferencias_fase
    4684   00:5C3D  EF 5B               		dw		final_diferencias_fase
    4685   00:5C3F  EF 5B               		dw		final_diferencias_fase
    4686   00:5C41                      				
    4687   00:5C41                      cambios_fase_1:
    4688   00:5C41                      
    4689   00:5C41  FD 21 35 C6         		ld		iy,variables_serpiente_1
    4690   00:5C45  3E 02               		ld		a,2
    4691   00:5C47  FD 77 07            		ld		(iy+7),a
    4692   00:5C4A                      
    4693   00:5C4A  C9                  		ret
    4694   00:5C4B                      		
    4695   00:5C4B                      cambios_fase_3:
    4696   00:5C4B                      
    4697   00:5C4B  21 61 C0            		ld		hl,buffer_colisiones
    4698   00:5C4E  3E 29               		ld		a,41
    4699   00:5C50  01 FD 01            		ld		bc,509
    4700   00:5C53  ED 4A               		adc		hl,bc
    4701   00:5C55  77                  		ld		[hl],a
    4702   00:5C56  23                  		inc		hl
    4703   00:5C57  3C                  		inc		a
    4704   00:5C58  77                  		ld		[hl],a
    4705   00:5C59  01 2F 00            		ld		bc,47
    4706   00:5C5C  ED 4A               		adc		hl,bc
    4707   00:5C5E  3E 20               		ld		a,32
    4708   00:5C60  77                  		ld		[hl],a
    4709   00:5C61  23                  		inc		hl
    4710   00:5C62  77                  		ld		[hl],a
    4711   00:5C63  01 1F 00            		ld		bc,31
    4712   00:5C66  ED 4A               		adc		hl,bc
    4713   00:5C68  77                  		ld		[hl],a
    4714   00:5C69  23                  		inc		hl
    4715   00:5C6A  77                  		ld		[hl],a
    4716   00:5C6B                      		
    4717   00:5C6B  AF                  		xor		a
    4718   00:5C6C  32 89 C6            		ld		(toca_bombero),a
    4719   00:5C6F  C9                  		ret
    4720   00:5C70                      		
    4721   00:5C70                      cambios_fase_4:
    4722   00:5C70                      		
    4723   00:5C70  AF                  		xor		a
    4724   00:5C71  32 7B C6            		ld		(bombero_1),a
    4725   00:5C74                      								
    4726   00:5C74  C9                  		ret
    4727   00:5C75                      		
    4728   00:5C75                      cambios_fase_5:
    4729   00:5C75                      
    4730   00:5C75  FD 21 7C C6         		ld		iy,bombero_control
    4731   00:5C79  3E 02               		ld		a,2
    4732   00:5C7B  FD 77 02            		ld		(iy+2),a
    4733   00:5C7E                      
    4734   00:5C7E  C9                  		ret
    4735   00:5C7F                      
    4736   00:5C7F                      cambios_fase_6:
    4737   00:5C7F                      
    4738   00:5C7F  AF                  		xor		a
    4739   00:5C80  32 61 C6            		ld		(serp4),a
    4740   00:5C83                      ;		ld		iy,variables_serpiente_1
    4741   00:5C83                      ;		xor		a
    4742   00:5C83                      ;		ld		(iy+1),a
    4743   00:5C83                      ;		ld		(iy+4),a
    4744   00:5C83                      ;		ld		ix,atributos_sprite_general
    4745   00:5C83                      ;		ld		de,16
    4746   00:5C83                      ;		add		ix,de
    4747   00:5C83                      ;		jp		atributos_sprites
    4748   00:5C83                      
    4749   00:5C83  C9                  		ret
    4750   00:5C84                      cambios_fase_7:
    4751   00:5C84                      		
    4752   00:5C84  21 61 C0            		ld		hl,buffer_colisiones
    4753   00:5C87  3E 20               		ld		a,32
    4754   00:5C89  01 A7 00            		ld		bc,167
    4755   00:5C8C  ED 4A               		adc		hl,bc
    4756   00:5C8E  77                  		ld		[hl],a
    4757   00:5C8F  01 9F 00            		ld		bc,159
    4758   00:5C92  ED 4A               		adc		hl,bc
    4759   00:5C94  3E A8               		ld		a,168
    4760   00:5C96  77                  		ld		[hl],a
    4761   00:5C97                      		
    4762   00:5C97  C9                  		ret
    4763   00:5C98                      		
    4764   00:5C98                      		
    4765   00:5C98                      cambios_fase_8:
    4766   00:5C98                      
    4767   00:5C98  AF                  		xor		a
    4768   00:5C99  32 61 C6            		ld		(serp4),a
    4769   00:5C9C                      		
    4770   00:5C9C  21 41 C3            		ld		hl,buffer_colisiones_2
    4771   00:5C9F  3E 60               		ld		a,96
    4772   00:5CA1  01 B1 02            		ld		bc,689
    4773   00:5CA4  ED 4A               		adc		hl,bc
    4774   00:5CA6  77                  		ld		[hl],a
    4775   00:5CA7  23                  		inc		hl
    4776   00:5CA8  77                  		ld		[hl],a
    4777   00:5CA9  23                  		inc		hl
    4778   00:5CAA  77                  		ld		[hl],a
    4779   00:5CAB  23                  		inc		hl
    4780   00:5CAC  77                  		ld		[hl],a
    4781   00:5CAD                      		
    4782   00:5CAD  C9                  		ret
    4783   00:5CAE                      		
    4784   00:5CAE                      cambios_fase_10:
    4785   00:5CAE                      
    4786   00:5CAE  FD 21 7C C6         		ld		iy,bombero_control
    4787   00:5CB2  3E 02               		ld		a,2
    4788   00:5CB4  FD 77 09            		ld		(iy+9),a
    4789   00:5CB7  3E 02               		ld		a,2
    4790   00:5CB9  FD 77 02            		ld		(iy+2),a
    4791   00:5CBC  C9                  		ret
    4792   00:5CBD                      
    4793   00:5CBD                      cambios_fase_13:
    4794   00:5CBD                      
    4795   00:5CBD  21 61 C0            		ld		hl,buffer_colisiones
    4796   00:5CC0  3E 20               		ld		a,32
    4797   00:5CC2  01 64 00            		ld		bc,100
    4798   00:5CC5  ED 4A               		adc		hl,bc
    4799   00:5CC7  77                  		ld		[hl],a
    4800   00:5CC8  01 18 00            		ld		bc,24
    4801   00:5CCB  ED 4A               		adc		hl,bc
    4802   00:5CCD  77                  		ld		[hl],a
    4803   00:5CCE                      						
    4804   00:5CCE  C9                  		ret
    4805   00:5CCF                      				
    4806   00:5CCF                      cambios_fase_14:
    4807   00:5CCF                      		
    4808   00:5CCF  21 61 C0            		ld		hl,buffer_colisiones
    4809   00:5CD2  3E 20               		ld		a,32
    4810   00:5CD4  01 86 00            		ld		bc,134
    4811   00:5CD7  ED 4A               		adc		hl,bc
    4812   00:5CD9  77                  		ld		[hl],a
    4813   00:5CDA  01 29 02            		ld		bc,553
    4814   00:5CDD  ED 4A               		adc		hl,bc
    4815   00:5CDF  77                  		ld		[hl],a
    4816   00:5CE0                      				
    4817   00:5CE0  C9                  		ret
    4818   00:5CE1                      		
    4819   00:5CE1                      cambios_fase_17:
    4820   00:5CE1                      
    4821   00:5CE1  21 61 C0            		ld		hl,buffer_colisiones
    4822   00:5CE4  3E 29               		ld		a,41
    4823   00:5CE6  01 1A 01            		ld		bc,282
    4824   00:5CE9  ED 4A               		adc		hl,bc
    4825   00:5CEB  77                  		ld		[hl],a
    4826   00:5CEC  23                  		inc		hl
    4827   00:5CED  3C                  		inc		a
    4828   00:5CEE  77                  		ld		[hl],a
    4829   00:5CEF                      
    4830   00:5CEF  C9                  		ret
    4831   00:5CF0                      				
    4832   00:5CF0                      ;cambios_fase_19:
    4833   00:5CF0                      
    4834   00:5CF0                      ;		ld		a,0
    4835   00:5CF0                      ;		ld		(serp4),a
    4836   00:5CF0                      		
    4837   00:5CF0                      ;		ret
    4838   00:5CF0                      														
    4839   00:5CF0                      vigila_si_cierra_puertas:
    4840   00:5CF0                      		
    4841   00:5CF0  3A 1D C0            		ld		a,(puede_cambiar_de_direccion)
    4842   00:5CF3  FE 01               		cp		1
    4843   00:5CF5  C8                  		ret		z
    4844   00:5CF6                      		
    4845   00:5CF6  CD 81 83            		call	dieciseis_quince
    4846   00:5CF9  CD 79 6E            		call	get_bloque_en_X_Y
    4847   00:5CFC                      		
    4848   00:5CFC  FE 75               		cp		117
    4849   00:5CFE  28 5D               		jr.		z,recoloca_puerta_amarilla_izquierda
    4850   00:5D00  FE 76               		cp		118
    4851   00:5D02  CA C2 5D            		jr.		z,recoloca_puerta_azul_izquierda
    4852   00:5D05                      		
    4853   00:5D05  CD B5 83            		call	menos_uno_quince
    4854   00:5D08  CD 79 6E            		call	get_bloque_en_X_Y
    4855   00:5D0B                      		
    4856   00:5D0B  FE 75               		cp		117
    4857   00:5D0D  28 1C               		jr.		z,recoloca_puerta_amarilla_derecha
    4858   00:5D0F  FE 76               		cp		118
    4859   00:5D11  28 7D               		jr.		z,recoloca_puerta_azul_derecha	
    4860   00:5D13                      		
    4861   00:5D13  C9                  		ret
    4862   00:5D14                      							
    4863   00:5D14                      movimiento_forzado_en_puertas:
    4864   00:5D14                      
    4865   00:5D14  3A 1D C0            		ld		a,(puede_cambiar_de_direccion)
    4866   00:5D17  FE 01               		cp		1
    4867   00:5D19  C8                  		ret		z
    4868   00:5D1A                      		
    4869   00:5D1A  3E 0D               		ld		a,13													;efecto sonoro de puerta abierta
    4870   00:5D1C  CD D6 83            		call	efecto_sonido
    4871   00:5D1F                      					
    4872   00:5D1F  3A 27 C0            		ld		a,(dir_prota)
    4873   00:5D22  B7                  		or		a
    4874   00:5D23  CA 5F 6D            		jr.		z,(mueve_derecha_prota)
    4875   00:5D26  FE 01               		cp		1														;va a la izquierda forzado
    4876   00:5D28  CA 42 6B            		jr.		z,(mueve_izquierda_prota)
    4877   00:5D2B                      
    4878   00:5D2B                      recoloca_puerta_amarilla_derecha:
    4879   00:5D2B                      				
    4880   00:5D2B  3A 27 C0            		ld		a,(dir_prota)
    4881   00:5D2E  B7                  		or		a
    4882   00:5D2F  C0                  		ret		nz
    4883   00:5D30                      		
    4884   00:5D30  3E 01               		ld		a,1
    4885   00:5D32  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    4886   00:5D35                      		
    4887   00:5D35  CD B5 83            		call	menos_uno_quince
    4888   00:5D38  CD 79 6E            		call	get_bloque_en_X_Y
    4889   00:5D3B  3E 71               		ld		a,113
    4890   00:5D3D  77                  		ld		[hl],a
    4891   00:5D3E                      								
    4892   00:5D3E  CD B5 83            		call	menos_uno_quince
    4893   00:5D41  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4894   00:5D44                      		
    4895   00:5D44  3E 71               		ld		a,113
    4896   00:5D46  CD C4 83            		call	pinta_en_pantalla
    4897   00:5D49                      		
    4898   00:5D49  CD BC 83            		call	menos_uno_dos
    4899   00:5D4C  CD 79 6E            		call	get_bloque_en_X_Y
    4900   00:5D4F  3E 71               		ld		a,113
    4901   00:5D51  77                  		ld		[hl],a
    4902   00:5D52                      								
    4903   00:5D52  CD BC 83            		call	menos_uno_dos
    4904   00:5D55  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4905   00:5D58                      		
    4906   00:5D58  3E 71               		ld		a,113
    4907   00:5D5A  C3 C4 83            		jp		pinta_en_pantalla
    4908   00:5D5D                      		
    4909   00:5D5D                      recoloca_puerta_amarilla_izquierda:
    4910   00:5D5D                      		
    4911   00:5D5D  3A 27 C0            		ld		a,(dir_prota)
    4912   00:5D60  FE 01               		cp		1
    4913   00:5D62  C0                  		ret		nz
    4914   00:5D63                      		
    4915   00:5D63  3E 01               		ld		a,1
    4916   00:5D65  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    4917   00:5D68                      		
    4918   00:5D68  CD 81 83            		call	dieciseis_quince
    4919   00:5D6B  CD 79 6E            		call	get_bloque_en_X_Y
    4920   00:5D6E  3E 72               		ld		a,114
    4921   00:5D70  77                  		ld		[hl],a
    4922   00:5D71                      								
    4923   00:5D71  CD 81 83            		call	dieciseis_quince
    4924   00:5D74  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4925   00:5D77                      		
    4926   00:5D77  3E 72               		ld		a,114
    4927   00:5D79  CD C4 83            		call	pinta_en_pantalla
    4928   00:5D7C                      		
    4929   00:5D7C  CD 89 83            		call	dieciseis_dos
    4930   00:5D7F  CD 79 6E            		call	get_bloque_en_X_Y
    4931   00:5D82  3E 72               		ld		a,114
    4932   00:5D84  77                  		ld		[hl],a
    4933   00:5D85                      								
    4934   00:5D85  CD 89 83            		call	dieciseis_dos
    4935   00:5D88  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4936   00:5D8B                      		
    4937   00:5D8B  3E 72               		ld		a,114
    4938   00:5D8D  C3 C4 83            		jp		pinta_en_pantalla
    4939   00:5D90                      				
    4940   00:5D90                      recoloca_puerta_azul_derecha:
    4941   00:5D90                      		
    4942   00:5D90                      		
    4943   00:5D90  3A 27 C0            		ld		a,(dir_prota)
    4944   00:5D93  B7                  		or		a
    4945   00:5D94  C0                  		ret		nz
    4946   00:5D95                      		
    4947   00:5D95  3E 01               		ld		a,1
    4948   00:5D97  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    4949   00:5D9A                      		
    4950   00:5D9A  CD B5 83            		call	menos_uno_quince
    4951   00:5D9D  CD 79 6E            		call	get_bloque_en_X_Y
    4952   00:5DA0  3E 74               		ld		a,116
    4953   00:5DA2  77                  		ld		[hl],a
    4954   00:5DA3                      								
    4955   00:5DA3  CD B5 83            		call	menos_uno_quince
    4956   00:5DA6  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4957   00:5DA9                      		
    4958   00:5DA9  3E 74               		ld		a,116
    4959   00:5DAB  CD C4 83            		call	pinta_en_pantalla
    4960   00:5DAE                      		
    4961   00:5DAE  CD BC 83            		call	menos_uno_dos
    4962   00:5DB1  CD 79 6E            		call	get_bloque_en_X_Y
    4963   00:5DB4  3E 74               		ld		a,116
    4964   00:5DB6  77                  		ld		[hl],a
    4965   00:5DB7                      								
    4966   00:5DB7  CD BC 83            		call	menos_uno_dos
    4967   00:5DBA  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4968   00:5DBD                      		
    4969   00:5DBD  3E 74               		ld		a,116
    4970   00:5DBF  C3 C4 83            		jp		pinta_en_pantalla
    4971   00:5DC2                      				
    4972   00:5DC2                      recoloca_puerta_azul_izquierda:
    4973   00:5DC2                      		
    4974   00:5DC2  3A 27 C0            		ld		a,(dir_prota)
    4975   00:5DC5  FE 01               		cp		1
    4976   00:5DC7  C0                  		ret		nz
    4977   00:5DC8                      		
    4978   00:5DC8  3E 01               		ld		a,1
    4979   00:5DCA  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    4980   00:5DCD                      		
    4981   00:5DCD  CD 81 83            		call	dieciseis_quince
    4982   00:5DD0  CD 79 6E            		call	get_bloque_en_X_Y
    4983   00:5DD3  3E 73               		ld		a,115
    4984   00:5DD5  77                  		ld		[hl],a
    4985   00:5DD6                      								
    4986   00:5DD6  CD 81 83            		call	dieciseis_quince
    4987   00:5DD9  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4988   00:5DDC                      		
    4989   00:5DDC  3E 73               		ld		a,115
    4990   00:5DDE  CD C4 83            		call	pinta_en_pantalla
    4991   00:5DE1                      		
    4992   00:5DE1  CD 89 83            		call	dieciseis_dos
    4993   00:5DE4  CD 79 6E            		call	get_bloque_en_X_Y
    4994   00:5DE7  3E 73               		ld		a,115
    4995   00:5DE9  77                  		ld		[hl],a
    4996   00:5DEA                      								
    4997   00:5DEA  CD 89 83            		call	dieciseis_dos
    4998   00:5DED  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    4999   00:5DF0                      		
    5000   00:5DF0  3E 73               		ld		a,115
    5001   00:5DF2  C3 C4 83            		jp		pinta_en_pantalla
    5002   00:5DF5                      		
    5003   00:5DF5                      grifos_balsa_bombero:
    5004   00:5DF5                      		
    5005   00:5DF5                      		
    5006   00:5DF5  FD 21 7C C6         		ld		iy,bombero_control
    5007   00:5DF9                      		
    5008   00:5DF9  3A 21 C6            		ld		a,(pantalla_activa)										;cambiamos circunstancialmente la pantalla activa por la del bombero para ver qué pasa
    5009   00:5DFC  F5                  		push	af
    5010   00:5DFD  FD 7E 0C            		ld		a,(iy+12)
    5011   00:5E00  32 21 C6            		ld		(pantalla_activa),a
    5012   00:5E03                      		
    5013   00:5E03  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene donde está					
    5014   00:5E06  57                  		ld		d,a
    5015   00:5E07  FD 7E 01            		ld		a,(iy+1)
    5016   00:5E0A  C6 0A               		add		10
    5017   00:5E0C  5F                  		ld		e,a
    5018   00:5E0D  CD 79 6E            		call	get_bloque_en_X_Y
    5019   00:5E10                      		
    5020   00:5E10  FE B2               		cp		178														;si el grifo ya está abierto, sigue la gran rutina
    5021   00:5E12  C2 BB 5E            		jr.		nz,grifos_balsa_bombero_cierre
    5022   00:5E15                      		
    5023   00:5E15  3A 94 C6            		ld		a,(pantalla_tile_grifo_balsa_1)
    5024   00:5E18  FE 01               		cp		1
    5025   00:5E1A  20 09               		jr.		nz,grifos_balsa_bombero_2
    5026   00:5E1C                      		
    5027   00:5E1C  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer adecuado el grifo cerrado
    5028   00:5E20  21 61 C0            		ld		hl,buffer_colisiones
    5029   00:5E23  18 07               		jr.		grifos_balsa_bombero_3
    5030   00:5E25                      		
    5031   00:5E25                      grifos_balsa_bombero_2:
    5032   00:5E25                      		
    5033   00:5E25  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer adecuado el grifo cerrado
    5034   00:5E29  21 41 C3            		ld		hl,buffer_colisiones_2
    5035   00:5E2C                      
    5036   00:5E2C                      grifos_balsa_bombero_3:
    5037   00:5E2C                      		
    5038   00:5E2C  ED 4A               		adc		hl,bc
    5039   00:5E2E  01 20 00            		ld		bc,32
    5040   00:5E31  ED 42               		sbc		hl,bc
    5041   00:5E33  3E B3               		ld		a,179
    5042   00:5E35  77                  		ld		[hl],a
    5043   00:5E36                      				
    5044   00:5E36  3A 95 C6            		ld		a,(pantalla_tile_grifo_balsa_2)
    5045   00:5E39  FE 01               		cp		1
    5046   00:5E3B  20 09               		jr.		nz,grifos_balsa_bombero_4
    5047   00:5E3D                      
    5048   00:5E3D                      		
    5049   00:5E3D  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    5050   00:5E41  21 61 C0            		ld		hl,buffer_colisiones
    5051   00:5E44  18 07               		jr.		grifos_balsa_bombero_5
    5052   00:5E46                      		
    5053   00:5E46                      grifos_balsa_bombero_4:
    5054   00:5E46                      		
    5055   00:5E46  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    5056   00:5E4A  21 41 C3            		ld		hl,buffer_colisiones_2
    5057   00:5E4D                      		
    5058   00:5E4D                      grifos_balsa_bombero_5:
    5059   00:5E4D                      		
    5060   00:5E4D  ED 4A               		adc		hl,bc
    5061   00:5E4F  01 20 00            		ld		bc,32
    5062   00:5E52  ED 42               		sbc		hl,bc
    5063   00:5E54  3E B3               		ld		a,179
    5064   00:5E56  77                  		ld		[hl],a
    5065   00:5E57                      			
    5066   00:5E57  3A 96 C6            		ld		a,(pantalla_balsa)
    5067   00:5E5A  FE 01               		cp		1
    5068   00:5E5C  20 09               		jr.		nz,grifos_balsa_bombero_6
    5069   00:5E5E                      								
    5070   00:5E5E  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    5071   00:5E62  21 61 C0            		ld		hl,buffer_colisiones
    5072   00:5E65  18 07               		jr.		grifos_balsa_bombero_7
    5073   00:5E67                      
    5074   00:5E67                      grifos_balsa_bombero_6:
    5075   00:5E67                      
    5076   00:5E67  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    5077   00:5E6B  21 41 C3            		ld		hl,buffer_colisiones_2
    5078   00:5E6E                      		
    5079   00:5E6E                      grifos_balsa_bombero_7:
    5080   00:5E6E                      		
    5081   00:5E6E  ED 4A               		adc		hl,bc
    5082   00:5E70  01 1D 00            		ld		bc,29
    5083   00:5E73  ED 4A               		adc		hl,bc
    5084   00:5E75  3E AE               		ld		a,174
    5085   00:5E77  77                  		ld		[hl],a
    5086   00:5E78  23                  		inc		hl
    5087   00:5E79  77                  		ld		[hl],a
    5088   00:5E7A  23                  		inc		hl
    5089   00:5E7B  77                  		ld		[hl],a
    5090   00:5E7C  23                  		inc		hl
    5091   00:5E7D  77                  		ld		[hl],a
    5092   00:5E7E  23                  		inc		hl
    5093   00:5E7F  77                  		ld		[hl],a
    5094   00:5E80  23                  		inc		hl
    5095   00:5E81  77                  		ld		[hl],a
    5096   00:5E82  23                  		inc		hl
    5097   00:5E83  77                  		ld		[hl],a
    5098   00:5E84  01 1B 00            		ld		bc,27
    5099   00:5E87  ED 4A               		adc		hl,bc
    5100   00:5E89  77                  		ld		[hl],a
    5101   00:5E8A  23                  		inc		hl
    5102   00:5E8B  77                  		ld		[hl],a
    5103   00:5E8C  23 23               [2]		inc		hl
    5104   00:5E8E  77                  		ld		[hl],a
    5105   00:5E8F  23                  		inc		hl
    5106   00:5E90  77                  		ld		[hl],a
    5107   00:5E91  2B 2B               [2]		dec		hl
    5108   00:5E93  3E AF               		ld		a,175
    5109   00:5E95  77                  		ld		[hl],a
    5110   00:5E96                      		
    5111   00:5E96  3E 10               		ld		a,16														;efecto sonoro de grifo de balsa cerrado
    5112   00:5E98  CD D6 83            		call	efecto_sonido						
    5113   00:5E9B                      
    5114   00:5E9B  F1                  		pop		af
    5115   00:5E9C  32 21 C6            		ld		(pantalla_activa),a
    5116   00:5E9F  FE 01               		cp		a,1
    5117   00:5EA1  20 09               		jr.		nz,grifos_balsa_bombero_8
    5118   00:5EA3                      		
    5119   00:5EA3  F5                  		push	af
    5120   00:5EA4  21 61 C0            		ld		hl,buffer_colisiones
    5121   00:5EA7  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    5122   00:5EAA  18 07               		jr.		grifos_balsa_bombero_9
    5123   00:5EAC                      
    5124   00:5EAC                      grifos_balsa_bombero_8:
    5125   00:5EAC                      		
    5126   00:5EAC  F5                  		push	af
    5127   00:5EAD  21 41 C3            		ld		hl,buffer_colisiones_2
    5128   00:5EB0  CD 5B 55            		call	copiamos_en_pantalla_lo_de_memoria_tras_buffer
    5129   00:5EB3                      
    5130   00:5EB3                      grifos_balsa_bombero_9:
    5131   00:5EB3                      				
    5132   00:5EB3  3E 01               		ld		a,1														; da valor a la variable para abrir el grifo de balsa
    5133   00:5EB5  32 8F C6            		ld		(grifos_balsa_cerrados),a
    5134   00:5EB8  32 93 C6            		ld		(balsa_bacia),a
    5135   00:5EBB                      
    5136   00:5EBB                      grifos_balsa_bombero_cierre:
    5137   00:5EBB                      
    5138   00:5EBB  F1                  		pop		af
    5139   00:5EBC  32 21 C6            		ld		(pantalla_activa),a
    5140   00:5EBF  C9                  		ret
    5141   00:5EC0                      		
    5142   00:5EC0                      grifo_bombero:
    5143   00:5EC0                      
    5144   00:5EC0  FD 21 7C C6         		ld		iy,bombero_control
    5145   00:5EC4                      		
    5146   00:5EC4  3A 21 C6            		ld		a,(pantalla_activa)
    5147   00:5EC7  F5                  		push	af
    5148   00:5EC8  FD 7E 0C            		ld		a,(iy+12)
    5149   00:5ECB  32 21 C6            		ld		(pantalla_activa),a
    5150   00:5ECE                      		
    5151   00:5ECE  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene donde está					
    5152   00:5ED1  57                  		ld		d,a
    5153   00:5ED2  FD 7E 01            		ld		a,(iy+1)
    5154   00:5ED5  C6 0A               		add		10
    5155   00:5ED7  5F                  		ld		e,a
    5156   00:5ED8  CD 79 6E            		call	get_bloque_en_X_Y
    5157   00:5EDB  FE 77               		cp		a,119														;si el grifo ya está abierto, sigue la gran rutina
    5158   00:5EDD  20 3B               		jr.		nz,grifo_bombero_1
    5159   00:5EDF                      		
    5160   00:5EDF  FD 7E 00            		ld		a,(iy)													;para buffer y vram moviendo 0,10						
    5161   00:5EE2  57                  		ld		d,a
    5162   00:5EE3  FD 7E 01            		ld		a,(iy+1)
    5163   00:5EE6  C6 0A               		add		10
    5164   00:5EE8  5F                  		ld		e,a
    5165   00:5EE9  CD 79 6E            		call	get_bloque_en_X_Y
    5166   00:5EEC  3E 57               		ld		a,87
    5167   00:5EEE  77                  		ld		[hl],a
    5168   00:5EEF                      		
    5169   00:5EEF  F1                  		pop		af
    5170   00:5EF0  32 21 C6            		ld		(pantalla_activa),a
    5171   00:5EF3  47                  		ld		b,a
    5172   00:5EF4  F5                  		push	af
    5173   00:5EF5  FD 7E 0C            		ld		a,(iy+12)
    5174   00:5EF8  B8                  		cp		b
    5175   00:5EF9  20 10               		jr.		nz,grifo_bombero_continua
    5176   00:5EFB                      								
    5177   00:5EFB  FD 7E 00            		ld		a,(iy)													;para buffer y vram moviendo 0,10						
    5178   00:5EFE  57                  		ld		d,a
    5179   00:5EFF  FD 7E 01            		ld		a,(iy+1)
    5180   00:5F02  C6 0A               		add		10
    5181   00:5F04  5F                  		ld		e,a
    5182   00:5F05  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    5183   00:5F08  3E 57               		ld		a,87
    5184   00:5F0A  77                  		ld		[hl],a
    5185   00:5F0B                      		
    5186   00:5F0B                      grifo_bombero_continua:
    5187   00:5F0B                      		
    5188   00:5F0B                      		
    5189   00:5F0B  3E 57               		ld		a,87
    5190   00:5F0D  CD C4 83            		call	pinta_en_pantalla
    5191   00:5F10                      		
    5192   00:5F10  3E 0A               		ld		a,10													;efecto sonoro de abrir grifo
    5193   00:5F12  CD D6 83            		call	efecto_sonido
    5194   00:5F15                      		
    5195   00:5F15  3E 01               		ld		a,1														; da valor a la variable para dar por hecho que el grifo está abierto
    5196   00:5F17  32 77 C6            		ld		(grifo_estado),a
    5197   00:5F1A                      
    5198   00:5F1A                      grifo_bombero_1:
    5199   00:5F1A                      
    5200   00:5F1A  F1                  		pop		af
    5201   00:5F1B  32 21 C6            		ld		(pantalla_activa),a
    5202   00:5F1E  C9                  		ret
    5203   00:5F1F                      
    5204   00:5F1F                      que_pinto_de_la_balsa:
    5205   00:5F1F                      		
    5206   00:5F1F  3A 79 C6            		ld		a,(vision_estado)										;si no se ve, no pinta nada
    5207   00:5F22  B7                  		or		a
    5208   00:5F23  C8                  		ret		z
    5209   00:5F24                      		
    5210   00:5F24  3A 92 C6            		ld		a,(balsa_activa)										;no mira nada si la balsa no está activa
    5211   00:5F27  B7                  		or		a
    5212   00:5F28  C8                  		ret		z
    5213   00:5F29                      		
    5214   00:5F29  3A 96 C6            		ld		a,(pantalla_balsa)										;si no estamos en la pantalla de la balsa, no pinta nada
    5215   00:5F2C  47                  		ld		b,a
    5216   00:5F2D  3A 21 C6            		ld		a,(pantalla_activa)
    5217   00:5F30  B8                  		cp		b
    5218   00:5F31  C0                  		ret		nz
    5219   00:5F32                      		
    5220   00:5F32  3A 8F C6            		ld		a,(grifos_balsa_cerrados)
    5221   00:5F35  FE 01               		cp		1
    5222   00:5F37  28 51               		jr.		z,balsa_a_pintar_si_abierto_grifo
    5223   00:5F39                      		
    5224   00:5F39                      balsa_a_pintar_si_cerrado_grifo:
    5225   00:5F39                      		
    5226   00:5F39  3A 96 C6            		ld		a,(pantalla_balsa)
    5227   00:5F3C  FE 01               		cp		1
    5228   00:5F3E  20 09               		jr.		nz,balsa_a_pintar_si_cerrado_grifo_1
    5229   00:5F40                      		
    5230   00:5F40  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5231   00:5F44  21 61 C0            		ld		hl,buffer_colisiones
    5232   00:5F47  18 07               		jr.		balsa_a_pintar_si_cerrado_grifo_2
    5233   00:5F49                      		
    5234   00:5F49                      balsa_a_pintar_si_cerrado_grifo_1:
    5235   00:5F49                      
    5236   00:5F49  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5237   00:5F4D  21 41 C3            		ld		hl,buffer_colisiones_2
    5238   00:5F50                      
    5239   00:5F50                      balsa_a_pintar_si_cerrado_grifo_2:
    5240   00:5F50                      		
    5241   00:5F50  3A 96 C6            		ld		a,(pantalla_balsa)
    5242   00:5F53  FE 01               		cp		1
    5243   00:5F55  20 09               		jr.		nz,balsa_a_pintar_si_cerrado_grifo_3
    5244   00:5F57                      		
    5245   00:5F57  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5246   00:5F5B  21 61 C0            		ld		hl,buffer_colisiones
    5247   00:5F5E  18 07               		jr.		balsa_a_pintar_si_cerrado_grifo_4
    5248   00:5F60                      
    5249   00:5F60                      balsa_a_pintar_si_cerrado_grifo_3:
    5250   00:5F60                      
    5251   00:5F60  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5252   00:5F64  21 41 C3            		ld		hl,buffer_colisiones_2
    5253   00:5F67                      
    5254   00:5F67                      balsa_a_pintar_si_cerrado_grifo_4:
    5255   00:5F67                      
    5256   00:5F67  ED 4A               		adc		hl,bc
    5257   00:5F69  3E 20               		ld		a,32
    5258   00:5F6B  77                  		ld		[hl],a
    5259   00:5F6C                      		
    5260   00:5F6C  3A 21 C6            		ld		a,(pantalla_activa)
    5261   00:5F6F  47                  		ld		b,a
    5262   00:5F70  3A 96 C6            		ld		a,(pantalla_balsa)
    5263   00:5F73  B8                  		cp		b
    5264   00:5F74  C0                  		ret		nz
    5265   00:5F75                      										
    5266   00:5F75  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)							;dibujamos en pantalla la cañeria cerrada
    5267   00:5F78  3E B4               		ld		a,180
    5268   00:5F7A  CD C4 83            		call	pinta_en_pantalla
    5269   00:5F7D                      		
    5270   00:5F7D  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)	
    5271   00:5F80  01 20 00            		ld		bc,32
    5272   00:5F83  ED 4A               		adc		hl,bc
    5273   00:5F85  3E 20               		ld		a,32
    5274   00:5F87  C3 C4 83            		jp		pinta_en_pantalla
    5275   00:5F8A                      
    5276   00:5F8A                      balsa_a_pintar_si_abierto_grifo:
    5277   00:5F8A                      		
    5278   00:5F8A  3A 96 C6            		ld		a,(pantalla_balsa)
    5279   00:5F8D  FE 01               		cp		1
    5280   00:5F8F  20 09               		jr.		nz,balsa_a_pintar_si_abierto_grifo_1
    5281   00:5F91                      		
    5282   00:5F91  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5283   00:5F95  21 61 C0            		ld		hl,buffer_colisiones
    5284   00:5F98  18 07               		jr.		balsa_a_pintar_si_abierto_grifo_2
    5285   00:5F9A                      		
    5286   00:5F9A                      balsa_a_pintar_si_abierto_grifo_1:
    5287   00:5F9A                      
    5288   00:5F9A  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5289   00:5F9E  21 41 C3            		ld		hl,buffer_colisiones_2
    5290   00:5FA1                      
    5291   00:5FA1                      balsa_a_pintar_si_abierto_grifo_2:
    5292   00:5FA1                      		
    5293   00:5FA1  ED 4A               		adc		hl,bc
    5294   00:5FA3  01 20 00            		ld		bc,32
    5295   00:5FA6  ED 42               		sbc		hl,bc
    5296   00:5FA8  3E B6               		ld		a,182
    5297   00:5FAA  77                  		ld		[hl],a
    5298   00:5FAB                      		
    5299   00:5FAB  3A 96 C6            		ld		a,(pantalla_balsa)
    5300   00:5FAE  FE 01               		cp		1
    5301   00:5FB0  20 09               		jr.		nz,balsa_a_pintar_si_abierto_grifo_3
    5302   00:5FB2                      				
    5303   00:5FB2  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5304   00:5FB6  21 61 C0            		ld		hl,buffer_colisiones
    5305   00:5FB9  18 07               		jr.		balsa_a_pintar_si_abierto_grifo_4
    5306   00:5FBB                      		
    5307   00:5FBB                      balsa_a_pintar_si_abierto_grifo_3:
    5308   00:5FBB                      
    5309   00:5FBB  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)
    5310   00:5FBF  21 41 C3            		ld		hl,buffer_colisiones_2
    5311   00:5FC2                      		
    5312   00:5FC2                      balsa_a_pintar_si_abierto_grifo_4:
    5313   00:5FC2                      		
    5314   00:5FC2  ED 4A               		adc		hl,bc
    5315   00:5FC4  3E B5               		ld		a,181
    5316   00:5FC6  77                  		ld		[hl],a
    5317   00:5FC7                      		
    5318   00:5FC7  3A 21 C6            		ld		a,(pantalla_activa)
    5319   00:5FCA  47                  		ld		b,a
    5320   00:5FCB  3A 96 C6            		ld		a,(pantalla_balsa)
    5321   00:5FCE  B8                  		cp		b
    5322   00:5FCF  C0                  		ret		nz
    5323   00:5FD0                      										
    5324   00:5FD0  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)							;dibujamos en pantalla ela cañeria abierta
    5325   00:5FD3  3E B6               		ld		a,182
    5326   00:5FD5  CD C4 83            		call	pinta_en_pantalla
    5327   00:5FD8                      		
    5328   00:5FD8  2A 90 C6            		ld		hl,(posicion_balsa_desde_grifo)	
    5329   00:5FDB  01 20 00            		ld		bc,32
    5330   00:5FDE  ED 4A               		adc		hl,bc
    5331   00:5FE0  3E B5               		ld		a,181
    5332   00:5FE2  C3 C4 83            		jp		pinta_en_pantalla
    5333   00:5FE5                      						
    5334   00:5FE5                      revisa_bombero:
    5335   00:5FE5                      
    5336   00:5FE5  3A 7B C6            		ld		a,(bombero_1)											;si no está activo, vuelve a la gran rutina
    5337   00:5FE8  B7                  		or		a
    5338   00:5FE9  C8                  		ret		z
    5339   00:5FEA                      						
    5340   00:5FEA  FD 21 7C C6         		ld	    iy,bombero_control										;si no tiene orden de aparecer, reduce el tiempo y vuelve a la gran rutina
    5341   00:5FEE  FD 7E 08            		ld		a,(iy+8)
    5342   00:5FF1  B7                  		or		a
    5343   00:5FF2  28 05               		jr.		z,se_activa_el_bombero
    5344   00:5FF4                      		
    5345   00:5FF4  3D                  		dec		a
    5346   00:5FF5  FD 77 08            		ld		(iy+8),a
    5347   00:5FF8                      		
    5348   00:5FF8  C9                  		ret		
    5349   00:5FF9                      		
    5350   00:5FF9                      se_activa_el_bombero:
    5351   00:5FF9                      
    5352   00:5FF9  3A 21 C6            		ld		a,(pantalla_activa)										;control de pantalla en la que está el bombero
    5353   00:5FFC  F5                  		push	af
    5354   00:5FFD  FD 7E 0C            		ld		a,(iy+12)
    5355   00:6000  32 21 C6            		ld		(pantalla_activa),a
    5356   00:6003                      		
    5357   00:6003  FD 7E 09            		ld		a,(iy+9)												;vuelve a darle un poco de retardo al personaje (esto es uno de los puntos que marca la velocidad del bombero)
    5358   00:6006  FD 77 08            		ld		(iy+8),a
    5359   00:6009                      		
    5360   00:6009  FD 7E 0B            		ld		a,(iy+11)												;si no está a cero, no puede ni subir ni bajar escaleras.
    5361   00:600C  B7                  		or		a
    5362   00:600D  20 26               		jr.		nz,resta_y_camina
    5363   00:600F                      		
    5364   00:600F                      		
    5365   00:600F                      		
    5366   00:600F  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene donde está					
    5367   00:6012  57                  		ld		d,a
    5368   00:6013  FD 7E 01            		ld		a,(iy+1)
    5369   00:6016  C6 02               		add		2
    5370   00:6018  5F                  		ld		e,a
    5371   00:6019  CD 79 6E            		call	get_bloque_en_X_Y
    5372   00:601C                      		
    5373   00:601C  FE 29               		cp		41														;si es escalera 1, va a decidir si sube o baja
    5374   00:601E  CC 78 62            		call	z,estamos_en_escalera
    5375   00:6021                      
    5376   00:6021  FE 2A               		cp		42														;si es escalera 2, va a decidir si sube o baja
    5377   00:6023  CC 78 62            		call	z,estamos_en_escalera
    5378   00:6026                      		
    5379   00:6026  FD 7E 07            		ld		a,(iy+7)												;mira en qué estado está para ir a la rutina adecuada
    5380   00:6029                      	
    5381   00:6029  B7                  		or		a
    5382   00:602A  CA E4 60            		jr.		z,revisa_caida_bombero
    5383   00:602D  FE 01               		cp		1
    5384   00:602F  28 0B               		jr.		z,revisa_subida_bombero
    5385   00:6031  FE 02               		cp		2
    5386   00:6033  28 3E               		jr.		z,revisa_bajada_bombero
    5387   00:6035                      
    5388   00:6035                      resta_y_camina:
    5389   00:6035                      
    5390   00:6035  3D                  		dec		a
    5391   00:6036  FD 77 0B            		ld		(iy+11),a
    5392   00:6039  C3 E4 60            		jr.		revisa_caida_bombero
    5393   00:603C                      		
    5394   00:603C                      revisa_subida_bombero:
    5395   00:603C                      				
    5396   00:603C  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene encima					
    5397   00:603F  57                  		ld		d,a
    5398   00:6040  FD 7E 01            		ld		a,(iy+1)
    5399   00:6043  D6 02               		sub		2
    5400   00:6045  5F                  		ld		e,a
    5401   00:6046  CD 79 6E            		call	get_bloque_en_X_Y
    5402   00:6049                      
    5403   00:6049  FE 2A               		cp		42
    5404   00:604B  28 04               		jr.		z,continua_rvb
    5405   00:604D  FE 29               		cp		41
    5406   00:604F  20 65               		jr.		nz,sigue_andando
    5407   00:6051                      
    5408   00:6051                      continua_rvb:
    5409   00:6051                      		
    5410   00:6051  FD 7E 00            		ld		a,(iy)													;comprobamos si está centrado					
    5411   00:6054  3D                  		dec		a
    5412   00:6055  57                  		ld		d,a
    5413   00:6056  FD 7E 01            		ld		a,(iy+1)
    5414   00:6059  D6 02               		sub		2
    5415   00:605B  5F                  		ld		e,a
    5416   00:605C  CD 79 6E            		call	get_bloque_en_X_Y
    5417   00:605F  FE 29               		cp		41
    5418   00:6061  CC AD 60            		call	z,corrige_en_escalera_bombero
    5419   00:6064  FE 2A               		cp		42
    5420   00:6066  CC AD 60            		call	z,corrige_en_escalera_bombero
    5421   00:6069                      		
    5422   00:6069  FD 7E 01            		ld		a,(iy+1)												;sube por la coordenada y
    5423   00:606C  D6 02               		sub		2
    5424   00:606E  FD 77 01            		ld		(iy+1),a
    5425   00:6071                      		
    5426   00:6071  18 4E               		jr.		decide_paso_en_escalera
    5427   00:6073                      	
    5428   00:6073                      revisa_bajada_bombero:
    5429   00:6073                      				
    5430   00:6073  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene debajo de los pies					
    5431   00:6076  57                  		ld		d,a
    5432   00:6077  FD 7E 01            		ld		a,(iy+1)
    5433   00:607A  C6 11               		add		17
    5434   00:607C  5F                  		ld		e,a
    5435   00:607D  CD 79 6E            		call	get_bloque_en_X_Y
    5436   00:6080                      
    5437   00:6080  FE 2A               		cp		42
    5438   00:6082  28 0C               		jr.		z,continua_rbb
    5439   00:6084  FE 49               		cp		73
    5440   00:6086  28 08               		jr.		z,continua_rbb
    5441   00:6088  FE 4A               		cp		74
    5442   00:608A  28 04               		jr.		z,continua_rbb
    5443   00:608C  FE 29               		cp		41
    5444   00:608E  20 26               		jr.		nz,sigue_andando
    5445   00:6090                      
    5446   00:6090                      continua_rbb:
    5447   00:6090                      		
    5448   00:6090  FD 7E 00            		ld		a,(iy)													;comprobamos si está centrado					
    5449   00:6093  3D                  		dec		a
    5450   00:6094  57                  		ld		d,a
    5451   00:6095  FD 7E 01            		ld		a,(iy+1)
    5452   00:6098  D6 02               		sub		2
    5453   00:609A  5F                  		ld		e,a
    5454   00:609B  CD 79 6E            		call	get_bloque_en_X_Y
    5455   00:609E                      		
    5456   00:609E                      ;		cp		41														;si no está centrado va a centrarse
    5457   00:609E                      ;		call	z,corrige_en_escalera_bombero
    5458   00:609E                      		
    5459   00:609E  FE 2A               		cp		42														;si no está centrado va a centrarse
    5460   00:60A0  CC AD 60            		call	z,corrige_en_escalera_bombero
    5461   00:60A3                      		
    5462   00:60A3  FD 7E 01            		ld		a,(iy+1)												;baja por la variable y
    5463   00:60A6  C6 02               		add		2
    5464   00:60A8  FD 77 01            		ld		(iy+1),a
    5465   00:60AB                      		
    5466   00:60AB  18 14               		jr.		decide_paso_en_escalera
    5467   00:60AD                      
    5468   00:60AD                      corrige_en_escalera_bombero:
    5469   00:60AD                      
    5470   00:60AD  FD 7E 00            		ld		a,(iy)													;lo pone hacia la izquierda hasta que se centra
    5471   00:60B0  D6 02               		sub		2
    5472   00:60B2  FD 77 00            		ld		(iy),a
    5473   00:60B5                      				
    5474   00:60B5  C9                  		ret
    5475   00:60B6                      		
    5476   00:60B6                      sigue_andando:
    5477   00:60B6                      
    5478   00:60B6  AF                  		xor		a														;da a la variable adecuada el valor de andando
    5479   00:60B7  FD 77 07            		ld		(iy+7),a
    5480   00:60BA  3E 0F               		ld		a,15
    5481   00:60BC  FD 77 0B            		ld		(iy+11),a		
    5482   00:60BF  18 23               		jr.		revisa_caida_bombero
    5483   00:60C1                      
    5484   00:60C1                      decide_paso_en_escalera:
    5485   00:60C1                      
    5486   00:60C1  FD 7E 05            		ld		a,(iy+5)												;decide el paso en el que está si no pasa por avanzar
    5487   00:60C4                      		
    5488   00:60C4  B7                  		or		a
    5489   00:60C5  28 04               		jr.		z,paso_uno_escaleras
    5490   00:60C7                      		
    5491   00:60C7  FE 01               		cp		1
    5492   00:60C9  28 0D               		jr.		z,paso_dos_escaleras
    5493   00:60CB                      
    5494   00:60CB                      paso_uno_escaleras:
    5495   00:60CB                      
    5496   00:60CB  3E 01               		ld		a,1														;cambia el paso para la siguiente									
    5497   00:60CD  FD 77 05            		ld		(iy+5),a
    5498   00:60D0                      		
    5499   00:60D0  3E DC               		ld		a,55*4													;define los sprites adecuados
    5500   00:60D2  47                  		ld		b,a
    5501   00:60D3  3E C4               		ld		a,49*4
    5502   00:60D5  C3 7F 62            		jr.		ultimas_variables_bombero
    5503   00:60D8                      		
    5504   00:60D8                      paso_dos_escaleras:
    5505   00:60D8                      
    5506   00:60D8  AF                  		xor		a														;cambia el paso para la siguiente
    5507   00:60D9  FD 77 05            		ld		(iy+5),a
    5508   00:60DC                      		
    5509   00:60DC  3E E8               		ld		a,58*4													;define los sprites adecuados
    5510   00:60DE  47                  		ld		b,a
    5511   00:60DF  3E E0               		ld		a,56*4
    5512   00:60E1  C3 7F 62            		jr.		ultimas_variables_bombero
    5513   00:60E4                      						
    5514   00:60E4                      revisa_caida_bombero:
    5515   00:60E4                      		
    5516   00:60E4  CD 2C 62            		call	hacia_donde_quiero_ir									;decide la variable para seguir al prota en las escaleras
    5517   00:60E7                      			
    5518   00:60E7  FD 7E 00            		ld		a,(iy)													;comprobamos lo que tiene debajo de los pies	
    5519   00:60EA  C6 02               		add		2											
    5520   00:60EC  57                  		ld		d,a
    5521   00:60ED  FD 7E 01            		ld		a,(iy+1)
    5522   00:60F0  C6 11               		add		17
    5523   00:60F2  5F                  		ld		e,a
    5524   00:60F3  CD 79 6E            		call	get_bloque_en_X_Y
    5525   00:60F6                      
    5526   00:60F6  FE 29               		cp		41														;si es escalera irá a mirar la dirección ppara seguir como si nada
    5527   00:60F8  28 77               		jr.		z,define_direccion_bombero
    5528   00:60FA  FE 2A               		cp		42
    5529   00:60FC  28 73               		jr.		z,define_direccion_bombero
    5530   00:60FE                      
    5531   00:60FE  FE 20               		cp		32
    5532   00:6100  38 6F               		jr.		c,define_direccion_bombero								;si hay muro vamos a ver la direccion para seguir como si nada
    5533   00:6102                      
    5534   00:6102  FD 7E 00            		ld		a,(iy)
    5535   00:6105  C6 0E               		add		14														;comprobamos lo que tiene debajo de los pies en la parte derecha					
    5536   00:6107  57                  		ld		d,a
    5537   00:6108  FD 7E 01            		ld		a,(iy+1)
    5538   00:610B  C6 11               		add		17
    5539   00:610D  5F                  		ld		e,a
    5540   00:610E  CD 79 6E            		call	get_bloque_en_X_Y
    5541   00:6111                      		
    5542   00:6111  FE 29               		cp		41														;si es escalera irá a mirar la dirección ppara seguir como si nada
    5543   00:6113  28 5C               		jr.		z,define_direccion_bombero
    5544   00:6115  FE 2A               		cp		42
    5545   00:6117  28 58               		jr.		z,define_direccion_bombero
    5546   00:6119                      		
    5547   00:6119  FE 20               		cp		32
    5548   00:611B  38 54               		jr.		c,define_direccion_bombero								;si hay muro vamos a ver la direccion para seguir como si nada
    5549   00:611D                      
    5550   00:611D  FD 7E 01            		ld		a,(iy+1)												;cae dos pixeles
    5551   00:6120  C6 02               		add		2
    5552   00:6122  FD 77 01            		ld		(iy+1),a
    5553   00:6125                      				
    5554   00:6125  3E CC               		ld		a,51*4
    5555   00:6127  DD 77 12            		ld		(ix+18),a
    5556   00:612A  C6 04               		add		4
    5557   00:612C  DD 77 16            		ld		(ix+22),a
    5558   00:612F  C6 04               		add		4
    5559   00:6131  DD 77 1A            		ld		(ix+26),a		
    5560   00:6134                      		
    5561   00:6134  DD 21 2A C0         		ld		ix,atributos_sprite_general
    5562   00:6138                      		
    5563   00:6138  DD 7E 1A            		ld		a,(ix+26)												;define los sprites
    5564   00:613B  47                  		ld		b,a
    5565   00:613C  DD 7E 12            		ld		a,(ix+18)
    5566   00:613F                      		
    5567   00:613F  08                  		ex		af,af'
    5568   00:6140  F1                  		pop		af
    5569   00:6141  C5                  		push	bc
    5570   00:6142  32 21 C6            		ld		(pantalla_activa),a
    5571   00:6145  47                  		ld		b,a
    5572   00:6146  FD 7E 0C            		ld		a,(iy+12)
    5573   00:6149  B8                  		cp		b
    5574   00:614A  C2 C9 62            		jr.		nz,bombero_variables_anuladas
    5575   00:614D                      		
    5576   00:614D  08                  		ex		af,af'
    5577   00:614E  C1                  		pop		bc
    5578   00:614F                      		
    5579   00:614F  DD 21 2A C0         		ld		ix,atributos_sprite_general
    5580   00:6153                      		
    5581   00:6153  DD 77 12            		ld		(ix+18),a												;patrones
    5582   00:6156  C6 04               		add		4
    5583   00:6158  DD 77 16            		ld		(ix+22),a
    5584   00:615B  DD 70 1A            		ld		(ix+26),b
    5585   00:615E                      		
    5586   00:615E  FD 7E 01            		ld		a,(iy+1)												;y
    5587   00:6161  DD 77 10            		ld		(ix+16),a
    5588   00:6164  D6 0A               		sub		a,10
    5589   00:6166  DD 77 18            		ld		(ix+24),a
    5590   00:6169  C6 10               		add		a,16
    5591   00:616B  DD 77 14            		ld		(ix+20),a
    5592   00:616E                      		
    5593   00:616E  C3 AD 62            		jr.		ultimas_variables_bombero_2
    5594   00:6171                      		
    5595   00:6171                      define_direccion_bombero:
    5596   00:6171                      		
    5597   00:6171  AF                  		xor		a														;estado andando
    5598   00:6172  FD 77 07            		ld		(iy+7),a
    5599   00:6175                      		
    5600   00:6175  FD 7E 06            		ld		a,(iy+6)
    5601   00:6178  B7                  		or		a
    5602   00:6179  28 4D               		jr.		z,va_hacia_la_derecha
    5603   00:617B                      
    5604   00:617B                      va_hacia_la_izquierda:
    5605   00:617B                      
    5606   00:617B  FD 7E 00            		ld		a,(iy)
    5607   00:617E  FE 02               		cp		2
    5608   00:6180  DC 49 62            		call	c,bombero_cambia_de_pantalla
    5609   00:6183                      		
    5610   00:6183  FD 7E 00            		ld		a,(iy)													;comprobamos la que tiene a su izquierda
    5611   00:6186  C6 02               		add		2											
    5612   00:6188  57                  		ld		d,a
    5613   00:6189  FD 7E 01            		ld		a,(iy+1)
    5614   00:618C  C6 0B               		add		11
    5615   00:618E  5F                  		ld		e,a
    5616   00:618F  CD 79 6E            		call	get_bloque_en_X_Y
    5617   00:6192                      		
    5618   00:6192  FE 20               		cp		32														;si hay pared cambia la direccion
    5619   00:6194  38 7D               		jr.		c,cambia_la_direccion_bombero
    5620   00:6196  FE 71               		cp		113														;si hay muros de pinchos tambien
    5621   00:6198  28 79               		jr.		z,cambia_la_direccion_bombero
    5622   00:619A  FE 73               		cp		115														
    5623   00:619C  28 75               		jr.		z,cambia_la_direccion_bombero
    5624   00:619E                      		
    5625   00:619E  FD 7E 02            		ld		a,(iy+2)												;va hacia la izquierda lo adecuado
    5626   00:61A1  47                  		ld		b,a
    5627   00:61A2  FD 7E 00            		ld		a,(iy)
    5628   00:61A5  90                  		sub		a,b
    5629   00:61A6                      		
    5630   00:61A6  FD 77 00            		ld		(iy),a
    5631   00:61A9                      		
    5632   00:61A9  FD 7E 05            		ld		a,(iy+5)												;decide el paso que le toca
    5633   00:61AC  B7                  		or		a
    5634   00:61AD  28 0C               		jr.		z,paso_quieto_izquierda									
    5635   00:61AF                      
    5636   00:61AF                      paso_movido_izquierda:
    5637   00:61AF                      		
    5638   00:61AF  AF                  		xor		a														;cambia el paso para la siguiente
    5639   00:61B0  FD 77 05            		ld		(iy+5),a
    5640   00:61B3                      			
    5641   00:61B3  3E B4               		ld		a,45*4													;da los sprites adecuados
    5642   00:61B5  47                  		ld		b,a
    5643   00:61B6  3E 7C               		ld		a,31*4
    5644   00:61B8  C3 7F 62            		jr.		ultimas_variables_bombero
    5645   00:61BB                      		
    5646   00:61BB                      paso_quieto_izquierda:
    5647   00:61BB                      		
    5648   00:61BB  3E 01               		ld		a,1														;cambia el paso para la siguiente
    5649   00:61BD  FD 77 05            		ld		(iy+5),a	
    5650   00:61C0                      	
    5651   00:61C0  3E C0               		ld		a,48*4													;da los sprites adecuados
    5652   00:61C2  47                  		ld		b,a
    5653   00:61C3  3E B8               		ld		a,46*4
    5654   00:61C5  C3 7F 62            		jr.		ultimas_variables_bombero
    5655   00:61C8                      
    5656   00:61C8                      va_hacia_la_derecha:
    5657   00:61C8                      		
    5658   00:61C8  FD 7E 00            		ld		a,(iy)
    5659   00:61CB  FE EF               		cp		239
    5660   00:61CD  D4 49 62            		call	nc,bombero_cambia_de_pantalla
    5661   00:61D0                      		
    5662   00:61D0  FD 7E 00            		ld		a,(iy)													;comprobamos la que tiene a su derecha
    5663   00:61D3  C6 0D               		add		13											
    5664   00:61D5  57                  		ld		d,a
    5665   00:61D6  FD 7E 01            		ld		a,(iy+1)
    5666   00:61D9  C6 0B               		add		11
    5667   00:61DB  5F                  		ld		e,a
    5668   00:61DC  CD 79 6E            		call	get_bloque_en_X_Y
    5669   00:61DF                      		
    5670   00:61DF  FE 20               		cp		32														;si hay pared cambia de dirección
    5671   00:61E1  38 30               		jr.		c,cambia_la_direccion_bombero
    5672   00:61E3  FE 72               		cp		114														;si hay muros de pinchos tambien
    5673   00:61E5  28 2C               		jr.		z,cambia_la_direccion_bombero
    5674   00:61E7  FE 74               		cp		116														
    5675   00:61E9  28 28               		jr.		z,cambia_la_direccion_bombero
    5676   00:61EB  FD 7E 02            		ld		a,(iy+2)												;suma a x lo adecuado
    5677   00:61EE  47                  		ld		b,a
    5678   00:61EF  FD 7E 00            		ld		a,(iy)
    5679   00:61F2  80                  		add		a,b
    5680   00:61F3                      		
    5681   00:61F3  FD 77 00            		ld		(iy),a
    5682   00:61F6                      		
    5683   00:61F6  FD 7E 05            		ld		a,(iy+5)												;mira el paso que le toca
    5684   00:61F9  B7                  		or		a
    5685   00:61FA  28 0B               		jr.		z,paso_quieto_derecha
    5686   00:61FC                      
    5687   00:61FC                      paso_movido_derecha:
    5688   00:61FC                      
    5689   00:61FC  AF                  		xor		a														;cambia el paso para la siguiente
    5690   00:61FD  FD 77 05            		ld		(iy+5),a
    5691   00:6200                      		
    5692   00:6200  3E 78               		ld		a,30*4													;define los sprites adecuados
    5693   00:6202  47                  		ld		b,a
    5694   00:6203  3E 70               		ld		a,28*4
    5695   00:6205  18 78               		jr.		ultimas_variables_bombero
    5696   00:6207                      		
    5697   00:6207                      paso_quieto_derecha:
    5698   00:6207                      
    5699   00:6207  3E 01               		ld		a,1														;cambia el paso para la siguiente
    5700   00:6209  FD 77 05            		ld		(iy+5),a
    5701   00:620C                      
    5702   00:620C  3E 6C               		ld		a,27*4													;define los sprites adecuados
    5703   00:620E  47                  		ld		b,a
    5704   00:620F  3E 64               		ld		a,25*4
    5705   00:6211  18 6C               		jr.		ultimas_variables_bombero
    5706   00:6213                      
    5707   00:6213                      cambia_la_direccion_bombero:		
    5708   00:6213                      
    5709   00:6213  FD 7E 06            		ld		a,(iy+6)												;mira cual es la direccion actual para cambiarla
    5710   00:6216  B7                  		or		a
    5711   00:6217  28 09               		jr.		z,cambia_a_izquierda
    5712   00:6219                      
    5713   00:6219                      cambia_a_derecha:
    5714   00:6219                      
    5715   00:6219  AF                  		xor		a														;cambia a derecha
    5716   00:621A  FD 77 06            		ld		(iy+6),a
    5717   00:621D                      		
    5718   00:621D  F1                  		pop		af
    5719   00:621E  32 21 C6            		ld		(pantalla_activa),a
    5720   00:6221                      				
    5721   00:6221  C9                  		ret
    5722   00:6222                      		
    5723   00:6222                      cambia_a_izquierda:
    5724   00:6222                      
    5725   00:6222  3E 01               		ld		a,1														;cambia a izquierda
    5726   00:6224  FD 77 06            		ld		(iy+6),a
    5727   00:6227                      		
    5728   00:6227  F1                  		pop		af
    5729   00:6228  32 21 C6            		ld		(pantalla_activa),a
    5730   00:622B                      		
    5731   00:622B  C9                  		ret
    5732   00:622C                      
    5733   00:622C                      hacia_donde_quiero_ir:
    5734   00:622C                      
    5735   00:622C  3A 1C C0            		ld		a,(py)													;si prota está por encima querrá subir y si está por debajo querrá bajar
    5736   00:622F  D6 03               		sub		3
    5737   00:6231  47                  		ld		b,a
    5738   00:6232  FD 7E 01            		ld		a,(iy+1)
    5739   00:6235  B8                  		cp		b
    5740   00:6236                      		
    5741   00:6236  38 34               		jr.		c,damos_valor_bajada_bombero
    5742   00:6238                      		
    5743   00:6238  3A 1C C0            		ld		a,(py)													;si prota está por encima querrá subir y si está por debajo querrá bajar
    5744   00:623B  C6 03               		add		3
    5745   00:623D  47                  		ld		b,a
    5746   00:623E  FD 7E 01            		ld		a,(iy+1)
    5747   00:6241  B8                  		cp		b
    5748   00:6242                      		
    5749   00:6242  30 2E               		jr.		nc,damos_valor_subida_bombero
    5750   00:6244                      		
    5751   00:6244  AF                  		xor		a
    5752   00:6245  FD 77 0A            		ld		(iy+10),a
    5753   00:6248                      				
    5754   00:6248  C9                  		ret
    5755   00:6249                      
    5756   00:6249                      bombero_cambia_de_pantalla:
    5757   00:6249                      
    5758   00:6249  FD 7E 0C            		ld		a,(iy+12)
    5759   00:624C  FE 02               		cp		2
    5760   00:624E  20 0E               		jr.		nz,bombero_cambia_de_pantalla_a_2
    5761   00:6250                      
    5762   00:6250                      bombero_cambia_de_pantalla_a_1:
    5763   00:6250                      
    5764   00:6250  3E 01               		ld		a,1
    5765   00:6252  FD 77 0C            		ld		(iy+12),a
    5766   00:6255  32 21 C6            		ld		(pantalla_activa),a
    5767   00:6258  3E EE               		ld		a,238
    5768   00:625A  FD 77 00            		ld		(iy),a
    5769   00:625D                      				
    5770   00:625D  C9                  		ret
    5771   00:625E                      
    5772   00:625E                      bombero_cambia_de_pantalla_a_2:
    5773   00:625E                      
    5774   00:625E  3E 02               		ld		a,2
    5775   00:6260  FD 77 0C            		ld		(iy+12),a
    5776   00:6263  32 21 C6            		ld		(pantalla_activa),a
    5777   00:6266  3E 04               		ld		a,4
    5778   00:6268  FD 77 00            		ld		(iy),a
    5779   00:626B                      				
    5780   00:626B  C9                  		ret
    5781   00:626C                      				
    5782   00:626C                      damos_valor_bajada_bombero:
    5783   00:626C                      				
    5784   00:626C  3E 02               		ld		a,2														; le damos valor a la variable adecuada de bajada
    5785   00:626E  FD 77 0A            		ld		(iy+10),a
    5786   00:6271                      				
    5787   00:6271  C9                  		ret
    5788   00:6272                      
    5789   00:6272                      damos_valor_subida_bombero:
    5790   00:6272                      
    5791   00:6272  3E 01               		ld		a,1														; le damos valor a la variable adecuada de subida
    5792   00:6274  FD 77 0A            		ld		(iy+10),a
    5793   00:6277                      				
    5794   00:6277  C9                  		ret
    5795   00:6278                      
    5796   00:6278                      estamos_en_escalera:
    5797   00:6278                      
    5798   00:6278  FD 7E 0A            		ld		a,(iy+10)
    5799   00:627B  FD 77 07            		ld		(iy+7),a
    5800   00:627E                      				
    5801   00:627E  C9                  		ret
    5802   00:627F                      		
    5803   00:627F                      ultimas_variables_bombero:
    5804   00:627F                      		
    5805   00:627F                      		
    5806   00:627F  08                  		ex		af,af'
    5807   00:6280  F1                  		pop		af
    5808   00:6281  C5                  		push	bc
    5809   00:6282  32 21 C6            		ld		(pantalla_activa),a
    5810   00:6285  47                  		ld		b,a
    5811   00:6286  FD 7E 0C            		ld		a,(iy+12)
    5812   00:6289  B8                  		cp		b
    5813   00:628A  20 3D               		jr.		nz,bombero_variables_anuladas
    5814   00:628C                      		
    5815   00:628C  08                  		ex		af,af'
    5816   00:628D  C1                  		pop		bc
    5817   00:628E                      		
    5818   00:628E  DD 21 2A C0         		ld		ix,atributos_sprite_general
    5819   00:6292                      		
    5820   00:6292  DD 77 12            		ld		(ix+18),a												;patrones
    5821   00:6295  C6 04               		add		4
    5822   00:6297  DD 77 16            		ld		(ix+22),a
    5823   00:629A  DD 70 1A            		ld		(ix+26),b
    5824   00:629D                      		
    5825   00:629D  FD 7E 01            		ld		a,(iy+1)												;y
    5826   00:62A0  DD 77 10            		ld		(ix+16),a
    5827   00:62A3  D6 06               		sub		a,6
    5828   00:62A5  DD 77 14            		ld		(ix+20),a
    5829   00:62A8  C6 10               		add		a,16
    5830   00:62AA  DD 77 18            		ld		(ix+24),a
    5831   00:62AD                      ultimas_variables_bombero_2:		
    5832   00:62AD  FD 7E 00            		ld		a,(iy)													;x
    5833   00:62B0  DD 77 11            		ld		(ix+17),a
    5834   00:62B3  DD 77 15            		ld		(ix+21),a
    5835   00:62B6  DD 77 19            		ld		(ix+25),a
    5836   00:62B9                      				
    5837   00:62B9  3E 01               		ld		a,1														;colores_1
    5838   00:62BB  DD 77 13            		ld		(ix+19),a
    5839   00:62BE  3E 09               		ld		a,9
    5840   00:62C0  DD 77 17            		ld		(ix+23),a
    5841   00:62C3  3E 0A               		ld		a,10
    5842   00:62C5  DD 77 1B            		ld		(ix+27),a
    5843   00:62C8                      				
    5844   00:62C8  C9                  		ret
    5845   00:62C9                      
    5846   00:62C9                      bombero_variables_anuladas:
    5847   00:62C9                      		
    5848   00:62C9  08                  		ex		af,af'
    5849   00:62CA  C1                  		pop		bc
    5850   00:62CB                      		
    5851   00:62CB  DD 21 2A C0         		ld		ix,atributos_sprite_general
    5852   00:62CF                      		
    5853   00:62CF  3E 60               		ld		a,24*4
    5854   00:62D1  DD 77 12            		ld		(ix+18),a												;patrones
    5855   00:62D4  DD 77 16            		ld		(ix+22),a
    5856   00:62D7  DD 77 1A            		ld		(ix+26),a
    5857   00:62DA                      						
    5858   00:62DA  C9                  		ret
    5859   00:62DB                      		
    5860   00:62DB                      revisa_escalera:
    5861   00:62DB                      
    5862   00:62DB  3A 6C C6            		ld		a,(escalera_activada)									;si la escalera no ha sido activada, vuelve a la rutina
    5863   00:62DE  B7                  		or		a
    5864   00:62DF  C8                  		ret		z
    5865   00:62E0                      		
    5866   00:62E0  3A 6F C6            		ld		a,(contador_escalera)
    5867   00:62E3  3D                  		dec		a
    5868   00:62E4  32 6F C6            		ld		(contador_escalera),a
    5869   00:62E7  3A 6F C6            		ld		a,(contador_escalera)
    5870   00:62EA  B7                  		or		a
    5871   00:62EB  C0                  		ret		nz
    5872   00:62EC                      		
    5873   00:62EC  3E 32               		ld		a,50
    5874   00:62EE  32 6F C6            		ld		(contador_escalera),a
    5875   00:62F1                      
    5876   00:62F1  2A 6D C6            		ld		hl,(posicion_escalera)
    5877   00:62F4                      		
    5878   00:62F4  3A 72 C6            		ld		a,(pantalla_escalera)
    5879   00:62F7  FE 01               		cp		1
    5880   00:62F9  20 05               		jr.		nz,revisa_escalera_pantalla_2
    5881   00:62FB                      		
    5882   00:62FB  11 61 C0            		ld		de,buffer_colisiones
    5883   00:62FE  18 03               		jr.		revisa_escalera_continua
    5884   00:6300                      		
    5885   00:6300                      revisa_escalera_pantalla_2:
    5886   00:6300                      
    5887   00:6300  11 41 C3            		ld		de,buffer_colisiones_2
    5888   00:6303                      		
    5889   00:6303                      revisa_escalera_continua:
    5890   00:6303                      			
    5891   00:6303  19                  		add		hl,de													;hl=buffer_colisiones + posicion escalera
    5892   00:6304  01 20 00            		ld		bc,32
    5893   00:6307  ED 42               		sbc		hl,bc
    5894   00:6309  3E 2B               		ld		a,43
    5895   00:630B  77                  		ld		[hl],a
    5896   00:630C  23                  		inc		hl
    5897   00:630D  3E 2C               		ld		a,44
    5898   00:630F  77                  		ld		[hl],a
    5899   00:6310  01 1F 00            		ld		bc,31
    5900   00:6313  ED 4A               		adc		hl,bc		
    5901   00:6315  3E 29               		ld		a,41
    5902   00:6317  77                  		ld		[hl],a
    5903   00:6318  23                  		inc		hl
    5904   00:6319  3E 2A               		ld		a,42
    5905   00:631B  77                  		ld		[hl],a
    5906   00:631C                      
    5907   00:631C  3A 21 C6            		ld		a,(pantalla_activa)
    5908   00:631F  47                  		ld		b,a
    5909   00:6320  3A 72 C6            		ld		a,(pantalla_escalera)
    5910   00:6323  B8                  		cp		b
    5911   00:6324  20 2B               		jr.		nz,revisa_escalera_continua_2
    5912   00:6326                      				
    5913   00:6326  2A 6D C6            		ld		hl,(posicion_escalera)
    5914   00:6329  3E 2B               		ld		a,43
    5915   00:632B  CD C4 83            		call	pinta_en_pantalla
    5916   00:632E                      		
    5917   00:632E  2A 6D C6            		ld		hl,(posicion_escalera)
    5918   00:6331  23                  		inc		hl
    5919   00:6332  3E 2C               		ld		a,44
    5920   00:6334  CD C4 83            		call	pinta_en_pantalla
    5921   00:6337                      		
    5922   00:6337  2A 6D C6            		ld		hl,(posicion_escalera)
    5923   00:633A  01 20 00            		ld		bc,32
    5924   00:633D  ED 4A               		adc		hl,bc
    5925   00:633F  3E 29               		ld		a,41
    5926   00:6341  CD C4 83            		call	pinta_en_pantalla
    5927   00:6344                      		
    5928   00:6344  2A 6D C6            		ld		hl,(posicion_escalera)
    5929   00:6347  01 21 00            		ld		bc,33
    5930   00:634A  ED 4A               		adc		hl,bc
    5931   00:634C  3E 2A               		ld		a,42
    5932   00:634E  CD C4 83            		call	pinta_en_pantalla
    5933   00:6351                      
    5934   00:6351                      revisa_escalera_continua_2:
    5935   00:6351                      		
    5936   00:6351  3E 0C               		ld		a,12													;efecto de escalera_activada
    5937   00:6353  CD D6 83            		call	efecto_sonido	
    5938   00:6356                      		
    5939   00:6356  3A 6D C6            		ld		a,(posicion_escalera)
    5940   00:6359  47                  		ld		b,a
    5941   00:635A  3A 70 C6            		ld		a,(limite_escalera)
    5942   00:635D  B8                  		cp		b
    5943   00:635E  28 09               		jr.		z,(se_acabo_la_escalera)
    5944   00:6360                      		
    5945   00:6360  3A 6D C6            		ld		a,(posicion_escalera)
    5946   00:6363  D6 20               		sub		32
    5947   00:6365  32 6D C6            		ld		(posicion_escalera),a
    5948   00:6368                      		
    5949   00:6368                      		
    5950   00:6368  C9                  		ret
    5951   00:6369                      
    5952   00:6369                      se_acabo_la_escalera:
    5953   00:6369                      
    5954   00:6369  AF                  		xor		a
    5955   00:636A  32 6C C6            		ld		(escalera_activada),a
    5956   00:636D                      		
    5957   00:636D  C9                  		ret
    5958   00:636E                      		
    5959   00:636E                      pulsa_una_tecla:
    5960   00:636E                      		
    5961   00:636E  3A 02 C0            		ld		a,(petiso_que_toca)
    5962   00:6371  FE 00               		cp		0
    5963   00:6373  CA 7B 63            		jp		z,pulsa_una_tecla_sigue
    5964   00:6376                      
    5965   00:6376  3D                  		dec		a
    5966   00:6377  32 02 C0            		ld		(petiso_que_toca),a
    5967   00:637A                      		
    5968   00:637A  C9                  		ret
    5969   00:637B                      		
    5970   00:637B                      pulsa_una_tecla_sigue:
    5971   00:637B                      		
    5972   00:637B  3E 06               		ld		a,6
    5973   00:637D  CD 41 01            		call	SNSMAT
    5974   00:6380  CB 6F               		bit		5,a
    5975   00:6382  28 60               		jr.		z,pausa_el_juego
    5976   00:6384  CB 77               		bit		6,a
    5977   00:6386  28 32               		jr.		z,musica_off_on
    5978   00:6388  CB 7F               		bit		7,a														
    5979   00:638A  28 0A               		jr.		z,pasa_fase_con_trampa									
    5980   00:638C                      		
    5981   00:638C  3E 07               		ld		a,7
    5982   00:638E  CD 41 01            		call	SNSMAT
    5983   00:6391  CB 4F               		bit		1,a
    5984   00:6393  28 13               		jr.		z,una_vida_menos
    5985   00:6395                      				
    5986   00:6395  C9                  		ret
    5987   00:6396                      
    5988   00:6396                      pasa_fase_con_trampa:													
    5989   00:6396                      		
    5990   00:6396  3A 74 C6            		ld		a,(trampa)												;poner ; para hacer trampa
    5991   00:6399  B7                  		or		a														;poner ; para hacer trampa
    5992   00:639A  C8                  		ret		z														;poner ; para hacer trampa
    5993   00:639B                      				
    5994   00:639B  3D                  		dec		a
    5995   00:639C  32 74 C6            		ld		(trampa),a
    5996   00:639F                      		
    5997   00:639F  CD 2F 57            		call	activa_mute												
    5998   00:63A2  3E 01               		ld		a,1														
    5999   00:63A4  32 63 C6            		ld		(pasamos_la_fase),a										
    6000   00:63A7                      		
    6001   00:63A7  C9                  		ret																
    6002   00:63A8                      	
    6003   00:63A8                      una_vida_menos:
    6004   00:63A8                      		
    6005   00:63A8  CD 2F 57            		call	activa_mute
    6006   00:63AB                      		
    6007   00:63AB  3E 08               		ld		a,8														;efecto muerte
    6008   00:63AD  CD D6 83            		call	efecto_sonido
    6009   00:63B0                      
    6010   00:63B0  3A 1E C0            		ld		a,(vidas_prota)
    6011   00:63B3  3D                  		dec		a
    6012   00:63B4  32 1E C0            		ld		(vidas_prota),a
    6013   00:63B7                      		
    6014   00:63B7  C3 BD 64            		jr.		repite_fase
    6015   00:63BA                      
    6016   00:63BA                      musica_off_on:
    6017   00:63BA                      		
    6018   00:63BA  3E 0A               		ld		a,10
    6019   00:63BC  32 02 C0            		ld		(petiso_que_toca),a
    6020   00:63BF                      		
    6021   00:63BF  3A 78 C6            		ld		a,(ESTADO_MUSICA)
    6022   00:63C2  B7                  		or		a
    6023   00:63C3  CA D2 63            		jp		z,reconectamos_musica
    6024   00:63C6  FE 01               		cp		1
    6025   00:63C8  CA DB 63            		jp		z,reconectamos_musica_2
    6026   00:63CB  AF                  		xor		a
    6027   00:63CC  32 78 C6            		ld		(ESTADO_MUSICA),a
    6028   00:63CF                      		
    6029   00:63CF  C3 2F 57            		jp		activa_mute
    6030   00:63D2                      		
    6031   00:63D2                      reconectamos_musica:
    6032   00:63D2                      
    6033   00:63D2  3E 01               		ld		a,1
    6034   00:63D4  32 78 C6            		ld		(ESTADO_MUSICA),a
    6035   00:63D7                      		
    6036   00:63D7  CD 3A 57            		call	activa_musica_fases										;inicia el reproductor de PT3
    6037   00:63DA                      				
    6038   00:63DA  C9                  		ret
    6039   00:63DB                      		
    6040   00:63DB                      reconectamos_musica_2:
    6041   00:63DB                      
    6042   00:63DB  3E 02               		ld		a,2
    6043   00:63DD  32 78 C6            		ld		(ESTADO_MUSICA),a
    6044   00:63E0                      		
    6045   00:63E0  CD 64 57            		call	activa_musica_menu										;inicia el reproductor de PT3
    6046   00:63E3                      						
    6047   00:63E3  C9                  		ret
    6048   00:63E4                      		
    6049   00:63E4                      pausa_el_juego:
    6050   00:63E4                      		
    6051   00:63E4  3E 05               		ld		a,5													;si se puede pulsar, pone el contador para evitar que se vuelva a pulsar
    6052   00:63E6  32 02 C0            		ld		(petiso_que_toca),a
    6053   00:63E9                      		
    6054   00:63E9  CD 2F 57            		call	activa_mute
    6055   00:63EC                      
    6056   00:63EC  21 87 AC            		ld		hl,pause												;anunciamos pausa
    6057   00:63EF  11 E2 1A            		ld		de,#1ae2
    6058   00:63F2  01 05 00            		ld		bc,5
    6059   00:63F5  CD 5C 00            		call	GRABAVRAM
    6060   00:63F8                      		
    6061   00:63F8  3E 09               		ld		a,9														;efecto de pausa
    6062   00:63FA  CD D6 83            		call	efecto_sonido	
    6063   00:63FD                      		
    6064   00:63FD                      
    6065   00:63FD  CD E4 56            		call	SPRITES_PAUSA
    6066   00:6400                      		
    6067   00:6400                      ;		ld		a,100
    6068   00:6400                      ;		push	af
    6069   00:6400                      		
    6070   00:6400                      ;valor_anadido:
    6071   00:6400                      		
    6072   00:6400                      ;		ld		a,255
    6073   00:6400                      		
    6074   00:6400                      ;retardo_rutina_de_pausa:
    6075   00:6400                      		
    6076   00:6400                      ;		dec		a
    6077   00:6400                      ;		or		a
    6078   00:6400                      ;		jr.		nz,retardo_rutina_de_pausa
    6079   00:6400                      ;		pop		af
    6080   00:6400                      ;		dec		a
    6081   00:6400                      ;		push	af
    6082   00:6400                      ;		or		a
    6083   00:6400                      ;		jr.		nz,valor_anadido
    6084   00:6400                      ;		pop		af
    6085   00:6400                      		
    6086   00:6400                      rutina_de_pausa:
    6087   00:6400                      	
    6088   00:6400  CD 64 64            		call	mira_si_aprieta_una_tecla
    6089   00:6403  28 76               		jr.		Z,reconectamos
    6090   00:6405                      		
    6091   00:6405  01 0A 00            		ld		bc,10
    6092   00:6408  ED 43 17 C0         		ld		(clock),bc
    6093   00:640C                      		
    6094   00:640C                      animacion_rutina_de_pausa_1:
    6095   00:640C                      
    6096   00:640C  DD 21 2A C0         		ld		ix,atributos_sprite_general
    6097   00:6410                      		
    6098   00:6410  DD 7E 00            		ld		a,[ix]
    6099   00:6413  D6 05               		sub		5
    6100   00:6415  DD 77 08            		ld		[ix+8],a
    6101   00:6418  C6 10               		add		16
    6102   00:641A  DD 77 04            		ld		[ix+4],a
    6103   00:641D                      		
    6104   00:641D  AF                  		xor		a
    6105   00:641E  DD 77 02            		ld		[ix+2],a
    6106   00:6421  C6 04               		add		4
    6107   00:6423  DD 77 06            		ld		[ix+6],a
    6108   00:6426  C6 04               		add		4
    6109   00:6428  DD 77 0A            		ld		[ix+10],a
    6110   00:642B                      
    6111   00:642B  CD C6 68            		call	atributos_sprites
    6112   00:642E                      
    6113   00:642E                      animacion_rutina_de_pausa_2:
    6114   00:642E                      
    6115   00:642E  76                  		halt
    6116   00:642F  3A 17 C0            		ld		a,(clock)
    6117   00:6432  3D                  		dec		a
    6118   00:6433  32 17 C0            		ld		(clock),a
    6119   00:6436  B7                  		or		a
    6120   00:6437  20 F5               		jr.		nz,animacion_rutina_de_pausa_2
    6121   00:6439                      		
    6122   00:6439  CD 64 64            		call	mira_si_aprieta_una_tecla
    6123   00:643C  28 3D               		jr.		Z,reconectamos
    6124   00:643E                      		
    6125   00:643E  01 0A 00            		ld		bc,10
    6126   00:6441  ED 43 17 C0         		ld		(clock),bc
    6127   00:6445                      		
    6128   00:6445  3E 0C               		ld		a,12
    6129   00:6447  DD 77 02            		ld		[ix+2],a
    6130   00:644A  C6 04               		add		4
    6131   00:644C  DD 77 06            		ld		[ix+6],a
    6132   00:644F  C6 04               		add		4
    6133   00:6451  DD 77 0A            		ld		[ix+10],a
    6134   00:6454                      
    6135   00:6454  CD C6 68            		call	atributos_sprites
    6136   00:6457                      
    6137   00:6457                      animacion_rutina_de_pausa_3:
    6138   00:6457                      		
    6139   00:6457  76                  		halt
    6140   00:6458  3A 17 C0            		ld		a,(clock)
    6141   00:645B  3D                  		dec		a
    6142   00:645C  32 17 C0            		ld		(clock),a
    6143   00:645F  B7                  		or		a
    6144   00:6460  20 F5               		jr.		nz,animacion_rutina_de_pausa_3
    6145   00:6462                      		
    6146   00:6462  18 9C               		jr. 	rutina_de_pausa
    6147   00:6464                      
    6148   00:6464                      mira_si_aprieta_una_tecla:
    6149   00:6464                      		
    6150   00:6464  3A 02 C0            		ld		a,(petiso_que_toca)
    6151   00:6467  FE 00               		cp		0
    6152   00:6469  CA 73 64            		jp		z,mira_si_aprieta_una_tecla_dos
    6153   00:646C                      
    6154   00:646C  3D                  		dec		a
    6155   00:646D  32 02 C0            		ld		(petiso_que_toca),a
    6156   00:6470  F6 FF               		or		11111111b
    6157   00:6472  C9                  		ret
    6158   00:6473                      		
    6159   00:6473                      mira_si_aprieta_una_tecla_dos:
    6160   00:6473                      		
    6161   00:6473  3E 06               		ld		a,6
    6162   00:6475  CD 41 01            		call	SNSMAT
    6163   00:6478  CB 6F               		bit		5,a
    6164   00:647A                      				
    6165   00:647A  C9                  		ret
    6166   00:647B                      		
    6167   00:647B                      reconectamos:
    6168   00:647B                      		
    6169   00:647B  3E 0A               		ld		a,10
    6170   00:647D  32 02 C0            		ld		(petiso_que_toca),a
    6171   00:6480                      		
    6172   00:6480  21 8C AC            		ld		hl,ladrillos											;recupera los ladrillos borrados
    6173   00:6483  11 E2 1A            		ld		de,#1ae2
    6174   00:6486  01 05 00            		ld		bc,5
    6175   00:6489  CD 5C 00            		call	GRABAVRAM
    6176   00:648C                      		
    6177   00:648C  3E 09               		ld		a,9
    6178   00:648E  DD 77 0B            		ld		[ix+11],a
    6179   00:6491                      		
    6180   00:6491  3A 5A C0            		ld		a,(tiene_objeto)
    6181   00:6494  FE 01               		cp		1
    6182   00:6496  28 0A               		jr.		z,reconectamos_bomba
    6183   00:6498  FE 02               		cp		2
    6184   00:649A  28 0B               		jr.		z,reconectamos_cuchillo
    6185   00:649C  76                  		halt
    6186   00:649D  CD 08 57            		call	SPRITES_PROTA_NORMAL
    6187   00:64A0                      		
    6188   00:64A0  18 08               		jr.		reconectamos_sigue
    6189   00:64A2                      		
    6190   00:64A2                      reconectamos_bomba:
    6191   00:64A2                      
    6192   00:64A2  CD F0 56            		call	SPRITES_BOMBA
    6193   00:64A5  18 03               		jr.		reconectamos_sigue
    6194   00:64A7                      
    6195   00:64A7                      reconectamos_cuchillo:
    6196   00:64A7                      
    6197   00:64A7  CD FC 56            		call	SPRITES_CUCHILLO
    6198   00:64AA                      
    6199   00:64AA                      reconectamos_sigue:
    6200   00:64AA                      		
    6201   00:64AA  3E 09               		ld		a,9														;efecto de pausa
    6202   00:64AC  CD D6 83            		call	efecto_sonido
    6203   00:64AF                      				
    6204   00:64AF  3A 78 C6            		ld		a,(ESTADO_MUSICA)
    6205   00:64B2  FE 02               		cp		2
    6206   00:64B4  CA 64 57            		jp		z,activa_musica_menu
    6207   00:64B7  FE 01               		cp		1
    6208   00:64B9  CA 3A 57            		jp		z,activa_musica_fases
    6209   00:64BC                      		
    6210   00:64BC  C9                  		ret
    6211   00:64BD                      		
    6212   00:64BD                      repite_fase:
    6213   00:64BD                      		
    6214   00:64BD  DD 21 2A C0         		ld		ix,atributos_sprite_general
    6215   00:64C1                      				
    6216   00:64C1  CD A6 45            		call	limpia_sprites
    6217   00:64C4                      		
    6218   00:64C4  CD 7E 57            		call	activa_musica_muerto
    6219   00:64C7  CD 7D 7A            		call	puntuacion_vidas_fase
    6220   00:64CA  CD A3 56            		call	SPRITES_UNO
    6221   00:64CD                      		
    6222   00:64CD  3A 1E C0            		ld		a,(vidas_prota)
    6223   00:64D0  B7                  		or		a
    6224   00:64D1  28 37               		jr.		z,termina_partida_mal
    6225   00:64D3                      
    6226   00:64D3                      buscando_la_fase:
    6227   00:64D3                      		
    6228   00:64D3  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    6229   00:64D6  11 E4 64            		ld 		de,POINT_de_acceso_a_fases
    6230   00:64D9                      
    6231   00:64D9                      lista_de_opciones:
    6232   00:64D9                      		
    6233   00:64D9  3D                  		dec		a
    6234   00:64DA                      
    6235   00:64DA  26 00               		ld h,0
    6236   00:64DC  6F                  		ld l,a
    6237   00:64DD  29                  		add hl,hl
    6238   00:64DE                      
    6239   00:64DE  19                  		add hl,de														;hl ya esta apungando a la posicion correcta de la tabla
    6240   00:64DF                      		
    6241   00:64DF  5E                  		ld e,(hl)														;extraemos la direccion de la etiqueta
    6242   00:64E0  23                  		inc hl
    6243   00:64E1  56                  		ld d,(hl)
    6244   00:64E2  EB                  		ex de,hl 														;hl ya tiene la direccion de salto!
    6245   00:64E3  E9                  		jp (hl)
    6246   00:64E4                      								
    6247   00:64E4                      POINT_de_acceso_a_fases:
    6248   00:64E4                      		
    6249   00:64E4  15 48               		dw	bloque_sanctuary_1
    6250   00:64E6  91 48               		dw	bloque_sanctuary_2
    6251   00:64E8  08 49               		dw	bloque_sanctuary_3
    6252   00:64EA  80 49               		dw	bloque_sanctuary_4
    6253   00:64EC  08 4A               		dw	bloque_sanctuary_5
    6254   00:64EE  8F 4A               		dw	bloque_sanctuary_6
    6255   00:64F0  5F 4B               		dw	bloque_sanctuary_7
    6256   00:64F2  13 4C               		dw	bloque_sanctuary_8
    6257   00:64F4  E5 4C               		dw	bloque_sanctuary_9
    6258   00:64F6  87 4D               		dw	bloque_sanctuary_10
    6259   00:64F8  43 4E               		dw	bloque_sanctuary_11
    6260   00:64FA  C9 4E               		dw	bloque_sanctuary_12
    6261   00:64FC  6F 4F               		dw	bloque_sanctuary_13
    6262   00:64FE  0D 50               		dw	bloque_sanctuary_14
    6263   00:6500  99 50               		dw	bloque_sanctuary_15
    6264   00:6502  32 51               		dw	bloque_sanctuary_16
    6265   00:6504  DF 51               		dw	bloque_sanctuary_17
    6266   00:6506  B1 52               		dw	bloque_sanctuary_18
    6267   00:6508  D0 53               		dw	FINAL_TEMPLO
    6268   00:650A                      						
    6269   00:650A                      termina_partida_mal:
    6270   00:650A                      		
    6271   00:650A  F3                  		di
    6272   00:650B  31 80 F3             		ld		sp,#F380												; colocmos la pila en esta posicion, que suele ser donde empieza las zona ram que usa el S.O. del MSX. Recuerda que la pila crece hacia abajo así que no pisaremos nada
    6273   00:650E  FB                  		ei
    6274   00:650F                      		
    6275   00:650F  CD 41 00            		call	DISSCR	
    6276   00:6512                      		
    6277   00:6512  F3                  		di
    6278   00:6513                      		
    6279   00:6513  21 3F 96            		ld		hl,blanco												;tiles de base de pantalla
    6280   00:6516  11 20 18            		ld		de,#1820
    6281   00:6519  CD FC 83            		call	depack_VRAM
    6282   00:651C                      		
    6283   00:651C  FB                  		ei
    6284   00:651D                      		
    6285   00:651D  3A 01 C0            		LD		a,(idioma)
    6286   00:6520  B7                  		or		a
    6287   00:6521  28 1A               		jr.		z,termina_en_castellano
    6288   00:6523                      
    6289   00:6523                      termina_en_ingles:
    6290   00:6523                      		
    6291   00:6523  21 55 AC            		ld		hl,game_over											;anunciamos final malo
    6292   00:6526  11 8A 19            		ld		de,#198a
    6293   00:6529  01 0B 00            		ld		bc,11
    6294   00:652C  CD 5C 00            		call	GRABAVRAM
    6295   00:652F                      		
    6296   00:652F  21 6B AC            		ld		hl,continua_i											;f5 continua
    6297   00:6532  11 A9 19            		ld		de,#19a9
    6298   00:6535  01 0E 00            		ld		bc,14
    6299   00:6538  CD 5C 00            		call	GRABAVRAM
    6300   00:653B                      		
    6301   00:653B  18 18               		jr.		termina_partida_mal_continua
    6302   00:653D                      		
    6303   00:653D                      termina_en_castellano:
    6304   00:653D                      		
    6305   00:653D  21 60 AC            		ld		hl,se__acabo											;anunciamos final malo
    6306   00:6540  11 8A 19            		ld		de,#198a
    6307   00:6543  01 0B 00            		ld		bc,11
    6308   00:6546  CD 5C 00            		call	GRABAVRAM
    6309   00:6549                      		
    6310   00:6549  21 79 AC            		ld		hl,continua_e											;f5 continua
    6311   00:654C  11 A9 19            		ld		de,#19a9
    6312   00:654F  01 0E 00            		ld		bc,14
    6313   00:6552  CD 5C 00            		call	GRABAVRAM
    6314   00:6555                      	
    6315   00:6555                      termina_partida_mal_continua:
    6316   00:6555                      		
    6317   00:6555  CD 44 00            		call	ENASCR
    6318   00:6558  CD 9B 65            		call 	musica_sin_bucle
    6319   00:655B                      		
    6320   00:655B  21 34 C6            		ld		hl,GAME_OVER-99											;hl ahora vale la direccion donde se encuentra la cancion
    6321   00:655E  CD CF 85            		call	PT3_INIT												;inicia el reproductor de PT3
    6322   00:6561                      		
    6323   00:6561  21 EE 02            		ld		hl,750
    6324   00:6564  22 17 C0            		ld		(clock),hl
    6325   00:6567                      				
    6326   00:6567                      string_para_reiniciar_programa:
    6327   00:6567                      
    6328   00:6567  76                  		halt
    6329   00:6568  2A 17 C0            		ld		hl,(clock)
    6330   00:656B  01 01 00            		ld		bc,1		
    6331   00:656E  ED 42               		sbc		hl,bc
    6332   00:6570  22 17 C0            		ld		(clock),hl
    6333   00:6573  28 20               		jr.		z,inicio
    6334   00:6575                      		
    6335   00:6575  3E 07               		ld		a,7
    6336   00:6577  CD 41 01            		call	SNSMAT
    6337   00:657A  CB 4F               		bit		1,a
    6338   00:657C  28 11               		jr.		z,resetea_para_continue
    6339   00:657E                      		
    6340   00:657E  AF                  		xor		a
    6341   00:657F  CD D8 00            		CALL	ONSTRIG
    6342   00:6582  B7                  		or		a
    6343   00:6583  20 10               		jr.		nz,inicio
    6344   00:6585                      		
    6345   00:6585  3E 01               		ld		a,1
    6346   00:6587  CD D8 00            		CALL	ONSTRIG
    6347   00:658A  B7                  		or		a
    6348   00:658B  28 DA               		jr.		z,string_para_reiniciar_programa
    6349   00:658D                      		
    6350   00:658D  18 06               		jr.		inicio
    6351   00:658F                      		
    6352   00:658F                      resetea_para_continue:
    6353   00:658F                      
    6354   00:658F  CD AF 47            		call	datos_a_preparar
    6355   00:6592                      		
    6356   00:6592  C3 BD 64            		jr.		repite_fase
    6357   00:6595                      inicio:
    6358   00:6595                      		
    6359   00:6595  CD 64 57            		call	activa_musica_menu
    6360   00:6598  C3 94 42            		jr.		MENU
    6361   00:659B                      
    6362   00:659B                      musica_sin_bucle:
    6363   00:659B                      		
    6364   00:659B  F3                  		di
    6365   00:659C  3A 00 F0            		ld		a,[PT3_SETUP]											;musica sin bucle
    6366   00:659F  F6 01               		or		00000001b
    6367   00:65A1  32 00 F0            		ld		[PT3_SETUP],a
    6368   00:65A4  FB                  		ei
    6369   00:65A5  C9                  		ret
    6370   00:65A6                      
    6371   00:65A6                      musica_con_bucle:
    6372   00:65A6                      		
    6373   00:65A6  F3                  		di
    6374   00:65A7  3A 00 F0            		ld		a,[PT3_SETUP]											;musica CON bucle
    6375   00:65AA  E6 FE               		and		11111110b
    6376   00:65AC  32 00 F0            		ld		[PT3_SETUP],a        
    6377   00:65AF  FB                  		ei
    6378   00:65B0  C9                  		ret
    6379   00:65B1                      		
    6380   00:65B1                      colision_bombero_prota:
    6381   00:65B1                      		
    6382   00:65B1  3A 76 C6            		ld		a,(inmune_bomb)											;si se ha activado el huevo adecuado, no hay colision
    6383   00:65B4  FE 01               		cp		1
    6384   00:65B6  C8                  		ret		z
    6385   00:65B7                      				
    6386   00:65B7  3A 7B C6            		ld		a,(bombero_1)											;si no está activo, no hay colision
    6387   00:65BA  B7                  		or		a
    6388   00:65BB  C8                  		ret		z
    6389   00:65BC                      		
    6390   00:65BC  FD 21 7C C6         		ld	    iy,bombero_control										
    6391   00:65C0                      
    6392   00:65C0  FD 7E 08            		ld		a,(iy+8)												;si no está a vista, no hay colision
    6393   00:65C3  B7                  		or		a
    6394   00:65C4  C0                  		ret		nz
    6395   00:65C5                      
    6396   00:65C5                      		
    6397   00:65C5  CD 66 67            		call	coteja_colision_prota_bombero
    6398   00:65C8  3A 7A C6            		ld		a,(colision_bombero_prota_real)
    6399   00:65CB  B7                  		or		a
    6400   00:65CC  C8                  		ret		z
    6401   00:65CD                      		
    6402   00:65CD  AF                  		xor		a
    6403   00:65CE  32 7A C6            		ld		(colision_bombero_prota_real),a		
    6404   00:65D1                      		
    6405   00:65D1  DD 21 2A C0         		ld		ix,atributos_sprite_general
    6406   00:65D5                      					
    6407   00:65D5  FD 7E 01            		ld		a,(iy+1)												;posiciones y
    6408   00:65D8  3D                  		dec		a
    6409   00:65D9  CD DA 83            		call	CERO_CUATRO_OCHO
    6410   00:65DC  3C                  		inc		a
    6411   00:65DD  DD 77 10            		ld		(ix+16),a
    6412   00:65E0  D6 06               		sub		6
    6413   00:65E2  DD 77 08            		ld		(ix+8),a
    6414   00:65E5  C6 10               		add		16
    6415   00:65E7  DD 77 14            		ld		(ix+20),a
    6416   00:65EA                      		
    6417   00:65EA  FD 7E 00            		ld		a,(iy)													;patrones x
    6418   00:65ED  D6 08               		sub		8
    6419   00:65EF  CD E4 83            		call	UNO_CINCO_NUEVE
    6420   00:65F2  C6 0D               		add		13
    6421   00:65F4  DD 77 11            		ld		(ix+17),a
    6422   00:65F7  DD 77 15            		ld		(ix+21),a
    6423   00:65FA  DD 77 09            		ld		(ix+9),a		
    6424   00:65FD  3E EC               		ld		a,59*4													;patrones
    6425   00:65FF  CD EE 83            		call	DOS_SEIS_DIEZ
    6426   00:6602  3E 7C               		ld		a,31*4
    6427   00:6604  DD 77 12            		ld		(ix+18),a
    6428   00:6607  3E 80               		ld		a,32*4
    6429   00:6609  DD 77 0A            		ld		(ix+10),a
    6430   00:660C  3E B4               		ld		a,45*4
    6431   00:660E  DD 77 16            		ld		(ix+22),a
    6432   00:6611                      		
    6433   00:6611  3E 09               		ld		a,9														;colores
    6434   00:6613  DD 77 03            		ld		(ix+3),a												;cara prota
    6435   00:6616  DD 77 0B            		ld		(ix+11),a												;cara bombero
    6436   00:6619  3E 01               		ld		a,1
    6437   00:661B  DD 77 13            		ld		(ix+19),a												;contorno bombero
    6438   00:661E  3E 0F               		ld		a,15
    6439   00:6620  DD 77 07            		ld		(ix+7),a												;agua
    6440   00:6623  3E 0A               		ld		a,10
    6441   00:6625  DD 77 17            		ld		(ix+23),a												;ropa bombero
    6442   00:6628                      				
    6443   00:6628  18 58               		jr.		espera_por_muerte
    6444   00:662A                      
    6445   00:662A                      muy_mojado_fin_partida:
    6446   00:662A                      
    6447   00:662A  CD 4B 73            		call	moja_prota
    6448   00:662D  3E 01               		ld		a,1
    6449   00:662F  32 21 C0            		ld		(muerto),a
    6450   00:6632  3A 1E C0            		ld		a,(vidas_prota)
    6451   00:6635  3D                  		dec		a
    6452   00:6636  32 1E C0            		ld		(vidas_prota),a
    6453   00:6639  18 47               		jr.		espera_por_muerte
    6454   00:663B                      		
    6455   00:663B                      colisiones_serpientes_prota_1:
    6456   00:663B                      
    6457   00:663B  3A 75 C6            		ld		a,(inmune_serp)
    6458   00:663E  FE 01               		cp		1
    6459   00:6640  C8                  		ret		z
    6460   00:6641                      		
    6461   00:6641  3A 5E C6            		ld		a,(serp1)
    6462   00:6644  B7                  		or		a
    6463   00:6645  28 72               		jr.		z,colisiones_serpientes_prota_2
    6464   00:6647  FE 03               		cp		3
    6465   00:6649  28 6E               		jr.		z,colisiones_serpientes_prota_2
    6466   00:664B                      		
    6467   00:664B  FD 21 35 C6         		ld		iy,variables_serpiente_1								;está en la misma pantalla?
    6468   00:664F  CD 9A 66            		call	comun_colision_serpentes_1
    6469   00:6652  20 65               		jr.		nz,colisiones_serpientes_prota_2		
    6470   00:6654                      				
    6471   00:6654  CD A3 66            		call	comun_colision_serpentes_2
    6472   00:6657                      
    6473   00:6657  28 60               		jr.		z,colisiones_serpientes_prota_2
    6474   00:6659                      		
    6475   00:6659  CD AB 66            		call	comun_colision_serpentes_3
    6476   00:665C  DD 70 12            		ld		(ix+18),b
    6477   00:665F  DD 77 16            		ld		(ix+22),a	
    6478   00:6662                      		
    6479   00:6662                      comunes_muerte_por_serpiente:			
    6480   00:6662                      		
    6481   00:6662  FD 7E 01            		ld		a,(iy+1)
    6482   00:6665  CD DA 83            		call	CERO_CUATRO_OCHO
    6483   00:6668                      		
    6484   00:6668  FD 7E 00            		ld		a,(iy)
    6485   00:666B  CD E4 83            		call	UNO_CINCO_NUEVE
    6486   00:666E                      		
    6487   00:666E  3E BC               		ld		a,47*4
    6488   00:6670  CD EE 83            		call	DOS_SEIS_DIEZ
    6489   00:6673                      		
    6490   00:6673  3E C4               		ld		a,49*4
    6491   00:6675  DD 77 06            		ld		(ix+6),a
    6492   00:6678                      		
    6493   00:6678  3E C8               		ld		a,50*4
    6494   00:667A  DD 77 0A            		ld		(ix+10),a
    6495   00:667D                      		
    6496   00:667D                      		
    6497   00:667D  3E 01               		ld		a,1
    6498   00:667F  DD 77 03            		ld		(ix+3),a
    6499   00:6682                      				
    6500   00:6682                      espera_por_muerte:
    6501   00:6682                      
    6502   00:6682  CD C6 68            		call	atributos_sprites
    6503   00:6685                      	
    6504   00:6685  CD 2F 57            		call	activa_mute
    6505   00:6688                      	
    6506   00:6688  3E 08               		ld		a,8						;efecto sonoro de muerte de prota
    6507   00:668A  CD D6 83            		call	efecto_sonido		
    6508   00:668D                      		
    6509   00:668D  AF                  		xor		a
    6510   00:668E  32 21 C0            		ld		(muerto),a
    6511   00:6691                      		
    6512   00:6691  21 96 00            		ld		hl,150
    6513   00:6694  22 17 C0            		ld		(clock),hl						
    6514   00:6697  C3 94 57            		jp		rutina_de_esperar_un_rato
    6515   00:669A                      
    6516   00:669A                      comun_colision_serpentes_1:
    6517   00:669A                      
    6518   00:669A  FD 7E 09            		ld		a,(iy+9)												
    6519   00:669D  47                  		ld		b,a
    6520   00:669E  3A 21 C6            		ld		a,(pantalla_activa)
    6521   00:66A1  B8                  		cp		b
    6522   00:66A2                      		
    6523   00:66A2  C9                  		ret
    6524   00:66A3                      
    6525   00:66A3                      comun_colision_serpentes_2:
    6526   00:66A3                      		
    6527   00:66A3  CD 24 67            		call	coteja_colision_prota_serpiente
    6528   00:66A6  3A 5D C6            		ld		a,(colision_cuchillo_serp_real)
    6529   00:66A9  B7                  		or		a
    6530   00:66AA                      		
    6531   00:66AA  C9                  		ret
    6532   00:66AB                      
    6533   00:66AB                      comun_colision_serpentes_3:
    6534   00:66AB                      
    6535   00:66AB  AF                  		xor		a
    6536   00:66AC  32 5D C6            		ld		(colision_cuchillo_serp_real),a		
    6537   00:66AF                      		
    6538   00:66AF  DD 21 2A C0         		ld		ix,atributos_sprite_general
    6539   00:66B3                      		
    6540   00:66B3  3E C0               		ld		a,48*4
    6541   00:66B5  47                  		ld		b,a
    6542   00:66B6  3E 60               		ld		a,24*4
    6543   00:66B8                      		
    6544   00:66B8  C9                  		ret
    6545   00:66B9                      				
    6546   00:66B9                      colisiones_serpientes_prota_2:
    6547   00:66B9                      
    6548   00:66B9  3A 5F C6            		ld		a,(serp2)
    6549   00:66BC  B7                  		or		a
    6550   00:66BD  28 1D               		jr.		z,colisiones_serpientes_prota_3
    6551   00:66BF  FE 03               		cp		3
    6552   00:66C1  28 19               		jr.		z,colisiones_serpientes_prota_3
    6553   00:66C3                      		
    6554   00:66C3  FD 21 3F C6         		ld		iy,variables_serpiente_2								;está en la misma pantalla?
    6555   00:66C7  CD 9A 66            		call	comun_colision_serpentes_1
    6556   00:66CA  20 10               		jr.		nz,colisiones_serpientes_prota_3
    6557   00:66CC                      		
    6558   00:66CC  CD A3 66            		call	comun_colision_serpentes_2
    6559   00:66CF  28 0B               		jr.		z,colisiones_serpientes_prota_3
    6560   00:66D1                      		
    6561   00:66D1  CD AB 66            		call	comun_colision_serpentes_3
    6562   00:66D4                      
    6563   00:66D4  DD 70 1A            		ld		(ix+26),b
    6564   00:66D7  DD 77 1E            		ld		(ix+30),a
    6565   00:66DA                      						
    6566   00:66DA  18 86               		jr.		comunes_muerte_por_serpiente
    6567   00:66DC                      
    6568   00:66DC                      colisiones_serpientes_prota_3:
    6569   00:66DC                      		
    6570   00:66DC  3A 60 C6            		ld		a,(serp3)
    6571   00:66DF  B7                  		or		a
    6572   00:66E0  28 22               		jr.		z,colisiones_serpientes_prota_4
    6573   00:66E2  FE 03               		cp		3
    6574   00:66E4  28 1E               		jr.		z,colisiones_serpientes_prota_4
    6575   00:66E6                      				
    6576   00:66E6  FD 21 49 C6         		ld		iy,variables_serpiente_3								;está en la misma pantalla?
    6577   00:66EA  CD 9A 66            		call	comun_colision_serpentes_1
    6578   00:66ED  20 15               		jr.		nz,colisiones_serpientes_prota_4
    6579   00:66EF                      		
    6580   00:66EF  FD 21 49 C6         		ld		iy,variables_serpiente_3
    6581   00:66F3                      	
    6582   00:66F3  CD A3 66            		call	comun_colision_serpentes_2
    6583   00:66F6                      
    6584   00:66F6  28 0C               		jr.		z,colisiones_serpientes_prota_4
    6585   00:66F8                      		
    6586   00:66F8  CD AB 66            		call	comun_colision_serpentes_3
    6587   00:66FB                      
    6588   00:66FB  DD 70 22            		ld		(ix+34),b
    6589   00:66FE  DD 77 26            		ld		(ix+38),a
    6590   00:6701                      
    6591   00:6701  C3 62 66            		jr.		comunes_muerte_por_serpiente
    6592   00:6704                      		
    6593   00:6704                      colisiones_serpientes_prota_4:
    6594   00:6704                      		
    6595   00:6704  3A 61 C6            		ld		a,(serp4)
    6596   00:6707  B7                  		or		a
    6597   00:6708  C8                  		ret		z
    6598   00:6709  FE 03               		cp		3
    6599   00:670B  C8                  		ret		z
    6600   00:670C                      				
    6601   00:670C  FD 21 53 C6         		ld		iy,variables_serpiente_4								;está en la misma pantalla?
    6602   00:6710  CD 9A 66            		call	comun_colision_serpentes_1
    6603   00:6713  C0                  		ret		nz
    6604   00:6714                      				
    6605   00:6714  CD A3 66            		call	comun_colision_serpentes_2
    6606   00:6717                      
    6607   00:6717  C8                  		ret		z
    6608   00:6718                      		
    6609   00:6718  CD AB 66            		call	comun_colision_serpentes_3
    6610   00:671B                      
    6611   00:671B  DD 70 2A            		ld		(ix+42),b
    6612   00:671E  DD 77 2E            		ld		(ix+46),a
    6613   00:6721                      	
    6614   00:6721  C3 62 66            		jr.		comunes_muerte_por_serpiente
    6615   00:6724                      
    6616   00:6724                      coteja_colision_prota_serpiente:
    6617   00:6724                      
    6618   00:6724  3A 21 C6            		ld		a,(pantalla_activa)
    6619   00:6727  47                  		ld		b,a
    6620   00:6728  FD 7E 09            		ld		a,(iy+9)
    6621   00:672B  B8                  		cp		b
    6622   00:672C  C0                  		ret		nz
    6623   00:672D                      		
    6624   00:672D  3A 1B C0            		ld		a,(px)
    6625   00:6730  D6 07               		sub		a,7														;coordenadas coincidentes
    6626   00:6732  47                  		ld		b,a
    6627   00:6733  FD 7E 00            		ld		a,(iy)
    6628   00:6736  B8                  		cp		b
    6629   00:6737  D8                  		ret		c
    6630   00:6738                      		
    6631   00:6738  3A 1B C0            		ld		a,(px)
    6632   00:673B  C6 0A               		add		a,10
    6633   00:673D  47                  		ld		b,a
    6634   00:673E  FD 7E 00            		ld		a,(iy)
    6635   00:6741  B8                  		cp		b
    6636   00:6742  D0                  		ret		nc
    6637   00:6743                      		
    6638   00:6743  3A 1C C0            		ld		a,(py)
    6639   00:6746  D6 0E               		sub		a,14
    6640   00:6748  47                  		ld		b,a
    6641   00:6749  FD 7E 01            		ld		a,(iy+1)
    6642   00:674C  B8                  		cp		b
    6643   00:674D  D8                  		ret		c
    6644   00:674E                      		
    6645   00:674E  3A 1C C0            		ld		a,(py)
    6646   00:6751  C6 0E               		add		14
    6647   00:6753  47                  		ld		b,a
    6648   00:6754  FD 7E 01            		ld		a,(iy+1)
    6649   00:6757  B8                  		cp		b
    6650   00:6758  D0                  		ret		nc
    6651   00:6759                      		
    6652   00:6759  3A 1E C0            		ld		a,(vidas_prota)
    6653   00:675C  3D                  		dec		a
    6654   00:675D  32 1E C0            		ld		(vidas_prota),a
    6655   00:6760                      		
    6656   00:6760  3E 01               		ld		a,1
    6657   00:6762  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    6658   00:6765                      		
    6659   00:6765  C9                  		ret
    6660   00:6766                      
    6661   00:6766                      coteja_colision_prota_bombero:
    6662   00:6766                      		
    6663   00:6766  FD 21 7C C6         		ld		iy,bombero_control
    6664   00:676A                      		
    6665   00:676A  3A 21 C6            		ld		a,(pantalla_activa)										;si no están en la misma pantalla, no hay colision
    6666   00:676D  47                  		ld		b,a
    6667   00:676E  FD 7E 0C            		ld		a,(iy+12)
    6668   00:6771  B8                  		cp		b
    6669   00:6772  C0                  		ret		nz
    6670   00:6773                      		
    6671   00:6773  3A 1B C0            		ld		a,(px)													;coordenadas coincidentes
    6672   00:6776  FE 07               		cp		7
    6673   00:6778  38 0A               		jr.		c,coteja_colision_prota_bombero_menos_siete
    6674   00:677A  D6 07               		sub		a,7				
    6675   00:677C  47                  		ld		b,a
    6676   00:677D  FD 7E 00            		ld		a,(iy)
    6677   00:6780  B8                  		cp		b
    6678   00:6781  D8                  		ret		c
    6679   00:6782  18 07               		jr.		coteja_colision_prota_bombero_sigue
    6680   00:6784                      
    6681   00:6784                      coteja_colision_prota_bombero_menos_siete:
    6682   00:6784                      
    6683   00:6784  AF                  		xor		a
    6684   00:6785  47                  		ld		b,a
    6685   00:6786  FD 7E 00            		ld		a,(iy)
    6686   00:6789  B8                  		cp		b
    6687   00:678A  D8                  		ret		c
    6688   00:678B                      
    6689   00:678B                      coteja_colision_prota_bombero_sigue:
    6690   00:678B                      		
    6691   00:678B  3A 1B C0            		ld		a,(px)
    6692   00:678E  C6 0A               		add		a,10
    6693   00:6790  47                  		ld		b,a
    6694   00:6791  FD 7E 00            		ld		a,(iy)
    6695   00:6794  B8                  		cp		b
    6696   00:6795  D0                  		ret		nc
    6697   00:6796                      		
    6698   00:6796  3A 1C C0            		ld		a,(py)
    6699   00:6799  D6 0E               		sub		a,14
    6700   00:679B  47                  		ld		b,a
    6701   00:679C  FD 7E 01            		ld		a,(iy+1)
    6702   00:679F  B8                  		cp		b
    6703   00:67A0  D8                  		ret		c
    6704   00:67A1                      		
    6705   00:67A1  3A 1C C0            		ld		a,(py)
    6706   00:67A4  C6 0E               		add		14
    6707   00:67A6  47                  		ld		b,a
    6708   00:67A7  FD 7E 01            		ld		a,(iy+1)
    6709   00:67AA  B8                  		cp		b
    6710   00:67AB  D0                  		ret		nc
    6711   00:67AC                      		
    6712   00:67AC  3A 1E C0            		ld		a,(vidas_prota)
    6713   00:67AF  3D                  		dec		a
    6714   00:67B0  32 1E C0            		ld		(vidas_prota),a
    6715   00:67B3                      		
    6716   00:67B3  3E 01               		ld		a,1
    6717   00:67B5  32 7A C6            		ld		(colision_bombero_prota_real),a
    6718   00:67B8                      		
    6719   00:67B8  C9                  		ret
    6720   00:67B9                      		
    6721   00:67B9                      colisiones_serpientes_cuchillos_comun_1:
    6722   00:67B9                      
    6723   00:67B9  FD 7E 09            		ld		a,(iy+9)
    6724   00:67BC  47                  		ld		b,a
    6725   00:67BD  3A 65 C6            		ld		a,(pantalla_cuchillo)
    6726   00:67C0  B8                  		cp		b
    6727   00:67C1                      		
    6728   00:67C1  C9                  		ret
    6729   00:67C2                      colisiones_serpientes_cuchillos_comun_2:
    6730   00:67C2                      
    6731   00:67C2  CD 50 68            		call	colision_cuchillo_serpiente
    6732   00:67C5  3A 5D C6            		ld		a,(colision_cuchillo_serp_real)
    6733   00:67C8  B7                  		or		a
    6734   00:67C9                      		
    6735   00:67C9  C9                  		ret
    6736   00:67CA                      colisiones_serpientes_cuchillos_comun_3:
    6737   00:67CA                      
    6738   00:67CA  DD 21 2A C0         		ld		ix,atributos_sprite_general
    6739   00:67CE                      					
    6740   00:67CE  AF                  		xor		a
    6741   00:67CF  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    6742   00:67D2  3E 03               		ld		a,3
    6743   00:67D4                      		
    6744   00:67D4  C9                  		ret
    6745   00:67D5                      				
    6746   00:67D5                      colisiones_serpientes_cuchillos:
    6747   00:67D5                      
    6748   00:67D5  3A 64 C6            		ld		a,(momento_lanzamiento)									;mira si es posible que el cuchillo este volando
    6749   00:67D8  FE 02               		cp		2
    6750   00:67DA  D8                  		ret		c
    6751   00:67DB                      				
    6752   00:67DB  3A 5E C6            		ld		a,(serp1)												;¿está activa la sepriente 1?
    6753   00:67DE  B7                  		or		a
    6754   00:67DF  28 18               		jr.		z,colision_cuchillo_serp_2
    6755   00:67E1  FE 03               		cp		3
    6756   00:67E3  28 14               		jr.		z,colision_cuchillo_serp_2
    6757   00:67E5                      		
    6758   00:67E5  FD 21 35 C6         		ld		iy,variables_serpiente_1
    6759   00:67E9                      		
    6760   00:67E9  CD B9 67            		call	colisiones_serpientes_cuchillos_comun_1
    6761   00:67EC  20 0B               		jr.		nz,colision_cuchillo_serp_2
    6762   00:67EE                      		
    6763   00:67EE                      colision_cuchillo_serp_1:
    6764   00:67EE                      			
    6765   00:67EE  CD C2 67            		call	colisiones_serpientes_cuchillos_comun_2
    6766   00:67F1  28 06               		jr.		z,colision_cuchillo_serp_2
    6767   00:67F3                      		
    6768   00:67F3  CD CA 67            		call	colisiones_serpientes_cuchillos_comun_3
    6769   00:67F6  32 5E C6            		ld		(serp1),a
    6770   00:67F9                      
    6771   00:67F9                      						
    6772   00:67F9                      colision_cuchillo_serp_2:
    6773   00:67F9                      
    6774   00:67F9  3A 5F C6            		ld		a,(serp2)												;¿está activa la sepriente 1?
    6775   00:67FC  B7                  		or		a
    6776   00:67FD  28 18               		jr.		z,colision_cuchillo_serp_3
    6777   00:67FF  FE 03               		cp		3
    6778   00:6801  28 14               		jr.		z,colision_cuchillo_serp_3
    6779   00:6803                      		
    6780   00:6803  FD 21 3F C6         		ld		iy,variables_serpiente_2
    6781   00:6807                      		
    6782   00:6807  CD B9 67            		call	colisiones_serpientes_cuchillos_comun_1
    6783   00:680A  20 0B               		jr.		nz,colision_cuchillo_serp_3
    6784   00:680C                      						
    6785   00:680C  CD C2 67            		call	colisiones_serpientes_cuchillos_comun_2
    6786   00:680F  28 06               		jr.		z,colision_cuchillo_serp_3
    6787   00:6811                      		
    6788   00:6811  CD CA 67            		call	colisiones_serpientes_cuchillos_comun_3
    6789   00:6814  32 5F C6            		ld		(serp2),a
    6790   00:6817                      										
    6791   00:6817                      colision_cuchillo_serp_3:
    6792   00:6817                      
    6793   00:6817  3A 60 C6            		ld		a,(serp3)												;¿está activa la sepriente 1?
    6794   00:681A  B7                  		or		a
    6795   00:681B  28 18               		jr.		z,colision_cuchillo_serp_4
    6796   00:681D  FE 03               		cp		3
    6797   00:681F  28 14               		jr.		z,colision_cuchillo_serp_4
    6798   00:6821                      		
    6799   00:6821  FD 21 49 C6         		ld		iy,variables_serpiente_3
    6800   00:6825                      		
    6801   00:6825  CD B9 67            		call	colisiones_serpientes_cuchillos_comun_1
    6802   00:6828  20 0B               		jr.		nz,colision_cuchillo_serp_4
    6803   00:682A                      		
    6804   00:682A  CD C2 67            		call	colisiones_serpientes_cuchillos_comun_2
    6805   00:682D  28 06               		jr.		z,colision_cuchillo_serp_4
    6806   00:682F                      		
    6807   00:682F  CD CA 67            		call	colisiones_serpientes_cuchillos_comun_3
    6808   00:6832  32 60 C6            		ld		(serp3),a
    6809   00:6835                      				
    6810   00:6835                      colision_cuchillo_serp_4:
    6811   00:6835                      
    6812   00:6835  3A 61 C6            		ld		a,(serp4)												;¿está activa la sepriente 1?
    6813   00:6838  B7                  		or		a
    6814   00:6839  C8                  		ret		z
    6815   00:683A  FE 03               		cp		3
    6816   00:683C  C8                  		ret		z
    6817   00:683D                      		
    6818   00:683D  FD 21 53 C6         		ld		iy,variables_serpiente_4
    6819   00:6841                      		
    6820   00:6841  CD B9 67            		call	colisiones_serpientes_cuchillos_comun_1
    6821   00:6844  C0                  		ret		nz
    6822   00:6845                      		
    6823   00:6845  CD C2 67            		call	colisiones_serpientes_cuchillos_comun_2
    6824   00:6848  C8                  		ret		z
    6825   00:6849                      		
    6826   00:6849  CD CA 67            		call	colisiones_serpientes_cuchillos_comun_3
    6827   00:684C  32 61 C6            		ld		(serp4),a
    6828   00:684F                      		
    6829   00:684F  C9                  		ret
    6830   00:6850                      
    6831   00:6850                      colision_cuchillo_serpiente:
    6832   00:6850                      		
    6833   00:6850  3A 65 C6            		ld		a,(pantalla_cuchillo)
    6834   00:6853  47                  		ld		b,a
    6835   00:6854  FD 7E 09            		ld		a,(iy+9)
    6836   00:6857  C0                  		ret		nz
    6837   00:6858                      					
    6838   00:6858  3A 6A C6            		ld		a,(cx)													;coordenadas coincidentes
    6839   00:685B  47                  		ld		b,a
    6840   00:685C  FD 7E 00            		ld		a,(iy)
    6841   00:685F  B8                  		cp		b
    6842   00:6860  D0                  		ret		nc
    6843   00:6861                      		
    6844   00:6861  C6 10               		add		a,16
    6845   00:6863  B8                  		cp		b
    6846   00:6864  D8                  		ret		c
    6847   00:6865                      	
    6848   00:6865  3A 6B C6            		ld		a,(cy)
    6849   00:6868  47                  		ld		b,a
    6850   00:6869  FD 7E 01            		ld		a,(iy+1)
    6851   00:686C  D6 04               		sub		4
    6852   00:686E  B8                  		cp		b
    6853   00:686F  D0                  		ret		nc
    6854   00:6870                      				
    6855   00:6870  C6 14               		add		a,20
    6856   00:6872  B8                  		cp		b
    6857   00:6873  D8                  		ret		c
    6858   00:6874                      						
    6859   00:6874  AF                  		xor		a
    6860   00:6875  32 64 C6            		ld		(momento_lanzamiento),a
    6861   00:6878                      		
    6862   00:6878  3A 21 C6            		ld		a,(pantalla_activa)
    6863   00:687B  08                  		ex		af,af'
    6864   00:687C  3A 65 C6            		ld		a,(pantalla_cuchillo)
    6865   00:687F  32 21 C6            		ld		(pantalla_activa),a
    6866   00:6882                      				
    6867   00:6882  3A 6A C6            		ld		a,[cx]													;recupera lo que habia en el tile anteriormente					
    6868   00:6885  57                  		ld		d,a
    6869   00:6886  3A 6B C6            		ld		a,[cy]
    6870   00:6889  5F                  		ld		e,a
    6871   00:688A  CD 79 6E            		call	get_bloque_en_X_Y
    6872   00:688D                      		
    6873   00:688D  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    6874   00:6890  77                  		ld		[hl],a
    6875   00:6891                      				
    6876   00:6891  3E 07               		ld		a,7														;efecto sonoro de muerte
    6877   00:6893  CD D6 83            		call	efecto_sonido	
    6878   00:6896                      		
    6879   00:6896  08                  		ex		af,af'
    6880   00:6897  32 21 C6            		ld		(pantalla_activa),a
    6881   00:689A                      		
    6882   00:689A  47                  		ld		b,a
    6883   00:689B  3A 65 C6            		ld		a,(pantalla_cuchillo)
    6884   00:689E  B8                  		cp		b
    6885   00:689F  20 11               		jr.		nz,colision_cuchillo_serpiente_continua
    6886   00:68A1                      		
    6887   00:68A1  3A 6A C6            		ld		a,[cx]													;recupera tambien en vram
    6888   00:68A4  57                  		ld		d,a
    6889   00:68A5  3A 6B C6            		ld		a,[cy]
    6890   00:68A8  5F                  		ld		e,a
    6891   00:68A9  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    6892   00:68AC                      		
    6893   00:68AC  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    6894   00:68AF  CD C4 83            		call	pinta_en_pantalla
    6895   00:68B2                      
    6896   00:68B2                      colision_cuchillo_serpiente_continua:
    6897   00:68B2                      		
    6898   00:68B2  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger mechero
    6899   00:68B5  C6 19               		add		a,25
    6900   00:68B7  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    6901   00:68BA  3E 01               		ld		a,1
    6902   00:68BC  32 33 C6            		ld		(cuenta_puntos_o_no),a
    6903   00:68BF                      		
    6904   00:68BF  3E 01               		ld		a,1
    6905   00:68C1  32 5D C6            		ld		(colision_cuchillo_serp_real),a
    6906   00:68C4  AF                  		xor		a
    6907   00:68C5                      
    6908   00:68C5  C9                  		ret
    6909   00:68C6                      		
    6910   00:68C6                      atributos_sprites:
    6911   00:68C6                      
    6912   00:68C6  21 2A C0            		ld		hl,atributos_sprite_general
    6913   00:68C9  11 00 1B            		ld		de,#1B00
    6914   00:68CC  01 30 00            		ld		bc,48
    6915   00:68CF  C3 5C 00            		jp		GRABAVRAM		
    6916   00:68D2                      		
    6917   00:68D2                      estado_en_que_se_encuentra:
    6918   00:68D2                      
    6919   00:68D2  CD A2 82            		call	seis_dos
    6920   00:68D5  CD 79 6E            		call	get_bloque_en_X_Y
    6921   00:68D8  FE 2D               		cp		45														;si esta en la salida revisamos si sale
    6922   00:68DA  CA 9A 6F            		jr.		z,fase_superada
    6923   00:68DD                      		
    6924   00:68DD  3A 22 C6            		ld		a,(estado_de_salto)										;no salta? vamos a comprovar si hace algo
    6925   00:68E0  B7                  		or		a
    6926   00:68E1  28 1E               		jr.		z,continua_estado
    6927   00:68E3                      
    6928   00:68E3  FE 03               		cp		3														;diferentes estados de salto
    6929   00:68E5  DA 6B 7B            		jr.		c,salta_sube
    6930   00:68E8  FE 13               		cp		19
    6931   00:68EA  DA ED 7B            		jr.		c,salta_sigue
    6932   00:68ED  FE 15               		cp		21
    6933   00:68EF  DA 14 7C            		jr.		c,salta_baja
    6934   00:68F2  FE 21               		cp		33
    6935   00:68F4  DA B9 7B            		jr.		c,salta_sube_izquierda
    6936   00:68F7  FE 31               		cp		49
    6937   00:68F9  DA 01 7C            		jr.		c,salta_sigue_izquierda
    6938   00:68FC  FE 33               		cp		51
    6939   00:68FE  DA 62 7C            		jr.		c,salta_baja_izquierda
    6940   00:6901                      		
    6941   00:6901                      continua_estado:		
    6942   00:6901                      		
    6943   00:6901  3A 23 C0            		ld		a,(estado_prota)
    6944   00:6904  FE 04               		cp		4
    6945   00:6906  C8                  		ret		z
    6946   00:6907                      				
    6947   00:6907  CD 5B 83            		call	ocho_dieciocho
    6948   00:690A  CD 79 6E            		call	get_bloque_en_X_Y
    6949   00:690D                      		
    6950   00:690D  FE 29               		cp		41														;no cae si hay escalera
    6951   00:690F  28 47               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    6952   00:6911  FE 2A               		cp		42
    6953   00:6913  28 43               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    6954   00:6915  FE 49               		cp		73
    6955   00:6917  28 3F               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    6956   00:6919  FE 4A               		cp		74
    6957   00:691B  28 3B               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    6958   00:691D  FE 65               		cp		101
    6959   00:691F  28 37               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    6960   00:6921                      		
    6961   00:6921  3A 1B C0            		ld		a,[px]
    6962   00:6924  C6 0A               		add		10
    6963   00:6926  57                  		ld		d,a
    6964   00:6927  3A 1C C0            		ld		a,[py]
    6965   00:692A  C6 11               		add		17
    6966   00:692C  5F                  		ld		e,a
    6967   00:692D  CD 79 6E            		call	get_bloque_en_X_Y
    6968   00:6930  FE 65               		cp		101
    6969   00:6932  28 24               		jr.		z,cambio_estado_a_subiendo_para_la_caida
    6970   00:6934                      		
    6971   00:6934  3A 1B C0            		ld		a,[px]
    6972   00:6937  C6 05               		add		5
    6973   00:6939  57                  		ld		d,a	
    6974   00:693A  3A 1C C0            		ld		a,[py]
    6975   00:693D  C6 10               		add		16
    6976   00:693F  5F                  		ld		e,a
    6977   00:6940                      ;		call	siete_dieciseis
    6978   00:6940  CD 79 6E            		call	get_bloque_en_X_Y
    6979   00:6943                      		
    6980   00:6943  FE 1F               		cp		31														;controla el bloque de ladrillos
    6981   00:6945  30 17               		jr.		nc,segunda_comprovacion_caida
    6982   00:6947                      		
    6983   00:6947  3A 1B C0            		ld		a,[px]
    6984   00:694A  C6 07               		add		7
    6985   00:694C  57                  		ld		d,a
    6986   00:694D  3A 1C C0            		ld		a,[py]
    6987   00:6950  C6 0F               		add		15
    6988   00:6952  5F                  		ld		e,a
    6989   00:6953  CD 79 6E            		call	get_bloque_en_X_Y
    6990   00:6956                      		
    6991   00:6956                      ;		cp		31														;controla el bloque de ladrillos para no quedarse encallado en él
    6992   00:6956                      ;		jr.		nc,final_rutina_sin_caida
    6993   00:6956                      		
    6994   00:6956                      ;		ld		a,[py]
    6995   00:6956                      ;		dec		a
    6996   00:6956                      ;		ld		[py],a
    6997   00:6956                      		
    6998   00:6956  18 19               		jr.		final_rutina_sin_caida
    6999   00:6958                      
    7000   00:6958                      cambio_estado_a_subiendo_para_la_caida:
    7001   00:6958                      
    7002   00:6958  3E 04               		ld		a,4
    7003   00:695A  32 23 C0            		ld		(estado_prota),a
    7004   00:695D  C9                  		ret		
    7005   00:695E                      		
    7006   00:695E                      segunda_comprovacion_caida:
    7007   00:695E                      			
    7008   00:695E  3A 1B C0            		ld		a,[px]
    7009   00:6961  C6 0B               		add		11
    7010   00:6963  57                  		ld		d,a
    7011   00:6964  3A 1C C0            		ld		a,[py]
    7012   00:6967  C6 10               		add		16
    7013   00:6969  5F                  		ld		e,a
    7014   00:696A  CD 79 6E            		call	get_bloque_en_X_Y
    7015   00:696D  FE 1F               		cp		31
    7016   00:696F  30 11               		jr.		nc,caigo
    7017   00:6971                      
    7018   00:6971                      final_rutina_sin_caida:
    7019   00:6971                      		
    7020   00:6971  AF                  		xor		a
    7021   00:6972  32 23 C0            		ld		(estado_prota),a
    7022   00:6975                      			
    7023   00:6975  C9                  		ret
    7024   00:6976                      
    7025   00:6976                      ultima_rectificacion_de_caida:
    7026   00:6976                      
    7027   00:6976  AF                  		xor		a
    7028   00:6977  32 23 C0            		ld		(estado_prota),a
    7029   00:697A  3A 1C C0            		ld		a,(py)
    7030   00:697D  3D                  		dec		a
    7031   00:697E  32 1C C0            		ld		(py),a
    7032   00:6981                      		
    7033   00:6981  C9                  		ret
    7034   00:6982                      		
    7035   00:6982                      caigo:
    7036   00:6982                      		
    7037   00:6982  3E 03               		ld		a,3
    7038   00:6984  32 23 C0            		ld		(estado_prota),a
    7039   00:6987                      		
    7040   00:6987  3A 1C C0            		ld		a,(py)
    7041   00:698A  C6 02               		add		a,2
    7042   00:698C  32 1C C0            		ld		(py),a
    7043   00:698F                      		
    7044   00:698F                      			
    7045   00:698F  3A 1B C0            		ld		a,[px]
    7046   00:6992  C6 08               		add		8
    7047   00:6994  57                  		ld		d,a
    7048   00:6995  3A 1C C0            		ld		a,[py]
    7049   00:6998  C6 12               		add		18
    7050   00:699A  5F                  		ld		e,a
    7051   00:699B  CD 79 6E            		call	get_bloque_en_X_Y
    7052   00:699E  FE 20               		cp		32
    7053   00:69A0  38 D4               		jr.		c,ultima_rectificacion_de_caida
    7054   00:69A2                      		
    7055   00:69A2  3A 1B C0            		ld		a,[px]													;observa si hay que rectificar la caida
    7056   00:69A5  C6 0F               		add		15
    7057   00:69A7  57                  		ld		d,a
    7058   00:69A8  3A 1C C0            		ld		a,[py]
    7059   00:69AB  C6 0F               		add		15
    7060   00:69AD  5F                  		ld		e,a
    7061   00:69AE  CD 79 6E            		call	get_bloque_en_X_Y
    7062   00:69B1  FE 1F               		cp		31
    7063   00:69B3  38 12               		jr.		c,rectifico_caida_a_izquierda
    7064   00:69B5                      		
    7065   00:69B5  3A 1B C0            		ld		a,[px]
    7066   00:69B8  57                  		ld		d,a
    7067   00:69B9  3A 1C C0            		ld		a,[py]
    7068   00:69BC  C6 0F               		add		15
    7069   00:69BE  5F                  		ld		e,a
    7070   00:69BF  CD 79 6E            		call	get_bloque_en_X_Y
    7071   00:69C2  FE 1F               		cp		31
    7072   00:69C4  38 19               		jr.		c,rectifico_caida_a_derecha
    7073   00:69C6                      		
    7074   00:69C6  C9                  		ret
    7075   00:69C7                      
    7076   00:69C7                      rectifico_caida_a_izquierda:
    7077   00:69C7                      		
    7078   00:69C7  3A 1B C0            		ld		a,[px]
    7079   00:69CA  57                  		ld		d,a
    7080   00:69CB  3A 1C C0            		ld		a,[py]
    7081   00:69CE  C6 0F               		add		15
    7082   00:69D0  5F                  		ld		e,a
    7083   00:69D1  CD 79 6E            		call	get_bloque_en_X_Y
    7084   00:69D4  FE 1F               		cp		31
    7085   00:69D6  D8                  		ret		c
    7086   00:69D7                      		
    7087   00:69D7  3A 1B C0            		ld		a,(px)
    7088   00:69DA  3D                  		dec		a
    7089   00:69DB  32 1B C0            		ld		(px),a
    7090   00:69DE  C9                  		ret
    7091   00:69DF                      
    7092   00:69DF                      rectifico_caida_a_derecha:
    7093   00:69DF                      
    7094   00:69DF  3A 1B C0            		ld		a,(px)
    7095   00:69E2  3C                  		inc		a
    7096   00:69E3  32 1B C0            		ld		(px),a
    7097   00:69E6  C9                  		ret
    7098   00:69E7                      				
    7099   00:69E7                      mueve_prota:
    7100   00:69E7                      
    7101   00:69E7  3A 23 C0            		ld		a,(estado_prota)										;si esta en callendo no se mueve
    7102   00:69EA  FE 03               		cp		3
    7103   00:69EC  C8                  		ret		z
    7104   00:69ED  3A 22 C6            		ld		a,(estado_de_salto)										;si esta saltando no se mueve
    7105   00:69F0  B7                  		or		a
    7106   00:69F1  C0                  		ret		nz
    7107   00:69F2  3A 64 C6            		ld		a,(momento_lanzamiento) 								;si está lanzando no se mueve
    7108   00:69F5  FE 01               		cp		1
    7109   00:69F7  C8                  		ret		z
    7110   00:69F8  FE 02               		cp		2
    7111   00:69FA  C8                  		ret		z
    7112   00:69FB  3A 1D C0            		ld		a,(puede_cambiar_de_direccion)							;si está en una puerta no puede moverse por su cuenta
    7113   00:69FE  B7                  		or		a
    7114   00:69FF  C8                  		ret		z
    7115   00:6A00                      		
    7116   00:6A00  AF                  		xor		a
    7117   00:6A01                      
    7118   00:6A01                      stick_mando:	
    7119   00:6A01                      
    7120   00:6A01  32 DE CB            		ld		(sticky),a
    7121   00:6A04  CD D5 00            		call	ONSTICK
    7122   00:6A07                      		
    7123   00:6A07  B7                  		or		a
    7124   00:6A08  28 13               		jr.		z,stick_mando_2
    7125   00:6A0A  FE 01               		cp		1
    7126   00:6A0C  28 19               		jr.		z,sube_escaleras
    7127   00:6A0E  FE 05               		cp		5
    7128   00:6A10  CA CE 6A            		jr.		z,baja_escaleras	
    7129   00:6A13  FE 05               		cp		5
    7130   00:6A15  DA 5F 6D            		jr.		c,mueve_derecha_prota
    7131   00:6A18  FE 09               		cp		9
    7132   00:6A1A  DA 42 6B            		jr.		c,mueve_izquierda_prota
    7133   00:6A1D                      
    7134   00:6A1D                      stick_mando_2:
    7135   00:6A1D                      		
    7136   00:6A1D  3A DE CB            		ld		a,(sticky)
    7137   00:6A20  FE 01               		cp		1
    7138   00:6A22  C8                  		ret		z
    7139   00:6A23  3E 01               		ld		a,1
    7140   00:6A25  18 DA               		jr.		stick_mando
    7141   00:6A27                      			
    7142   00:6A27                      sube_escaleras:
    7143   00:6A27                      
    7144   00:6A27  F5                  		push	af
    7145   00:6A28                      		
    7146   00:6A28                      		
    7147   00:6A28  3A 1B C0            		ld		a,[px]
    7148   00:6A2B  C6 06               		add		6
    7149   00:6A2D  57                  		ld		d,a
    7150   00:6A2E  3A 1C C0            		ld		a,[py]
    7151   00:6A31  5F                  		ld		e,a
    7152   00:6A32  CD 79 6E            		call	get_bloque_en_X_Y
    7153   00:6A35  FE 29               		cp		41
    7154   00:6A37  28 43               		jr.		z,sube_escaleras_afirmativo
    7155   00:6A39  FE 2A               		cp		42
    7156   00:6A3B  28 3F               		jr.		z,sube_escaleras_afirmativo
    7157   00:6A3D  FE 67               		cp		103
    7158   00:6A3F  28 3B               		jr.		z,sube_escaleras_afirmativo
    7159   00:6A41  FE 69               		cp		105
    7160   00:6A43  28 37               		jr.		z,sube_escaleras_afirmativo
    7161   00:6A45  FE 6A               		cp		106
    7162   00:6A47  28 33               		jr.		z,sube_escaleras_afirmativo
    7163   00:6A49                      		
    7164   00:6A49  3A 1B C0            		ld		a,[px]
    7165   00:6A4C  C6 09               		add		9
    7166   00:6A4E  57                  		ld		d,a
    7167   00:6A4F  3A 1C C0            		ld		a,[py]
    7168   00:6A52  D6 02               		sub		2
    7169   00:6A54  5F                  		ld		e,a
    7170   00:6A55  CD 79 6E            		call	get_bloque_en_X_Y
    7171   00:6A58  FE 65               		cp		101
    7172   00:6A5A  28 20               		jr.		z,sube_escaleras_afirmativo
    7173   00:6A5C                      		
    7174   00:6A5C  CD 85 82            		call	seis_diez
    7175   00:6A5F  CD 79 6E            		call	get_bloque_en_X_Y
    7176   00:6A62  FE 65               		cp		101
    7177   00:6A64  28 16               		jr.		z,sube_escaleras_afirmativo
    7178   00:6A66                      		
    7179   00:6A66                      		
    7180   00:6A66  3A 1B C0            		ld		a,[px]
    7181   00:6A69  C6 0A               		add		10
    7182   00:6A6B  57                  		ld		d,a
    7183   00:6A6C  3A 1C C0            		ld		a,[py]
    7184   00:6A6F  C6 01               		add		1
    7185   00:6A71  5F                  		ld		e,a
    7186   00:6A72  CD 79 6E            		call	get_bloque_en_X_Y
    7187   00:6A75  FE 65               		cp		101
    7188   00:6A77  28 03               		jr.		z,sube_escaleras_afirmativo
    7189   00:6A79                      		
    7190   00:6A79  C3 73 6E            		jr.		set_parado
    7191   00:6A7C                      		
    7192   00:6A7C                      sube_escaleras_afirmativo:
    7193   00:6A7C                      
    7194   00:6A7C  CD B8 82            		call	menos_uno_cero
    7195   00:6A7F  CD 79 6E            		call	get_bloque_en_X_Y
    7196   00:6A82  FE 29               		cp		41
    7197   00:6A84  28 0E               		jr.		z,a_mover_a_la_izquierda
    7198   00:6A86  FE 67               		cp		103
    7199   00:6A88  28 0A               		jr.		z,a_mover_a_la_izquierda
    7200   00:6A8A  FE 65               		cp		101
    7201   00:6A8C  28 06               		jr.		z,a_mover_a_la_izquierda
    7202   00:6A8E  FE 69               		cp		105
    7203   00:6A90  28 02               		jr.		z,a_mover_a_la_izquierda
    7204   00:6A92                      		
    7205   00:6A92  18 09               		jr.		comprueba_derecha
    7206   00:6A94                      
    7207   00:6A94                      a_mover_a_la_izquierda:
    7208   00:6A94                      		
    7209   00:6A94  3A 1B C0            		ld		a,[px]
    7210   00:6A97  3D                  		dec		a
    7211   00:6A98  32 1B C0            		ld		[px],a
    7212   00:6A9B  18 22               		jr.		a_subir
    7213   00:6A9D                      		
    7214   00:6A9D                      comprueba_derecha:
    7215   00:6A9D                      
    7216   00:6A9D  3A 1B C0            		ld		a,[px]
    7217   00:6AA0  C6 10               		add		16
    7218   00:6AA2  57                  		ld		d,a
    7219   00:6AA3  3A 1C C0            		ld		a,[py]
    7220   00:6AA6  5F                  		ld		e,a
    7221   00:6AA7  CD 79 6E            		call	get_bloque_en_X_Y
    7222   00:6AAA  FE 2A               		cp		42
    7223   00:6AAC  28 0A               		jr.		z,a_mover_a_la_derecha
    7224   00:6AAE  FE 65               		cp		101
    7225   00:6AB0  28 06               		jr.		z,a_mover_a_la_derecha
    7226   00:6AB2  FE 69               		cp		105
    7227   00:6AB4  28 02               		jr.		z,a_mover_a_la_derecha
    7228   00:6AB6  18 07               		jr.		a_subir
    7229   00:6AB8                      
    7230   00:6AB8                      a_mover_a_la_derecha:
    7231   00:6AB8                      		
    7232   00:6AB8  3A 1B C0            		ld		a,[px]
    7233   00:6ABB  3C                  		inc		a
    7234   00:6ABC  32 1B C0            		ld		[px],a
    7235   00:6ABF                      				
    7236   00:6ABF                      a_subir:
    7237   00:6ABF                      
    7238   00:6ABF  3E 04               		ld		a,4														;le da el valor 4 a la variable estado prota
    7239   00:6AC1  32 23 C0            		ld		(estado_prota),a
    7240   00:6AC4                      		
    7241   00:6AC4  3A 1C C0            		ld		a,(py)
    7242   00:6AC7  3D                  		dec		a
    7243   00:6AC8  32 1C C0            		ld		(py),a
    7244   00:6ACB  C3 91 6B            		jr.		actualiza_el_paso_subiendo
    7245   00:6ACE                      
    7246   00:6ACE                      baja_escaleras:
    7247   00:6ACE                      
    7248   00:6ACE  F5                  		push	af
    7249   00:6ACF                      		
    7250   00:6ACF                      		
    7251   00:6ACF  3A 1B C0            		ld		a,[px]
    7252   00:6AD2  C6 06               		add		6
    7253   00:6AD4  57                  		ld		d,a
    7254   00:6AD5  3A 1C C0            		ld		a,[py]
    7255   00:6AD8  C6 13               		add		19
    7256   00:6ADA  5F                  		ld		e,a
    7257   00:6ADB  CD 79 6E            		call	get_bloque_en_X_Y
    7258   00:6ADE  FE 21               		cp		33
    7259   00:6AE0  30 16               		jr.		nc,baja_escaleras_afirmativo
    7260   00:6AE2  3A 1B C0            		ld		a,[px]
    7261   00:6AE5  C6 06               		add		6
    7262   00:6AE7  57                  		ld		d,a
    7263   00:6AE8  3A 1C C0            		ld		a,[py]
    7264   00:6AEB  C6 10               		add		16
    7265   00:6AED  5F                  		ld		e,a
    7266   00:6AEE  CD 79 6E            		call	get_bloque_en_X_Y
    7267   00:6AF1  FE 21               		cp		33
    7268   00:6AF3  30 03               		jr.		nc,baja_escaleras_afirmativo
    7269   00:6AF5  C3 73 6E            		jr.		set_parado
    7270   00:6AF8                      		
    7271   00:6AF8                      baja_escaleras_afirmativo:
    7272   00:6AF8                      
    7273   00:6AF8  CD CD 82            		call	menos_uno_dieciseis
    7274   00:6AFB  CD 79 6E            		call	get_bloque_en_X_Y
    7275   00:6AFE  FE 29               		cp		41
    7276   00:6B00  28 0A               		jr.		z,a_mover_a_la_izquierda_bajando
    7277   00:6B02  FE 67               		cp		103
    7278   00:6B04  28 06               		jr.		z,a_mover_a_la_izquierda_bajando
    7279   00:6B06  FE 69               		cp		105
    7280   00:6B08  28 02               		jr.		z,a_mover_a_la_izquierda_bajando
    7281   00:6B0A                      		
    7282   00:6B0A  18 09               		jr.		comprueba_derecha_bajando
    7283   00:6B0C                      
    7284   00:6B0C                      a_mover_a_la_izquierda_bajando:
    7285   00:6B0C                      		
    7286   00:6B0C  3A 1B C0            		ld		a,[px]
    7287   00:6B0F  3D                  		dec		a
    7288   00:6B10  32 1B C0            		ld		[px],a
    7289   00:6B13  18 1F               		jr.		a_bajar
    7290   00:6B15                      		
    7291   00:6B15                      comprueba_derecha_bajando:
    7292   00:6B15                      
    7293   00:6B15  CD D4 82            		call	dieciseis_dieciseis
    7294   00:6B18  CD 79 6E            		call	get_bloque_en_X_Y
    7295   00:6B1B  FE 2A               		cp		42
    7296   00:6B1D  28 0E               		jr.		z,a_mover_a_la_derecha_bajando
    7297   00:6B1F  FE 65               		cp		101
    7298   00:6B21  28 0A               		jr.		z,a_mover_a_la_derecha_bajando
    7299   00:6B23  FE 67               		cp		103
    7300   00:6B25  28 06               		jr.		z,a_mover_a_la_derecha_bajando
    7301   00:6B27  FE 6A               		cp		106
    7302   00:6B29  28 02               		jr.		z,a_mover_a_la_derecha_bajando
    7303   00:6B2B                      
    7304   00:6B2B                      		
    7305   00:6B2B  18 07               		jr.		a_bajar
    7306   00:6B2D                      
    7307   00:6B2D                      a_mover_a_la_derecha_bajando:
    7308   00:6B2D                      		
    7309   00:6B2D  3A 1B C0            		ld		a,[px]
    7310   00:6B30  3C                  		inc		a
    7311   00:6B31  32 1B C0            		ld		[px],a
    7312   00:6B34                      				
    7313   00:6B34                      a_bajar:
    7314   00:6B34                      
    7315   00:6B34  3E 04               		ld		a,4														;le da el valor 4 a la variable estado prota
    7316   00:6B36  32 23 C0            		ld		(estado_prota),a
    7317   00:6B39                      		
    7318   00:6B39  3A 1C C0            		ld		a,(py)
    7319   00:6B3C  3C                  		inc		a
    7320   00:6B3D  32 1C C0            		ld		(py),a
    7321   00:6B40  18 4F               		jr.		actualiza_el_paso_subiendo
    7322   00:6B42                      				
    7323   00:6B42                      mueve_izquierda_prota:
    7324   00:6B42                      
    7325   00:6B42  3E 01               		ld		a,1
    7326   00:6B44  32 27 C0            		ld		(dir_prota),a
    7327   00:6B47                      		
    7328   00:6B47  3A 1B C0            		ld		a,[px];													;controla_si_cambia_de_pantalla
    7329   00:6B4A  FE 01               		cp		1
    7330   00:6B4C  DA 86 6C            		jr.		c,a_pantalla_1
    7331   00:6B4F                      		
    7332   00:6B4F  F5                  		push	af
    7333   00:6B50                      		
    7334   00:6B50                      		;colision lateral con solido
    7335   00:6B50                      				
    7336   00:6B50  3A 1B C0            		ld		a,[px]
    7337   00:6B53  C6 03               		add		3
    7338   00:6B55  57                  		ld		d,a
    7339   00:6B56  3A 1C C0            		ld		a,[py]
    7340   00:6B59  C6 0F               		add		15
    7341   00:6B5B  5F                  		ld		e,a
    7342   00:6B5C  CD 79 6E            		call	get_bloque_en_X_Y
    7343   00:6B5F  FE 20               		cp		32														;hasta el 31 son solidos
    7344   00:6B61  DA 73 6E            		jr.		c,set_parado											;si es inferior, no hay acarreo 
    7345   00:6B64  FE 71               		cp		113														;se para ante las puertas de pinchos
    7346   00:6B66  CA 73 6E            		jr.		z,set_parado
    7347   00:6B69  FE 73               		cp		115
    7348   00:6B6B  CA 73 6E            		jr.		z,set_parado
    7349   00:6B6E                      		
    7350   00:6B6E  CD 3D 83            		call	tres_quince
    7351   00:6B71  CD 79 6E            		call	get_bloque_en_X_Y
    7352   00:6B74  FE 72               		cp		114														;gira las puertas
    7353   00:6B76  28 65               		jr.		z,gira_puerta_izquierda_amarilla
    7354   00:6B78  FE 74               		cp		116
    7355   00:6B7A  CA 39 6C            		jr.		z,gira_puerta_izquierda_azul
    7356   00:6B7D                      		
    7357   00:6B7D  3E 01               		ld		a,1														;le da el valor 1 a la variable de estado prota
    7358   00:6B7F  32 23 C0            		ld		(estado_prota),a
    7359   00:6B82                      				
    7360   00:6B82  3A 1B C0            		ld		a,(px)
    7361   00:6B85  3D                  		dec		a
    7362   00:6B86  32 1B C0            		ld		(px),a
    7363   00:6B89  3E 01               		ld		a,1
    7364   00:6B8B  32 27 C0            		ld		(dir_prota),a
    7365   00:6B8E  C3 A8 6D            		jr.		actualiza_el_paso
    7366   00:6B91                      
    7367   00:6B91                      actualiza_el_paso_subiendo:
    7368   00:6B91                      
    7369   00:6B91  3A 29 C0            		ld		a,(retard_anim)
    7370   00:6B94  3C                  		inc		a
    7371   00:6B95  FE 08               		cp		8
    7372   00:6B97  28 06               		jr		z,reset_retardo_y_cambia_paso_subiendo
    7373   00:6B99  32 29 C0            		ld		(retard_anim),a
    7374   00:6B9C  C3 6D 6E            		jr.		end
    7375   00:6B9F                      
    7376   00:6B9F                      reset_retardo_y_cambia_paso_subiendo:
    7377   00:6B9F                      
    7378   00:6B9F  AF                  		xor		a
    7379   00:6BA0  32 29 C0            		ld		(retard_anim),a
    7380   00:6BA3  3A 28 C0            		ld		a,(paso)
    7381   00:6BA6  2F                  		cpl								;le da la vuelta a todos los bits
    7382   00:6BA7  E6 03               		and		00000011b				;pone 1 en los dos primero, con lo que lo convierte en un 3 (01=1 10=2 11=3)
    7383   00:6BA9  32 28 C0            		ld		(paso),a
    7384   00:6BAC  C3 6D 6E            		jr.		end
    7385   00:6BAF                      		
    7386   00:6BAF                      gira_puerta_derecha_amarilla:
    7387   00:6BAF                      		
    7388   00:6BAF  AF                  		xor		a
    7389   00:6BB0  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    7390   00:6BB3                      		
    7391   00:6BB3  CD 01 83            		call	catorce_dos
    7392   00:6BB6  CD 79 6E            		call	get_bloque_en_X_Y
    7393   00:6BB9  3E 75               		ld		a,117
    7394   00:6BBB  77                  		ld		[hl],a
    7395   00:6BBC                      								
    7396   00:6BBC  CD 01 83            		call	catorce_dos
    7397   00:6BBF  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7398   00:6BC2                      		
    7399   00:6BC2  3E 75               		ld		a,117
    7400   00:6BC4  CD C4 83            		call	pinta_en_pantalla
    7401   00:6BC7                      		
    7402   00:6BC7  CD E9 82            		call	catorce_diez
    7403   00:6BCA  CD 79 6E            		call	get_bloque_en_X_Y
    7404   00:6BCD  3E 75               		ld		a,117
    7405   00:6BCF  77                  		ld		[hl],a
    7406   00:6BD0                      								
    7407   00:6BD0  CD E9 82            		call	catorce_diez
    7408   00:6BD3  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7409   00:6BD6                      		
    7410   00:6BD6  3E 75               		ld		a,117
    7411   00:6BD8  CD C4 83            		call	pinta_en_pantalla
    7412   00:6BDB                      		
    7413   00:6BDB                      		
    7414   00:6BDB  F1                  		pop		af
    7415   00:6BDC                      		
    7416   00:6BDC  C9                  		ret
    7417   00:6BDD                      		
    7418   00:6BDD                      gira_puerta_izquierda_amarilla:
    7419   00:6BDD                      
    7420   00:6BDD  AF                  		xor		a
    7421   00:6BDE  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    7422   00:6BE1                      		
    7423   00:6BE1  CD 4A 83            		call	tres_dos
    7424   00:6BE4  CD 79 6E            		call	get_bloque_en_X_Y
    7425   00:6BE7                      		
    7426   00:6BE7  3E 75               		ld		a,117
    7427   00:6BE9  77                  		ld		[hl],a
    7428   00:6BEA                      								
    7429   00:6BEA  CD 4A 83            		call	tres_dos
    7430   00:6BED  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7431   00:6BF0                      		
    7432   00:6BF0  3E 75               		ld		a,117
    7433   00:6BF2  CD C4 83            		call	pinta_en_pantalla
    7434   00:6BF5                      		
    7435   00:6BF5  CD 3D 83            		call	tres_quince
    7436   00:6BF8  CD 79 6E            		call	get_bloque_en_X_Y
    7437   00:6BFB                      		
    7438   00:6BFB  3E 75               		ld		a,117
    7439   00:6BFD  77                  		ld		[hl],a
    7440   00:6BFE                      								
    7441   00:6BFE  CD 3D 83            		call	tres_quince
    7442   00:6C01  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7443   00:6C04                      		
    7444   00:6C04  3E 75               		ld		a,117
    7445   00:6C06  CD C4 83            		call	pinta_en_pantalla
    7446   00:6C09                      		
    7447   00:6C09  F1                  		pop		af
    7448   00:6C0A                      		
    7449   00:6C0A  C9                  		ret
    7450   00:6C0B                      		
    7451   00:6C0B                      gira_puerta_derecha_azul:
    7452   00:6C0B                      
    7453   00:6C0B  AF                  		xor		a
    7454   00:6C0C  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    7455   00:6C0F                      		
    7456   00:6C0F  CD 01 83            		call	catorce_dos
    7457   00:6C12  CD 79 6E            		call	get_bloque_en_X_Y
    7458   00:6C15                      		
    7459   00:6C15  3E 76               		ld		a,118
    7460   00:6C17  77                  		ld		[hl],a
    7461   00:6C18                      								
    7462   00:6C18  CD 01 83            		call	catorce_dos
    7463   00:6C1B  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7464   00:6C1E                      		
    7465   00:6C1E  3E 76               		ld		a,118
    7466   00:6C20  CD C4 83            		call	pinta_en_pantalla
    7467   00:6C23                      		
    7468   00:6C23  CD E9 82            		call	catorce_diez
    7469   00:6C26  CD 79 6E            		call	get_bloque_en_X_Y
    7470   00:6C29                      				
    7471   00:6C29  3E 76               		ld		a,118
    7472   00:6C2B  77                  		ld		[hl],a
    7473   00:6C2C                      								
    7474   00:6C2C  CD E9 82            		call	catorce_diez
    7475   00:6C2F  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7476   00:6C32                      		
    7477   00:6C32  3E 76               		ld		a,118
    7478   00:6C34  CD C4 83            		call	pinta_en_pantalla
    7479   00:6C37                      		
    7480   00:6C37                      		
    7481   00:6C37  F1                  		pop		af
    7482   00:6C38                      		
    7483   00:6C38  C9                  		ret
    7484   00:6C39                      		
    7485   00:6C39                      gira_puerta_izquierda_azul:	
    7486   00:6C39                      
    7487   00:6C39  AF                  		xor		a
    7488   00:6C3A  32 1D C0            		ld		(puede_cambiar_de_direccion),a
    7489   00:6C3D                      		
    7490   00:6C3D  CD 4A 83            		call	tres_dos
    7491   00:6C40  CD 79 6E            		call	get_bloque_en_X_Y
    7492   00:6C43                      		
    7493   00:6C43  3E 76               		ld		a,118
    7494   00:6C45  77                  		ld		[hl],a
    7495   00:6C46                      								
    7496   00:6C46  CD 4A 83            		call	tres_dos
    7497   00:6C49  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7498   00:6C4C                      		
    7499   00:6C4C  3E 76               		ld		a,118
    7500   00:6C4E  CD C4 83            		call	pinta_en_pantalla
    7501   00:6C51                      		
    7502   00:6C51  CD 3D 83            		call	tres_quince
    7503   00:6C54  CD 79 6E            		call	get_bloque_en_X_Y
    7504   00:6C57                      		
    7505   00:6C57  3E 76               		ld		a,118
    7506   00:6C59  77                  		ld		[hl],a
    7507   00:6C5A                      								
    7508   00:6C5A  CD 3D 83            		call	tres_quince
    7509   00:6C5D  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    7510   00:6C60                      		
    7511   00:6C60  3E 76               		ld		a,118
    7512   00:6C62  CD C4 83            		call	pinta_en_pantalla
    7513   00:6C65                      			
    7514   00:6C65  F1                  		pop		af
    7515   00:6C66                      		
    7516   00:6C66  C9                  		ret
    7517   00:6C67                      
    7518   00:6C67                      a_pantalla_2:
    7519   00:6C67                      
    7520   00:6C67  CD A6 45            		call	limpia_sprites											;quitamos sprites de en medio
    7521   00:6C6A                      			
    7522   00:6C6A  3E 02               		ld		a,2														;activa la pantalla 2
    7523   00:6C6C  32 1B C0            		ld		(px),a
    7524   00:6C6F  32 21 C6            		ld		(pantalla_activa),a
    7525   00:6C72                      		
    7526   00:6C72  3A 79 C6            		ld		a,(vision_estado)										;si no hay luz no pinta pantalla, sólo el mando y lo que se tercie
    7527   00:6C75  B7                  		or		a
    7528   00:6C76  CA 01 6D            		jr.		z,pinta_mando_de_luz_pantalla_2
    7529   00:6C79                      		
    7530   00:6C79  21 41 C3            		ld		hl,buffer_colisiones_2									;copia en vram para que lo vea el jugador
    7531   00:6C7C  11 20 18            		ld		de,#1820
    7532   00:6C7F  01 E0 02            		ld		bc,736
    7533   00:6C82  CD 5C 00            		call	GRABAVRAM
    7534   00:6C85                      		
    7535   00:6C85  C9                  		ret
    7536   00:6C86                      
    7537   00:6C86                      a_pantalla_1:
    7538   00:6C86                      
    7539   00:6C86  CD A6 45            		call	limpia_sprites
    7540   00:6C89                      		
    7541   00:6C89  3E F3               		ld		a,243
    7542   00:6C8B  32 1B C0            		ld		(px),a
    7543   00:6C8E  3E 01               		ld		a,1
    7544   00:6C90  32 21 C6            		ld		(pantalla_activa),a
    7545   00:6C93                      		
    7546   00:6C93  3A 79 C6            		ld		a,(vision_estado)
    7547   00:6C96  B7                  		or		a
    7548   00:6C97  28 0C               		jr.		z,pinta_mando_de_luz_pantalla_1
    7549   00:6C99                      		
    7550   00:6C99  21 61 C0            		ld		hl,buffer_colisiones									;copia en vram para que lo vea el jugador
    7551   00:6C9C  11 20 18            		ld		de,#1820
    7552   00:6C9F  01 E0 02            		ld		bc,736
    7553   00:6CA2  C3 5C 00            		jp		GRABAVRAM
    7554   00:6CA5                      
    7555   00:6CA5                      pinta_mando_de_luz_pantalla_1:
    7556   00:6CA5                      
    7557   00:6CA5  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    7558   00:6CA8  FE 0A               		cp		10
    7559   00:6CAA  28 05               		jr.		z,cosas_a_pintar_en_pantalla_10_1
    7560   00:6CAC  FE 0B               		cp		11
    7561   00:6CAE  28 29               		jr.		z,cosas_a_pintar_en_pantalla_11_1
    7562   00:6CB0                      		
    7563   00:6CB0  C9                  		ret	
    7564   00:6CB1                      
    7565   00:6CB1                      cosas_a_pintar_en_pantalla_10_1:
    7566   00:6CB1                      		
    7567   00:6CB1  CD 41 00            		call	DISSCR
    7568   00:6CB4                      		
    7569   00:6CB4  F3                  		di
    7570   00:6CB5  CD EC B0            		call	setrompage0
    7571   00:6CB8                      				
    7572   00:6CB8  21 86 B6            		ld		hl,paso_negro_izq
    7573   00:6CBB  11 20 18            		ld		de,#1820
    7574   00:6CBE  CD FC 83            		call	depack_VRAM
    7575   00:6CC1                      			
    7576   00:6CC1  CD F1 B0            		call	recbios
    7577   00:6CC4  FB                  		ei
    7578   00:6CC5                      			
    7579   00:6CC5  3E 5D               		ld		a,93
    7580   00:6CC7  32 EE EE            		ld		[#eeee],a
    7581   00:6CCA  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    7582   00:6CCD  11 A1 1A            		ld		de,#1aa1
    7583   00:6CD0  01 01 00            		ld		bc,1
    7584   00:6CD3  CD 5C 00            		call	GRABAVRAM
    7585   00:6CD6                      		
    7586   00:6CD6  C3 44 00            		jp		ENASCR
    7587   00:6CD9                      
    7588   00:6CD9                      cosas_a_pintar_en_pantalla_11_1:
    7589   00:6CD9                      		
    7590   00:6CD9  CD 41 00            		call	DISSCR
    7591   00:6CDC                      		
    7592   00:6CDC  F3                  		di
    7593   00:6CDD  CD EC B0            		call	setrompage0
    7594   00:6CE0                      			
    7595   00:6CE0  21 86 B6            		ld		hl,paso_negro_izq
    7596   00:6CE3  11 20 18            		ld		de,#1820
    7597   00:6CE6  CD FC 83            		call	depack_VRAM
    7598   00:6CE9                      				
    7599   00:6CE9  CD F1 B0            		call	recbios
    7600   00:6CEC  FB                  		ei
    7601   00:6CED                      		
    7602   00:6CED  3E 40               		ld		a,64
    7603   00:6CEF  32 EE EE            		ld		[#eeee],a
    7604   00:6CF2  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    7605   00:6CF5  11 41 1A            		ld		de,#1a41
    7606   00:6CF8  01 01 00            		ld		bc,1
    7607   00:6CFB  CD 5C 00            		call	GRABAVRAM
    7608   00:6CFE                      		
    7609   00:6CFE  C3 44 00            		jp		ENASCR
    7610   00:6D01                      
    7611   00:6D01                      pinta_mando_de_luz_pantalla_2:
    7612   00:6D01                      
    7613   00:6D01  3A 22 C0            		ld		a,(fase_en_la_que_esta)
    7614   00:6D04  FE 0A               		cp		10
    7615   00:6D06  28 05               		jr.		z,cosas_a_pintar_en_pantalla_10_2
    7616   00:6D08  FE 0B               		cp		11
    7617   00:6D0A  28 2A               		jr.		z,cosas_a_pintar_en_pantalla_11_2
    7618   00:6D0C                      		
    7619   00:6D0C  C9                  		ret
    7620   00:6D0D                      		
    7621   00:6D0D                      cosas_a_pintar_en_pantalla_10_2:
    7622   00:6D0D                      		
    7623   00:6D0D  CD 41 00            		call	DISSCR
    7624   00:6D10                      		
    7625   00:6D10  F3                  		di
    7626   00:6D11  CD EC B0            		call	setrompage0
    7627   00:6D14                      		
    7628   00:6D14                      		
    7629   00:6D14  F3                  		di
    7630   00:6D15  21 86 B6            		ld		hl,paso_negro_izq
    7631   00:6D18  11 20 18            		ld		de,#1820
    7632   00:6D1B  CD FC 83            		call	depack_VRAM
    7633   00:6D1E                      		
    7634   00:6D1E                      				
    7635   00:6D1E  CD F1 B0            		call	recbios
    7636   00:6D21  FB                  		ei
    7637   00:6D22                      		
    7638   00:6D22  3E 40               		ld		a,64
    7639   00:6D24  32 EE EE            		ld		[#eeee],a
    7640   00:6D27  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    7641   00:6D2A  11 A1 1A            		ld		de,#1aa1
    7642   00:6D2D  01 01 00            		ld		bc,1
    7643   00:6D30  CD 5C 00            		call	GRABAVRAM
    7644   00:6D33                      		
    7645   00:6D33  C3 44 00            		jp		ENASCR
    7646   00:6D36                      
    7647   00:6D36                      cosas_a_pintar_en_pantalla_11_2:
    7648   00:6D36                      		
    7649   00:6D36  CD 41 00            		call	DISSCR
    7650   00:6D39                      		
    7651   00:6D39  F3                  		di
    7652   00:6D3A  CD EC B0            		call	setrompage0
    7653   00:6D3D                      		
    7654   00:6D3D                      		
    7655   00:6D3D  F3                  		di
    7656   00:6D3E  21 86 B6            		ld		hl,paso_negro_izq
    7657   00:6D41  11 20 18            		ld		de,#1820
    7658   00:6D44  CD FC 83            		call	depack_VRAM
    7659   00:6D47                      			
    7660   00:6D47  CD F1 B0            		call	recbios
    7661   00:6D4A  FB                  		ei
    7662   00:6D4B                      		
    7663   00:6D4B  3E 5D               		ld		a,93
    7664   00:6D4D  32 EE EE            		ld		[#eeee],a
    7665   00:6D50  21 EE EE            		ld		hl,#eeee												;pinta el mando de la luz
    7666   00:6D53  11 41 1A            		ld		de,#1a41
    7667   00:6D56  01 01 00            		ld		bc,1
    7668   00:6D59  CD 5C 00            		call	GRABAVRAM
    7669   00:6D5C                      		
    7670   00:6D5C  C3 44 00            		jp		ENASCR
    7671   00:6D5F                      			
    7672   00:6D5F                      mueve_derecha_prota:
    7673   00:6D5F                      
    7674   00:6D5F  AF                  		xor		a
    7675   00:6D60  32 27 C0            		ld		(dir_prota),a
    7676   00:6D63                      		
    7677   00:6D63  3A 1B C0            		ld		a,[px];													;controla_si_cambia_de_pantalla
    7678   00:6D66  C6 0C               		add		12
    7679   00:6D68  FE FF               		cp		255
    7680   00:6D6A  D2 67 6C            		jr.		nc,a_pantalla_2
    7681   00:6D6D                      
    7682   00:6D6D  F5                  		push	af				
    7683   00:6D6E                      
    7684   00:6D6E  3A 1B C0            		ld		a,[px]													;colision lateral con solido
    7685   00:6D71  C6 0C               		add		12
    7686   00:6D73  57                  		ld		d,a
    7687   00:6D74  3A 1C C0            		ld		a,[py]
    7688   00:6D77  C6 0F               		add		15
    7689   00:6D79  5F                  		ld		e,a
    7690   00:6D7A  CD 79 6E            		call	get_bloque_en_X_Y
    7691   00:6D7D  FE 20               		cp		32														;hasta el 31 son solidos
    7692   00:6D7F  DA 73 6E            		jr.		c,set_parado											;si es inferior, no hay acarreo 
    7693   00:6D82  FE 72               		cp		114														;se para ante las puertas de pinchos
    7694   00:6D84  CA 73 6E            		jr.		z,set_parado
    7695   00:6D87  FE 74               		cp		116
    7696   00:6D89  CA 73 6E            		jr.		z,set_parado
    7697   00:6D8C                      				
    7698   00:6D8C  CD F9 82            		call	doce_diez
    7699   00:6D8F  CD 79 6E            		call	get_bloque_en_X_Y
    7700   00:6D92  FE 71               		cp		113														;gira las puertas
    7701   00:6D94  CA AF 6B            		jr.		z,gira_puerta_derecha_amarilla
    7702   00:6D97  FE 73               		cp		115
    7703   00:6D99  CA 0B 6C            		jr.		z,gira_puerta_derecha_azul
    7704   00:6D9C                      		
    7705   00:6D9C  3E 01               		ld		a,1														;le da el valor 1 a la variable de estado prota
    7706   00:6D9E  32 23 C0            		ld		(estado_prota),a
    7707   00:6DA1                      				
    7708   00:6DA1  3A 1B C0            		ld		a,(px)
    7709   00:6DA4  3C                  		inc		a
    7710   00:6DA5  32 1B C0            		ld		(px),a
    7711   00:6DA8                      
    7712   00:6DA8                      actualiza_el_paso:
    7713   00:6DA8                      
    7714   00:6DA8  3A 29 C0            		ld		a,(retard_anim)
    7715   00:6DAB  3C                  		inc		a
    7716   00:6DAC  FE 08               		cp		8
    7717   00:6DAE  28 06               		jr		z,reset_retardo_y_cambia_paso
    7718   00:6DB0  32 29 C0            		ld		(retard_anim),a
    7719   00:6DB3  C3 6D 6E            		jr.		end
    7720   00:6DB6                      
    7721   00:6DB6                      reset_retardo_y_cambia_paso:
    7722   00:6DB6                      
    7723   00:6DB6  AF                  		xor		a
    7724   00:6DB7  32 29 C0            		ld		(retard_anim),a
    7725   00:6DBA  3A 28 C0            		ld		a,(paso)
    7726   00:6DBD  2F                  		cpl																;le da la vuelta a todos los bits
    7727   00:6DBE  E6 03               		and		00000011b												;pone 1 en los dos primero, con lo que lo convierte en un 3 (01=1 10=2 11=3)
    7728   00:6DC0  32 28 C0            		ld		(paso),a
    7729   00:6DC3  C3 6D 6E            		jr.		end
    7730   00:6DC6                      		
    7731   00:6DC6                      
    7732   00:6DC6                      
    7733   00:6DC6                      actualiza_atributos_sprite:
    7734   00:6DC6                      		
    7735   00:6DC6  DD 21 2A C0         		ld		ix,atributos_sprite_general
    7736   00:6DCA                      		
    7737   00:6DCA  3A 1C C0            		ld		a,(py)													;valor y**
    7738   00:6DCD  DD 77 00            		ld		(ix),a
    7739   00:6DD0  C6 09               		add		a,9														;aquí controlamos la posicion de los sprites que se catrapean
    7740   00:6DD2  DD 77 04            		ld		(ix+4),a
    7741   00:6DD5  D6 10               		sub		a,16
    7742   00:6DD7  DD 77 08            		ld		(ix+8),a
    7743   00:6DDA                      		
    7744   00:6DDA  3A 1B C0            		ld		a,(px)													;valor x**
    7745   00:6DDD  CD E4 83            		call	UNO_CINCO_NUEVE
    7746   00:6DE0                      			
    7747   00:6DE0  3A 23 C0            		ld		a,(estado_prota)
    7748   00:6DE3  FE 04               		cp		4
    7749   00:6DE5  CA 69 6E            		jr.		z,esta_subiendo_o_bajando_para_el_patron
    7750   00:6DE8                      
    7751   00:6DE8  3A 23 C0            		ld		a,(estado_prota)
    7752   00:6DEB  FE 02               		cp		2
    7753   00:6DED  28 75               		jr.		z,esta_cayendo_para_el_patron
    7754   00:6DEF                      				
    7755   00:6DEF  CD 6D 83            		call	ocho_uno
    7756   00:6DF2  CD 79 6E            		call	get_bloque_en_X_Y
    7757   00:6DF5  FE 29               		cp		41
    7758   00:6DF7  28 70               		jr.		z,esta_subiendo_o_bajando_para_el_patron
    7759   00:6DF9                      		
    7760   00:6DF9  3A 23 C0            		ld		a,(estado_prota)
    7761   00:6DFC  FE 03               		cp		3
    7762   00:6DFE  28 64               		jr.		z,esta_cayendo_para_el_patron
    7763   00:6E00                      		
    7764   00:6E00  3A 27 C0            		ld		a,(dir_prota)											;valor de la direccion
    7765   00:6E03  B7                  		or		a
    7766   00:6E04  20 17               		jr		nz,mirando_izquierda
    7767   00:6E06                      		
    7768   00:6E06  3A 64 C6            		ld		a,(momento_lanzamiento)									;mira si está lanzando
    7769   00:6E09  FE 01               		cp		1
    7770   00:6E0B  28 08               		jr.		z,lanza_derecha_1
    7771   00:6E0D  FE 02               		cp		2
    7772   00:6E0F  28 08               		jr.		z,lanza_derecha_2
    7773   00:6E11                      		
    7774   00:6E11  06 00               		ld		b,0*4													;mirando derecha
    7775   00:6E13  18 1F               		jr		mirar_paso
    7776   00:6E15                      
    7777   00:6E15                      lanza_derecha_1:
    7778   00:6E15                      		
    7779   00:6E15  3E 84               		ld		a,33*4													;mirando derecha pose 1 de lanzamiento
    7780   00:6E17  18 32               		jr.		ultimos_valores
    7781   00:6E19                      		
    7782   00:6E19                      lanza_derecha_2:
    7783   00:6E19                      		
    7784   00:6E19  3E 90               		ld		a,36*4													;mirando derecha pose 2 de lanzamiento
    7785   00:6E1B  18 2E               		jr.		ultimos_valores
    7786   00:6E1D                      		
    7787   00:6E1D                      mirando_izquierda:
    7788   00:6E1D                      
    7789   00:6E1D  3A 64 C6            		ld		a,(momento_lanzamiento)
    7790   00:6E20  FE 01               		cp		1
    7791   00:6E22  28 08               		jr.		z,lanza_izquierda_1
    7792   00:6E24  FE 02               		cp		2
    7793   00:6E26  28 08               		jr.		z,lanza_izquierda_2
    7794   00:6E28                      		
    7795   00:6E28  06 18               		ld		b,6*4													;mirando izquierda
    7796   00:6E2A  18 08               		jr.		mirar_paso
    7797   00:6E2C                      		
    7798   00:6E2C                      lanza_izquierda_1:
    7799   00:6E2C                      
    7800   00:6E2C  3E 9C               		ld		a,39*4													;mirando izquierda pose 1 de lanzamiento
    7801   00:6E2E  18 1B               		jr.		ultimos_valores
    7802   00:6E30                      		
    7803   00:6E30                      lanza_izquierda_2:
    7804   00:6E30                      
    7805   00:6E30  3E A8               		ld		a,42*4													;mirando izquierda pose 2 de lanzamiento
    7806   00:6E32  18 17               		jr.		ultimos_valores
    7807   00:6E34                      		
    7808   00:6E34                      mirar_paso:
    7809   00:6E34                      		
    7810   00:6E34  3A 22 C6            		ld		a,(estado_de_salto)										;paso abierto si esta saltando
    7811   00:6E37  B7                  		or		a
    7812   00:6E38  28 09               		jr.		z,todo_va_bien
    7813   00:6E3A                      		
    7814   00:6E3A  3E 03               		ld		a,3
    7815   00:6E3C  CB 27 CB 27         [2]		sla		a
    7816   00:6E40  80                  		add		a,b
    7817   00:6E41                      		
    7818   00:6E41  18 08               		jr.		ultimos_valores
    7819   00:6E43                      		
    7820   00:6E43                      todo_va_bien:		
    7821   00:6E43  3A 28 C0            		ld		a,(paso)
    7822   00:6E46  CB 27 CB 27         [2]		sla		a														;multiplica x2 2 veces
    7823   00:6E4A  80                  		add		a,b														;le damos el patron definitivo
    7824   00:6E4B                      
    7825   00:6E4B                      ultimos_valores:
    7826   00:6E4B                      		
    7827   00:6E4B  DD 21 2A C0         		ld		ix,atributos_sprite_general
    7828   00:6E4F                      		
    7829   00:6E4F  CD EE 83            		call	DOS_SEIS_DIEZ
    7830   00:6E52                      		
    7831   00:6E52  3A 20 C0            		ld		a,(color_lineas_prota)									;valor color**
    7832   00:6E55  DD 77 03            		ld		(ix+3),a
    7833   00:6E58  3A 1F C0            		ld		a,(color_prota)
    7834   00:6E5B  DD 77 07            		ld		(ix+7),a
    7835   00:6E5E  3E 09               		ld		a,9
    7836   00:6E60  DD 77 0B            		ld		(ix+11),a
    7837   00:6E63                      		
    7838   00:6E63  C9                  		ret
    7839   00:6E64                      
    7840   00:6E64                      esta_cayendo_para_el_patron:
    7841   00:6E64                      
    7842   00:6E64  06 48               		ld		b,18*4
    7843   00:6E66  78                  		ld		a,b
    7844   00:6E67  18 E2               		jr.		ultimos_valores
    7845   00:6E69                      		
    7846   00:6E69                      esta_subiendo_o_bajando_para_el_patron:	
    7847   00:6E69                      
    7848   00:6E69  06 30               		ld		b,12*4
    7849   00:6E6B  18 C7               		jr.		mirar_paso
    7850   00:6E6D                      		
    7851   00:6E6D                      end:
    7852   00:6E6D                      
    7853   00:6E6D  AF                  		xor		a
    7854   00:6E6E  32 24 C0            		ld		[prev_dir_prota],a
    7855   00:6E71                      		
    7856   00:6E71  F1                  		pop		af
    7857   00:6E72  C9                  		ret
    7858   00:6E73                      		
    7859   00:6E73                      set_parado:
    7860   00:6E73                      
    7861   00:6E73  AF                  		xor		a
    7862   00:6E74  32 23 C0            		ld		[estado_prota],a
    7863   00:6E77  18 F4               		jr.		end
    7864   00:6E79                      
    7865   00:6E79                      get_bloque_en_X_Y:
    7866   00:6E79                      																		;				(y/8)*32+(x/8)
    7867   00:6E79  7B                  		ld		a,e														;a=y
    7868   00:6E7A  CB 3F CB 3F CB 3F   [3]		srl		a														;a=y/8
    7869   00:6E80  26 00               		ld		h,0
    7870   00:6E82  6F                  		ld		l,a														;hl=y/8
    7871   00:6E83  29 29 29 29 29      [5]		add		hl,hl													;*32			a=(y/8)*32
    7872   00:6E88                      		
    7873   00:6E88  7A                  		ld		a,d														;a=x
    7874   00:6E89  CB 3F CB 3F CB 3F   [3]		srl		a														;a=x/8
    7875   00:6E8F  16 00               		ld		d,0
    7876   00:6E91  5F                  		ld		e,a														;de=x/8
    7877   00:6E92  19                  		add		hl,de													;hl=(y/8)*32+(x/8)
    7878   00:6E93                      
    7879   00:6E93  3A 21 C6            		ld		a,(pantalla_activa)
    7880   00:6E96  FE 01               		cp		1
    7881   00:6E98  20 05               		jr.		nz,cargando_pantalla_2
    7882   00:6E9A                      		
    7883   00:6E9A  11 61 C0            		ld		de,buffer_colisiones
    7884   00:6E9D  18 03               		jr.		get_bloque_en_X_Y_continua
    7885   00:6E9F                      
    7886   00:6E9F                      cargando_pantalla_2:
    7887   00:6E9F                      
    7888   00:6E9F  11 41 C3            		ld		de,buffer_colisiones_2
    7889   00:6EA2                      		
    7890   00:6EA2                      get_bloque_en_X_Y_continua:
    7891   00:6EA2                      
    7892   00:6EA2  19                  		add		hl,de													;hl=buffer_colisiones + (y/8)*32+(x/8)
    7893   00:6EA3  01 20 00            		ld		bc,32
    7894   00:6EA6  ED 42               		sbc		hl,bc		
    7895   00:6EA8  7E                  		ld		a,[hl]
    7896   00:6EA9                      				
    7897   00:6EA9  C9                  		ret
    7898   00:6EAA                      
    7899   00:6EAA                      get_bloque_en_X_Y_paravram:
    7900   00:6EAA                      
    7901   00:6EAA  7B                  		ld		a,e														;a=y
    7902   00:6EAB  CB 3F CB 3F CB 3F   [3]		srl		a														;a=y/8
    7903   00:6EB1  26 00               		ld		h,0
    7904   00:6EB3  6F                  		ld		l,a														;hl=y/8
    7905   00:6EB4  29 29 29 29 29      [5]		add		hl,hl													;*32			a=(y/8)*32
    7906   00:6EB9                      		
    7907   00:6EB9  7A                  		ld		a,d														;a=x
    7908   00:6EBA  CB 3F CB 3F CB 3F   [3]		srl		a														;a=x/8
    7909   00:6EC0  16 00               		ld		d,0
    7910   00:6EC2  5F                  		ld		e,a														;de=x/8
    7911   00:6EC3  19                  		add		hl,de													;hl=(y/8)*32+(x/8)
    7912   00:6EC4                      		
    7913   00:6EC4  C9                  		ret
    7914   00:6EC5                      		
    7915   00:6EC5                      pone_estado_prota_a_0:
    7916   00:6EC5                      
    7917   00:6EC5  AF                  		xor		a
    7918   00:6EC6  32 23 C0            		ld		(estado_prota),a
    7919   00:6EC9                      		
    7920   00:6EC9                      pose_si_esta_parado:
    7921   00:6EC9  CD AF 82            		call	cero_cero
    7922   00:6ECC  CD 79 6E            		call	get_bloque_en_X_Y
    7923   00:6ECF  FE 29               		cp		41
    7924   00:6ED1  28 0A               		jr.		z,esta_en_escalera
    7925   00:6ED3                      		
    7926   00:6ED3  3A 23 C0            		ld		a,(estado_prota)
    7927   00:6ED6  B7                  		or		a
    7928   00:6ED7  C0                  		ret		nz
    7929   00:6ED8                      		
    7930   00:6ED8  AF                  		xor		a
    7931   00:6ED9  32 28 C0            		ld		(paso),a
    7932   00:6EDC                      
    7933   00:6EDC  C9                  		ret
    7934   00:6EDD                      		
    7935   00:6EDD                      esta_en_escalera:
    7936   00:6EDD                      		
    7937   00:6EDD  3E 04               		ld		a,4
    7938   00:6EDF  32 23 C0            		ld		(estado_prota),a
    7939   00:6EE2  C9                  		ret
    7940   00:6EE3                      			
    7941   00:6EE3                      usa_objeto_o_salta:
    7942   00:6EE3                      		
    7943   00:6EE3  3A 62 C6            		ld		a,(cont_no_salta_dos_seguidas)							;evita que se pulse el salto durante el salto
    7944   00:6EE6  B7                  		or		a
    7945   00:6EE7  20 4A               		jr.		nz,(reduce_el_contador_de_salto)
    7946   00:6EE9                      		
    7947   00:6EE9                      		
    7948   00:6EE9                      		
    7949   00:6EE9  3A 22 C6            		ld		a,(estado_de_salto)										;evita el string si ya está saltando
    7950   00:6EEC  B7                  		or		a
    7951   00:6EED  C0                  		ret		nz
    7952   00:6EEE                      		
    7953   00:6EEE  3A 5F C0            		ld		a,(estado_de_explosion)									;evita el string si hay una explosion
    7954   00:6EF1  B7                  		or		a
    7955   00:6EF2  C0                  		ret		nz
    7956   00:6EF3                      		
    7957   00:6EF3  3A 64 C6            		ld		a,(momento_lanzamiento)									;evita el string si está lanzando
    7958   00:6EF6  FE 01               		cp		1
    7959   00:6EF8  C8                  		ret		z
    7960   00:6EF9  FE 02               		cp		2
    7961   00:6EFB  C8                  		ret		z
    7962   00:6EFC                      		
    7963   00:6EFC  3A 5A C0            		ld		a,(tiene_objeto)										;si lleva el cuchillo le permitirá tirarlo en puerta o escalera (saltamos las dos siguientes prohibiciones)
    7964   00:6EFF  FE 02               		cp		2
    7965   00:6F01  28 1E               		jr.		z,sigue_comprobando
    7966   00:6F03                      				
    7967   00:6F03  3A 23 C0            		ld		a,(estado_prota)										;Evita string si está en escaleras
    7968   00:6F06  FE 04               		cp		4
    7969   00:6F08  C8                  		ret		z
    7970   00:6F09                      
    7971   00:6F09  CD 92 82            		call	dos_diez												;evita que salte si está en escalera
    7972   00:6F0C  CD 79 6E            		call	get_bloque_en_X_Y
    7973   00:6F0F  FE 29               		cp		41
    7974   00:6F11  C8                  		ret		z
    7975   00:6F12  FE 29               		cp		41
    7976   00:6F14  C8                  		ret		z
    7977   00:6F15  FE 69               		cp		105
    7978   00:6F17  C8                  		ret		z
    7979   00:6F18  FE 6A               		cp		106
    7980   00:6F1A  C8                  		ret		z
    7981   00:6F1B  FE 65               		cp		101
    7982   00:6F1D  C8                  		ret		z
    7983   00:6F1E  FE 67               		cp		103
    7984   00:6F20  C8                  		ret		z
    7985   00:6F21                      		
    7986   00:6F21                      sigue_comprobando:	
    7987   00:6F21                      			
    7988   00:6F21  AF                  		xor		a
    7989   00:6F22  CD D8 00            		call	ONSTRIG
    7990   00:6F25  FE FF               		cp		#FF
    7991   00:6F27  28 0F               		jr.		z,decide_si_usa_o_salta
    7992   00:6F29                      		
    7993   00:6F29  3E 01               		ld		a,1
    7994   00:6F2B  CD D8 00            		call	ONSTRIG
    7995   00:6F2E  FE FF               		cp		#FF
    7996   00:6F30  28 06               		jr.		z,decide_si_usa_o_salta
    7997   00:6F32                      				
    7998   00:6F32  C9                  		ret
    7999   00:6F33                      
    8000   00:6F33                      reduce_el_contador_de_salto:
    8001   00:6F33                      
    8002   00:6F33  3D                  		dec		a
    8003   00:6F34  32 62 C6            		ld		(cont_no_salta_dos_seguidas),a
    8004   00:6F37  C9                  		ret
    8005   00:6F38                      		
    8006   00:6F38                      decide_si_usa_o_salta:
    8007   00:6F38                      
    8008   00:6F38  3A 5A C0            		ld		a,(tiene_objeto)
    8009   00:6F3B  FE 01               		cp		1
    8010   00:6F3D  CA 18 75            		jr.		z,usa_bomba
    8011   00:6F40  FE 02               		cp		2
    8012   00:6F42  CA 3C 76            		jr.		z,usa_cuchillo
    8013   00:6F45                      		
    8014   00:6F45  3A 1B C0            		ld		a,[px]													;no salta si tiene techo (para evitar volar)
    8015   00:6F48  57                  		ld		d,a
    8016   00:6F49  3A 1C C0            		ld		a,[py]
    8017   00:6F4C  D6 02               		sub		a,2
    8018   00:6F4E  5F                  		ld		e,a
    8019   00:6F4F  CD 79 6E            		call	get_bloque_en_X_Y
    8020   00:6F52  FE 1F               		cp		31
    8021   00:6F54  D8                  		ret		c
    8022   00:6F55                      		
    8023   00:6F55  3A 1B C0            		ld		a,[px]
    8024   00:6F58  C6 06               		add		6														;no salta si esta en una escalera
    8025   00:6F5A  57                  		ld		d,a
    8026   00:6F5B  3A 1C C0            		ld		a,[py]
    8027   00:6F5E  C6 02               		add		2
    8028   00:6F60  5F                  		ld		e,a
    8029   00:6F61  CD 79 6E            		call	get_bloque_en_X_Y
    8030   00:6F64  FE 29               		cp		41
    8031   00:6F66  C8                  		ret		z
    8032   00:6F67  FE A9               		cp		169
    8033   00:6F69  C8                  		ret		z
    8034   00:6F6A  FE AA               		cp		170
    8035   00:6F6C  C8                  		ret		z
    8036   00:6F6D  FE AB               		cp		171
    8037   00:6F6F  C8                  		ret		z
    8038   00:6F70  FE AC               		cp		172
    8039   00:6F72  C8                  		ret		z
    8040   00:6F73                      
    8041   00:6F73  CD 92 82            		call	dos_diez												
    8042   00:6F76  CD 79 6E            		call	get_bloque_en_X_Y
    8043   00:6F79  FE 23               		cp		35														;evita que salte si está ante la puerta
    8044   00:6F7B  C8                  		ret		z
    8045   00:6F7C  FE 24               		cp		36
    8046   00:6F7E  C8                  		ret		z
    8047   00:6F7F  FE 2F               		cp		47
    8048   00:6F81  C8                  		ret		z
    8049   00:6F82  FE 30               		cp		48
    8050   00:6F84  C8                  		ret		z	
    8051   00:6F85                      
    8052   00:6F85  CD AF 82            		call	cero_cero
    8053   00:6F88  CD 79 6E            		call	get_bloque_en_X_Y
    8054   00:6F8B  FE 21               		cp		33														;si esta en la salida revisamos si sale
    8055   00:6F8D  CC 9A 6F            		call	z,fase_superada
    8056   00:6F90                      				
    8057   00:6F90  3A 23 C0            		ld		a,(estado_prota)										;si esta callendo, no salta
    8058   00:6F93  FE 03               		cp		3
    8059   00:6F95  C8                  		ret		z
    8060   00:6F96                      				
    8061   00:6F96  C3 3F 7B            		jr.		ha_saltado
    8062   00:6F99                      		
    8063   00:6F99  C9                  		ret
    8064   00:6F9A                      
    8065   00:6F9A                      fase_superada:
    8066   00:6F9A                      
    8067   00:6F9A  3A 23 C6            		ld		a,(mechero)
    8068   00:6F9D  B7                  		or		a
    8069   00:6F9E  C8                  		ret		z
    8070   00:6F9F                      		
    8071   00:6F9F  3A 24 C6            		ld		a,(gasolina)
    8072   00:6FA2  B7                  		or		a
    8073   00:6FA3  C8                  		ret		z
    8074   00:6FA4                      		
    8075   00:6FA4  3A 1F C0            		ld		a,(color_prota)
    8076   00:6FA7  FE 07               		cp		7
    8077   00:6FA9  C8                  		ret		z
    8078   00:6FAA                      		
    8079   00:6FAA  3E 01               		ld		a,1
    8080   00:6FAC  32 63 C6            		ld		(pasamos_la_fase),a
    8081   00:6FAF                      		
    8082   00:6FAF  C9                  		ret
    8083   00:6FB0                      
    8084   00:6FB0                      apaga_los_chorros:
    8085   00:6FB0                      	
    8086   00:6FB0  CD A2 83            		call	uno_menos_cuatro
    8087   00:6FB3  CD 79 6E            		call	get_bloque_en_X_Y
    8088   00:6FB6                      		
    8089   00:6FB6  FE 59               		cp		89
    8090   00:6FB8  28 68               		jr.		z,quita_encima_tuyo
    8091   00:6FBA                      	
    8092   00:6FBA  CD 9A 82            		call 	menos_dos_diez
    8093   00:6FBD  CD 79 6E            		call	get_bloque_en_X_Y
    8094   00:6FC0                      		
    8095   00:6FC0  FE 59               		cp		89
    8096   00:6FC2  CA 5E 70            		jr.		z,quita_a_tu_izquierda
    8097   00:6FC5                      		
    8098   00:6FC5  CD DC 82            		call	menos_dos_dieciocho
    8099   00:6FC8  CD 79 6E            		call	get_bloque_en_X_Y	
    8100   00:6FCB                      		
    8101   00:6FCB  FE 59               		cp		89
    8102   00:6FCD  CA E8 70            		jr.		z,quita_a_tu_izquierda_2
    8103   00:6FD0                      			
    8104   00:6FD0  CD E9 82            		call	catorce_diez
    8105   00:6FD3  CD 79 6E            		call	get_bloque_en_X_Y
    8106   00:6FD6                      		
    8107   00:6FD6  FE 59               		cp		89
    8108   00:6FD8  28 0C               		jr.		z,quita_a_tu_derecha
    8109   00:6FDA                      		
    8110   00:6FDA  CD 09 83            		call	catorce_dieciocho
    8111   00:6FDD  CD 79 6E            		call	get_bloque_en_X_Y
    8112   00:6FE0                      		
    8113   00:6FE0  FE 59               		cp		89
    8114   00:6FE2  CA 9A 70            		jr.		z,quita_a_tu_derecha_2
    8115   00:6FE5                      		
    8116   00:6FE5  C9                  		ret
    8117   00:6FE6                      			
    8118   00:6FE6                      quita_a_tu_derecha:
    8119   00:6FE6                      
    8120   00:6FE6  CD 85 82            		call	seis_diez
    8121   00:6FE9  CD 79 6E            		call	get_bloque_en_X_Y
    8122   00:6FEC  3E 20               		ld		a,32
    8123   00:6FEE  77                  		ld		[hl],a
    8124   00:6FEF                      		
    8125   00:6FEF  CD E9 82            		call	catorce_diez
    8126   00:6FF2  CD 79 6E            		call	get_bloque_en_X_Y
    8127   00:6FF5  3E 56               		ld		a,86
    8128   00:6FF7  77                  		ld		[hl],a
    8129   00:6FF8                      		
    8130   00:6FF8  CD 1B 83            		call	veintidos_diez
    8131   00:6FFB  CD 79 6E            		call	get_bloque_en_X_Y
    8132   00:6FFE  3E 20               		ld		a,32
    8133   00:7000  77                  		ld		[hl],a
    8134   00:7001                      								
    8135   00:7001  CD 85 82            		call	seis_diez
    8136   00:7004  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8137   00:7007                      		
    8138   00:7007  3E 20               		ld		a,32
    8139   00:7009  CD C4 83            		call	pinta_en_pantalla
    8140   00:700C                      		
    8141   00:700C  CD E9 82            		call	catorce_diez
    8142   00:700F  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8143   00:7012                      		
    8144   00:7012  3E 56               		ld		a,86
    8145   00:7014  CD C4 83            		call	pinta_en_pantalla
    8146   00:7017                      		
    8147   00:7017  CD 1B 83            		call	veintidos_diez
    8148   00:701A  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8149   00:701D                      		
    8150   00:701D  3E 20               		ld		a,32
    8151   00:701F  C3 C4 83            		jp		pinta_en_pantalla
    8152   00:7022                      		
    8153   00:7022                      quita_encima_tuyo:
    8154   00:7022                      		
    8155   00:7022  CD 92 83            		call	menos_dos_menos_cuatro
    8156   00:7025  CD 79 6E            		call	get_bloque_en_X_Y
    8157   00:7028  3E 20               		ld		a,32
    8158   00:702A  77                  		ld		[hl],a
    8159   00:702B                      		
    8160   00:702B  CD A2 83            		call	uno_menos_cuatro
    8161   00:702E  CD 79 6E            		call	get_bloque_en_X_Y
    8162   00:7031  3E 56               		ld		a,86
    8163   00:7033  77                  		ld		[hl],a
    8164   00:7034                      		
    8165   00:7034  CD 9A 83            		call	nueve_menos_cuatro
    8166   00:7037  CD 79 6E            		call	get_bloque_en_X_Y
    8167   00:703A  3E 20               		ld		a,32
    8168   00:703C  77                  		ld		[hl],a
    8169   00:703D                      								
    8170   00:703D  CD 92 83            		call	menos_dos_menos_cuatro
    8171   00:7040  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8172   00:7043                      		
    8173   00:7043  3E 20               		ld		a,32
    8174   00:7045  CD C4 83            		call	pinta_en_pantalla
    8175   00:7048                      		
    8176   00:7048  CD A2 83            		call	uno_menos_cuatro
    8177   00:704B  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8178   00:704E                      		
    8179   00:704E  3E 56               		ld		a,86
    8180   00:7050  CD C4 83            		call	pinta_en_pantalla
    8181   00:7053                      		
    8182   00:7053  CD 9A 83            		call	nueve_menos_cuatro
    8183   00:7056  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8184   00:7059                      		
    8185   00:7059  3E 20               		ld		a,32
    8186   00:705B  C3 C4 83            		jp		pinta_en_pantalla
    8187   00:705E                      		
    8188   00:705E                      quita_a_tu_izquierda:
    8189   00:705E                      		
    8190   00:705E  CD 85 82            		call	seis_diez
    8191   00:7061  CD 79 6E            		call	get_bloque_en_X_Y
    8192   00:7064  3E 20               		ld		a,32
    8193   00:7066  77                  		ld		[hl],a
    8194   00:7067                      		
    8195   00:7067  CD 9A 82            		call	menos_dos_diez
    8196   00:706A  CD 79 6E            		call	get_bloque_en_X_Y
    8197   00:706D  3E 56               		ld		a,86
    8198   00:706F  77                  		ld		[hl],a
    8199   00:7070                      		
    8200   00:7070  CD 24 83            		call	menos_diez_diez
    8201   00:7073  CD 79 6E            		call	get_bloque_en_X_Y
    8202   00:7076  3E 20               		ld		a,32
    8203   00:7078  77                  		ld		[hl],a
    8204   00:7079                      								
    8205   00:7079  CD 85 82            		call	seis_diez
    8206   00:707C  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8207   00:707F                      		
    8208   00:707F  3E 20               		ld		a,32
    8209   00:7081  CD C4 83            		call	pinta_en_pantalla
    8210   00:7084                      		
    8211   00:7084  CD 9A 82            		call	menos_dos_diez
    8212   00:7087  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8213   00:708A                      		
    8214   00:708A  3E 56               		ld		a,86
    8215   00:708C  CD C4 83            		call	pinta_en_pantalla
    8216   00:708F                      		
    8217   00:708F  CD 24 83            		call	menos_diez_diez
    8218   00:7092  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8219   00:7095                      		
    8220   00:7095  3E 20               		ld		a,32
    8221   00:7097  C3 C4 83            		jp		pinta_en_pantalla
    8222   00:709A                      		
    8223   00:709A                      quita_a_tu_derecha_2:
    8224   00:709A                      
    8225   00:709A  CD 2D 83            		call	seis_dieciocho
    8226   00:709D  CD 79 6E            		call	get_bloque_en_X_Y
    8227   00:70A0  3E 20               		ld		a,32
    8228   00:70A2  77                  		ld		[hl],a
    8229   00:70A3                      		
    8230   00:70A3  CD 09 83            		call	catorce_dieciocho
    8231   00:70A6  CD 79 6E            		call	get_bloque_en_X_Y
    8232   00:70A9  3E 56               		ld		a,86
    8233   00:70AB  77                  		ld		[hl],a
    8234   00:70AC                      		
    8235   00:70AC  3A 1B C0            		ld		a,[px]					;borra en buffer_colisiones el chorro						
    8236   00:70AF  C6 14               		add		20
    8237   00:70B1  57                  		ld		d,a
    8238   00:70B2  3A 1C C0            		ld		a,[py]
    8239   00:70B5  C6 12               		add		18
    8240   00:70B7  5F                  		ld		e,a
    8241   00:70B8  CD 79 6E            		call	get_bloque_en_X_Y
    8242   00:70BB  3E 20               		ld		a,32
    8243   00:70BD  77                  		ld		[hl],a
    8244   00:70BE                      								
    8245   00:70BE  CD 2D 83            		call	seis_dieciocho
    8246   00:70C1  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8247   00:70C4                      		
    8248   00:70C4  3E 20               		ld		a,32
    8249   00:70C6  CD C4 83            		call	pinta_en_pantalla
    8250   00:70C9                      		
    8251   00:70C9  CD 09 83            		call	catorce_dieciocho
    8252   00:70CC  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8253   00:70CF                      		
    8254   00:70CF  3E 56               		ld		a,86
    8255   00:70D1  CD C4 83            		call	pinta_en_pantalla
    8256   00:70D4                      		
    8257   00:70D4  3A 1B C0            		ld		a,[px]
    8258   00:70D7  C6 16               		add		22
    8259   00:70D9  57                  		ld		d,a
    8260   00:70DA  3A 1C C0            		ld		a,[py]
    8261   00:70DD  C6 12               		add		18
    8262   00:70DF  5F                  		ld		e,a
    8263   00:70E0  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8264   00:70E3                      		
    8265   00:70E3  3E 20               		ld		a,32
    8266   00:70E5  C3 C4 83            		jp		pinta_en_pantalla
    8267   00:70E8                      
    8268   00:70E8                      quita_a_tu_izquierda_2:
    8269   00:70E8                      		
    8270   00:70E8  CD 2D 83            		call	seis_dieciocho
    8271   00:70EB  CD 79 6E            		call	get_bloque_en_X_Y
    8272   00:70EE  3E 20               		ld		a,32
    8273   00:70F0  77                  		ld		[hl],a
    8274   00:70F1                      		
    8275   00:70F1  CD DC 82            		call	menos_dos_dieciocho
    8276   00:70F4  CD 79 6E            		call	get_bloque_en_X_Y
    8277   00:70F7  3E 56               		ld		a,86
    8278   00:70F9  77                  		ld		[hl],a
    8279   00:70FA                      		
    8280   00:70FA  CD 35 83            		call	menos_diez_dieciocho
    8281   00:70FD  CD 79 6E            		call	get_bloque_en_X_Y
    8282   00:7100  3E 20               		ld		a,32
    8283   00:7102  77                  		ld		[hl],a
    8284   00:7103                      								
    8285   00:7103  CD 2D 83            		call	seis_dieciocho
    8286   00:7106  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8287   00:7109                      		
    8288   00:7109  3E 20               		ld		a,32
    8289   00:710B  CD C4 83            		call	pinta_en_pantalla
    8290   00:710E                      		
    8291   00:710E  CD DC 82            		call	menos_dos_dieciocho
    8292   00:7111  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8293   00:7114                      		
    8294   00:7114  3E 56               		ld		a,86
    8295   00:7116  CD C4 83            		call	pinta_en_pantalla
    8296   00:7119                      		
    8297   00:7119  CD 35 83            		call	menos_diez_dieciocho
    8298   00:711C  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8299   00:711F                      		
    8300   00:711F  3E 20               		ld		a,32
    8301   00:7121  C3 C4 83            		jp		pinta_en_pantalla
    8302   00:7124                      
    8303   00:7124                      coge_algun_objeto:
    8304   00:7124                      		
    8305   00:7124  CD A2 82            		call	seis_dos
    8306   00:7127  CD 79 6E            		call	get_bloque_en_X_Y
    8307   00:712A                      		
    8308   00:712A  FE 5D               		cp		93														;si toca el interruptor, se da la luz
    8309   00:712C  CA 31 74            		jr.		z,damos_la_luz
    8310   00:712F                      				
    8311   00:712F  3A 79 C6            		ld		a,(vision_estado)										;si está oscuro, no podrá coger nada más
    8312   00:7132  B7                  		or		a
    8313   00:7133  C8                  		ret		z
    8314   00:7134                      		
    8315   00:7134  CD 85 82            		call	seis_diez
    8316   00:7137                      
    8317   00:7137  CD 79 6E            		call	get_bloque_en_X_Y
    8318   00:713A                      		
    8319   00:713A                      ;		cp		168														;si toca pinchos muere
    8320   00:713A                      ;		jr.		z,muy_mojado_fin_partida
    8321   00:713A                      
    8322   00:713A  FE 62               		cp		98
    8323   00:713C  CA E0 73            		jr.		z,coge_mechero_por_derecha
    8324   00:713F                      		
    8325   00:713F  FE 61               		cp		97
    8326   00:7141  CA 6B 74            		jr.		z,coge_gasolina_por_izquierda
    8327   00:7144                      
    8328   00:7144  FE 57               		cp		87
    8329   00:7146  CA B5 73            		jr.		z,cierra_grifo
    8330   00:7149                      		
    8331   00:7149  FE 6B               		cp		107
    8332   00:714B  CA 56 73            		jr.		z,coge_toalla
    8333   00:714E                      		
    8334   00:714E  FE BB               		cp		187
    8335   00:7150  CA 87 73            		jr.		z,vida_extra
    8336   00:7153                      						
    8337   00:7153  FE 56               		cp		86
    8338   00:7155  CA BB 72            		jr.		z,activa_chorro_1
    8339   00:7158                      						
    8340   00:7158  FE 50               		cp		80
    8341   00:715A  CA 9D 72            		jr.		z,activa_escalera_extra
    8342   00:715D                      		
    8343   00:715D  FE B3               		cp		179
    8344   00:715F  CA 1F 72            		jr.		z,cierra_los_grifos_de_balsa
    8345   00:7162                      		
    8346   00:7162  FE B1               		cp		177
    8347   00:7164  28 58               		jr.		z,quitamos_el_tapon
    8348   00:7166                      		
    8349   00:7166  CD F1 82            		call	diez_diez
    8350   00:7169  CD 79 6E            		call	get_bloque_en_X_Y
    8351   00:716C                      		
    8352   00:716C  FE A8               		cp		168														;si toca pinchos muere
    8353   00:716E  CA 2A 66            		jr.		z,muy_mojado_fin_partida
    8354   00:7171                      		
    8355   00:7171  CD 2D 83            		call	seis_dieciocho
    8356   00:7174  CD 79 6E            		call	get_bloque_en_X_Y
    8357   00:7177  FE 56               		cp		86
    8358   00:7179  CA 03 73            		jr.		z,activa_chorro_2
    8359   00:717C                      		
    8360   00:717C  CD A2 82            		call	seis_dos
    8361   00:717F  CD 79 6E            		call	get_bloque_en_X_Y
    8362   00:7182                      		
    8363   00:7182  FE AE               		cp		174
    8364   00:7184  CA 2A 66            		jr.		z,muy_mojado_fin_partida
    8365   00:7187                      		
    8366   00:7187  CD 85 82            		call	seis_diez
    8367   00:718A  CD 79 6E            		call	get_bloque_en_X_Y
    8368   00:718D                      		
    8369   00:718D  FE AE               		cp		174
    8370   00:718F  CA 4B 73            		jr.		z,moja_prota
    8371   00:7192                      					
    8372   00:7192  CD 2D 83            		call	seis_dieciocho
    8373   00:7195  CD 79 6E            		call	get_bloque_en_X_Y
    8374   00:7198                      				
    8375   00:7198  3A 5A C0            		ld		a,(tiene_objeto)
    8376   00:719B  B7                  		or		a
    8377   00:719C  C0                  		ret		nz
    8378   00:719D                      		
    8379   00:719D  CD 85 82            		call	seis_diez
    8380   00:71A0  CD 79 6E            		call	get_bloque_en_X_Y
    8381   00:71A3                      		
    8382   00:71A3  FE 63               		cp		99
    8383   00:71A5  CA AB 74            		jr.		z,coge_la_bomba
    8384   00:71A8                      		
    8385   00:71A8  FE 60               		cp		96
    8386   00:71AA  CA E2 74            		jr.		z,coge_cuchillo
    8387   00:71AD                      		
    8388   00:71AD  CD E9 82            		call	catorce_diez
    8389   00:71B0  CD 79 6E            		call	get_bloque_en_X_Y
    8390   00:71B3  FE 62               		cp		98
    8391   00:71B5  CA E0 73            		jr.		z,coge_mechero_por_derecha
    8392   00:71B8                      		
    8393   00:71B8  FE 61               		cp		97
    8394   00:71BA  CA 55 74            		jr.		z,coge_gasolina_por_derecha
    8395   00:71BD                      				
    8396   00:71BD  C9                  		ret
    8397   00:71BE                      		
    8398   00:71BE                      quitamos_el_tapon:
    8399   00:71BE                      
    8400   00:71BE  3A 8F C6            		ld		a,(grifos_balsa_cerrados)
    8401   00:71C1  FE 01               		cp		1
    8402   00:71C3  C8                  		ret		z
    8403   00:71C4                      		
    8404   00:71C4  3A 93 C6            		ld		a,(balsa_bacia)
    8405   00:71C7  B7                  		or		a
    8406   00:71C8  C8                  		ret		z
    8407   00:71C9                      		
    8408   00:71C9  3A 96 C6            		ld		a,(pantalla_balsa)
    8409   00:71CC  FE 01               		cp		1
    8410   00:71CE  20 09               		jr.		nz,quitamos_el_tapon_en_2
    8411   00:71D0                      
    8412   00:71D0                      quitamos_el_tapon_en_1:
    8413   00:71D0                      		
    8414   00:71D0  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    8415   00:71D4  21 61 C0            		ld		hl,buffer_colisiones
    8416   00:71D7  18 07               		jr.		quitamos_el_tapon_continua
    8417   00:71D9                      
    8418   00:71D9                      quitamos_el_tapon_en_2:
    8419   00:71D9                      
    8420   00:71D9  ED 4B 90 C6         		ld		bc,(posicion_balsa_desde_grifo)									;pintamos en el buffer adecuado el grifo cerrado
    8421   00:71DD  21 41 C3            		ld		hl,buffer_colisiones_2
    8422   00:71E0                      
    8423   00:71E0                      quitamos_el_tapon_continua:
    8424   00:71E0                      
    8425   00:71E0  ED 4A               		adc		hl,bc
    8426   00:71E2  01 1D 00            		ld		bc,29
    8427   00:71E5  ED 4A               		adc		hl,bc
    8428   00:71E7  3E 20               		ld		a,32
    8429   00:71E9  77                  		ld		[hl],a
    8430   00:71EA  23                  		inc		hl
    8431   00:71EB  77                  		ld		[hl],a
    8432   00:71EC  23                  		inc		hl
    8433   00:71ED  77                  		ld		[hl],a
    8434   00:71EE  23                  		inc		hl
    8435   00:71EF  77                  		ld		[hl],a
    8436   00:71F0  23                  		inc		hl
    8437   00:71F1  77                  		ld		[hl],a
    8438   00:71F2  23                  		inc		hl
    8439   00:71F3  77                  		ld		[hl],a
    8440   00:71F4  23                  		inc		hl
    8441   00:71F5  77                  		ld		[hl],a
    8442   00:71F6  01 1B 00            		ld		bc,27
    8443   00:71F9  ED 4A               		adc		hl,bc
    8444   00:71FB  77                  		ld		[hl],a
    8445   00:71FC  23                  		inc		hl
    8446   00:71FD  77                  		ld		[hl],a
    8447   00:71FE  23 23               [2]		inc		hl
    8448   00:7200  77                  		ld		[hl],a
    8449   00:7201  23                  		inc		hl
    8450   00:7202  77                  		ld		[hl],a
    8451   00:7203  2B 2B               [2]		dec		hl
    8452   00:7205  3E A7               		ld		a,167
    8453   00:7207  77                  		ld		[hl],a
    8454   00:7208                      
    8455   00:7208  3A 96 C6            		ld		a,(pantalla_balsa)
    8456   00:720B  47                  		ld		b,a
    8457   00:720C  3A 21 C6            		ld		a,(pantalla_activa)
    8458   00:720F  B8                  		cp		b
    8459   00:7210  20 03               		jr.		nz,quitamos_el_tapon_final
    8460   00:7212                      		
    8461   00:7212  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    8462   00:7215                      
    8463   00:7215                      quitamos_el_tapon_final:
    8464   00:7215                      		
    8465   00:7215  3E 0A               		ld		a,10														;efecto sonoro de grifo de balsa cerrado
    8466   00:7217  CD D6 83            		call	efecto_sonido
    8467   00:721A                      		
    8468   00:721A  AF                  		xor		a
    8469   00:721B  32 93 C6            		ld		(balsa_bacia),a
    8470   00:721E                      						
    8471   00:721E  C9                  		ret
    8472   00:721F                      		
    8473   00:721F                      cierra_los_grifos_de_balsa:
    8474   00:721F                      
    8475   00:721F  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por cerrar grifo de balsa
    8476   00:7222  C6 03               		add		a,3
    8477   00:7224  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8478   00:7227  3E 01               		ld		a,1
    8479   00:7229  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8480   00:722C                      		
    8481   00:722C  3A 94 C6            		ld		a,(pantalla_tile_grifo_balsa_1)							;decide en que buffer cambia el grifo 1
    8482   00:722F  FE 02               		cp		2
    8483   00:7231  28 09               		jr.		z,cierra_los_grifos_de_balsa_2
    8484   00:7233                      
    8485   00:7233                      cierra_los_grifos_de_balsa_1:
    8486   00:7233                      		
    8487   00:7233  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer 1 el grifo cerrado
    8488   00:7237  21 61 C0            		ld		hl,buffer_colisiones
    8489   00:723A                      
    8490   00:723A  18 07               		jr.		cierra_los_grifos_de_balsa_3
    8491   00:723C                      
    8492   00:723C                      cierra_los_grifos_de_balsa_2:
    8493   00:723C                      	
    8494   00:723C  ED 4B 8B C6         		ld		bc,(tile_grifo_balsa_1)									;pintamos en el buffer  2 el grifo cerrado
    8495   00:7240  21 41 C3            		ld		hl,buffer_colisiones_2
    8496   00:7243                      		
    8497   00:7243                      cierra_los_grifos_de_balsa_3:
    8498   00:7243                      
    8499   00:7243  ED 4A               		adc		hl,bc
    8500   00:7245  01 21 00            		ld		bc,33
    8501   00:7248  ED 42               		sbc		hl,bc
    8502   00:724A  3E B2               		ld		a,178
    8503   00:724C  77                  		ld		[hl],a
    8504   00:724D                      
    8505   00:724D  3A 95 C6            		ld		a,(pantalla_tile_grifo_balsa_2)
    8506   00:7250  FE 02               		cp		2
    8507   00:7252  28 0A               		jr.		z,cierra_los_grifos_de_balsa_5
    8508   00:7254                      
    8509   00:7254                      cierra_los_grifos_de_balsa_4:
    8510   00:7254                      				
    8511   00:7254  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    8512   00:7258  21 61 C0            		ld		hl,buffer_colisiones
    8513   00:725B  0B                  		dec		bc
    8514   00:725C  18 07               		jr.		cierra_los_grifos_de_balsa_6
    8515   00:725E                      
    8516   00:725E                      cierra_los_grifos_de_balsa_5:
    8517   00:725E                      
    8518   00:725E  ED 4B 8D C6         		ld		bc,(tile_grifo_balsa_2)
    8519   00:7262  21 41 C3            		ld		hl,buffer_colisiones_2
    8520   00:7265                      		
    8521   00:7265                      cierra_los_grifos_de_balsa_6:
    8522   00:7265                      		
    8523   00:7265  ED 4A               		adc		hl,bc
    8524   00:7267  01 20 00            		ld		bc,32
    8525   00:726A  ED 42               		sbc		hl,bc
    8526   00:726C  3E B2               		ld		a,178
    8527   00:726E  77                  		ld		[hl],a
    8528   00:726F                      
    8529   00:726F  3A 94 C6            		ld		a,(pantalla_tile_grifo_balsa_1)
    8530   00:7272  47                  		ld		b,a
    8531   00:7273  3A 21 C6            		ld		a,(pantalla_activa)
    8532   00:7276  B8                  		cp		b
    8533   00:7277  20 08               		jr.		nz,cierra_los_grifos_de_balsa_8
    8534   00:7279                      
    8535   00:7279                      cierra_los_grifos_de_balsa_7:
    8536   00:7279                      										
    8537   00:7279  2A 8B C6            		ld		hl,(tile_grifo_balsa_1)									;dibujamos en pantalla el grifo cerrado
    8538   00:727C  3E B2               		ld		a,178
    8539   00:727E  CD C4 83            		call	pinta_en_pantalla
    8540   00:7281                      
    8541   00:7281                      cierra_los_grifos_de_balsa_8:
    8542   00:7281                      		
    8543   00:7281  3A 95 C6            		ld		a,(pantalla_tile_grifo_balsa_2)
    8544   00:7284  47                  		ld		b,a
    8545   00:7285  3A 21 C6            		ld		a,(pantalla_activa)
    8546   00:7288  B8                  		cp		b
    8547   00:7289  20 08               		jr.		nz,cierra_los_grifos_de_balsa_10
    8548   00:728B                      				
    8549   00:728B                      cierra_los_grifos_de_balsa_9:		
    8550   00:728B                      
    8551   00:728B  2A 8D C6            		ld		hl,(tile_grifo_balsa_2)
    8552   00:728E  3E B2               		ld		a,178
    8553   00:7290  CD C4 83            		call	pinta_en_pantalla
    8554   00:7293                      
    8555   00:7293                      cierra_los_grifos_de_balsa_10:
    8556   00:7293                      		
    8557   00:7293  3E 10               		ld		a,16														;efecto sonoro de grifo de balsa cerrado
    8558   00:7295  CD D6 83            		call	efecto_sonido
    8559   00:7298                      		
    8560   00:7298  AF                  		xor		a
    8561   00:7299  32 8F C6            		ld		(grifos_balsa_cerrados),a
    8562   00:729C                      				
    8563   00:729C  C9                  		ret
    8564   00:729D                      				
    8565   00:729D                      activa_escalera_extra:
    8566   00:729D                      
    8567   00:729D  3E 01               		ld		a,1
    8568   00:729F  32 6C C6            		ld		(escalera_activada),a
    8569   00:72A2                      		
    8570   00:72A2  CD 85 82            		call	seis_diez
    8571   00:72A5  CD 79 6E            		call	get_bloque_en_X_Y
    8572   00:72A8  3E 70               		ld		a,112
    8573   00:72AA  77                  		ld		[hl],a
    8574   00:72AB  CD 85 82            		call	seis_diez
    8575   00:72AE  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8576   00:72B1                      		
    8577   00:72B1  3E 70               		ld		a,112
    8578   00:72B3  CD C4 83            		call	pinta_en_pantalla
    8579   00:72B6                      		
    8580   00:72B6  3E 0A               		ld		a,10													;efecto sonoro de activar
    8581   00:72B8  C3 D6 83            		jp		efecto_sonido
    8582   00:72BB                      		
    8583   00:72BB                      activa_chorro_1:
    8584   00:72BB                      
    8585   00:72BB  3A 77 C6            		ld		a,(grifo_estado)
    8586   00:72BE  B7                  		or		a
    8587   00:72BF  C8                  		ret		z
    8588   00:72C0                      		
    8589   00:72C0  CD 9A 82            		call	menos_dos_diez
    8590   00:72C3  CD 79 6E            		call	get_bloque_en_X_Y
    8591   00:72C6                      		
    8592   00:72C6  3E 58               		ld		a,88
    8593   00:72C8  77                  		ld		[hl],a
    8594   00:72C9                      								
    8595   00:72C9  CD 9A 82            		call	menos_dos_diez
    8596   00:72CC  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8597   00:72CF                      		
    8598   00:72CF  3E 58               		ld		a,88
    8599   00:72D1  CD C4 83            		call	pinta_en_pantalla
    8600   00:72D4                      		
    8601   00:72D4  CD 85 82            		call	seis_diez
    8602   00:72D7  CD 79 6E            		call	get_bloque_en_X_Y
    8603   00:72DA  3E 59               		ld		a,89
    8604   00:72DC  77                  		ld		[hl],a
    8605   00:72DD                      								
    8606   00:72DD  CD 85 82            		call	seis_diez
    8607   00:72E0  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8608   00:72E3                      		
    8609   00:72E3  3E 59               		ld		a,89
    8610   00:72E5  CD C4 83            		call	pinta_en_pantalla
    8611   00:72E8                      		
    8612   00:72E8  CD E9 82            		call	catorce_diez
    8613   00:72EB  CD 79 6E            		call	get_bloque_en_X_Y
    8614   00:72EE  3E 5A               		ld		a,90
    8615   00:72F0  77                  		ld		[hl],a
    8616   00:72F1                      								
    8617   00:72F1  CD E9 82            		call	catorce_diez
    8618   00:72F4  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8619   00:72F7                      		
    8620   00:72F7  3E 5A               		ld		a,90
    8621   00:72F9  CD C4 83            		call	pinta_en_pantalla
    8622   00:72FC                      		
    8623   00:72FC  3E 0B               		ld		a,11													;efecto sonoro agua (arreglar)
    8624   00:72FE  CD D6 83            		call	efecto_sonido
    8625   00:7301                      
    8626   00:7301  18 48               		jr.		moja_prota
    8627   00:7303                      
    8628   00:7303                      activa_chorro_2:
    8629   00:7303                      
    8630   00:7303  3A 77 C6            		ld		a,(grifo_estado)
    8631   00:7306  B7                  		or		a
    8632   00:7307  C8                  		ret		z
    8633   00:7308                      		
    8634   00:7308  CD DC 82            		call	menos_dos_dieciocho
    8635   00:730B  CD 79 6E            		call	get_bloque_en_X_Y
    8636   00:730E                      		
    8637   00:730E  3E 58               		ld		a,88
    8638   00:7310  77                  		ld		[hl],a
    8639   00:7311                      								
    8640   00:7311  CD DC 82            		call	menos_dos_dieciocho
    8641   00:7314  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8642   00:7317                      		
    8643   00:7317  3E 58               		ld		a,88
    8644   00:7319  CD C4 83            		call	pinta_en_pantalla
    8645   00:731C                      		
    8646   00:731C  CD 2D 83            		call	seis_dieciocho
    8647   00:731F  CD 79 6E            		call	get_bloque_en_X_Y
    8648   00:7322  3E 59               		ld		a,89
    8649   00:7324  77                  		ld		[hl],a
    8650   00:7325                      								
    8651   00:7325  CD 2D 83            		call	seis_dieciocho
    8652   00:7328  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8653   00:732B                      		
    8654   00:732B  3E 59               		ld		a,89
    8655   00:732D  CD C4 83            		call	pinta_en_pantalla
    8656   00:7330                      		
    8657   00:7330  CD 09 83            		call	catorce_dieciocho
    8658   00:7333  CD 79 6E            		call	get_bloque_en_X_Y
    8659   00:7336  3E 5A               		ld		a,90
    8660   00:7338  77                  		ld		[hl],a
    8661   00:7339                      								
    8662   00:7339  CD 09 83            		call	catorce_dieciocho
    8663   00:733C  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8664   00:733F                      		
    8665   00:733F  3E 5A               		ld		a,90
    8666   00:7341  CD C4 83            		call	pinta_en_pantalla
    8667   00:7344                      		
    8668   00:7344  3E 0B               		ld		a,11													;efecto sonoro agua (arreglar)
    8669   00:7346  CD D6 83            		call	efecto_sonido
    8670   00:7349                      
    8671   00:7349  18 00               		jr.		moja_prota
    8672   00:734B                      										
    8673   00:734B                      moja_prota:
    8674   00:734B                      
    8675   00:734B  3E 07               		ld		a,7
    8676   00:734D  32 1F C0            		ld		(color_prota),a
    8677   00:7350  3E 04               		ld		a,4
    8678   00:7352  32 20 C0            		ld		(color_lineas_prota),a
    8679   00:7355                      		
    8680   00:7355  C9                  		ret
    8681   00:7356                      				
    8682   00:7356                      coge_toalla:
    8683   00:7356                      
    8684   00:7356  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger toalla
    8685   00:7359  C6 06               		add		a,6
    8686   00:735B  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8687   00:735E  3E 01               		ld		a,1
    8688   00:7360  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8689   00:7363                      		
    8690   00:7363  CD 85 82            		call	seis_diez
    8691   00:7366  CD 79 6E            		call	get_bloque_en_X_Y
    8692   00:7369  3E 6C               		ld		a,108
    8693   00:736B  77                  		ld		[hl],a
    8694   00:736C                      								
    8695   00:736C  CD 85 82            		call	seis_diez
    8696   00:736F  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8697   00:7372                      		
    8698   00:7372  3E 6C               		ld		a,108
    8699   00:7374  CD C4 83            		call	pinta_en_pantalla
    8700   00:7377                      		
    8701   00:7377  3E 02               		ld		a,2														;efecto sonoro de toalla cogida
    8702   00:7379  CD D6 83            		call	efecto_sonido
    8703   00:737C                      		
    8704   00:737C  3E 02               		ld		a,2														; da valor a la variable para secar al prota
    8705   00:737E  32 1F C0            		ld		(color_prota),a
    8706   00:7381  3E 01               		ld		a,1
    8707   00:7383  32 20 C0            		ld		(color_lineas_prota),a
    8708   00:7386                      		
    8709   00:7386  C9                  		ret
    8710   00:7387                      
    8711   00:7387                      vida_extra:
    8712   00:7387                      
    8713   00:7387  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger toalla
    8714   00:738A  C6 0A               		add		a,10
    8715   00:738C  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8716   00:738F  3E 01               		ld		a,1
    8717   00:7391  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8718   00:7394                      		
    8719   00:7394  CD 85 82            		call	seis_diez
    8720   00:7397  CD 79 6E            		call	get_bloque_en_X_Y
    8721   00:739A  3E 20               		ld		a,32
    8722   00:739C  77                  		ld		[hl],a
    8723   00:739D                      								
    8724   00:739D  CD 85 82            		call	seis_diez
    8725   00:73A0  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8726   00:73A3                      		
    8727   00:73A3  3E 20               		ld		a,32
    8728   00:73A5  CD C4 83            		call	pinta_en_pantalla
    8729   00:73A8                      		
    8730   00:73A8  3E 0F               		ld		a,15													;efecto sonoro de vida_extra
    8731   00:73AA  CD D6 83            		call	efecto_sonido
    8732   00:73AD                      		
    8733   00:73AD  3A 1E C0            		ld		a,(vidas_prota)											;aumenta la variable de vidas en uno
    8734   00:73B0  3C                  		inc		a
    8735   00:73B1  32 1E C0            		ld		(vidas_prota),a
    8736   00:73B4                      		
    8737   00:73B4  C9                  		ret
    8738   00:73B5                      		
    8739   00:73B5                      cierra_grifo:
    8740   00:73B5                      
    8741   00:73B5  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger mechero
    8742   00:73B8  C6 0A               		add		a,10
    8743   00:73BA  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8744   00:73BD  3E 01               		ld		a,1
    8745   00:73BF  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8746   00:73C2                      		
    8747   00:73C2  CD 85 82            		call	seis_diez
    8748   00:73C5  CD 79 6E            		call	get_bloque_en_X_Y
    8749   00:73C8  3E 77               		ld		a,119
    8750   00:73CA  77                  		ld		[hl],a
    8751   00:73CB                      								
    8752   00:73CB  CD 85 82            		call	seis_diez
    8753   00:73CE  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8754   00:73D1                      		
    8755   00:73D1  3E 77               		ld		a,119
    8756   00:73D3  CD C4 83            		call	pinta_en_pantalla
    8757   00:73D6                      		
    8758   00:73D6  3E 0A               		ld		a,10													;efecto sonoro de cerrar grifo
    8759   00:73D8  CD D6 83            		call	efecto_sonido
    8760   00:73DB                      		
    8761   00:73DB  AF                  		xor		a														; da valor a la variable para dar por hecho que el grifo está cerrado
    8762   00:73DC  32 77 C6            		ld		(grifo_estado),a
    8763   00:73DF                      		
    8764   00:73DF  C9                  		ret
    8765   00:73E0                      
    8766   00:73E0                      coge_mechero_por_derecha:
    8767   00:73E0                      
    8768   00:73E0  CD E9 82            		call	catorce_diez
    8769   00:73E3  CD 79 6E            		call	get_bloque_en_X_Y
    8770   00:73E6  3E 20               		ld		a,32
    8771   00:73E8  77                  		ld		[hl],a
    8772   00:73E9                      								
    8773   00:73E9  CD E9 82            		call	catorce_diez
    8774   00:73EC  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8775   00:73EF                      		
    8776   00:73EF  3E 20               		ld		a,32
    8777   00:73F1  CD C4 83            		call	pinta_en_pantalla	
    8778   00:73F4                      		
    8779   00:73F4                      coge_mechero_por_izquierda:
    8780   00:73F4                      
    8781   00:73F4  CD 85 82            		call	seis_diez
    8782   00:73F7  CD 79 6E            		call	get_bloque_en_X_Y
    8783   00:73FA  3E 20               		ld		a,32
    8784   00:73FC  77                  		ld		[hl],a
    8785   00:73FD                      								
    8786   00:73FD  CD 85 82            		call	seis_diez
    8787   00:7400  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8788   00:7403                      		
    8789   00:7403  3E 20               		ld		a,32
    8790   00:7405  CD C4 83            		call	pinta_en_pantalla		
    8791   00:7408                      
    8792   00:7408                      coge_mechero:
    8793   00:7408                      		
    8794   00:7408  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger mechero
    8795   00:740B  C6 32               		add		a,50
    8796   00:740D  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8797   00:7410  3E 01               		ld		a,1
    8798   00:7412  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8799   00:7415                      		
    8800   00:7415                      
    8801   00:7415                      		
    8802   00:7415  3E CB               		ld		a,203
    8803   00:7417  32 EE EE            		ld		[#eeee],a
    8804   00:741A  21 EE EE            		ld		hl,#eeee												;pinta el mechero  a color
    8805   00:741D  11 1C 18            		ld		de,#181c
    8806   00:7420  01 01 00            		ld		bc,1
    8807   00:7423  CD 5C 00            		call	GRABAVRAM
    8808   00:7426                      		
    8809   00:7426  3E 02               		ld		a,2														;efecto sonoro de coger
    8810   00:7428  CD D6 83            		call	efecto_sonido
    8811   00:742B                      		
    8812   00:742B  3E 01               		ld		a,1														; da valor a la variable para adeptar que la tienes
    8813   00:742D  32 23 C6            		ld		(mechero),a
    8814   00:7430                      		
    8815   00:7430  C9                  		ret
    8816   00:7431                      
    8817   00:7431                      damos_la_luz:
    8818   00:7431                      		
    8819   00:7431  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por dar la luz
    8820   00:7434  C6 4B               		add		a,75
    8821   00:7436  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8822   00:7439  3E 01               		ld		a,1
    8823   00:743B  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8824   00:743E                      		
    8825   00:743E  CD A2 82            		call	seis_dos
    8826   00:7441  CD 79 6E            		call	get_bloque_en_X_Y
    8827   00:7444  3E 7D               		ld		a,125
    8828   00:7446  77                  		ld		[hl],a
    8829   00:7447                      								
    8830   00:7447  CD 4C 55            		call	copiamos_en_pantalla_lo_de_memoria
    8831   00:744A                      		
    8832   00:744A  3E 02               		ld		a,2														;efecto sonoro de coger
    8833   00:744C  CD D6 83            		call	efecto_sonido
    8834   00:744F                      		
    8835   00:744F  3E 01               		ld		a,1
    8836   00:7451  32 79 C6            		ld		(vision_estado),a										;damos acceso a los objetos que ya se ven
    8837   00:7454                      				
    8838   00:7454  C9                  		ret
    8839   00:7455                      
    8840   00:7455                      coge_gasolina_por_derecha:
    8841   00:7455                      		
    8842   00:7455  CD E9 82            		call	catorce_diez
    8843   00:7458  CD 79 6E            		call	get_bloque_en_X_Y
    8844   00:745B  3E 20               		ld		a,32
    8845   00:745D  77                  		ld		[hl],a
    8846   00:745E                      				
    8847   00:745E  CD E9 82            		call	catorce_diez
    8848   00:7461  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8849   00:7464                      		
    8850   00:7464  3E 20               		ld		a,32
    8851   00:7466  CD C4 83            		call	pinta_en_pantalla
    8852   00:7469                      		
    8853   00:7469  18 14               		jr.		coge_gasolina
    8854   00:746B                      		
    8855   00:746B                      coge_gasolina_por_izquierda:		
    8856   00:746B                      		
    8857   00:746B  CD 85 82            		call	seis_diez
    8858   00:746E  CD 79 6E            		call	get_bloque_en_X_Y
    8859   00:7471  3E 20               		ld		a,32
    8860   00:7473  77                  		ld		[hl],a
    8861   00:7474                      				
    8862   00:7474  CD 85 82            		call	seis_diez
    8863   00:7477  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8864   00:747A                      		
    8865   00:747A  3E 20               		ld		a,32
    8866   00:747C  CD C4 83            		call	pinta_en_pantalla
    8867   00:747F                      		
    8868   00:747F                      coge_gasolina:	
    8869   00:747F                      	
    8870   00:747F  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger gasolina
    8871   00:7482  C6 32               		add		a,50
    8872   00:7484  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8873   00:7487  3E 01               		ld		a,1
    8874   00:7489  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8875   00:748C                      		
    8876   00:748C  3E CA               		ld		a,202													;pinta la gasolina  a color
    8877   00:748E  11 1A 18            		ld		de,#181a
    8878   00:7491  CD 9F 74            		call	pinta_algo_solo
    8879   00:7494                      		
    8880   00:7494  3E 02               		ld		a,2														;efecto sonoro de coger
    8881   00:7496  CD D6 83            		call	efecto_sonido
    8882   00:7499                      		
    8883   00:7499  3E 01               		ld		a,1														;da valor a la variable para adeptar que la tienes
    8884   00:749B  32 24 C6            		ld		(gasolina),a			
    8885   00:749E                      		
    8886   00:749E  C9                  		ret
    8887   00:749F                      
    8888   00:749F                      pinta_algo_solo:
    8889   00:749F                      		
    8890   00:749F  32 EE EE            		ld		[#eeee],a
    8891   00:74A2  21 EE EE            		ld		hl,#eeee												;pinta la gasolina  a color
    8892   00:74A5  01 01 00            		ld		bc,1
    8893   00:74A8  C3 5C 00            		jr.		GRABAVRAM
    8894   00:74AB                      					
    8895   00:74AB                      coge_la_bomba:
    8896   00:74AB                      		
    8897   00:74AB  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger la bomba
    8898   00:74AE  C6 05               		add		a,5
    8899   00:74B0  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8900   00:74B3  3E 01               		ld		a,1
    8901   00:74B5  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8902   00:74B8                      		
    8903   00:74B8  CD F0 56            		call	SPRITES_BOMBA
    8904   00:74BB                      		
    8905   00:74BB  CD 85 82            		call	seis_diez
    8906   00:74BE  CD 79 6E            		call	get_bloque_en_X_Y
    8907   00:74C1  3E 20               		ld		a,32
    8908   00:74C3  77                  		ld		[hl],a
    8909   00:74C4                      		
    8910   00:74C4  7E                  		ld		a,[hl]													;borra de pantalla la bomba cogida												
    8911   00:74C5  CD 85 82            		call	seis_diez
    8912   00:74C8  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8913   00:74CB                      		
    8914   00:74CB  3E 20               		ld		a,32
    8915   00:74CD  CD C4 83            		call	pinta_en_pantalla
    8916   00:74D0                      		
    8917   00:74D0  3E CC               		ld		a,204													;pinta la bomba a color
    8918   00:74D2  11 1E 18            		ld		de,#181e
    8919   00:74D5  CD 9F 74            		call	pinta_algo_solo
    8920   00:74D8                      		
    8921   00:74D8  AF                  		xor		a														;efecto sonoro de coger
    8922   00:74D9  CD D6 83            		call	efecto_sonido
    8923   00:74DC                      		
    8924   00:74DC  3E 01               		ld		a,1														; da el valor interno a tiene_objeto
    8925   00:74DE  32 5A C0            		ld		(tiene_objeto),a
    8926   00:74E1                      		
    8927   00:74E1  C9                  		ret
    8928   00:74E2                      
    8929   00:74E2                      coge_cuchillo:
    8930   00:74E2                      		
    8931   00:74E2  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por coger cuchillo
    8932   00:74E5  C6 01               		add		a,1
    8933   00:74E7  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    8934   00:74EA  3E 01               		ld		a,1
    8935   00:74EC  32 33 C6            		ld		(cuenta_puntos_o_no),a
    8936   00:74EF                      		
    8937   00:74EF  CD FC 56            		call	SPRITES_CUCHILLO
    8938   00:74F2                      		
    8939   00:74F2  CD 85 82            		call	seis_diez
    8940   00:74F5  CD 79 6E            		call	get_bloque_en_X_Y
    8941   00:74F8  3E 20               		ld		a,32
    8942   00:74FA  77                  		ld		[hl],a
    8943   00:74FB                      		
    8944   00:74FB  CD 85 82            		call	seis_diez
    8945   00:74FE  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    8946   00:7501                      		
    8947   00:7501  3E 20               		ld		a,32
    8948   00:7503  CD C4 83            		call	pinta_en_pantalla
    8949   00:7506                      		
    8950   00:7506  3E D1               		ld		a,209													;pinta la espada a color
    8951   00:7508  11 18 18            		ld		de,#1818
    8952   00:750B  CD 9F 74            		call	pinta_algo_solo
    8953   00:750E                      		
    8954   00:750E  AF                  		xor		a														;efecto sonoro de coger
    8955   00:750F  CD D6 83            		call	efecto_sonido
    8956   00:7512                      		
    8957   00:7512  3E 02               		ld		a,2														; da el valor interno a tiene_objeto
    8958   00:7514  32 5A C0            		ld		(tiene_objeto),a
    8959   00:7517                      		
    8960   00:7517  C9                  		ret
    8961   00:7518                      		
    8962   00:7518                      usa_bomba:
    8963   00:7518                      		
    8964   00:7518  CD 53 83            		call	dos_dieciocho
    8965   00:751B  CD 79 6E            		call	get_bloque_en_X_Y
    8966   00:751E  FE 1F               		cp		31
    8967   00:7520  38 03               		jr.		c,continuamos
    8968   00:7522                      
    8969   00:7522  CD 75 75            		call	segunda_comprovacion_de_agujeros
    8970   00:7525                      		
    8971   00:7525                      continuamos:
    8972   00:7525                      
    8973   00:7525  CD 08 57            		call	SPRITES_PROTA_NORMAL		
    8974   00:7528                      		
    8975   00:7528  3A 1B C0            		ld		a,(px)													;situamos la explosion
    8976   00:752B  D6 04               		sub		a,4
    8977   00:752D  32 5D C0            		ld		(x_explosion),a
    8978   00:7530  3A 1C C0            		ld		a,(py)
    8979   00:7533  C6 0A               		add		a,10
    8980   00:7535  32 5E C0            		ld		(y_explosion),a
    8981   00:7538                      		
    8982   00:7538  3E CF               		ld		a,207													;pinta la bomba a blanco y negro
    8983   00:753A  11 1E 18            		ld		de,#181e
    8984   00:753D  CD 9F 74            		call	pinta_algo_solo
    8985   00:7540                      	
    8986   00:7540  AF                  		xor		a
    8987   00:7541  32 5A C0            		ld		(tiene_objeto),a
    8988   00:7544                      		
    8989   00:7544  3E 01               		ld		a,1
    8990   00:7546  32 5F C0            		ld		(estado_de_explosion),a									;activamos los sprites de explosion
    8991   00:7549                      		
    8992   00:7549  CD 53 83            		call	dos_dieciocho
    8993   00:754C  CD 79 6E            		call	get_bloque_en_X_Y
    8994   00:754F  FE 14               		cp		20
    8995   00:7551  20 07               		jr.		nz,continuamos_2
    8996   00:7553                      
    8997   00:7553  3E 13               		ld		a,19														;efecto sonoro de bomba fallida
    8998   00:7555  CD D6 83            		call	efecto_sonido
    8999   00:7558  18 05               		jr.		continuamos_3
    9000   00:755A                      		
    9001   00:755A                      continuamos_2:
    9002   00:755A                      		
    9003   00:755A  3E 03               		ld		a,3														;efecto sonoro de bomba
    9004   00:755C  CD D6 83            		call	efecto_sonido	
    9005   00:755F                      
    9006   00:755F                      continuamos_3:
    9007   00:755F                      		
    9008   00:755F  CD 53 83            		call	dos_dieciocho
    9009   00:7562  CD 79 6E            		call	get_bloque_en_X_Y
    9010   00:7565  FE 14               		cp		20														;si hay suelo irrompible, gasta bomba pero no agujerea
    9011   00:7567  28 0C               		jr.		z,segunda_comprovacion_de_agujeros
    9012   00:7569  38 1F               		jr.		c,hace_agujero_1
    9013   00:756B                      
    9014   00:756B  FE 17               		cp		23
    9015   00:756D  38 52               		jr.		c,hace_agujero_2
    9016   00:756F                      		
    9017   00:756F  FE 19               		cp		25
    9018   00:7571  DA F9 75            		jr.		c,hace_agujero_3
    9019   00:7574  C9                  		ret
    9020   00:7575                      
    9021   00:7575                      segunda_comprovacion_de_agujeros:
    9022   00:7575                      
    9023   00:7575  CD 64 83            		call	diez_dieciocho 
    9024   00:7578  CD 79 6E            		call	get_bloque_en_X_Y
    9025   00:757B  FE 14               		cp		20
    9026   00:757D  C8                  		ret		z
    9027   00:757E  38 2D               		jr.		c,hace_agujero_1_2
    9028   00:7580                      
    9029   00:7580  FE 17               		cp		23
    9030   00:7582  38 61               		jr.		c,hace_agujero_2_2
    9031   00:7584                      	
    9032   00:7584  FE 19               		cp		25
    9033   00:7586  DA 28 76            		jr.		c,hace_agujero_3_2
    9034   00:7589  C9                  		ret
    9035   00:758A                      hace_agujero_1:
    9036   00:758A                      		
    9037   00:758A  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por perforar suelo
    9038   00:758D  C6 05               		add		a,5
    9039   00:758F  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    9040   00:7592  3E 01               		ld		a,1
    9041   00:7594  32 33 C6            		ld		(cuenta_puntos_o_no),a
    9042   00:7597                      		
    9043   00:7597                      													
    9044   00:7597  CD 53 83            		call	dos_dieciocho
    9045   00:759A  CD 79 6E            		call	get_bloque_en_X_Y
    9046   00:759D  3E 15               		ld		a,21
    9047   00:759F  77                  		ld		[hl],a
    9048   00:75A0                      				
    9049   00:75A0  CD 53 83            		call	dos_dieciocho
    9050   00:75A3  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9051   00:75A6                      		
    9052   00:75A6  3E 15               		ld		a,21
    9053   00:75A8  CD C4 83            		call	pinta_en_pantalla		
    9054   00:75AB                      		
    9055   00:75AB  18 C8               		jr.		segunda_comprovacion_de_agujeros
    9056   00:75AD                      
    9057   00:75AD                      hace_agujero_1_2:
    9058   00:75AD                      
    9059   00:75AD  CD 64 83            		call	diez_dieciocho
    9060   00:75B0  CD 79 6E            		call	get_bloque_en_X_Y
    9061   00:75B3  3E 16               		ld		a,22
    9062   00:75B5  77                  		ld		[hl],a
    9063   00:75B6                      		
    9064   00:75B6  CD 64 83            		call	diez_dieciocho
    9065   00:75B9  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9066   00:75BC                      		
    9067   00:75BC  3E 16               		ld		a,22
    9068   00:75BE  C3 C4 83            		jp		pinta_en_pantalla
    9069   00:75C1                      		
    9070   00:75C1                      hace_agujero_2:
    9071   00:75C1                      
    9072   00:75C1  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)								;puntos ganados por perforar suelo
    9073   00:75C4  C6 0A               		add		a,10
    9074   00:75C6  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    9075   00:75C9  3E 01               		ld		a,1
    9076   00:75CB  32 33 C6            		ld		(cuenta_puntos_o_no),a
    9077   00:75CE                      		
    9078   00:75CE  7E                  		ld		a,[hl]												;pone en buffer_colisiones el suelo 3										
    9079   00:75CF  CD 53 83            		call	dos_dieciocho
    9080   00:75D2  CD 79 6E            		call	get_bloque_en_X_Y
    9081   00:75D5  3E 17               		ld		a,23
    9082   00:75D7  77                  		ld		[hl],a
    9083   00:75D8                      				
    9084   00:75D8  CD 53 83            		call	dos_dieciocho
    9085   00:75DB  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9086   00:75DE                      		
    9087   00:75DE  3E 17               		ld		a,23
    9088   00:75E0  CD C4 83            		call	pinta_en_pantalla
    9089   00:75E3                      		
    9090   00:75E3  18 90               		jr. 	segunda_comprovacion_de_agujeros
    9091   00:75E5                      		
    9092   00:75E5                      hace_agujero_2_2:
    9093   00:75E5                      		
    9094   00:75E5  CD 64 83            		call	diez_dieciocho
    9095   00:75E8  CD 79 6E            		call	get_bloque_en_X_Y
    9096   00:75EB  3E 18               		ld		a,24
    9097   00:75ED  77                  		ld		[hl],a
    9098   00:75EE                      		
    9099   00:75EE  CD 64 83            		call	diez_dieciocho
    9100   00:75F1  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9101   00:75F4                      		
    9102   00:75F4  3E 18               		ld		a,24
    9103   00:75F6  C3 C4 83            		jp		pinta_en_pantalla
    9104   00:75F9                      
    9105   00:75F9                      hace_agujero_3:
    9106   00:75F9                      		
    9107   00:75F9  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)				;puntos ganados por perforar suelo
    9108   00:75FC  C6 0F               		add		a,15
    9109   00:75FE  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    9110   00:7601  3E 01               		ld		a,1
    9111   00:7603  32 33 C6            		ld		(cuenta_puntos_o_no),a
    9112   00:7606                      		
    9113   00:7606  CD 53 83            		call	dos_dieciocho
    9114   00:7609  CD 79 6E            		call	get_bloque_en_X_Y
    9115   00:760C  3E 20               		ld		a,32
    9116   00:760E  77                  		ld		[hl],a
    9117   00:760F                      		
    9118   00:760F  CD 53 83            		call	dos_dieciocho
    9119   00:7612  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9120   00:7615                      		
    9121   00:7615  3E 20               		ld		a,32
    9122   00:7617  CD C4 83            		call	pinta_en_pantalla
    9123   00:761A                      		
    9124   00:761A  CD 64 83            		call	diez_dieciocho
    9125   00:761D  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9126   00:7620                      		
    9127   00:7620  3E 20               		ld		a,32
    9128   00:7622  CD C4 83            		call	pinta_en_pantalla
    9129   00:7625                      		
    9130   00:7625  C3 75 75            		jr.		segunda_comprovacion_de_agujeros
    9131   00:7628                      		
    9132   00:7628                      hace_agujero_3_2:
    9133   00:7628                      
    9134   00:7628  CD 64 83            		call	diez_dieciocho
    9135   00:762B  CD 79 6E            		call	get_bloque_en_X_Y
    9136   00:762E  3E 20               		ld		a,32
    9137   00:7630  77                  		ld		[hl],a
    9138   00:7631                      
    9139   00:7631  CD 64 83            		call	diez_dieciocho
    9140   00:7634  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9141   00:7637                      		
    9142   00:7637  3E 20               		ld		a,32
    9143   00:7639  C3 C4 83            		jp		pinta_en_pantalla
    9144   00:763C                      			
    9145   00:763C                      usa_cuchillo:
    9146   00:763C                      
    9147   00:763C  3A 64 C6            		ld		a,(momento_lanzamiento)
    9148   00:763F  B7                  		or		a
    9149   00:7640  C0                  		ret		nz
    9150   00:7641                      		
    9151   00:7641  3E D0               		ld		a,208													;pinta el cuchillo a blanco y negro
    9152   00:7643  11 18 18            		ld		de,#1818
    9153   00:7646  CD 9F 74            		call	pinta_algo_solo
    9154   00:7649                      	
    9155   00:7649  AF                  		xor		a														;le quita el cuchillo
    9156   00:764A  32 5A C0            		ld		(tiene_objeto),a
    9157   00:764D                      		
    9158   00:764D  CD 08 57            		call	SPRITES_PROTA_NORMAL	
    9159   00:7650                      		
    9160   00:7650  3A 21 C6            		ld		a,(pantalla_activa)
    9161   00:7653  32 65 C6            		ld		(pantalla_cuchillo),a		
    9162   00:7656  3E 01               		ld		a,1														;activa las poses de lanzamiento
    9163   00:7658  32 64 C6            		ld		(momento_lanzamiento),a
    9164   00:765B                      		
    9165   00:765B  C9                  		ret
    9166   00:765C                      		
    9167   00:765C                      rutina_cuchillo_volador:
    9168   00:765C                      		
    9169   00:765C  3A 64 C6            		ld		a,(momento_lanzamiento)
    9170   00:765F  B7                  		or		a
    9171   00:7660  C8                  		ret		z
    9172   00:7661  FE 03               		cp		3						
    9173   00:7663  28 18               		jr.		z,comprueba_lugar_cuchillo
    9174   00:7665  D2 1C 77            		jr.		nc,avanza_cuchillo
    9175   00:7668  47                  		ld		b,a
    9176   00:7669  3A 66 C6            		ld		a,(contador_poses_lanzar)
    9177   00:766C  3D                  		dec		a
    9178   00:766D  32 66 C6            		ld		(contador_poses_lanzar),a
    9179   00:7670  B7                  		or		a
    9180   00:7671  C0                  		ret		nz
    9181   00:7672  3E 05               		ld		a,5
    9182   00:7674  32 66 C6            		ld		(contador_poses_lanzar),a
    9183   00:7677  78                  		ld		a,b
    9184   00:7678                      		
    9185   00:7678  3C                  		inc		a
    9186   00:7679  32 64 C6            		ld		(momento_lanzamiento),a
    9187   00:767C                      		
    9188   00:767C  C9                  		ret
    9189   00:767D                      
    9190   00:767D                      comprueba_lugar_cuchillo:
    9191   00:767D                      
    9192   00:767D  3E 06               		ld		a,6														;efecto sonoro de lanzar
    9193   00:767F  CD D6 83            		call	efecto_sonido
    9194   00:7682                      				
    9195   00:7682  3A 27 C0            		ld		a,(dir_prota)											;vemos direccion en la que lanza
    9196   00:7685  FE 01               		cp		1
    9197   00:7687  28 45               		jr.		z,lanzamos_a_la_izquierda
    9198   00:7689                      
    9199   00:7689                      lanzamos_a_la_derecha:
    9200   00:7689                      
    9201   00:7689  32 69 C6            		ld		(dir_cuchillo),a										;guardamos la dirección para poder seguirla con el cuchillo
    9202   00:768C                      
    9203   00:768C  CD 79 83            		call	ocho_cuatro
    9204   00:768F                      		
    9205   00:768F  3A 21 C6            		ld		a,(pantalla_activa)
    9206   00:7692  08                  		ex		af,af'
    9207   00:7693  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9208   00:7696  32 21 C6            		ld		(pantalla_activa),a
    9209   00:7699                      		
    9210   00:7699  CD 79 6E            		call	get_bloque_en_X_Y
    9211   00:769C  7E                  		ld		a,[hl]													;gaurdamos en memoria lo que hay debajo del cuchillo
    9212   00:769D                      				
    9213   00:769D  32 67 C6            		ld		(recordar_lo_que_habia),a
    9214   00:76A0  3E 64               		ld		a,100													;pintamos el cuchillo
    9215   00:76A2  77                  		ld		[hl],a
    9216   00:76A3                      		
    9217   00:76A3  08                  		ex		af,af'
    9218   00:76A4  32 21 C6            		ld		(pantalla_activa),a	
    9219   00:76A7                      		
    9220   00:76A7  47                  		ld		b,a
    9221   00:76A8  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9222   00:76AB  B8                  		cp		b
    9223   00:76AC  20 1A               		jr.		nz,lanzamos_a_la_derecha_final
    9224   00:76AE                      			
    9225   00:76AE  3A 1B C0            		ld		a,[px]													;a vram
    9226   00:76B1  C6 08               		add		8
    9227   00:76B3  32 6A C6            		ld		[cx],a
    9228   00:76B6  57                  		ld		d,a
    9229   00:76B7  3A 1C C0            		ld		a,[py]
    9230   00:76BA  C6 04               		add		4
    9231   00:76BC  32 6B C6            		ld		[cy],a
    9232   00:76BF  5F                  		ld		e,a
    9233   00:76C0  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9234   00:76C3                      		
    9235   00:76C3  3E 64               		ld		a,100
    9236   00:76C5  CD C4 83            		call	pinta_en_pantalla
    9237   00:76C8                      
    9238   00:76C8                      lanzamos_a_la_derecha_final:
    9239   00:76C8                      		
    9240   00:76C8  3E 04               		ld		a,4														;pasamos el estado a movimiento
    9241   00:76CA  32 64 C6            		ld		(momento_lanzamiento),a
    9242   00:76CD                      		
    9243   00:76CD  C9                  		ret
    9244   00:76CE                      
    9245   00:76CE                      lanzamos_a_la_izquierda:
    9246   00:76CE                      
    9247   00:76CE  32 69 C6            		ld		(dir_cuchillo),a										;guardamos la dirección para poder seguirla con el cuchillo
    9248   00:76D1                      				
    9249   00:76D1  3A 1B C0            		ld		a,[px]					
    9250   00:76D4  C6 04               		add		4
    9251   00:76D6  57                  		ld		d,a
    9252   00:76D7  3A 1C C0            		ld		a,[py]
    9253   00:76DA  C6 04               		add		4
    9254   00:76DC  5F                  		ld		e,a
    9255   00:76DD                      		
    9256   00:76DD  3A 21 C6            		ld		a,(pantalla_activa)
    9257   00:76E0  08                  		ex		af,af'
    9258   00:76E1  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9259   00:76E4  32 21 C6            		ld		(pantalla_activa),a
    9260   00:76E7                      		
    9261   00:76E7  CD 79 6E            		call	get_bloque_en_X_Y
    9262   00:76EA  7E                  		ld		a,[hl]
    9263   00:76EB                      		
    9264   00:76EB  32 67 C6            		ld		(recordar_lo_que_habia),a
    9265   00:76EE  3E 66               		ld		a,102
    9266   00:76F0  77                  		ld		[hl],a
    9267   00:76F1                      		
    9268   00:76F1  08                  		ex		af,af'
    9269   00:76F2  32 21 C6            		ld		(pantalla_activa),a	
    9270   00:76F5                      		
    9271   00:76F5  47                  		ld		b,a
    9272   00:76F6  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9273   00:76F9  B8                  		cp		b
    9274   00:76FA  20 1A               		jr.		nz,lanzamos_a_la_izquierda_final
    9275   00:76FC                      				
    9276   00:76FC  3A 1B C0            		ld		a,[px]													;a vram
    9277   00:76FF  C6 04               		add		4
    9278   00:7701  32 6A C6            		ld		[cx],a
    9279   00:7704  57                  		ld		d,a
    9280   00:7705  3A 1C C0            		ld		a,[py]
    9281   00:7708  C6 04               		add		4
    9282   00:770A  32 6B C6            		ld		[cy],a
    9283   00:770D  5F                  		ld		e,a
    9284   00:770E  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9285   00:7711                      		
    9286   00:7711  3E 66               		ld		a,102
    9287   00:7713  CD C4 83            		call	pinta_en_pantalla
    9288   00:7716                      
    9289   00:7716                      lanzamos_a_la_izquierda_final:
    9290   00:7716                      		
    9291   00:7716  3E 04               		ld		a,4														;pasamos el estado a movimiento
    9292   00:7718  32 64 C6            		ld		(momento_lanzamiento),a
    9293   00:771B                      		
    9294   00:771B  C9                  		ret
    9295   00:771C                      		
    9296   00:771C                      avanza_cuchillo:
    9297   00:771C                      
    9298   00:771C  3A 69 C6            		ld		a,(dir_cuchillo)
    9299   00:771F  FE 01               		cp		1
    9300   00:7721  CA 2D 78            		jr.		z,avanza_hacia_la_izquierda
    9301   00:7724                      
    9302   00:7724                      avanza_hacia_la_derecha:
    9303   00:7724                      
    9304   00:7724  3A 6A C6            		ld		a,[cx]
    9305   00:7727  FE FA               		cp		250
    9306   00:7729  D4 B2 77            		call	nc,cuchillo_cambia_a_pantalla_dos						;cambiamos de pantalla
    9307   00:772C                      		
    9308   00:772C  3A 21 C6            		ld		a,(pantalla_activa)
    9309   00:772F  08                  		ex		af,af'
    9310   00:7730  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9311   00:7733  32 21 C6            		ld		(pantalla_activa),a
    9312   00:7736                      		
    9313   00:7736  3A 6A C6            		ld		a,[cx]
    9314   00:7739  C6 04               		add		4
    9315   00:773B  57                  		ld		d,a
    9316   00:773C  3A 6B C6            		ld		a,[cy]
    9317   00:773F  5F                  		ld		e,a
    9318   00:7740  CD 79 6E            		call	get_bloque_en_X_Y
    9319   00:7743  7E                  		ld		a,[hl]
    9320   00:7744  FE 20               		cp		32
    9321   00:7746  DA D3 77            		jr.		c,(clava_a_la_derecha)
    9322   00:7749                      		
    9323   00:7749  CD 40 79            		call	reclamo_posicion_cuchillo
    9324   00:774C  CD 79 6E            		call	get_bloque_en_X_Y
    9325   00:774F                      		
    9326   00:774F  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9327   00:7752  77                  		ld		[hl],a
    9328   00:7753                      
    9329   00:7753  08                  		ex		af,af'
    9330   00:7754  32 21 C6            		ld		(pantalla_activa),a
    9331   00:7757                      		
    9332   00:7757  47                  		ld		b,a
    9333   00:7758  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9334   00:775B  B8                  		cp		b
    9335   00:775C  20 11               		jr.		nz,avanza_hacia_la_derecha_continua
    9336   00:775E                      								
    9337   00:775E  3A 6A C6            		ld		a,[cx]													;recupera tambien en vram
    9338   00:7761  57                  		ld		d,a
    9339   00:7762  3A 6B C6            		ld		a,[cy]
    9340   00:7765  5F                  		ld		e,a
    9341   00:7766  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9342   00:7769                      		
    9343   00:7769  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9344   00:776C  CD C4 83            		call	pinta_en_pantalla
    9345   00:776F                      		
    9346   00:776F                      avanza_hacia_la_derecha_continua:				
    9347   00:776F                      
    9348   00:776F  3A 21 C6            		ld		a,(pantalla_activa)
    9349   00:7772  08                  		ex		af,af'
    9350   00:7773  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9351   00:7776  32 21 C6            		ld		(pantalla_activa),a
    9352   00:7779                      		
    9353   00:7779  3A 6A C6            		ld		a,[cx]													;salva lo que hay en el tile destino
    9354   00:777C  C6 04               		add		4
    9355   00:777E  57                  		ld		d,a
    9356   00:777F  3A 6B C6            		ld		a,[cy]
    9357   00:7782  5F                  		ld		e,a
    9358   00:7783  CD 79 6E            		call	get_bloque_en_X_Y
    9359   00:7786  7E                  		ld		a,[hl]
    9360   00:7787  32 67 C6            		ld		(recordar_lo_que_habia),a
    9361   00:778A                      		
    9362   00:778A  36 64               		ld		[hl],100												;pone el cuchillo en el nuevo tile
    9363   00:778C                      		
    9364   00:778C  08                  		ex		af,af'
    9365   00:778D  32 21 C6            		ld		(pantalla_activa),a
    9366   00:7790                      		
    9367   00:7790  47                  		ld		b,a
    9368   00:7791  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9369   00:7794  B8                  		cp		b
    9370   00:7795  20 12               		jr.		nz,avanza_hacia_la_derecha_continua_2
    9371   00:7797                      		
    9372   00:7797  3A 6A C6            		ld		a,[cx]
    9373   00:779A  C6 04               		add		4														;tambien en vram
    9374   00:779C  57                  		ld		d,a
    9375   00:779D  3A 6B C6            		ld		a,[cy]
    9376   00:77A0  5F                  		ld		e,a
    9377   00:77A1  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9378   00:77A4                      		
    9379   00:77A4  3E 64               		ld		a,100
    9380   00:77A6  CD C4 83            		call	pinta_en_pantalla
    9381   00:77A9                      
    9382   00:77A9                      avanza_hacia_la_derecha_continua_2:
    9383   00:77A9                      							
    9384   00:77A9  3A 6A C6            		ld		a,[cx]													;nuevo valor para las coordenadas x e y
    9385   00:77AC  C6 04               		add		4
    9386   00:77AE  32 6A C6            		ld		[cx],a
    9387   00:77B1                      		
    9388   00:77B1  C9                  		ret		
    9389   00:77B2                      
    9390   00:77B2                      cuchillo_cambia_a_pantalla_dos:
    9391   00:77B2                      
    9392   00:77B2  CD 40 79            		call	reclamo_posicion_cuchillo
    9393   00:77B5  CD 79 6E            		call	get_bloque_en_X_Y
    9394   00:77B8                      		
    9395   00:77B8  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9396   00:77BB  77                  		ld		[hl],a
    9397   00:77BC                      												
    9398   00:77BC  CD 40 79            		call	reclamo_posicion_cuchillo
    9399   00:77BF  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9400   00:77C2                      		
    9401   00:77C2  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9402   00:77C5  CD C4 83            		call	pinta_en_pantalla
    9403   00:77C8                      		
    9404   00:77C8  3E 02               		ld		a,2
    9405   00:77CA  32 65 C6            		ld		(pantalla_cuchillo),a
    9406   00:77CD                      		
    9407   00:77CD  3E 05               		ld		a,5
    9408   00:77CF  32 6A C6            		ld		(cx),a
    9409   00:77D2                      		
    9410   00:77D2  C9                  		ret
    9411   00:77D3                      		
    9412   00:77D3                      clava_a_la_derecha:
    9413   00:77D3                      		
    9414   00:77D3  3A 67 C6            		ld		a,(recordar_lo_que_habia)								;si está en escalera, tile especial
    9415   00:77D6  FE 2A               		cp		42
    9416   00:77D8  20 27               		jr.		nz,continua_clava_derecha_normal
    9417   00:77DA                      		
    9418   00:77DA  3E 05               		ld		a,5														;efecto sonoro de clavar
    9419   00:77DC  CD D6 83            		call	efecto_sonido	
    9420   00:77DF                      		
    9421   00:77DF  CD 40 79            		call	reclamo_posicion_cuchillo
    9422   00:77E2  CD 79 6E            		call	get_bloque_en_X_Y
    9423   00:77E5  36 6A               		ld		[hl],106
    9424   00:77E7                      		
    9425   00:77E7  08                  		ex		af,af'
    9426   00:77E8  32 21 C6            		ld		(pantalla_activa),a
    9427   00:77EB                      		
    9428   00:77EB  47                  		ld		b,a
    9429   00:77EC  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9430   00:77EF  B8                  		cp		b
    9431   00:77F0  C2 30 79            		jr.		nz,fin_de_secuencia_cuchillo
    9432   00:77F3                      				
    9433   00:77F3  CD 40 79            		call	reclamo_posicion_cuchillo
    9434   00:77F6  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9435   00:77F9                      				
    9436   00:77F9  3E 6A               		ld		a,106
    9437   00:77FB  CD C4 83            		call	pinta_en_pantalla
    9438   00:77FE                      		
    9439   00:77FE  C3 30 79            		jr.		fin_de_secuencia_cuchillo
    9440   00:7801                      		
    9441   00:7801                      continua_clava_derecha_normal:
    9442   00:7801                      
    9443   00:7801  3E 05               		ld		a,5														;efecto sonoro de clavar
    9444   00:7803  CD D6 83            		call	efecto_sonido	
    9445   00:7806                      				
    9446   00:7806  CD 40 79            		call	reclamo_posicion_cuchillo
    9447   00:7809  CD 79 6E            		call	get_bloque_en_X_Y
    9448   00:780C  36 65               		ld		[hl],101
    9449   00:780E                      		
    9450   00:780E  08                  		ex		af,af'
    9451   00:780F  32 21 C6            		ld		(pantalla_activa),a
    9452   00:7812                      		
    9453   00:7812  47                  		ld		b,a
    9454   00:7813  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9455   00:7816  B8                  		cp		b
    9456   00:7817  C2 30 79            		jr.		nz,fin_de_secuencia_cuchillo
    9457   00:781A                      		
    9458   00:781A  3A 6A C6            		ld		a,[cx]													;tambien en vram
    9459   00:781D  57                  		ld		d,a
    9460   00:781E  3A 6B C6            		ld		a,[cy]
    9461   00:7821  5F                  		ld		e,a
    9462   00:7822  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9463   00:7825                      		
    9464   00:7825  3E 65               		ld		a,101
    9465   00:7827  CD C4 83            		call	pinta_en_pantalla
    9466   00:782A                      		
    9467   00:782A  C3 30 79            		jr.		fin_de_secuencia_cuchillo
    9468   00:782D                      		
    9469   00:782D                      avanza_hacia_la_izquierda:
    9470   00:782D                      
    9471   00:782D  3A 6A C6            		ld		a,[cx]
    9472   00:7830  FE 05               		cp		5
    9473   00:7832  DC C0 78            		call	c,cuchillo_cambia_a_pantalla_uno						;cambiamos de pantalla
    9474   00:7835                      		
    9475   00:7835  3A 21 C6            		ld		a,(pantalla_activa)
    9476   00:7838  08                  		ex		af,af'
    9477   00:7839  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9478   00:783C  32 21 C6            		ld		(pantalla_activa),a
    9479   00:783F                      							
    9480   00:783F  3A 6A C6            		ld		a,[cx]													;si en el siguiente tile hay ladrillo, va a clavar
    9481   00:7842  D6 04               		sub		a,4
    9482   00:7844  57                  		ld		d,a
    9483   00:7845  3A 6B C6            		ld		a,[cy]
    9484   00:7848  5F                  		ld		e,a
    9485   00:7849  CD 79 6E            		call	get_bloque_en_X_Y
    9486   00:784C  7E                  		ld		a,[hl]
    9487   00:784D  FE 20               		cp		32
    9488   00:784F  DA E1 78            		jr.		c,clava_a_la_izquierda
    9489   00:7852                      	
    9490   00:7852  3A 6A C6            		ld		a,[cx]													;recupera lo que habia en el tile anteriormente					
    9491   00:7855  57                  		ld		d,a
    9492   00:7856  3A 6B C6            		ld		a,[cy]
    9493   00:7859  5F                  		ld		e,a
    9494   00:785A  CD 79 6E            		call	get_bloque_en_X_Y
    9495   00:785D                      		
    9496   00:785D  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9497   00:7860  77                  		ld		[hl],a
    9498   00:7861                      
    9499   00:7861  08                  		ex		af,af'
    9500   00:7862  32 21 C6            		ld		(pantalla_activa),a
    9501   00:7865                      		
    9502   00:7865  47                  		ld		b,a
    9503   00:7866  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9504   00:7869  B8                  		cp		b
    9505   00:786A  20 11               		jr.		nz,avanza_hacia_la_izquierda_continua
    9506   00:786C                      			
    9507   00:786C  3A 6A C6            		ld		a,[cx]													;recupera tambien en vram
    9508   00:786F  57                  		ld		d,a
    9509   00:7870  3A 6B C6            		ld		a,[cy]
    9510   00:7873  5F                  		ld		e,a
    9511   00:7874  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9512   00:7877                      		
    9513   00:7877  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9514   00:787A  CD C4 83            		call	pinta_en_pantalla
    9515   00:787D                      
    9516   00:787D                      avanza_hacia_la_izquierda_continua:
    9517   00:787D                      		
    9518   00:787D  3A 21 C6            		ld		a,(pantalla_activa)
    9519   00:7880  08                  		ex		af,af'
    9520   00:7881  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9521   00:7884  32 21 C6            		ld		(pantalla_activa),a
    9522   00:7887                      		
    9523   00:7887  3A 6A C6            		ld		a,[cx]													;salva lo que hay en el tile destino
    9524   00:788A  D6 04               		sub		a,4
    9525   00:788C  57                  		ld		d,a
    9526   00:788D  3A 6B C6            		ld		a,[cy]
    9527   00:7890  5F                  		ld		e,a
    9528   00:7891  CD 79 6E            		call	get_bloque_en_X_Y
    9529   00:7894  7E                  		ld		a,[hl]
    9530   00:7895  32 67 C6            		ld		(recordar_lo_que_habia),a
    9531   00:7898                      		
    9532   00:7898  36 66               		ld		[hl],102												;pone el cuchillo en el nuevo tile
    9533   00:789A                      
    9534   00:789A  08                  		ex		af,af'
    9535   00:789B  32 21 C6            		ld		(pantalla_activa),a
    9536   00:789E                      		
    9537   00:789E  47                  		ld		b,a
    9538   00:789F  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9539   00:78A2  B8                  		cp		b
    9540   00:78A3  20 12               		jr.		nz,avanza_hacia_la_izquierda_continua_2
    9541   00:78A5                      						
    9542   00:78A5  3A 6A C6            		ld		a,[cx]
    9543   00:78A8  D6 04               		sub		a,4														;tambien en vram
    9544   00:78AA  57                  		ld		d,a
    9545   00:78AB  3A 6B C6            		ld		a,[cy]
    9546   00:78AE  5F                  		ld		e,a
    9547   00:78AF  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9548   00:78B2                      		
    9549   00:78B2  3E 66               		ld		a,102
    9550   00:78B4  CD C4 83            		call	pinta_en_pantalla
    9551   00:78B7                      
    9552   00:78B7                      avanza_hacia_la_izquierda_continua_2:
    9553   00:78B7                      							
    9554   00:78B7  3A 6A C6            		ld		a,[cx]													;nuevo valor para las coordenadas x e y
    9555   00:78BA  D6 04               		sub		a,4
    9556   00:78BC  32 6A C6            		ld		[cx],a
    9557   00:78BF                      		
    9558   00:78BF  C9                  		ret
    9559   00:78C0                      
    9560   00:78C0                      cuchillo_cambia_a_pantalla_uno:
    9561   00:78C0                      
    9562   00:78C0  CD 40 79            		call	reclamo_posicion_cuchillo
    9563   00:78C3  CD 79 6E            		call	get_bloque_en_X_Y
    9564   00:78C6                      		
    9565   00:78C6  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9566   00:78C9  77                  		ld		[hl],a
    9567   00:78CA                      												
    9568   00:78CA  CD 40 79            		call	reclamo_posicion_cuchillo
    9569   00:78CD  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9570   00:78D0                      		
    9571   00:78D0  3A 67 C6            		ld		a,(recordar_lo_que_habia)
    9572   00:78D3  CD C4 83            		call	pinta_en_pantalla
    9573   00:78D6                      		
    9574   00:78D6  3E 01               		ld		a,1
    9575   00:78D8  32 65 C6            		ld		(pantalla_cuchillo),a
    9576   00:78DB                      		
    9577   00:78DB  3E FA               		ld		a,250
    9578   00:78DD  32 6A C6            		ld		(cx),a
    9579   00:78E0                      		
    9580   00:78E0  C9                  		ret
    9581   00:78E1                      				
    9582   00:78E1                      clava_a_la_izquierda:
    9583   00:78E1                      		
    9584   00:78E1  3A 67 C6            		ld		a,(recordar_lo_que_habia)								;si está en escalera, tile especial
    9585   00:78E4  FE 29               		cp		41
    9586   00:78E6  20 25               		jr.		nz,continua_clava_izquierda_normal
    9587   00:78E8                      		
    9588   00:78E8  3E 05               		ld		a,5														;efecto sonoro de clavar
    9589   00:78EA  CD D6 83            		call	efecto_sonido	
    9590   00:78ED                      		
    9591   00:78ED  CD 40 79            		call	reclamo_posicion_cuchillo
    9592   00:78F0  CD 79 6E            		call	get_bloque_en_X_Y
    9593   00:78F3  36 69               		ld		[hl],105
    9594   00:78F5                      
    9595   00:78F5  08                  		ex		af,af'
    9596   00:78F6  32 21 C6            		ld		(pantalla_activa),a
    9597   00:78F9                      		
    9598   00:78F9  47                  		ld		b,a
    9599   00:78FA  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9600   00:78FD  B8                  		cp		b
    9601   00:78FE  20 30               		jr.		nz,fin_de_secuencia_cuchillo
    9602   00:7900                      				
    9603   00:7900  CD 40 79            		call	reclamo_posicion_cuchillo
    9604   00:7903  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9605   00:7906                      				
    9606   00:7906  3E 69               		ld		a,105
    9607   00:7908  CD C4 83            		call	pinta_en_pantalla
    9608   00:790B                      		
    9609   00:790B  18 23               		jr.		fin_de_secuencia_cuchillo
    9610   00:790D                      				
    9611   00:790D                      continua_clava_izquierda_normal:
    9612   00:790D                      
    9613   00:790D  3E 05               		ld		a,5														;efecto sonoro de clavar
    9614   00:790F  CD D6 83            		call	efecto_sonido
    9615   00:7912                      		
    9616   00:7912  CD 40 79            		call	reclamo_posicion_cuchillo
    9617   00:7915  CD 79 6E            		call	get_bloque_en_X_Y
    9618   00:7918  36 67               		ld		[hl],103
    9619   00:791A                      		
    9620   00:791A                      		
    9621   00:791A  08                  		ex		af,af'
    9622   00:791B  32 21 C6            		ld		(pantalla_activa),a
    9623   00:791E                      		
    9624   00:791E  47                  		ld		b,a
    9625   00:791F  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9626   00:7922  B8                  		cp		b
    9627   00:7923  20 0B               		jr.		nz,fin_de_secuencia_cuchillo
    9628   00:7925                      		
    9629   00:7925                      		
    9630   00:7925  CD 40 79            		call	reclamo_posicion_cuchillo
    9631   00:7928  CD AA 6E            		call	get_bloque_en_X_Y_paravram
    9632   00:792B                      		
    9633   00:792B  3E 67               		ld		a,103
    9634   00:792D  CD C4 83            		call	pinta_en_pantalla
    9635   00:7930                      
    9636   00:7930                      fin_de_secuencia_cuchillo:
    9637   00:7930                      				
    9638   00:7930  AF                  		xor		a
    9639   00:7931  32 64 C6            		ld		(momento_lanzamiento),a
    9640   00:7934                      
    9641   00:7934  C9                  		ret
    9642   00:7935                      
    9643   00:7935                      trabajamos_en_pantalla_cuchillo:
    9644   00:7935                      		
    9645   00:7935  3A 21 C6            		ld		a,(pantalla_activa)
    9646   00:7938  08                  		ex		af,af'
    9647   00:7939  3A 65 C6            		ld		a,(pantalla_cuchillo)
    9648   00:793C  32 21 C6            		ld		(pantalla_activa),a
    9649   00:793F                      		
    9650   00:793F  C9                  		ret
    9651   00:7940                      
    9652   00:7940                      reclamo_posicion_cuchillo:
    9653   00:7940                      
    9654   00:7940  3A 6A C6            		ld		a,[cx]													;tambien en vram
    9655   00:7943  57                  		ld		d,a
    9656   00:7944  3A 6B C6            		ld		a,[cy]
    9657   00:7947  5F                  		ld		e,a
    9658   00:7948                      		
    9659   00:7948  C9                  		ret
    9660   00:7949                      		
    9661   00:7949                      actualiza_la_puerta:
    9662   00:7949                      		
    9663   00:7949  3A 28 C6            		ld		a,(ya_ha_cambiado_puerta)
    9664   00:794C  B7                  		or		a
    9665   00:794D  C0                  		ret		nz
    9666   00:794E                      		
    9667   00:794E  3A 23 C6            		ld		a,(mechero)
    9668   00:7951  B7                  		or		a
    9669   00:7952  C8                  		ret		z
    9670   00:7953  3A 24 C6            		ld		a,(gasolina)
    9671   00:7956  B7                  		or		a
    9672   00:7957  C8                  		ret		z
    9673   00:7958                      		
    9674   00:7958  3A 21 C6            		ld		a,(pantalla_activa)
    9675   00:795B  08                  		ex		af,af'
    9676   00:795C  3A 27 C6            		ld		a,(pantalla_puerta)
    9677   00:795F  32 21 C6            		ld		(pantalla_activa),a
    9678   00:7962                      		
    9679   00:7962  3A 5B C0            		ld		a,[px_salida]										
    9680   00:7965  57                  		ld		d,a
    9681   00:7966  3A 5C C0            		ld		a,[py_salida]
    9682   00:7969  5F                  		ld		e,a
    9683   00:796A  CD 79 6E            		call	get_bloque_en_X_Y
    9684   00:796D  3E 2D               		ld		a,45
    9685   00:796F  77                  		ld		[hl],a
    9686   00:7970                      		
    9687   00:7970  3A 5B C0            		ld		a,[px_salida]
    9688   00:7973  C6 08               		add		8										
    9689   00:7975  57                  		ld		d,a
    9690   00:7976  3A 5C C0            		ld		a,[py_salida]
    9691   00:7979  5F                  		ld		e,a
    9692   00:797A  CD 79 6E            		call	get_bloque_en_X_Y
    9693   00:797D  3E 2E               		ld		a,46
    9694   00:797F  77                  		ld		[hl],a
    9695   00:7980                      		
    9696   00:7980  3A 5B C0            		ld		a,[px_salida]										
    9697   00:7983  57                  		ld		d,a
    9698   00:7984  3A 5C C0            		ld		a,[py_salida]
    9699   00:7987  C6 08               		add		8
    9700   00:7989  5F                  		ld		e,a
    9701   00:798A  CD 79 6E            		call	get_bloque_en_X_Y
    9702   00:798D  3E 30               		ld		a,48
    9703   00:798F  77                  		ld		[hl],a
    9704   00:7990                      		
    9705   00:7990  3A 5B C0            		ld		a,[px_salida]
    9706   00:7993  C6 08               		add		8										
    9707   00:7995  57                  		ld		d,a
    9708   00:7996  3A 5C C0            		ld		a,[py_salida]
    9709   00:7999  C6 08               		add		8
    9710   00:799B  5F                  		ld		e,a
    9711   00:799C  CD 79 6E            		call	get_bloque_en_X_Y
    9712   00:799F  3E 2F               		ld		a,47
    9713   00:79A1  77                  		ld		[hl],a
    9714   00:79A2                      				
    9715   00:79A2  08                  		ex		af,af'
    9716   00:79A3  32 21 C6            		ld		(pantalla_activa),a
    9717   00:79A6  47                  		ld		b,a
    9718   00:79A7  3A 27 C6            		ld		a,(pantalla_puerta)
    9719   00:79AA  B8                  		cp		b
    9720   00:79AB  20 38               		jr.		nz,final_actualiza_puerta
    9721   00:79AD                      					
    9722   00:79AD  2A 25 C6            		ld		hl,(posicion_puerta)
    9723   00:79B0  3E 2D               		ld		a,45
    9724   00:79B2  CD C4 83            		call	pinta_en_pantalla
    9725   00:79B5                      		
    9726   00:79B5  3A 25 C6            		ld		a,(posicion_puerta)
    9727   00:79B8  C6 01               		add		1
    9728   00:79BA  32 25 C6            		ld		(posicion_puerta),a
    9729   00:79BD  2A 25 C6            		ld		hl,(posicion_puerta)
    9730   00:79C0                      		
    9731   00:79C0  3E 2E               		ld		a,46
    9732   00:79C2  CD C4 83            		call	pinta_en_pantalla
    9733   00:79C5                      		
    9734   00:79C5  3A 25 C6            		ld		a,(posicion_puerta)
    9735   00:79C8  C6 1F               		add		31
    9736   00:79CA  32 25 C6            		ld		(posicion_puerta),a
    9737   00:79CD  2A 25 C6            		ld		hl,(posicion_puerta)
    9738   00:79D0                      		
    9739   00:79D0  3E 30               		ld		a,48
    9740   00:79D2  CD C4 83            		call	pinta_en_pantalla
    9741   00:79D5                      		
    9742   00:79D5  3A 25 C6            		ld		a,(posicion_puerta)
    9743   00:79D8  C6 01               		add		1
    9744   00:79DA  32 25 C6            		ld		(posicion_puerta),a
    9745   00:79DD  2A 25 C6            		ld		hl,(posicion_puerta)
    9746   00:79E0                      		
    9747   00:79E0  3E 2F               		ld		a,47
    9748   00:79E2  CD C4 83            		call	pinta_en_pantalla
    9749   00:79E5                      
    9750   00:79E5                      final_actualiza_puerta:
    9751   00:79E5                      		
    9752   00:79E5  3E 01               		ld		a,1
    9753   00:79E7  32 28 C6            		ld		(ya_ha_cambiado_puerta),a		
    9754   00:79EA                      		
    9755   00:79EA  3E FF               		ld		a,255
    9756   00:79EC                      		
    9757   00:79EC                      alegria_de_color:
    9758   00:79EC                      
    9759   00:79EC  F5                  		push	af
    9760   00:79ED                      				
    9761   00:79ED  AF                  		xor		a
    9762   00:79EE  32 E9 F3            		ld		[COLLETRA],a											;aunque sólo quieras cambiar uno de los colores, tienes que volver a definir los otros dos para que te acepte un cambio
    9763   00:79F1  AF                  		xor		a
    9764   00:79F2  32 EA F3            		ld		[COLFONDO],a
    9765   00:79F5  3E 04               		ld		a,4
    9766   00:79F7  32 EB F3            		ld		[COLBORDE],a
    9767   00:79FA  CD 62 00            		call	COLOR
    9768   00:79FD  3E 07               		ld		a,7
    9769   00:79FF  32 EB F3            		ld		[COLBORDE],a
    9770   00:7A02  CD 62 00            		call	COLOR
    9771   00:7A05  3E 0F               		ld		a,15
    9772   00:7A07  32 EB F3            		ld		[COLBORDE],a
    9773   00:7A0A  CD 62 00            		call	COLOR
    9774   00:7A0D  3E 09               		ld		a,9
    9775   00:7A0F  32 EB F3            		ld		[COLBORDE],a
    9776   00:7A12  CD 62 00            		call	COLOR
    9777   00:7A15                      		
    9778   00:7A15  F1                  		pop		af
    9779   00:7A16  3D                  		dec		a
    9780   00:7A17  B7                  		or		a
    9781   00:7A18  20 D2               		jr.		nz,alegria_de_color
    9782   00:7A1A                      		
    9783   00:7A1A  3E 01               		ld		a,1
    9784   00:7A1C  32 EB F3            		ld		[COLBORDE],a
    9785   00:7A1F  CD 62 00            		call	COLOR
    9786   00:7A22                      		
    9787   00:7A22  3E 01               		ld		a,1
    9788   00:7A24  32 28 C6            		ld		(ya_ha_cambiado_puerta),a
    9789   00:7A27                      		
    9790   00:7A27  C9                  		ret
    9791   00:7A28                      
    9792   00:7A28                      comprueba_estado_de_explosion:
    9793   00:7A28                      
    9794   00:7A28  3A 5F C0            		ld		a,(estado_de_explosion)
    9795   00:7A2B  B7                  		or		a
    9796   00:7A2C  C8                  		ret		z
    9797   00:7A2D                      				
    9798   00:7A2D  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9799   00:7A31                      		
    9800   00:7A31  3A 5E C0            		ld		a,(y_explosion)			;valor y**
    9801   00:7A34  DD 77 0C            		ld		(ix+12),a
    9802   00:7A37                      			
    9803   00:7A37  3A 5D C0            		ld		a,(x_explosion)			;valor x**
    9804   00:7A3A  DD 77 0D            		ld		(ix+13),a
    9805   00:7A3D                      		
    9806   00:7A3D  3A 5F C0            		ld		a,(estado_de_explosion)	;SPRITE
    9807   00:7A40  C6 14               		add		a,20
    9808   00:7A42  87 87               [2]		add		a,a
    9809   00:7A44  DD 77 0E            		ld		(ix+14),a
    9810   00:7A47                      		
    9811   00:7A47  3E 0F               		ld		a,15					;COLOR EXPLOSION
    9812   00:7A49  DD 77 0F            		ld		(ix+15),a
    9813   00:7A4C                      		
    9814   00:7A4C  3A 60 C0            		ld		a,(contador_retardo_explosion)
    9815   00:7A4F  3C                  		inc		a
    9816   00:7A50  32 60 C0            		ld		(contador_retardo_explosion),a
    9817   00:7A53  FE 05               		cp		5
    9818   00:7A55  C0                  		ret		nz
    9819   00:7A56  AF                  		xor		a
    9820   00:7A57  32 60 C0            		ld		(contador_retardo_explosion),a
    9821   00:7A5A  3A 5F C0            		ld		a,(estado_de_explosion)
    9822   00:7A5D  3C                  		inc		a
    9823   00:7A5E  32 5F C0            		ld		(estado_de_explosion),a
    9824   00:7A61  FE 04               		cp		4
    9825   00:7A63  28 01               		jr.		z,finalizamos_la_explosion
    9826   00:7A65                      		
    9827   00:7A65  C9                  		ret
    9828   00:7A66                      		
    9829   00:7A66                      finalizamos_la_explosion:
    9830   00:7A66                      		
    9831   00:7A66  DD 21 2A C0         		ld		ix,atributos_sprite_general
    9832   00:7A6A                      		
    9833   00:7A6A  AF                  		xor		a
    9834   00:7A6B  32 5F C0            		ld		(estado_de_explosion),a
    9835   00:7A6E  DD 77 0C            		ld		(ix+12),a
    9836   00:7A71  DD 77 0D            		ld		(ix+13),a
    9837   00:7A74  DD 77 0F            		ld		(ix+15),a
    9838   00:7A77  3E 60               		ld		a,24*4
    9839   00:7A79  DD 77 0E            		ld		(ix+14),a
    9840   00:7A7C                      
    9841   00:7A7C  C9                  		ret
    9842   00:7A7D                      
    9843   00:7A7D                      puntuacion_vidas_fase:
    9844   00:7A7D                      		
    9845   00:7A7D  3A 1E C0            		ld		a,(vidas_prota)						;pinta vidas
    9846   00:7A80  FE 0A               		cp		10
    9847   00:7A82  D4 C0 7A            		call	nc,pon_vidas_a_maximo
    9848   00:7A85                      		
    9849   00:7A85  C6 C0               		add		a,192
    9850   00:7A87  11 03 18            		ld		de,#1803
    9851   00:7A8A  CD 9F 74            		call	pinta_algo_solo
    9852   00:7A8D                      		
    9853   00:7A8D  3A 22 C0            		ld		a,(fase_en_la_que_esta)									;pinta fase
    9854   00:7A90                      ;		cp		20
    9855   00:7A90                      ;		jr.		nc,fase_superior_a_veinte
    9856   00:7A90  FE 0A               		cp		10
    9857   00:7A92  D4 C6 7A            		call	nc,fase_superior_a_diez
    9858   00:7A95                      		
    9859   00:7A95                      puntuacion_vidas_fase_2:		
    9860   00:7A95                      		
    9861   00:7A95  C6 C0               		add		a,192
    9862   00:7A97  11 16 18            		ld		de,#1816
    9863   00:7A9A  CD 9F 74            		call	pinta_algo_solo
    9864   00:7A9D                      								
    9865   00:7A9D  3A 33 C6            		ld		a,(cuenta_puntos_o_no)				;decide si pasa a poner puntos
    9866   00:7AA0  B7                  		or		a
    9867   00:7AA1  C8                  		ret		z
    9868   00:7AA2                      				
    9869   00:7AA2  3A 34 C6            		ld		a,(cuanto_sumamos_a_score)
    9870   00:7AA5  47                  		ld		b,a
    9871   00:7AA6  3A 2B C6            		ld		a,(score)
    9872   00:7AA9  80                  		add		a,b
    9873   00:7AAA  32 2B C6            		ld		(score),a
    9874   00:7AAD  AF                  		xor		a
    9875   00:7AAE  32 34 C6            		ld		(cuanto_sumamos_a_score),a
    9876   00:7AB1  3A 2B C6            		ld		a,(score)
    9877   00:7AB4  47                  		ld		b,a
    9878   00:7AB5  3A 2D C6            		ld		a,(contador_para_puntuacion)
    9879   00:7AB8  B8                  		cp		b
    9880   00:7AB9  20 18               		jr.		nz,rutina_de_puntos
    9881   00:7ABB  AF                  		xor		a
    9882   00:7ABC  32 33 C6            		ld		(cuenta_puntos_o_no),a
    9883   00:7ABF  C9                  		ret
    9884   00:7AC0                      
    9885   00:7AC0                      pon_vidas_a_maximo:
    9886   00:7AC0                      		
    9887   00:7AC0  3E 09               		ld		a,9
    9888   00:7AC2  32 1E C0            		ld		(vidas_prota),a
    9889   00:7AC5                      		
    9890   00:7AC5  C9                  		ret
    9891   00:7AC6                      		
    9892   00:7AC6                      fase_superior_a_diez:
    9893   00:7AC6                      
    9894   00:7AC6  D6 0A               		sub		10
    9895   00:7AC8                      		
    9896   00:7AC8  F5                  		push	af
    9897   00:7AC9                      		
    9898   00:7AC9  3E C1               		ld		a,193
    9899   00:7ACB  11 15 18            		ld		de,#1815
    9900   00:7ACE  CD 9F 74            		call	pinta_algo_solo
    9901   00:7AD1                      				
    9902   00:7AD1  F1                  		pop		af
    9903   00:7AD2                      		
    9904   00:7AD2  C9                  		ret
    9905   00:7AD3                      
    9906   00:7AD3                      ;fase_superior_a_veinte:
    9907   00:7AD3                      		
    9908   00:7AD3                      ;		sub		20
    9909   00:7AD3                      		
    9910   00:7AD3                      ;		push	af
    9911   00:7AD3                      		
    9912   00:7AD3                      ;		ld		a,194
    9913   00:7AD3                      ;		ld		[#eeee],a
    9914   00:7AD3                      ;		ld		hl,#eeee
    9915   00:7AD3                      ;		ld		de,#1815
    9916   00:7AD3                      ;		ld		bc,1
    9917   00:7AD3                      ;		call	GRABAVRAM
    9918   00:7AD3                      				
    9919   00:7AD3                      ;		pop		af
    9920   00:7AD3                      		
    9921   00:7AD3                      ;		jr.		puntuacion_vidas_fase_2
    9922   00:7AD3                      				
    9923   00:7AD3                      rutina_de_puntos:
    9924   00:7AD3                      
    9925   00:7AD3  3A 2D C6            		ld		a,(contador_para_puntuacion)
    9926   00:7AD6  3C                  		inc		a
    9927   00:7AD7  32 2D C6            		ld		(contador_para_puntuacion),a
    9928   00:7ADA                      				
    9929   00:7ADA  3A 2F C6            		ld		a,(posicion_del_punto_unidades)
    9930   00:7ADD  3C                  		inc		a
    9931   00:7ADE  32 2F C6            		ld		(posicion_del_punto_unidades),a
    9932   00:7AE1  FE CA               		cp		202
    9933   00:7AE3  CC E8 7A            		call	z,resetea_los_numeros
    9934   00:7AE6                      			
    9935   00:7AE6  18 33               		jr.		termina_de_contar_puntuacion
    9936   00:7AE8                      		
    9937   00:7AE8                      resetea_los_numeros:
    9938   00:7AE8                      		
    9939   00:7AE8  3E C0               		ld		a,192								;limpia unidades
    9940   00:7AEA  32 2F C6            		ld		(posicion_del_punto_unidades),a
    9941   00:7AED                      		
    9942   00:7AED  3A 30 C6            		ld		a,(posicion_del_punto_decenas)		;aumenta decenas
    9943   00:7AF0  3C                  		inc		a
    9944   00:7AF1  32 30 C6            		ld		(posicion_del_punto_decenas),a		
    9945   00:7AF4  FE CA               		cp		202									;comprueba decenas
    9946   00:7AF6  C0                  		ret		nz
    9947   00:7AF7                      
    9948   00:7AF7  3E C0               		ld		a,192								;limpia decenas
    9949   00:7AF9  32 30 C6            		ld		(posicion_del_punto_decenas),a
    9950   00:7AFC                      		
    9951   00:7AFC  3A 31 C6            		ld		a,(posicion_del_punto_centenas)		;aumenta centenas
    9952   00:7AFF  3C                  		inc		a
    9953   00:7B00  32 31 C6            		ld		(posicion_del_punto_centenas),a
    9954   00:7B03  FE CA               		cp		202									;comprueba centenas
    9955   00:7B05  C0                  		ret		nz
    9956   00:7B06                      
    9957   00:7B06  3E C0               		ld		a,192								;limpia centenas
    9958   00:7B08  32 31 C6            		ld		(posicion_del_punto_centenas),a
    9959   00:7B0B                      		
    9960   00:7B0B  3A 32 C6            		ld		a,(posicion_del_punto_millares)		;aumenta millares
    9961   00:7B0E  3C                  		inc		a
    9962   00:7B0F  32 32 C6            		ld		(posicion_del_punto_millares),a
    9963   00:7B12  FE CA               		cp		202									;comprueba millares
    9964   00:7B14  C0                  		ret		nz			
    9965   00:7B15                      		
    9966   00:7B15  3E C0               		ld		a,192								;limpia millares
    9967   00:7B17  32 32 C6            		ld		(posicion_del_punto_millares),a
    9968   00:7B1A                      		
    9969   00:7B1A  C9                  		ret
    9970   00:7B1B                      		
    9971   00:7B1B                      termina_de_contar_puntuacion:
    9972   00:7B1B                      
    9973   00:7B1B  3A 32 C6            		ld		a,(posicion_del_punto_millares)
    9974   00:7B1E  11 0B 18            		ld		de,#180b
    9975   00:7B21  CD 9F 74            		call	pinta_algo_solo
    9976   00:7B24                      		
    9977   00:7B24  3A 31 C6            		ld		a,(posicion_del_punto_centenas)
    9978   00:7B27  11 0C 18            		ld		de,#180c
    9979   00:7B2A  CD 9F 74            		call	pinta_algo_solo
    9980   00:7B2D                      		
    9981   00:7B2D  3A 30 C6            		ld		a,(posicion_del_punto_decenas)
    9982   00:7B30  11 0D 18            		ld		de,#180d
    9983   00:7B33  CD 9F 74            		call	pinta_algo_solo
    9984   00:7B36                      		
    9985   00:7B36  3A 2F C6            		ld		a,(posicion_del_punto_unidades)
    9986   00:7B39  11 0E 18            		ld		de,#180e
    9987   00:7B3C  C3 9F 74            		jp		pinta_algo_solo
    9988   00:7B3F                      
    9989   00:7B3F                      ha_saltado:
    9990   00:7B3F                      
    9991   00:7B3F  AF                  		xor		a
    9992   00:7B40  32 23 C0            		ld		(estado_prota),a
    9993   00:7B43                      		
    9994   00:7B43  3A 27 C0            		ld		a,(dir_prota)
    9995   00:7B46  B7                  		or		a
    9996   00:7B47  28 04               		jr.		z,salta_hacia_la_derecha
    9997   00:7B49  FE 01               		cp		1
    9998   00:7B4B  28 0F               		jr.		z,salta_hacia_la_izquierda
    9999   00:7B4D                      		
   10000   00:7B4D                      salta_hacia_la_derecha:
   10001   00:7B4D                      			
   10002   00:7B4D  CD 89 83            		call	dieciseis_dos
   10003   00:7B50  CD 79 6E            		call	get_bloque_en_X_Y
   10004   00:7B53  FE 1F               		cp		31
   10005   00:7B55  D8                  		ret		c
   10006   00:7B56                      		
   10007   00:7B56  3E 01               		ld		a,1
   10008   00:7B58  32 22 C6            		ld		(estado_de_salto),a
   10009   00:7B5B  C9                  		ret
   10010   00:7B5C                      
   10011   00:7B5C                      salta_hacia_la_izquierda:
   10012   00:7B5C                      
   10013   00:7B5C  CD BC 83            		call	menos_uno_dos
   10014   00:7B5F  CD 79 6E            		call	get_bloque_en_X_Y
   10015   00:7B62  FE 1F               		cp		31
   10016   00:7B64  D8                  		ret		c
   10017   00:7B65                      		
   10018   00:7B65  3E 1F               		ld		a,31
   10019   00:7B67  32 22 C6            		ld		(estado_de_salto),a
   10020   00:7B6A  C9                  		ret
   10021   00:7B6B                      
   10022   00:7B6B                      salta_sube:
   10023   00:7B6B                      		
   10024   00:7B6B  AF                  		xor		a
   10025   00:7B6C  32 23 C0            		ld		(estado_prota),a
   10026   00:7B6F                      						
   10027   00:7B6F  CD 81 83            		call	dieciseis_quince
   10028   00:7B72  CD 79 6E            		call	get_bloque_en_X_Y
   10029   00:7B75                      		
   10030   00:7B75  FE 1F               		cp		31
   10031   00:7B77  38 1B               		jr.		c,la_y_a_la_derecha
   10032   00:7B79                      		
   10033   00:7B79  CD A2 83            		call	uno_menos_cuatro
   10034   00:7B7C  CD 79 6E            		call	get_bloque_en_X_Y
   10035   00:7B7F                      		
   10036   00:7B7F  FE 1F               		cp		31
   10037   00:7B81  38 2C               		jr.		c,resetea_el_salto
   10038   00:7B83  FE 4D               		cp		77
   10039   00:7B85  28 28               		jr.		z,resetea_el_salto
   10040   00:7B87                      		
   10041   00:7B87  3A 1B C0            		ld		a,[px]
   10042   00:7B8A  C6 01               		add		1
   10043   00:7B8C  32 1B C0            		ld		[px],a
   10044   00:7B8F                      
   10045   00:7B8F  3E 04               		ld		a,4														;efecto de saltar
   10046   00:7B91  CD D6 83            		call	efecto_sonido
   10047   00:7B94                      
   10048   00:7B94                      la_y_a_la_derecha:
   10049   00:7B94                      
   10050   00:7B94  3A 1C C0            		ld		a,[py]
   10051   00:7B97  D6 04               		sub		a,4
   10052   00:7B99  32 1C C0            		ld		[py],a
   10053   00:7B9C                      		
   10054   00:7B9C                      salta_resolucion:
   10055   00:7B9C                      		
   10056   00:7B9C  CD C6 68            		call	atributos_sprites
   10057   00:7B9F  3A 22 C6            		ld		a,(estado_de_salto)
   10058   00:7BA2  3C                  		inc		a
   10059   00:7BA3  32 22 C6            		ld		(estado_de_salto),a
   10060   00:7BA6  FE 15               		cp		21
   10061   00:7BA8  28 05               		jr.		z,resetea_el_salto
   10062   00:7BAA  FE 33               		cp		51
   10063   00:7BAC  28 01               		jr.		z,resetea_el_salto
   10064   00:7BAE  C9                  		ret
   10065   00:7BAF                      
   10066   00:7BAF                      resetea_el_salto:
   10067   00:7BAF                      
   10068   00:7BAF  AF                  		xor		a
   10069   00:7BB0  32 22 C6            		ld		(estado_de_salto),a
   10070   00:7BB3  3E 05               		ld		a,5
   10071   00:7BB5  32 62 C6            		ld		(cont_no_salta_dos_seguidas),a
   10072   00:7BB8  C9                  		ret
   10073   00:7BB9                      		
   10074   00:7BB9                      salta_sube_izquierda:	
   10075   00:7BB9                      
   10076   00:7BB9                      
   10077   00:7BB9  CD B5 83            		call	menos_uno_quince
   10078   00:7BBC  CD 79 6E            		call	get_bloque_en_X_Y
   10079   00:7BBF                      				
   10080   00:7BBF  FE 1F               		cp		31
   10081   00:7BC1  38 22               		jr.		c,la_y_a_la_izquierda
   10082   00:7BC3                      		
   10083   00:7BC3  3A 1B C0            		ld		a,[px]													;mira si tiene techo
   10084   00:7BC6  3D                  		dec		a														
   10085   00:7BC7  57                  		ld		d,a
   10086   00:7BC8  3A 1C C0            		ld		a,[py]
   10087   00:7BCB  D6 04               		sub		4
   10088   00:7BCD  5F                  		ld		e,a
   10089   00:7BCE  CD 79 6E            		call	get_bloque_en_X_Y
   10090   00:7BD1                      		
   10091   00:7BD1  FE 1F               		cp		31
   10092   00:7BD3  38 DA               		jr.		c,resetea_el_salto
   10093   00:7BD5  FE 4D               		cp		77
   10094   00:7BD7  28 D6               		jr.		z,resetea_el_salto
   10095   00:7BD9                      		
   10096   00:7BD9  3A 1B C0            		ld		a,[px]
   10097   00:7BDC  3D                  		dec		a
   10098   00:7BDD  32 1B C0            		ld		[px],a
   10099   00:7BE0                      
   10100   00:7BE0  3E 04               		ld		a,4														;efecto de saltar
   10101   00:7BE2  CD D6 83            		call	efecto_sonido
   10102   00:7BE5                      
   10103   00:7BE5                      la_y_a_la_izquierda:
   10104   00:7BE5                      		
   10105   00:7BE5  3A 1C C0            		ld		a,[py]
   10106   00:7BE8  D6 04               		sub		a,4														
   10107   00:7BEA  32 1C C0            		ld		[py],a
   10108   00:7BED                      		
   10109   00:7BED                      salta_sigue:
   10110   00:7BED                      		
   10111   00:7BED  CD 81 83            		call	dieciseis_quince
   10112   00:7BF0  CD 79 6E            		call	get_bloque_en_X_Y
   10113   00:7BF3                      		
   10114   00:7BF3  FE 1F               		cp		31
   10115   00:7BF5  38 B8               		jr.		c,resetea_el_salto
   10116   00:7BF7                      		
   10117   00:7BF7  3A 1B C0            		ld		a,[px]
   10118   00:7BFA  C6 01               		add		1
   10119   00:7BFC  32 1B C0            		ld		[px],a
   10120   00:7BFF                      		
   10121   00:7BFF  18 9B               		jr.		salta_resolucion
   10122   00:7C01                      
   10123   00:7C01                      salta_sigue_izquierda:
   10124   00:7C01                      
   10125   00:7C01  CD B5 83            		call	menos_uno_quince
   10126   00:7C04  CD 79 6E            		call	get_bloque_en_X_Y
   10127   00:7C07                      		
   10128   00:7C07  FE 1F               		cp		31
   10129   00:7C09  38 A4               		jr.		c,resetea_el_salto
   10130   00:7C0B                      		
   10131   00:7C0B  3A 1B C0            		ld		a,[px]
   10132   00:7C0E  3D                  		dec		a
   10133   00:7C0F  32 1B C0            		ld		[px],a
   10134   00:7C12                      		
   10135   00:7C12  18 88               		jr.		salta_resolucion
   10136   00:7C14                      
   10137   00:7C14                      salta_baja:
   10138   00:7C14                      
   10139   00:7C14  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
   10140   00:7C17  C6 0F               		add		15																	
   10141   00:7C19  57                  		ld		d,a
   10142   00:7C1A  3A 1C C0            		ld		a,[py]
   10143   00:7C1D  C6 0F               		add		15
   10144   00:7C1F  5F                  		ld		e,a	
   10145   00:7C20  CD 79 6E            		call	get_bloque_en_X_Y
   10146   00:7C23                      		
   10147   00:7C23  FE 1F               		cp		31
   10148   00:7C25  38 88               		jr.		c,resetea_el_salto
   10149   00:7C27                      				
   10150   00:7C27  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
   10151   00:7C2A  C6 0F               		add		15																	
   10152   00:7C2C  57                  		ld		d,a
   10153   00:7C2D  3A 1C C0            		ld		a,[py]
   10154   00:7C30  C6 13               		add		19
   10155   00:7C32  5F                  		ld		e,a
   10156   00:7C33  CD 79 6E            		call	get_bloque_en_X_Y
   10157   00:7C36                      		
   10158   00:7C36  FE 1F               		cp		31
   10159   00:7C38  DA AF 7B            		jr.		c,resetea_el_salto
   10160   00:7C3B                      		
   10161   00:7C3B  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
   10162   00:7C3E  C6 08               		add		8																	
   10163   00:7C40  57                  		ld		d,a
   10164   00:7C41  3A 1C C0            		ld		a,[py]
   10165   00:7C44  C6 13               		add		19
   10166   00:7C46  5F                  		ld		e,a
   10167   00:7C47  CD 79 6E            		call	get_bloque_en_X_Y
   10168   00:7C4A                      		
   10169   00:7C4A  FE 1F               		cp		31
   10170   00:7C4C  DA AF 7B            		jr.		c,resetea_el_salto
   10171   00:7C4F                      		
   10172   00:7C4F  3A 1B C0            		ld		a,[px]
   10173   00:7C52  C6 01               		add		1
   10174   00:7C54  32 1B C0            		ld		[px],a
   10175   00:7C57                      		
   10176   00:7C57  3A 1C C0            		ld		a,[py]
   10177   00:7C5A  C6 04               		add		4
   10178   00:7C5C  32 1C C0            		ld		[py],a
   10179   00:7C5F                      		
   10180   00:7C5F  C3 9C 7B            		jr.		salta_resolucion
   10181   00:7C62                      		
   10182   00:7C62                      salta_baja_izquierda:
   10183   00:7C62                      
   10184   00:7C62  CD CD 82            		call	menos_uno_dieciseis
   10185   00:7C65  CD 79 6E            		call	get_bloque_en_X_Y
   10186   00:7C68                      		
   10187   00:7C68  FE 1F               		cp		31
   10188   00:7C6A  DA AF 7B            		jr.		c,resetea_el_salto
   10189   00:7C6D                      		
   10190   00:7C6D  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
   10191   00:7C70  D6 0F               		sub		15														
   10192   00:7C72  57                  		ld		d,a
   10193   00:7C73  3A 1C C0            		ld		a,[py]
   10194   00:7C76  C6 13               		add		19
   10195   00:7C78  5F                  		ld		e,a
   10196   00:7C79  CD 79 6E            		call	get_bloque_en_X_Y
   10197   00:7C7C                      		
   10198   00:7C7C  FE 1F               		cp		31
   10199   00:7C7E  DA AF 7B            		jr.		c,resetea_el_salto
   10200   00:7C81                      		
   10201   00:7C81  3A 1B C0            		ld		a,[px]													;mira si tiene suelo
   10202   00:7C84  D6 08               		sub		8														
   10203   00:7C86  57                  		ld		d,a
   10204   00:7C87  3A 1C C0            		ld		a,[py]
   10205   00:7C8A  C6 13               		add		19
   10206   00:7C8C  5F                  		ld		e,a
   10207   00:7C8D  CD 79 6E            		call	get_bloque_en_X_Y
   10208   00:7C90                      		
   10209   00:7C90  FE 1F               		cp		31
   10210   00:7C92  DA AF 7B            		jr.		c,resetea_el_salto
   10211   00:7C95                      		
   10212   00:7C95  3A 1B C0            		ld		a,[px]
   10213   00:7C98  3D                  		dec		a
   10214   00:7C99  32 1B C0            		ld		[px],a
   10215   00:7C9C                      		
   10216   00:7C9C  3A 1C C0            		ld		a,[py]
   10217   00:7C9F  C6 04               		add		4
   10218   00:7CA1  32 1C C0            		ld		[py],a
   10219   00:7CA4                      		
   10220   00:7CA4  C3 9C 7B            		jr.		salta_resolucion
   10221   00:7CA7                      
   10222   00:7CA7                      animacion_entre_fases:
   10223   00:7CA7                      
   10224   00:7CA7  CD A6 45            		call 	limpia_sprites
   10225   00:7CAA  CD A3 56            		call	SPRITES_UNO
   10226   00:7CAD  CD 2F 57            		call	activa_mute
   10227   00:7CB0  3E 0A               		ld		a,10													;las veces que se repite la secuencia de quemado
   10228   00:7CB2                      							
   10229   00:7CB2                      quemando_al_prota:
   10230   00:7CB2                      		
   10231   00:7CB2  76                  		halt
   10232   00:7CB3  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10233   00:7CB7                      		
   10234   00:7CB7  F5                  		push	af
   10235   00:7CB8  3A 1C C0            		ld		a,(py)
   10236   00:7CBB  CD DA 83            		call	CERO_CUATRO_OCHO
   10237   00:7CBE  3A 1B C0            		ld		a,(px)
   10238   00:7CC1  CD E4 83            		call	UNO_CINCO_NUEVE	
   10239   00:7CC4  3E CC               		ld		a,51*4
   10240   00:7CC6  CD EE 83            		call	DOS_SEIS_DIEZ
   10241   00:7CC9  3E 0F               		ld		a,15
   10242   00:7CCB  DD 77 03            		ld		(ix+3),a
   10243   00:7CCE  3E 06               		ld		a,6
   10244   00:7CD0  DD 77 07            		ld		(ix+7),a
   10245   00:7CD3  3E 0A               		ld		a,10
   10246   00:7CD5  DD 77 0B            		ld		(ix+11),a
   10247   00:7CD8                      				
   10248   00:7CD8  CD C6 68            		call	atributos_sprites
   10249   00:7CDB  3E 0A               		ld		a,10
   10250   00:7CDD                      		
   10251   00:7CDD                      rutina_espera_quemando_1:
   10252   00:7CDD                      		
   10253   00:7CDD  76                  		halt		
   10254   00:7CDE  3D                  		dec		a
   10255   00:7CDF  B7                  		or		a
   10256   00:7CE0  20 FB               		jr.		nz,rutina_espera_quemando_1	
   10257   00:7CE2                      		
   10258   00:7CE2  76                  		halt
   10259   00:7CE3  3E 0B               		ld		a,11													;efecto sonoro de quemar
   10260   00:7CE5  CD D6 83            		call	efecto_sonido
   10261   00:7CE8                      		
   10262   00:7CE8  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10263   00:7CEC                      		
   10264   00:7CEC  3E D8               		ld		a,54*4
   10265   00:7CEE  CD EE 83            		call	DOS_SEIS_DIEZ
   10266   00:7CF1                      				
   10267   00:7CF1  CD C6 68            		call	atributos_sprites		
   10268   00:7CF4  3E 0A               		ld		a,10
   10269   00:7CF6                      		
   10270   00:7CF6                      rutina_espera_quemando_2:
   10271   00:7CF6                      		
   10272   00:7CF6  76                  		halt	
   10273   00:7CF7  3D                  		dec		a
   10274   00:7CF8  B7                  		or		a
   10275   00:7CF9  20 FB               		jr.		nz,rutina_espera_quemando_2	
   10276   00:7CFB                      		
   10277   00:7CFB  F1                  		pop		af
   10278   00:7CFC                      		
   10279   00:7CFC  3D                  		dec		a
   10280   00:7CFD  B7                  		or		a
   10281   00:7CFE  20 B2               		jr.		nz,quemando_al_prota
   10282   00:7D00                      		
   10283   00:7D00  CD A6 45            		call	limpia_sprites
   10284   00:7D03                      		
   10285   00:7D03  3A 22 C0            		ld		a,(fase_en_la_que_esta)
   10286   00:7D06  3C                  		inc		a
   10287   00:7D07  32 22 C0            		ld		(fase_en_la_que_esta),a
   10288   00:7D0A                      		
   10289   00:7D0A  CD 7D 7A            		call	puntuacion_vidas_fase
   10290   00:7D0D                      		
   10291   00:7D0D  3E 80               		ld		a,128
   10292   00:7D0F  32 1C C0            		ld		(py),a
   10293   00:7D12  3E 18               		ld		a,24
   10294   00:7D14  32 1B C0            		ld		(px),a
   10295   00:7D17                      		
   10296   00:7D17  CD 41 00            		call	DISSCR	
   10297   00:7D1A                      		
   10298   00:7D1A  F3                  		di
   10299   00:7D1B  CD EC B0            		call	setrompage0	
   10300   00:7D1E  21 BC B6            		ld		hl,entre_fases											;las dos puertas entre fases
   10301   00:7D21  11 20 18            		ld		de,#1820
   10302   00:7D24  CD FC 83            		call	depack_VRAM
   10303   00:7D27  CD F1 B0            		call	recbios
   10304   00:7D2A  FB                  		ei
   10305   00:7D2B                      		
   10306   00:7D2B  3A 01 C0            		ld		a,(idioma)
   10307   00:7D2E  B7                  		or		a
   10308   00:7D2F  20 0F               		jr.		nz,completamos_la_frase_en_ingles
   10309   00:7D31                      		
   10310   00:7D31  21 6F 95            		ld		hl,camino_a
   10311   00:7D34  11 A2 1A            		ld		de,#1aa2
   10312   00:7D37  01 1C 00            		ld		bc,28
   10313   00:7D3A  CD 5C 00            		call	GRABAVRAM
   10314   00:7D3D  C3 4C 7D            		jp		ha_saltado_la_rutina_anterior
   10315   00:7D40                      		
   10316   00:7D40                      completamos_la_frase_en_ingles:
   10317   00:7D40                      
   10318   00:7D40  21 8B 95            		ld		hl,camino_a_ing
   10319   00:7D43  11 C6 1A            		ld		de,#1ac6
   10320   00:7D46  01 14 00            		ld		bc,20
   10321   00:7D49  CD 5C 00            		call	GRABAVRAM
   10322   00:7D4C                      				
   10323   00:7D4C                      ha_saltado_la_rutina_anterior:
   10324   00:7D4C                      		
   10325   00:7D4C  CD 52 7D            		call	rutina_pone_consejo
   10326   00:7D4F  C3 5D 7E            		jr.		rutina_espera_quemando_2_cont
   10327   00:7D52                      		
   10328   00:7D52                      rutina_pone_consejo:		
   10329   00:7D52                      		
   10330   00:7D52  11 A1 18            		ld		de,#18a1
   10331   00:7D55  01 1E 00            		ld		bc,30
   10332   00:7D58                      		
   10333   00:7D58  3A 22 C0            		ld		a,(fase_en_la_que_esta)
   10334   00:7D5B  FE 02               		cp		2
   10335   00:7D5D  28 20               		jr.		z,consejos_fase_2
   10336   00:7D5F  FE 03               		cp		3
   10337   00:7D61  28 3A               		jr.		z,consejos_fase_3
   10338   00:7D63  FE 04               		cp		4
   10339   00:7D65  28 54               		jr.		z,consejos_fase_4
   10340   00:7D67  FE 05               		cp		5
   10341   00:7D69  CA 03 7E            		jr.		z,consejos_fase_7
   10342   00:7D6C  FE 09               		cp		9
   10343   00:7D6E  CA 39 7E            		jr.		z,consejos_fase_9
   10344   00:7D71  FE 0B               		cp		11
   10345   00:7D73  CA 1B 7E            		jr.		z,consejos_fase_8
   10346   00:7D76  FE 0C               		cp		12
   10347   00:7D78  28 53               		jr.		z,consejos_fase_5
   10348   00:7D7A  FE 0D               		cp		13
   10349   00:7D7C  28 6D               		jr.		z,consejos_fase_6		
   10350   00:7D7E  C9                  		ret
   10351   00:7D7F                      
   10352   00:7D7F                      consejos_fase_2:
   10353   00:7D7F                      		
   10354   00:7D7F  3A 01 C0            		ld		a,(idioma)
   10355   00:7D82  B7                  		or		a
   10356   00:7D83  28 0C               		jr.		z,consejo_esp_fase_2
   10357   00:7D85                      
   10358   00:7D85                      consejo_ing_fase_2:
   10359   00:7D85                      
   10360   00:7D85  21 43 94            		ld		hl,advice_2
   10361   00:7D88  11 A7 18            		ld		de,#18a7
   10362   00:7D8B  01 12 00            		ld		bc,18
   10363   00:7D8E  C3 5C 00            		jp		GRABAVRAM
   10364   00:7D91                      
   10365   00:7D91                      consejo_esp_fase_2:
   10366   00:7D91                      				
   10367   00:7D91  21 61 93            		ld		hl,consejo_2
   10368   00:7D94  11 A7 18            		ld		de,#18a7
   10369   00:7D97  01 12 00            		ld		bc,18
   10370   00:7D9A  C3 5C 00            		jp		GRABAVRAM
   10371   00:7D9D                      
   10372   00:7D9D                      consejos_fase_3:
   10373   00:7D9D                      		
   10374   00:7D9D  3A 01 C0            		ld		a,(idioma)
   10375   00:7DA0  B7                  		or		a
   10376   00:7DA1  28 0C               		jr.		z,consejo_esp_fase_3
   10377   00:7DA3                      
   10378   00:7DA3                      consejo_ing_fase_3:
   10379   00:7DA3                      
   10380   00:7DA3  21 55 94            		ld		hl,advice_3
   10381   00:7DA6  11 A0 18            		ld		de,#18a0
   10382   00:7DA9  01 20 00            		ld		bc,32
   10383   00:7DAC  C3 5C 00            		jp		GRABAVRAM
   10384   00:7DAF                      
   10385   00:7DAF                      consejo_esp_fase_3:
   10386   00:7DAF                      				
   10387   00:7DAF  21 73 93            		ld		hl,consejo_3
   10388   00:7DB2  11 A0 18            		ld		de,#18a0
   10389   00:7DB5  01 20 00            		ld		bc,32
   10390   00:7DB8  C3 5C 00            		jp		GRABAVRAM
   10391   00:7DBB                      
   10392   00:7DBB                      consejos_fase_4:
   10393   00:7DBB                      		
   10394   00:7DBB  3A 01 C0            		ld		a,(idioma)
   10395   00:7DBE  B7                  		or		a
   10396   00:7DBF  28 06               		jr.		z,consejo_esp_fase_4
   10397   00:7DC1                      
   10398   00:7DC1                      consejo_ing_fase_4:
   10399   00:7DC1                      
   10400   00:7DC1  21 75 94            		ld		hl,advice_4
   10401   00:7DC4                      ;		ld		de,#18a1
   10402   00:7DC4                      ;		ld		bc,30
   10403   00:7DC4  C3 5C 00            		jp		GRABAVRAM
   10404   00:7DC7                      
   10405   00:7DC7                      consejo_esp_fase_4:
   10406   00:7DC7                      				
   10407   00:7DC7  21 93 93            		ld		hl,consejo_4
   10408   00:7DCA                      ;		ld		de,#18a1
   10409   00:7DCA                      ;		ld		bc,30
   10410   00:7DCA  C3 5C 00            		jp		GRABAVRAM
   10411   00:7DCD                      				
   10412   00:7DCD                      consejos_fase_5:
   10413   00:7DCD                      		
   10414   00:7DCD  3A 01 C0            		ld		a,(idioma)
   10415   00:7DD0  B7                  		or		a
   10416   00:7DD1  28 0C               		jr.		z,consejo_esp_fase_5
   10417   00:7DD3                      
   10418   00:7DD3                      consejo_ing_fase_5:
   10419   00:7DD3                      
   10420   00:7DD3  21 93 94            		ld		hl,advice_5
   10421   00:7DD6  11 A0 18            		ld		de,#18a0
   10422   00:7DD9  01 20 00            		ld		bc,32
   10423   00:7DDC  C3 5C 00            		jp		GRABAVRAM
   10424   00:7DDF                      
   10425   00:7DDF                      consejo_esp_fase_5:
   10426   00:7DDF                      				
   10427   00:7DDF  21 B1 93            		ld		hl,consejo_5
   10428   00:7DE2  11 A0 18            		ld		de,#18a0
   10429   00:7DE5  01 1F 00            		ld		bc,31
   10430   00:7DE8  C3 5C 00            		jp		GRABAVRAM
   10431   00:7DEB                      
   10432   00:7DEB                      consejos_fase_6:
   10433   00:7DEB                      		
   10434   00:7DEB  3A 01 C0            		ld		a,(idioma)
   10435   00:7DEE  B7                  		or		a
   10436   00:7DEF  28 0C               		jr.		z,consejo_esp_fase_6
   10437   00:7DF1                      
   10438   00:7DF1                      consejo_ing_fase_6:
   10439   00:7DF1                      
   10440   00:7DF1  21 B3 94            		ld		hl,advice_6
   10441   00:7DF4  11 A2 18            		ld		de,#18a2
   10442   00:7DF7  01 1D 00            		ld		bc,29
   10443   00:7DFA  C3 5C 00            		jp		GRABAVRAM
   10444   00:7DFD                      
   10445   00:7DFD                      consejo_esp_fase_6:
   10446   00:7DFD                      				
   10447   00:7DFD  21 D1 93            		ld		hl,consejo_6
   10448   00:7E00                      
   10449   00:7E00  C3 5C 00            		jp		GRABAVRAM
   10450   00:7E03                      			
   10451   00:7E03                      consejos_fase_7:
   10452   00:7E03                      		
   10453   00:7E03  3A 01 C0            		ld		a,(idioma)
   10454   00:7E06  B7                  		or		a
   10455   00:7E07  28 0C               		jr.		z,consejo_esp_fase_7
   10456   00:7E09                      
   10457   00:7E09                      consejo_ing_fase_7:
   10458   00:7E09                      
   10459   00:7E09  21 D1 94            		ld		hl,advice_7
   10460   00:7E0C  11 A0 18            		ld		de,#18a0
   10461   00:7E0F  01 20 00            		ld		bc,32
   10462   00:7E12  C3 5C 00            		jp		GRABAVRAM
   10463   00:7E15                      
   10464   00:7E15                      consejo_esp_fase_7:
   10465   00:7E15                      				
   10466   00:7E15  21 EF 93            		ld		hl,consejo_7
   10467   00:7E18  C3 5C 00            		jp		GRABAVRAM
   10468   00:7E1B                      
   10469   00:7E1B                      consejos_fase_8:
   10470   00:7E1B                      		
   10471   00:7E1B  3A 01 C0            		ld		a,(idioma)
   10472   00:7E1E  B7                  		or		a
   10473   00:7E1F  28 0C               		jr.		z,consejo_esp_fase_8
   10474   00:7E21                      
   10475   00:7E21                      consejo_ing_fase_8:
   10476   00:7E21                      
   10477   00:7E21  21 F1 94            		ld		hl,advice_8
   10478   00:7E24  11 A0 18            		ld		de,#18a0
   10479   00:7E27  01 20 00            		ld		bc,32
   10480   00:7E2A  C3 5C 00            		jp		GRABAVRAM
   10481   00:7E2D                      
   10482   00:7E2D                      consejo_esp_fase_8:
   10483   00:7E2D                      				
   10484   00:7E2D  21 0D 94            		ld		hl,consejo_8
   10485   00:7E30  11 A4 18            		ld		de,#18a4
   10486   00:7E33  01 18 00            		ld		bc,24
   10487   00:7E36  C3 5C 00            		jp		GRABAVRAM
   10488   00:7E39                      
   10489   00:7E39                      consejos_fase_9:
   10490   00:7E39                      		
   10491   00:7E39  3A 01 C0            		ld		a,(idioma)
   10492   00:7E3C  B7                  		or		a
   10493   00:7E3D  28 18               		jr.		z,consejo_esp_fase_9
   10494   00:7E3F                      
   10495   00:7E3F                      consejo_ing_fase_9:
   10496   00:7E3F                      
   10497   00:7E3F  21 11 95            		ld		hl,advice_9
   10498   00:7E42  11 A1 18            		ld		de,#18a1
   10499   00:7E45  01 1E 00            		ld		bc,30
   10500   00:7E48  CD 5C 00            		call	GRABAVRAM
   10501   00:7E4B  21 2F 95            		ld		hl,advice_9_1
   10502   00:7E4E  11 D0 18            		ld		de,#18d0
   10503   00:7E51  01 03 00            		ld		bc,3
   10504   00:7E54  C3 5C 00            		jp		GRABAVRAM
   10505   00:7E57                      
   10506   00:7E57                      consejo_esp_fase_9:
   10507   00:7E57                      				
   10508   00:7E57  21 25 94            		ld		hl,consejo_9
   10509   00:7E5A                      
   10510   00:7E5A  C3 5C 00            		jp		GRABAVRAM
   10511   00:7E5D                      
   10512   00:7E5D                      
   10513   00:7E5D                      										
   10514   00:7E5D                      rutina_espera_quemando_2_cont:
   10515   00:7E5D                      
   10516   00:7E5D  CD 44 00            		call	ENASCR
   10517   00:7E60                      		
   10518   00:7E60  CD 89 57            		call	activa_musica_entre_fases
   10519   00:7E63                      				
   10520   00:7E63  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10521   00:7E67                      
   10522   00:7E67  3A 22 C0            		ld		a,(fase_en_la_que_esta)
   10523   00:7E6A  FE 13               		cp		19
   10524   00:7E6C  C8                  		ret		z
   10525   00:7E6D                      
   10526   00:7E6D                      paseito_entre_fases:			
   10527   00:7E6D                      
   10528   00:7E6D  76 76 76            [3]		halt
   10529   00:7E70                      		
   10530   00:7E70  CD C6 68            		call	atributos_sprites
   10531   00:7E73  CD EA 7F            		call	tiles_cambiantes_entre_fases
   10532   00:7E76                      		
   10533   00:7E76  3E 02               		ld		a,2
   10534   00:7E78  DD 77 07            		ld		(ix+7),a
   10535   00:7E7B  3E 01               		ld		a,1
   10536   00:7E7D  DD 77 03            		ld		(ix+3),a
   10537   00:7E80  3E 09               		ld		a,9
   10538   00:7E82  DD 77 0B            		ld		(ix+11),a
   10539   00:7E85                      		
   10540   00:7E85  3A 1C C0            		ld		a,(py)
   10541   00:7E88  DD 77 00            		ld		(ix),a
   10542   00:7E8B  C6 09               		add		a,9														;para que cuadren los sprites muevo esta
   10543   00:7E8D  DD 77 04            		ld		(ix+4),a
   10544   00:7E90  D6 10               		sub		a,16
   10545   00:7E92  DD 77 08            		ld		(ix+8),a
   10546   00:7E95  AF                  		xor		a
   10547   00:7E96  CD EE 83            		call	DOS_SEIS_DIEZ
   10548   00:7E99  3A 1B C0            		ld		a,(px)
   10549   00:7E9C  C6 04               		add		a,4
   10550   00:7E9E  CD E4 83            		call	UNO_CINCO_NUEVE
   10551   00:7EA1  32 1B C0            		ld		(px),a
   10552   00:7EA4                      		
   10553   00:7EA4                      		
   10554   00:7EA4                      		
   10555   00:7EA4  76 76 76            [3]		halt
   10556   00:7EA7  CD C6 68            		call	atributos_sprites
   10557   00:7EAA  CD EA 7F            		call	tiles_cambiantes_entre_fases
   10558   00:7EAD                      			
   10559   00:7EAD  3A 8A C6            		ld		a,(velocidad_paseo_fases)
   10560   00:7EB0  47                  		ld		b,a
   10561   00:7EB1  3A 1B C0            		ld		a,(px)
   10562   00:7EB4  80                  		add		a,b
   10563   00:7EB5  32 1B C0            		ld		(px),a
   10564   00:7EB8  CD E4 83            		call	UNO_CINCO_NUEVE
   10565   00:7EBB  3E 0C               		ld		a,12
   10566   00:7EBD  CD EE 83            		call	DOS_SEIS_DIEZ		
   10567   00:7EC0  3A 1B C0            		ld		a,(px)
   10568   00:7EC3  FE D8               		cp		216
   10569   00:7EC5  38 A6               		jr.		c,paseito_entre_fases
   10570   00:7EC7                      				
   10571   00:7EC7  CD A6 45            		call	limpia_sprites
   10572   00:7ECA                      		
   10573   00:7ECA  3A 89 C6            		ld		a,(toca_bombero)
   10574   00:7ECD  FE 01               		cp		1
   10575   00:7ECF                      			
   10576   00:7ECF  C0                  		ret		nz
   10577   00:7ED0                      				
   10578   00:7ED0                      aparece_el_bombero:
   10579   00:7ED0                      		
   10580   00:7ED0  3E 14               		ld		a,20
   10581   00:7ED2  32 17 C0            		ld		(clock),a
   10582   00:7ED5  76                  		halt
   10583   00:7ED6  CD 14 57            		call	SPRITES_BOMBERO_PERSIGUE
   10584   00:7ED9  CD C0 56            		call	SPRITES_DOS
   10585   00:7EDC                      	
   10586   00:7EDC                      
   10587   00:7EDC  3E 6F               		ld		a,111
   10588   00:7EDE  CD DA 83            		call	CERO_CUATRO_OCHO
   10589   00:7EE1  3E 78               		ld		a,120
   10590   00:7EE3  CD E4 83            		call	UNO_CINCO_NUEVE
   10591   00:7EE6  AF                  		xor		a
   10592   00:7EE7  CD EE 83            		call	DOS_SEIS_DIEZ
   10593   00:7EEA  3E 09               		ld		a,9
   10594   00:7EEC  DD 77 07            		ld		(ix+7),a
   10595   00:7EEF  3E 0A               		ld		a,10
   10596   00:7EF1  DD 77 0B            		ld		(ix+11),a
   10597   00:7EF4  3E 01               		ld		a,1
   10598   00:7EF6  DD 77 03            		ld		(ix+3),a
   10599   00:7EF9  3E 78               		ld		a,120
   10600   00:7EFB  DD 77 01            		ld		(ix+1),a
   10601   00:7EFE                      	
   10602   00:7EFE  CD C6 68            		call	atributos_sprites
   10603   00:7F01  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
   10604   00:7F03  CD D6 83            		call	efecto_sonido
   10605   00:7F06                      
   10606   00:7F06                      aparece_el_bombero_2:
   10607   00:7F06                      
   10608   00:7F06  CD 1A 80            		call 	espera_de_animaciones
   10609   00:7F09                      		
   10610   00:7F09  01 14 00            		ld		bc,20
   10611   00:7F0C  ED 43 17 C0         		ld		(clock),bc		
   10612   00:7F10                      		
   10613   00:7F10  EE 0C               		xor		3*4
   10614   00:7F12  CD EE 83            		call	DOS_SEIS_DIEZ
   10615   00:7F15                      		
   10616   00:7F15  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
   10617   00:7F17  CD D6 83            		call	efecto_sonido
   10618   00:7F1A                      		
   10619   00:7F1A  CD C6 68            		call	atributos_sprites
   10620   00:7F1D                      
   10621   00:7F1D                      aparece_el_bombero_3:
   10622   00:7F1D                      
   10623   00:7F1D  CD 1A 80            		call 	espera_de_animaciones
   10624   00:7F20                      		
   10625   00:7F20  01 14 00            		ld		bc,20
   10626   00:7F23  ED 43 17 C0         		ld		(clock),bc		
   10627   00:7F27                      		
   10628   00:7F27  EE 18               		xor		6*4
   10629   00:7F29  CD EE 83            		call	DOS_SEIS_DIEZ
   10630   00:7F2C                      		
   10631   00:7F2C  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
   10632   00:7F2E  CD D6 83            		call	efecto_sonido
   10633   00:7F31                      		
   10634   00:7F31  CD C6 68            		call	atributos_sprites
   10635   00:7F34                      
   10636   00:7F34                      aparece_el_bombero_4:
   10637   00:7F34                      
   10638   00:7F34  CD 1A 80            		call 	espera_de_animaciones
   10639   00:7F37                      		
   10640   00:7F37  01 0A 00            		ld		bc,10
   10641   00:7F3A  ED 43 17 C0         		ld		(clock),bc		
   10642   00:7F3E                      		
   10643   00:7F3E  EE 24               		xor		9*4
   10644   00:7F40  CD EE 83            		call	DOS_SEIS_DIEZ
   10645   00:7F43                      		
   10646   00:7F43  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
   10647   00:7F45  CD D6 83            		call	efecto_sonido
   10648   00:7F48                      		
   10649   00:7F48  CD C6 68            		call	atributos_sprites
   10650   00:7F4B                      
   10651   00:7F4B                      aparece_el_bombero_5:
   10652   00:7F4B                      
   10653   00:7F4B  CD 1A 80            		call 	espera_de_animaciones
   10654   00:7F4E                      		
   10655   00:7F4E  01 05 00            		ld		bc,5
   10656   00:7F51  ED 43 17 C0         		ld		(clock),bc		
   10657   00:7F55                      		
   10658   00:7F55  EE 30               		xor		12*4
   10659   00:7F57  CD EE 83            		call	DOS_SEIS_DIEZ
   10660   00:7F5A                      		
   10661   00:7F5A  3E 01               		ld		a,1														;efecto sonoro de aparece bombero
   10662   00:7F5C  CD D6 83            		call	efecto_sonido
   10663   00:7F5F                      		
   10664   00:7F5F  CD C6 68            		call	atributos_sprites
   10665   00:7F62                      		
   10666   00:7F62                      aparece_el_bombero_6:
   10667   00:7F62                      
   10668   00:7F62  CD 1A 80            		call 	espera_de_animaciones
   10669   00:7F65                      		
   10670   00:7F65  CD EA 7F            		call	tiles_cambiantes_entre_fases
   10671   00:7F68                      		
   10672   00:7F68  3E 78               		ld		a,120
   10673   00:7F6A  32 1C C0            		ld		(py),a
   10674   00:7F6D  3E 72               		ld		a,114
   10675   00:7F6F  32 1B C0            		ld		(px),a
   10676   00:7F72                      				
   10677   00:7F72  3E 05               		ld		a,5
   10678   00:7F74  32 17 C0            		ld		(clock),a
   10679   00:7F77                      		
   10680   00:7F77                      				
   10681   00:7F77                      aparece_el_bombero_7:
   10682   00:7F77                      		
   10683   00:7F77  CD 1A 80            		call 	espera_de_animaciones
   10684   00:7F7A                      		
   10685   00:7F7A  CD EA 7F            		call	tiles_cambiantes_entre_fases
   10686   00:7F7D                      		
   10687   00:7F7D  3E 05               		ld		a,5
   10688   00:7F7F  32 17 C0            		ld		(clock),a
   10689   00:7F82                      		
   10690   00:7F82  3A 1C C0            		ld		a,(py)
   10691   00:7F85  DD 77 00            		ld		(ix),a
   10692   00:7F88  D6 06               		sub		6
   10693   00:7F8A  DD 77 04            		ld		(ix+4),a
   10694   00:7F8D  C6 10               		add		16
   10695   00:7F8F  DD 77 08            		ld		(ix+8),a
   10696   00:7F92  3A 1B C0            		ld		a,(px)
   10697   00:7F95  CD E4 83            		call	UNO_CINCO_NUEVE	
   10698   00:7F98  3E 64               		ld		a,25*4
   10699   00:7F9A  CD EE 83            		call	DOS_SEIS_DIEZ
   10700   00:7F9D                      				
   10701   00:7F9D  CD C6 68            		call	atributos_sprites
   10702   00:7FA0                      		
   10703   00:7FA0                      aparece_el_bombero_8:
   10704   00:7FA0                      
   10705   00:7FA0  CD 1A 80            		call 	espera_de_animaciones
   10706   00:7FA3                      		
   10707   00:7FA3  CD EA 7F            		call	tiles_cambiantes_entre_fases
   10708   00:7FA6                      		
   10709   00:7FA6  01 05 00            		ld		bc,5
   10710   00:7FA9  ED 43 17 C0         		ld		(clock),bc
   10711   00:7FAD                      		
   10712   00:7FAD  3A 1C C0            		ld		a,(py)
   10713   00:7FB0  FE 82               		cp		130
   10714   00:7FB2  DC 26 80            		call	c,suma_a_y
   10715   00:7FB5                      		
   10716   00:7FB5  3A 1B C0            		ld		a,(px)
   10717   00:7FB8  FE D2               		cp		210
   10718   00:7FBA  30 25               		jr.		nc,aparece_el_bombero_9
   10719   00:7FBC                      		
   10720   00:7FBC  C6 0A               		add		a,10
   10721   00:7FBE  32 1B C0            		ld		(px),a
   10722   00:7FC1                      		
   10723   00:7FC1  3A 1C C0            		ld		a,(py)
   10724   00:7FC4  DD 77 00            		ld		(ix),a
   10725   00:7FC7  D6 06               		sub		6
   10726   00:7FC9  DD 77 04            		ld		(ix+4),a
   10727   00:7FCC  C6 10               		add		16
   10728   00:7FCE  DD 77 08            		ld		(ix+8),a
   10729   00:7FD1  3A 1B C0            		ld		a,(px)
   10730   00:7FD4  CD E4 83            		call	UNO_CINCO_NUEVE	
   10731   00:7FD7  3E 70               		ld		a,28*4
   10732   00:7FD9  CD EE 83            		call	DOS_SEIS_DIEZ
   10733   00:7FDC                      				
   10734   00:7FDC  CD C6 68            		call	atributos_sprites
   10735   00:7FDF                      		
   10736   00:7FDF  18 96               		jr.		aparece_el_bombero_7
   10737   00:7FE1                      
   10738   00:7FE1                      aparece_el_bombero_9:
   10739   00:7FE1                      		
   10740   00:7FE1  CD A6 45            		call	limpia_sprites										
   10741   00:7FE4  CD A3 56            		call	SPRITES_UNO
   10742   00:7FE7  C3 C0 56            		jp		SPRITES_DOS
   10743   00:7FEA                      
   10744   00:7FEA                      tiles_cambiantes_entre_fases:
   10745   00:7FEA                      		
   10746   00:7FEA  3A 07 CA            		ld		a,(clock_1)
   10747   00:7FED  3D                  		dec		a
   10748   00:7FEE  32 07 CA            		ld		(clock_1),a
   10749   00:7FF1  B7                  		or		a
   10750   00:7FF2  CC C0 5B            		call	z,reset_clock
   10751   00:7FF5  FE 02               		cp		2
   10752   00:7FF7  D4 12 80            		call	nc,limpia_clock_a_10_entre_fases
   10753   00:7FFA                      		
   10754   00:7FFA  3A 2A C6            		ld		a,(tile_a_poner_agua)
   10755   00:7FFD  B7                  		or		a
   10756   00:7FFE  20 09               		jr.		nz,tiles_cambiantes_1_entre_fases
   10757   00:8000                      						
   10758   00:8000  21 42 B0            		ld		hl,fuego_1_2
   10759   00:8003  11 C8 00            		ld		de,#c8
   10760   00:8006  C3 BE 5A            		jp		standard_tiles_cambiantes
   10761   00:8009                      
   10762   00:8009                      tiles_cambiantes_1_entre_fases:
   10763   00:8009                      		
   10764   00:8009  21 94 B0            		ld		hl,fuego_2_2
   10765   00:800C  11 C8 00            		ld		de,#c8
   10766   00:800F  C3 BE 5A            		jp		standard_tiles_cambiantes
   10767   00:8012                      
   10768   00:8012                      limpia_clock_a_10_entre_fases:
   10769   00:8012                      
   10770   00:8012  01 02 00            		ld		bc,2
   10771   00:8015  ED 43 07 CA         		ld		(clock_1),bc
   10772   00:8019                      		
   10773   00:8019  C9                  		ret
   10774   00:801A                      						
   10775   00:801A                      espera_de_animaciones:
   10776   00:801A                      
   10777   00:801A  76                  		halt
   10778   00:801B  3A 17 C0            		ld		a,(clock)
   10779   00:801E  3D                  		dec		a
   10780   00:801F  32 17 C0            		ld		(clock),a
   10781   00:8022  B7                  		or		a
   10782   00:8023  20 F5               		jr.		nz,espera_de_animaciones
   10783   00:8025                      		
   10784   00:8025  C9                  		ret
   10785   00:8026                      		
   10786   00:8026                      suma_a_y:
   10787   00:8026                      
   10788   00:8026  3C                  		inc		a
   10789   00:8027  32 1C C0            		ld		(py),a
   10790   00:802A  C9                  		ret
   10791   00:802B                      		
   10792   00:802B                      movimiento_serpientes:
   10793   00:802B                      		
   10794   00:802B  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10795   00:802F                      		
   10796   00:802F                      analiza_serpiente_1:
   10797   00:802F                      		
   10798   00:802F  3A 5E C6            		ld		a,(serp1)
   10799   00:8032  B7                  		or		a
   10800   00:8033  28 16               		jr.		z,analiza_serpiente_2
   10801   00:8035  FE 03               		cp		3
   10802   00:8037  CA E1 80            		jr.		z,pinta_muerta_1
   10803   00:803A                      				
   10804   00:803A  FD 21 35 C6         		ld		iy,variables_serpiente_1
   10805   00:803E                      		
   10806   00:803E  CD 51 81            		call	rutina_de_movimiento_serpientes
   10807   00:8041                      			
   10808   00:8041  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10809   00:8045  11 10 00            		ld		de,16
   10810   00:8048  CD 9E 80            		call	atributos_serpiente_detallados
   10811   00:804B                      		
   10812   00:804B                      analiza_serpiente_2:
   10813   00:804B                      
   10814   00:804B                      		
   10815   00:804B  3A 5F C6            		ld		a,(serp2)
   10816   00:804E  B7                  		or		a
   10817   00:804F  28 16               		jr.		z,analiza_serpiente_3
   10818   00:8051  FE 03               		cp		3
   10819   00:8053  CA F4 80            		jr.		z,pinta_muerta_2
   10820   00:8056                      						
   10821   00:8056  FD 21 3F C6         		ld		iy,variables_serpiente_2
   10822   00:805A                      		
   10823   00:805A  CD 51 81            		call	rutina_de_movimiento_serpientes
   10824   00:805D                      			
   10825   00:805D  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10826   00:8061  11 18 00            		ld		de,24
   10827   00:8064  CD 9E 80            		call	atributos_serpiente_detallados
   10828   00:8067                      		
   10829   00:8067                      analiza_serpiente_3:		
   10830   00:8067                      		
   10831   00:8067  3A 60 C6            		ld		a,(serp3)
   10832   00:806A  B7                  		or		a
   10833   00:806B  28 16               		jr.		z,analiza_serpiente_4
   10834   00:806D  FE 03               		cp		3
   10835   00:806F  CA 07 81            		jr.		z,pinta_muerta_3
   10836   00:8072                      				
   10837   00:8072  FD 21 49 C6         		ld		iy,variables_serpiente_3
   10838   00:8076                      		
   10839   00:8076  CD 51 81            		call	rutina_de_movimiento_serpientes
   10840   00:8079                      			
   10841   00:8079  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10842   00:807D  11 20 00            		ld		de,32
   10843   00:8080  CD 9E 80            		call	atributos_serpiente_detallados
   10844   00:8083                      		
   10845   00:8083                      analiza_serpiente_4:
   10846   00:8083                      	
   10847   00:8083  3A 61 C6            		ld		a,(serp4)
   10848   00:8086  B7                  		or		a
   10849   00:8087  C8                  		ret		z
   10850   00:8088  FE 03               		cp		3
   10851   00:808A  CA 1A 81            		jr.		z,pinta_muerta_4
   10852   00:808D                      				
   10853   00:808D  FD 21 53 C6         		ld		iy,variables_serpiente_4
   10854   00:8091                      		
   10855   00:8091  CD 51 81            		call	rutina_de_movimiento_serpientes
   10856   00:8094                      			
   10857   00:8094  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10858   00:8098  11 28 00            		ld		de,40
   10859   00:809B  C3 9E 80            		jp		atributos_serpiente_detallados
   10860   00:809E                      
   10861   00:809E                      atributos_serpiente_detallados:
   10862   00:809E                      
   10863   00:809E  DD 19               		add		ix,de
   10864   00:80A0  08                  		ex		af,af'
   10865   00:80A1  DD 77 02            		ld		(ix+2),a
   10866   00:80A4  DD 70 06            		ld		(ix+6),b
   10867   00:80A7  FD 7E 00            		ld		a,(iy)
   10868   00:80AA  DD 77 01            		ld		(ix+1),a
   10869   00:80AD  DD 77 05            		ld		(ix+5),a
   10870   00:80B0  FD 7E 01            		ld		a,(iy+1)
   10871   00:80B3  DD 77 00            		ld		(ix),a
   10872   00:80B6  DD 77 04            		ld		(ix+4),a
   10873   00:80B9  FD 7E 04            		ld		a,(iy+4)
   10874   00:80BC  DD 77 03            		ld		(ix+3),a
   10875   00:80BF                      		
   10876   00:80BF  3E 01               		ld		a,1
   10877   00:80C1  DD 77 07            		ld		(ix+7),a
   10878   00:80C4                      		
   10879   00:80C4  08                  		ex		af,af'
   10880   00:80C5  32 21 C6            		ld		(pantalla_activa),a
   10881   00:80C8                      		
   10882   00:80C8  FD 7E 09            		ld		a,(iy+9)
   10883   00:80CB  47                  		ld		b,a
   10884   00:80CC  3A 21 C6            		ld		a,(pantalla_activa)
   10885   00:80CF  B8                  		cp		b
   10886   00:80D0  C8                  		ret		z
   10887   00:80D1                      		
   10888   00:80D1                      no_Esta_en_pantalla:
   10889   00:80D1                      		
   10890   00:80D1  AF                  		xor		a
   10891   00:80D2  DD 77 00            		ld		(ix),a
   10892   00:80D5  DD 77 04            		ld		(ix+4),a
   10893   00:80D8  3E 60               		ld		a,24*4
   10894   00:80DA  DD 77 02            		ld		(ix+2),a
   10895   00:80DD  DD 77 06            		ld		(ix+6),a
   10896   00:80E0                      		
   10897   00:80E0  C9                  		ret
   10898   00:80E1                      		
   10899   00:80E1                      pinta_muerta_1:
   10900   00:80E1                      		
   10901   00:80E1  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10902   00:80E5  11 10 00            		ld		de,16
   10903   00:80E8  DD 19               		add		ix,de
   10904   00:80EA  FD 21 35 C6         		ld		iy,variables_serpiente_1
   10905   00:80EE                      		
   10906   00:80EE  CD 2A 81            		call	pintamos_serpiente_muerta
   10907   00:80F1                      		
   10908   00:80F1  C3 4B 80            		jr.		analiza_serpiente_2
   10909   00:80F4                      		
   10910   00:80F4                      pinta_muerta_2:
   10911   00:80F4                      
   10912   00:80F4  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10913   00:80F8  11 18 00            		ld		de,24
   10914   00:80FB  DD 19               		add		ix,de
   10915   00:80FD  FD 21 3F C6         		ld		iy,variables_serpiente_2
   10916   00:8101                      		
   10917   00:8101  CD 2A 81            		call	pintamos_serpiente_muerta
   10918   00:8104                      		
   10919   00:8104  C3 67 80            		jr.		analiza_serpiente_3
   10920   00:8107                      
   10921   00:8107                      pinta_muerta_3:
   10922   00:8107                      
   10923   00:8107  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10924   00:810B  11 20 00            		ld		de,32
   10925   00:810E  DD 19               		add		ix,de
   10926   00:8110  FD 21 49 C6         		ld		iy,variables_serpiente_3
   10927   00:8114                      		
   10928   00:8114  CD 2A 81            		call	pintamos_serpiente_muerta
   10929   00:8117                      		
   10930   00:8117  C3 83 80            		jr.		analiza_serpiente_4
   10931   00:811A                      		
   10932   00:811A                      pinta_muerta_4:
   10933   00:811A                      
   10934   00:811A  DD 21 2A C0         		ld		ix,atributos_sprite_general
   10935   00:811E  11 28 00            		ld		de,40
   10936   00:8121  DD 19               		add		ix,de
   10937   00:8123  FD 21 53 C6         		ld		iy,variables_serpiente_4
   10938   00:8127                      
   10939   00:8127  C3 2A 81            		jp		pintamos_serpiente_muerta
   10940   00:812A                      
   10941   00:812A                      pintamos_serpiente_muerta:		
   10942   00:812A                      		
   10943   00:812A  FD 7E 09            		ld		a,(iy+9)
   10944   00:812D  47                  		ld		b,a
   10945   00:812E  3A 21 C6            		ld		a,(pantalla_activa)
   10946   00:8131  B8                  		cp		b
   10947   00:8132  20 9D               		jr.		nz,no_Esta_en_pantalla
   10948   00:8134                      			
   10949   00:8134  FD 7E 01            		ld		a,(iy+1)
   10950   00:8137  DD 77 00            		ld		(ix+),a
   10951   00:813A  DD 77 04            		ld		(ix+4),a
   10952   00:813D  FD 7E 00            		ld		a,(iy)
   10953   00:8140  DD 77 01            		ld		(ix+1),a
   10954   00:8143  DD 77 05            		ld		(ix+5),a	
   10955   00:8146  3E B4               		ld		a,180
   10956   00:8148  DD 77 02            		ld		(ix+2),a
   10957   00:814B  3E B8               		ld		a,184
   10958   00:814D  DD 77 06            		ld		(ix+6),a
   10959   00:8150                      		
   10960   00:8150  C9                  		ret
   10961   00:8151                      		
   10962   00:8151                      rutina_de_movimiento_serpientes:
   10963   00:8151                      		
   10964   00:8151  3A 21 C6            		ld		a,(pantalla_activa)
   10965   00:8154  08                  		ex		af,af'
   10966   00:8155  FD 7E 09            		ld		a,(iy+9)
   10967   00:8158  32 21 C6            		ld		(pantalla_activa),a
   10968   00:815B                      		
   10969   00:815B  FD 7E 02            		ld		a,(iy+2)
   10970   00:815E  B7                  		or		a
   10971   00:815F  20 56               		jr.		nz,suma_x_serpiente
   10972   00:8161                      
   10973   00:8161                      resta_x_serpiente:
   10974   00:8161                      				
   10975   00:8161  FD 7E 00            		ld		a,(iy)
   10976   00:8164  FE 03               		cp		3
   10977   00:8166  DA 0C 82            		jr.		c,va_a_pantalla_1
   10978   00:8169                      		
   10979   00:8169  FD 7E 08            		ld		a,(iy+8)
   10980   00:816C  3D                  		dec		a
   10981   00:816D  FD 77 08            		ld		(iy+8),a
   10982   00:8170  B7                  		or		a
   10983   00:8171  C2 31 82            		jr.		nz,pose_serp
   10984   00:8174                      		
   10985   00:8174  FD 7E 07            		ld		a,(iy+7)
   10986   00:8177  FD 77 08            		ld		(iy+8),a
   10987   00:817A                      				
   10988   00:817A  FD 7E 00            		ld		a,[iy]
   10989   00:817D  3D                  		dec		a														
   10990   00:817E  57                  		ld		d,a
   10991   00:817F  FD 7E 01            		ld		a,[iy+1]
   10992   00:8182  C6 0F               		add		15
   10993   00:8184  5F                  		ld		e,a
   10994   00:8185  CD 79 6E            		call	get_bloque_en_X_Y
   10995   00:8188                      				
   10996   00:8188  FE 1F               		cp		31
   10997   00:818A  DA 24 82            		jr.		c,serp_cambia_paso_a_derecha
   10998   00:818D                      		
   10999   00:818D  FD 7E 00            		ld		a,[iy]
   11000   00:8190  3D                  		dec		a														
   11001   00:8191  57                  		ld		d,a
   11002   00:8192  FD 7E 01            		ld		a,[iy+1]
   11003   00:8195  C6 11               		add		17
   11004   00:8197  5F                  		ld		e,a
   11005   00:8198  CD 79 6E            		call	get_bloque_en_X_Y
   11006   00:819B  FE 4D               		cp		77
   11007   00:819D  CA AE 81            		jp		z,resta_x_serpiente_final
   11008   00:81A0  FE 29               		cp		41
   11009   00:81A2  CA AE 81            		jp		z,resta_x_serpiente_final
   11010   00:81A5  FE 2A               		cp		42
   11011   00:81A7  CA AE 81            		jp		z,resta_x_serpiente_final		
   11012   00:81AA  FE 1F               		cp		31
   11013   00:81AC  30 76               		jr.		nc,serp_cambia_paso_a_derecha
   11014   00:81AE                      
   11015   00:81AE                      resta_x_serpiente_final:
   11016   00:81AE                      		
   11017   00:81AE  FD 7E 00            		ld		a,(iy)
   11018   00:81B1  3D                  		dec		a
   11019   00:81B2  FD 77 00            		ld		(iy),a
   11020   00:81B5  18 7A               		jr.		pose_serp
   11021   00:81B7                      		
   11022   00:81B7                      suma_x_serpiente:
   11023   00:81B7                      		
   11024   00:81B7  FD 7E 00            		ld		a,(iy)
   11025   00:81BA  FE ED               		cp		237
   11026   00:81BC  30 5A               		jr.		nc,va_a_pantalla_2
   11027   00:81BE                      		
   11028   00:81BE  FD 7E 08            		ld		a,(iy+8)
   11029   00:81C1  3D                  		dec		a
   11030   00:81C2  FD 77 08            		ld		(iy+8),a
   11031   00:81C5  B7                  		or		a
   11032   00:81C6  20 69               		jr.		nz,pose_serp
   11033   00:81C8                      		
   11034   00:81C8  FD 7E 07            		ld		a,(iy+7)
   11035   00:81CB  FD 77 08            		ld		(iy+8),a
   11036   00:81CE                      		
   11037   00:81CE  FD 7E 00            		ld		a,[iy]
   11038   00:81D1  C6 10               		add		16														
   11039   00:81D3  57                  		ld		d,a
   11040   00:81D4  FD 7E 01            		ld		a,[iy+1]
   11041   00:81D7  C6 0F               		add		15
   11042   00:81D9  5F                  		ld		e,a
   11043   00:81DA  CD 79 6E            		call	get_bloque_en_X_Y
   11044   00:81DD                      		
   11045   00:81DD  FE 1F               		cp		31
   11046   00:81DF  38 4A               		jr.		c,serp_cambia_paso_a_izquierda
   11047   00:81E1                      		
   11048   00:81E1  FD 7E 00            		ld		a,[iy]
   11049   00:81E4  C6 10               		add		16														
   11050   00:81E6  57                  		ld		d,a
   11051   00:81E7  FD 7E 01            		ld		a,[iy+1]
   11052   00:81EA  C6 11               		add		17
   11053   00:81EC  5F                  		ld		e,a
   11054   00:81ED  CD 79 6E            		call	get_bloque_en_X_Y
   11055   00:81F0  FE 4D               		cp		77
   11056   00:81F2  CA 03 82            		jp		z,suma_x_serpiente_final
   11057   00:81F5  FE 29               		cp		41
   11058   00:81F7  CA 03 82            		jp		z,suma_x_serpiente_final
   11059   00:81FA  FE 2A               		cp		42
   11060   00:81FC  CA 03 82            		jp		z,suma_x_serpiente_final
   11061   00:81FF                      		
   11062   00:81FF  FE 1F               		cp		31
   11063   00:8201  30 28               		jr.		nc,serp_cambia_paso_a_izquierda
   11064   00:8203                      
   11065   00:8203                      suma_x_serpiente_final:
   11066   00:8203                      		
   11067   00:8203  FD 7E 00            		ld		a,(iy)
   11068   00:8206  3C                  		inc		a
   11069   00:8207  FD 77 00            		ld		(iy),a
   11070   00:820A  18 25               		jr.		pose_serp
   11071   00:820C                      
   11072   00:820C                      va_a_pantalla_1:
   11073   00:820C                      
   11074   00:820C  3E EC               		ld		a,236
   11075   00:820E  FD 77 00            		ld		(iy),a
   11076   00:8211  3E 01               		ld		a,1
   11077   00:8213  FD 77 09            		ld		(iy+9),a
   11078   00:8216                      		
   11079   00:8216  08                  		ex		af,af'
   11080   00:8217  C9                  		ret
   11081   00:8218                      
   11082   00:8218                      va_a_pantalla_2:
   11083   00:8218                      
   11084   00:8218  3E 04               		ld		a,4
   11085   00:821A  FD 77 00            		ld		(iy),a
   11086   00:821D  3E 02               		ld		a,2
   11087   00:821F  FD 77 09            		ld		(iy+9),a
   11088   00:8222                      		
   11089   00:8222  08                  		ex		af,af'
   11090   00:8223  C9                  		ret
   11091   00:8224                      				
   11092   00:8224                      serp_cambia_paso_a_derecha:
   11093   00:8224                      
   11094   00:8224  3E 01               		ld		a,1
   11095   00:8226  FD 77 02            		ld		(iy+2),a
   11096   00:8229  18 06               		jr.		pose_serp
   11097   00:822B                      		
   11098   00:822B                      serp_cambia_paso_a_izquierda:
   11099   00:822B                      
   11100   00:822B  AF                  		xor		a
   11101   00:822C  FD 77 02            		ld		(iy+2),a
   11102   00:822F  18 00               		jr.		pose_serp
   11103   00:8231                      		
   11104   00:8231                      pose_serp:
   11105   00:8231                      
   11106   00:8231  FD 7E 06            		ld		a,(iy+6)
   11107   00:8234  3D                  		dec		a
   11108   00:8235  FD 77 06            		ld		(iy+6),a
   11109   00:8238  B7                  		or		a
   11110   00:8239  20 17               		jr.		nz,elegir_sprite_serp
   11111   00:823B                      
   11112   00:823B  FD 7E 05            		ld		a,(iy+5)
   11113   00:823E  FD 77 06            		ld		(iy+6),a
   11114   00:8241                      		
   11115   00:8241  FD 7E 03            		ld		a,(iy+3)
   11116   00:8244  B7                  		or		a
   11117   00:8245  20 07               		jr.		nz,paso_2_serp
   11118   00:8247                      		
   11119   00:8247                      paso_1_serp:
   11120   00:8247                      
   11121   00:8247  3E 01               		ld		a,1
   11122   00:8249  FD 77 03            		ld		(iy+3),a
   11123   00:824C                      		
   11124   00:824C  18 04               		jr.		elegir_sprite_serp
   11125   00:824E                      		
   11126   00:824E                      paso_2_serp:
   11127   00:824E                      
   11128   00:824E  AF                  		xor		a
   11129   00:824F  FD 77 03            		ld		(iy+3),a
   11130   00:8252                      		
   11131   00:8252                      elegir_sprite_serp:
   11132   00:8252                      
   11133   00:8252  FD 7E 02            		ld		a,(iy+2)
   11134   00:8255  B7                  		or		a
   11135   00:8256  20 12               		jr.		nz,suma_direccion_1_serp
   11136   00:8258                      		
   11137   00:8258                      suma_direccion_0_serp:
   11138   00:8258                      
   11139   00:8258  FD 7E 03            		ld		a,(iy+3)
   11140   00:825B  B7                  		or		a
   11141   00:825C  20 06               		jr.		nz,suma_paso_01_serp
   11142   00:825E                      		
   11143   00:825E                      suma_paso_00_serp:
   11144   00:825E                      
   11145   00:825E  3E 64               		ld		a,25*4
   11146   00:8260  06 74               		ld		b,29*4
   11147   00:8262  08                  		ex		af,af'
   11148   00:8263  C9                  		ret
   11149   00:8264                      
   11150   00:8264                      suma_paso_01_serp:
   11151   00:8264                      		
   11152   00:8264  3E 68               		ld		a,26*4
   11153   00:8266  06 78               		ld		b,30*4
   11154   00:8268  08                  		ex		af,af'
   11155   00:8269  C9                  		ret
   11156   00:826A                      		
   11157   00:826A                      suma_direccion_1_serp:
   11158   00:826A                      
   11159   00:826A  FD 7E 03            		ld		a,(iy+3)
   11160   00:826D  B7                  		or		a
   11161   00:826E  20 06               		jr.		nz,suma_paso_11_serp
   11162   00:8270                      
   11163   00:8270                      suma_paso_10_serp:
   11164   00:8270                      
   11165   00:8270  3E 6C               		ld		a,27*4
   11166   00:8272  06 7C               		ld		b,31*4
   11167   00:8274  08                  		ex		af,af'
   11168   00:8275  C9                  		ret
   11169   00:8276                      
   11170   00:8276                      suma_paso_11_serp:
   11171   00:8276                      
   11172   00:8276  3E 70               		ld		a,28*4
   11173   00:8278  06 80               		ld		b,32*4
   11174   00:827A  08                  		ex		af,af'
   11175   00:827B  C9                  		ret	
   11176   00:827C                      
   11177   00:827C                      ; partes repetidas de los motores de vram
   11178   00:827C                      uno_diez:
   11179   00:827C                      
   11180   00:827C  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11181   00:827F  C6 01               		add		1
   11182   00:8281  57                  		ld		d,a
   11183   00:8282  C3 8B 82            		jp		x_diez
   11184   00:8285                      		
   11185   00:8285                      seis_diez:
   11186   00:8285                      
   11187   00:8285  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11188   00:8288  C6 06               		add		6
   11189   00:828A  57                  		ld		d,a
   11190   00:828B                      
   11191   00:828B                      x_diez:
   11192   00:828B                      
   11193   00:828B  3A 1C C0            		ld		a,[py]
   11194   00:828E  C6 0A               		add		10
   11195   00:8290  5F                  		ld		e,a
   11196   00:8291                      		
   11197   00:8291  C9                  		ret	
   11198   00:8292                      		
   11199   00:8292                      dos_diez:
   11200   00:8292                      
   11201   00:8292  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11202   00:8295  C6 02               		add		2
   11203   00:8297  57                  		ld		d,a
   11204   00:8298  18 F1               		jr.		x_diez	
   11205   00:829A                      
   11206   00:829A                      menos_dos_diez:
   11207   00:829A                      
   11208   00:829A  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11209   00:829D  D6 02               		sub		2
   11210   00:829F  57                  		ld		d,a
   11211   00:82A0  18 E9               		jr.		x_diez	
   11212   00:82A2                      
   11213   00:82A2                      seis_dos:
   11214   00:82A2                      
   11215   00:82A2  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11216   00:82A5  C6 06               		add		6
   11217   00:82A7  57                  		ld		d,a
   11218   00:82A8                      		
   11219   00:82A8                      x_dos:
   11220   00:82A8                      		
   11221   00:82A8  3A 1C C0            		ld		a,[py]
   11222   00:82AB  C6 02               		add		2
   11223   00:82AD  5F                  		ld		e,a
   11224   00:82AE                      		
   11225   00:82AE  C9                  		ret
   11226   00:82AF                      
   11227   00:82AF                      cero_cero:
   11228   00:82AF                      		
   11229   00:82AF  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11230   00:82B2  57                  		ld		d,a
   11231   00:82B3                      
   11232   00:82B3                      x_cero:
   11233   00:82B3                      
   11234   00:82B3  3A 1C C0            		ld		a,[py]
   11235   00:82B6  5F                  		ld		e,a
   11236   00:82B7                      		
   11237   00:82B7  C9                  		ret
   11238   00:82B8                      
   11239   00:82B8                      menos_uno_cero:
   11240   00:82B8                      
   11241   00:82B8  3A 1B C0            		ld		a,[px]
   11242   00:82BB  D6 01               		sub		1														;para buffer y vram moviendo -1 y 0					
   11243   00:82BD  57                  		ld		d,a
   11244   00:82BE  18 F3               		jr.		x_cero
   11245   00:82C0                      		
   11246   00:82C0                      siete_dieciseis:
   11247   00:82C0                      		
   11248   00:82C0  3A 1B C0            		ld		a,[px]
   11249   00:82C3  C6 07               		add		7					;para buffer y vram moviendo 6 y 10						
   11250   00:82C5  57                  		ld		d,a
   11251   00:82C6                      
   11252   00:82C6                      x_dieciseis:
   11253   00:82C6                      
   11254   00:82C6  3A 1C C0            		ld		a,[py]
   11255   00:82C9  C6 10               		add		16
   11256   00:82CB  5F                  		ld		e,a
   11257   00:82CC                      		
   11258   00:82CC  C9                  		ret
   11259   00:82CD                      		
   11260   00:82CD                      menos_uno_dieciseis:
   11261   00:82CD                      		
   11262   00:82CD  3A 1B C0            		ld		a,[px]
   11263   00:82D0  3D                  		dec		a					;para buffer y vram moviendo 6 y 10						
   11264   00:82D1  57                  		ld		d,a
   11265   00:82D2  18 F2               		jr.		x_dieciseis
   11266   00:82D4                      		
   11267   00:82D4                      dieciseis_dieciseis:
   11268   00:82D4                      		
   11269   00:82D4  3A 1B C0            		ld		a,[px]
   11270   00:82D7  C6 10               		add		16					;para buffer y vram moviendo 6 y 10						
   11271   00:82D9  57                  		ld		d,a
   11272   00:82DA  18 EA               		jr.		x_dieciseis
   11273   00:82DC                      		
   11274   00:82DC                      menos_dos_dieciocho:
   11275   00:82DC                      		
   11276   00:82DC  3A 1B C0            		ld		a,[px]
   11277   00:82DF  D6 02               		sub		2					;para buffer y vram moviendo -2 y 18						
   11278   00:82E1  57                  		ld		d,a
   11279   00:82E2                      
   11280   00:82E2                      x_dieciocho:
   11281   00:82E2                      
   11282   00:82E2  3A 1C C0            		ld		a,[py]
   11283   00:82E5  C6 12               		add		18
   11284   00:82E7  5F                  		ld		e,a
   11285   00:82E8                      		
   11286   00:82E8  C9                  		ret
   11287   00:82E9                      				
   11288   00:82E9                      catorce_diez:
   11289   00:82E9                      		
   11290   00:82E9  3A 1B C0            		ld		a,[px]
   11291   00:82EC  C6 0E               		add		14					;para buffer y vram moviendo 14 y 10						
   11292   00:82EE  57                  		ld		d,a
   11293   00:82EF  18 9A               		jr.		x_diez
   11294   00:82F1                      
   11295   00:82F1                      diez_diez:
   11296   00:82F1                      
   11297   00:82F1  3A 1B C0            		ld		a,[px]
   11298   00:82F4  C6 0A               		add		10					;para buffer y vram moviendo 14 y 10						
   11299   00:82F6  57                  		ld		d,a
   11300   00:82F7  18 92               		jr.		x_diez
   11301   00:82F9                      		
   11302   00:82F9                      doce_diez:
   11303   00:82F9                      		
   11304   00:82F9  3A 1B C0            		ld		a,[px]
   11305   00:82FC  C6 0C               		add		12					;para buffer y vram moviendo 12 y 10						
   11306   00:82FE  57                  		ld		d,a
   11307   00:82FF  18 8A               		jr.		x_diez
   11308   00:8301                      		
   11309   00:8301                      catorce_dos:
   11310   00:8301                      		
   11311   00:8301  3A 1B C0            		ld		a,[px]
   11312   00:8304  C6 0E               		add		14					;para buffer y vram moviendo 14 y 22						
   11313   00:8306  57                  		ld		d,a
   11314   00:8307  18 9F               		jr.		x_dos
   11315   00:8309                      				
   11316   00:8309                      catorce_dieciocho:
   11317   00:8309                      		
   11318   00:8309  3A 1B C0            		ld		a,[px]
   11319   00:830C  C6 0E               		add		14					;para buffer y vram moviendo 14 y 18						
   11320   00:830E  57                  		ld		d,a
   11321   00:830F  18 D1               		jr.		x_dieciocho
   11322   00:8311                      		
   11323   00:8311                      veinte_diez:
   11324   00:8311                      		
   11325   00:8311  3A 1B C0            		ld		a,[px]
   11326   00:8314  C6 14               		add		20					;para buffer y vram moviendo 6 y 10						
   11327   00:8316  57                  		ld		d,a
   11328   00:8317  C3 8B 82            		jr.		x_diez
   11329   00:831A                      		
   11330   00:831A  C9                  		ret
   11331   00:831B                      
   11332   00:831B                      veintidos_diez:
   11333   00:831B                      		
   11334   00:831B  3A 1B C0            		ld		a,[px]
   11335   00:831E  C6 16               		add		22					;para buffer y vram moviendo 6 y 10						
   11336   00:8320  57                  		ld		d,a
   11337   00:8321  C3 8B 82            		jr.		x_diez
   11338   00:8324                      				
   11339   00:8324                      menos_diez_diez:
   11340   00:8324                      		
   11341   00:8324  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11342   00:8327  D6 0A               		sub		10
   11343   00:8329  57                  		ld		d,a
   11344   00:832A  C3 8B 82            		jr.		x_diez
   11345   00:832D                      		
   11346   00:832D                      seis_dieciocho:
   11347   00:832D                      		
   11348   00:832D  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11349   00:8330  C6 06               		add		6
   11350   00:8332  57                  		ld		d,a
   11351   00:8333  18 AD               		jr.		x_dieciocho
   11352   00:8335                      
   11353   00:8335                      menos_diez_dieciocho:
   11354   00:8335                      		
   11355   00:8335  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11356   00:8338  D6 0A               		sub		10
   11357   00:833A  57                  		ld		d,a
   11358   00:833B  18 A5               		jr.		x_dieciocho
   11359   00:833D                      
   11360   00:833D                      tres_quince:
   11361   00:833D                      		
   11362   00:833D  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 3 y 15	
   11363   00:8340  C6 03               		add		3
   11364   00:8342  57                  		ld		d,a
   11365   00:8343                      
   11366   00:8343                      
   11367   00:8343                      x_quince:
   11368   00:8343                      
   11369   00:8343  3A 1C C0            		ld		a,[py]
   11370   00:8346  C6 0F               		add		15
   11371   00:8348  5F                  		ld		e,a
   11372   00:8349                      		
   11373   00:8349  C9                  		ret
   11374   00:834A                      
   11375   00:834A                      tres_dos:
   11376   00:834A  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 3 y 2
   11377   00:834D  C6 03               		add		3
   11378   00:834F  57                  		ld		d,a
   11379   00:8350  C3 A8 82            		jr.		x_dos
   11380   00:8353                      				
   11381   00:8353                      
   11382   00:8353                      		
   11383   00:8353                      dos_dieciocho:
   11384   00:8353                      		
   11385   00:8353  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10		
   11386   00:8356  C6 02               		add		2				
   11387   00:8358  57                  		ld		d,a
   11388   00:8359  18 87               		jr.		x_dieciocho
   11389   00:835B                      		
   11390   00:835B                      ocho_dieciocho:
   11391   00:835B  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11392   00:835E  C6 08               		add		8
   11393   00:8360  57                  		ld		d,a
   11394   00:8361  C3 E2 82            		jr.		x_dieciocho
   11395   00:8364                      		
   11396   00:8364                      diez_dieciocho:
   11397   00:8364  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11398   00:8367  C6 0A               		add		10
   11399   00:8369  57                  		ld		d,a
   11400   00:836A  C3 E2 82            		jr.		x_dieciocho
   11401   00:836D                      		
   11402   00:836D                      ocho_uno:
   11403   00:836D                      
   11404   00:836D  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11405   00:8370  C6 08               		add		8
   11406   00:8372  57                  		ld		d,a
   11407   00:8373                      
   11408   00:8373                      x_uno:
   11409   00:8373                      
   11410   00:8373  3A 1C C0            		ld		a,[py]
   11411   00:8376  3C                  		inc		a
   11412   00:8377  5F                  		ld		e,a
   11413   00:8378                      		
   11414   00:8378  C9                  		ret
   11415   00:8379                      ocho_cuatro:
   11416   00:8379                      
   11417   00:8379  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11418   00:837C  C6 08               		add		8
   11419   00:837E  57                  		ld		d,a
   11420   00:837F  18 2D               		jr.		x_cuatro_mas
   11421   00:8381                      						
   11422   00:8381                      dieciseis_quince:
   11423   00:8381                      
   11424   00:8381  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 16 y 15						
   11425   00:8384  C6 10               		add		16
   11426   00:8386  57                  		ld		d,a
   11427   00:8387  18 BA               		jr.		x_quince
   11428   00:8389                      
   11429   00:8389                      dieciseis_dos:
   11430   00:8389                      
   11431   00:8389  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 16 y 2						
   11432   00:838C  C6 10               		add		16
   11433   00:838E  57                  		ld		d,a
   11434   00:838F  C3 A8 82            		jr.		x_dos
   11435   00:8392                      
   11436   00:8392                      menos_dos_menos_cuatro:
   11437   00:8392                      		
   11438   00:8392  3A 1B C0            		ld		a,[px]													;para buffer y vram moviendo -2 y menos 4						
   11439   00:8395  D6 02               		sub		2
   11440   00:8397  57                  		ld		d,a
   11441   00:8398  18 0D               		jr.		x_cuatro
   11442   00:839A                      
   11443   00:839A                      nueve_menos_cuatro:
   11444   00:839A                      
   11445   00:839A  3A 1B C0            		ld		a,[px]													;para buffer y vram moviendo 9 y menos 4						
   11446   00:839D  C6 09               		add		9
   11447   00:839F  57                  		ld		d,a
   11448   00:83A0  18 05               		jr.		x_cuatro
   11449   00:83A2                      						
   11450   00:83A2                      uno_menos_cuatro:
   11451   00:83A2                      
   11452   00:83A2  3A 1B C0            		ld		a,[px]													;para buffer y vram moviendo 1 y -4					
   11453   00:83A5  3C                  		inc		a
   11454   00:83A6  57                  		ld		d,a
   11455   00:83A7                      
   11456   00:83A7                      x_cuatro:
   11457   00:83A7                      
   11458   00:83A7  3A 1C C0            		ld		a,[py]
   11459   00:83AA  D6 04               		sub		4
   11460   00:83AC  5F                  		ld		e,a
   11461   00:83AD                      		
   11462   00:83AD  C9                  		ret
   11463   00:83AE                      
   11464   00:83AE                      x_cuatro_mas:
   11465   00:83AE                      
   11466   00:83AE  3A 1C C0            		ld		a,[py]
   11467   00:83B1  C6 04               		add		4
   11468   00:83B3  5F                  		ld		e,a
   11469   00:83B4                      		
   11470   00:83B4  C9                  		ret
   11471   00:83B5                      				
   11472   00:83B5                      menos_uno_quince:
   11473   00:83B5                      
   11474   00:83B5  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo 6 y 10						
   11475   00:83B8  3D                  		dec		a
   11476   00:83B9  57                  		ld		d,a
   11477   00:83BA  18 87               		jr.		x_quince
   11478   00:83BC                      
   11479   00:83BC                      menos_uno_dos:
   11480   00:83BC                      
   11481   00:83BC  3A 1B C0            		ld		a,[px]					;para buffer y vram moviendo -1 y 2						
   11482   00:83BF  3D                  		dec		a
   11483   00:83C0  57                  		ld		d,a
   11484   00:83C1  C3 A8 82            		jr.		x_dos
   11485   00:83C4                      
   11486   00:83C4                      pinta_en_pantalla:
   11487   00:83C4                      
   11488   00:83C4  11 00 18            		ld		de,#1800												;pinta en pantalla lo especificado anteriormente
   11489   00:83C7  19                  		add		hl,de
   11490   00:83C8  E5                  		push	hl
   11491   00:83C9  32 EE EE            		ld		[#eeee],a
   11492   00:83CC  21 EE EE            		ld		hl,#eeee
   11493   00:83CF  D1                  		pop		de
   11494   00:83D0  01 01 00            		ld		bc,1
   11495   00:83D3  C3 5C 00            		jp		GRABAVRAM
   11496   00:83D6                      	
   11497   00:83D6                      efecto_sonido:
   11498   00:83D6                      		
   11499   00:83D6  4F                  		ld		c,a
   11500   00:83D7  C3 D0 8B            		jp		ayFX_INIT
   11501   00:83DA                      
   11502   00:83DA                      ; partes repetidas de los motores de sprites
   11503   00:83DA                      
   11504   00:83DA                      CERO_CUATRO_OCHO:
   11505   00:83DA                      
   11506   00:83DA  DD 77 00            		ld		(ix),a
   11507   00:83DD  DD 77 04            		ld		(ix+4),a
   11508   00:83E0  DD 77 08            		ld		(ix+8),a
   11509   00:83E3                      		
   11510   00:83E3  C9                  		ret
   11511   00:83E4                      		
   11512   00:83E4                      UNO_CINCO_NUEVE:
   11513   00:83E4                      
   11514   00:83E4  DD 77 01            		ld		(ix+1),a
   11515   00:83E7  DD 77 05            		ld		(ix+5),a
   11516   00:83EA  DD 77 09            		ld		(ix+9),a
   11517   00:83ED                      		
   11518   00:83ED  C9                  		ret
   11519   00:83EE                      
   11520   00:83EE                      DOS_SEIS_DIEZ:
   11521   00:83EE                      
   11522   00:83EE  DD 77 02            		ld		(ix+2),a
   11523   00:83F1  C6 04               		add		4
   11524   00:83F3  DD 77 06            		ld		(ix+6),a
   11525   00:83F6  C6 04               		add		4
   11526   00:83F8  DD 77 0A            		ld		(ix+10),a
   11527   00:83FB                      		
   11528   00:83FB  C9                  		ret
   11529   00:83FC                      		
   11530   00:83FC                      		;DESCOMPRESORES
   11531   00:83FC                      
   11532   00:83FC                      depack_VRAM:		
   11533   00:83FC                      
   11534   00:83FC                      		include "PL_VRAM_Depack_SJASM.asm"						; hl=ram/rom fuente de=vram destino
       1.  00:83FC                      ;-----------------------------------------------------------
       2.  00:83FC                      ; Pletter v0.5b VRAM Depacker v1.1 - 16Kb version
       3.  00:83FC                      ; HL = RAM/ROM source ; DE = VRAM destination
       4.  00:83FC                      ;-----------------------------------------------------------
       5.  00:83FC                      ;	di
       6.  00:83FC                      
       7.  00:83FC                      ; VRAM address setup
       8.  00:83FC  7B                  	ld	a,e
       9.  00:83FD  D3 99               	out	[099h],a
      10.  00:83FF  7A                  	ld	a,d
      11.  00:8400  F6 40               	or	040h
      12.  00:8402  D3 99               	out	[099h],a
      13.  00:8404                      
      14.  00:8404                      ; Initialization
      15.  00:8404  7E                  	ld	a,[hl]
      16.  00:8405  23                  	inc	hl
      17.  00:8406  D9                  	exx
      18.  00:8407  11 00 00            	ld	de,0
      19.  00:840A  87                  	add	a,a
      20.  00:840B  3C                  	inc	a
      21.  00:840C  CB 13               	rl	e
      22.  00:840E  87                  	add	a,a
      23.  00:840F  CB 13               	rl	e
      24.  00:8411  87                  	add	a,a
      25.  00:8412  CB 13               	rl	e
      26.  00:8414  CB 13               	rl	e
      27.  00:8416  21 F0 84            	ld	hl,modes
      28.  00:8419  19                  	add	hl,de
      29.  00:841A  5E                  	ld	e,[hl]
      30.  00:841B  DD 6B               	ld	ixl,e
      31.  00:841D  23                  	inc	hl
      32.  00:841E  5E                  	ld	e,[hl]
      33.  00:841F  DD 63               	ld	ixh,e
      34.  00:8421  1E 01               	ld	e,1
      35.  00:8423  D9                  	exx
      36.  00:8424  FD 21 2D 84         	ld	iy,loop
      37.  00:8428                      
      38.  00:8428                      ; Main depack loop
      39.  00:8428  0E 98               literal:ld	c,098h
      40.  00:842A  ED A3               	outi
      41.  00:842C  13                  	inc	de
      42.  00:842D  87                  loop:	add	a,a
      43.  00:842E  CC E5 84              	call	z,getbit
      44.  00:8431  30 F5               	jr	nc,literal
      45.  00:8433                      
      46.  00:8433                      ; Compressed data
      47.  00:8433  D9                  	exx
      48.  00:8434  62                  	ld	h,d
      49.  00:8435  6B                  	ld	l,e
      50.  00:8436  87                  getlen: add	a,a
      51.  00:8437  CC E9 84            	call	z,getbitexx
      52.  00:843A  30 1D               	jr	nc,lenok
      53.  00:843C  87                  lus:	add	a,a
      54.  00:843D  CC E9 84            	call	z,getbitexx
      55.  00:8440  ED 6A               	adc	hl,hl
      56.  00:8442  D8                  	ret	c
      57.  00:8443  87                  	add	a,a
      58.  00:8444  CC E9 84            	call	z,getbitexx
      59.  00:8447  30 10               	jr	nc,lenok
      60.  00:8449  87                  	add	a,a
      61.  00:844A  CC E9 84            	call	z,getbitexx
      62.  00:844D  ED 6A               	adc	hl,hl
      63.  00:844F  DA EF 84            	jp	c,Depack_out
      64.  00:8452  87                  	add	a,a
      65.  00:8453  CC E9 84            	call	z,getbitexx
      66.  00:8456  DA 3C 84            	jp	c,lus
      67.  00:8459  23                  lenok:  inc	hl
      68.  00:845A  D9                  	exx
      69.  00:845B  4E                  	ld	c,[hl]
      70.  00:845C  23                  	inc	hl
      71.  00:845D  06 00               	ld	b,0
      72.  00:845F  CB 79               	bit	7,c
      73.  00:8461  CA 94 84            	jp	z,offsok
      74.  00:8464  DD E9               	jp	ix
      75.  00:8466                      
      76.  00:8466  87                  mode7:  add	a,a
      77.  00:8467  CC E5 84              	call	z,getbit
      78.  00:846A  CB 10               	rl	b
      79.  00:846C  87                  mode6:	add	a,a
      80.  00:846D  CC E5 84              	call	z,getbit
      81.  00:8470  CB 10               	rl	b
      82.  00:8472  87                  mode5:  add	a,a
      83.  00:8473  CC E5 84              	call	z,getbit
      84.  00:8476  CB 10               	rl	b
      85.  00:8478  87                  mode4:  add	a,a
      86.  00:8479  CC E5 84              	call	z,getbit
      87.  00:847C  CB 10               	rl	b
      88.  00:847E  87                  mode3:  add	a,a
      89.  00:847F  CC E5 84              	call	z,getbit
      90.  00:8482  CB 10               	rl	b
      91.  00:8484  87                  mode2:	add	a,a
      92.  00:8485  CC E5 84              	call	z,getbit
      93.  00:8488  CB 10               	rl	b
      94.  00:848A  87                  	add	a,a
      95.  00:848B  CC E5 84              	call	z,getbit
      96.  00:848E  30 04               	jr	nc,offsok
      97.  00:8490  B7                  	or	a
      98.  00:8491  04                  	inc	b
      99.  00:8492  CB B9               	res	7,c
     100.  00:8494  03                  offsok: inc	bc
     101.  00:8495  E5                  	push	hl
     102.  00:8496  D9                  	exx
     103.  00:8497  E5                  	push	hl
     104.  00:8498  D9                  	exx
     105.  00:8499  6B                  	ld	l,e
     106.  00:849A  62                  	ld	h,d
     107.  00:849B  ED 42               	sbc	hl,bc
     108.  00:849D  C1                  	pop	bc
     109.  00:849E  F5                  	push	af
     110.  00:849F  7D                  .loop:	ld	a,l
     111.  00:84A0  D3 99               	out	[099h],a
     112.  00:84A2  7C                  	ld	a,h
     113.  00:84A3                      [10]nop                     ; VDP timing
     113.  00:84A3  00 00 00 00 00 00 00 00 00 00 
     114.  00:84AD  D3 99               	out	[099h],a
     115.  00:84AF                      [10]nop                     ; VDP timing
     115.  00:84AF  00 00 00 00 00 00 00 00 00 00 
     116.  00:84B9  DB 98               	in	a,[098h]
     117.  00:84BB  08                  	ex	af,af'
     118.  00:84BC  7B                  	ld	a,e
     119.  00:84BD                      [10]nop                     ; VDP timing
     119.  00:84BD  00 00 00 00 00 00 00 00 00 00 
     120.  00:84C7  D3 99               	out	[099h],a
     121.  00:84C9  7A                  	ld	a,d
     122.  00:84CA  F6 40               	or	040h
     123.  00:84CC  D3 99               	out	[099h],a
     124.  00:84CE  08                  	ex	af,af'
     125.  00:84CF                      [10]nop                     ; VDP timing
     125.  00:84CF  00 00 00 00 00 00 00 00 00 00 
     126.  00:84D9  D3 98               	out	[098h],a
     127.  00:84DB  13                  	inc	de
     128.  00:84DC  ED A1               	cpi
     129.  00:84DE  EA 9F 84            	jp	pe,.loop
     130.  00:84E1  F1                  	pop	af
     131.  00:84E2  E1                  	pop	hl
     132.  00:84E3  FD E9               	jp	iy
     133.  00:84E5                      
     134.  00:84E5  7E                  getbit: ld	a,[hl]
     135.  00:84E6  23                  	inc	hl
     136.  00:84E7  17                  	rla
     137.  00:84E8  C9                  	ret
     138.  00:84E9                      
     139.  00:84E9                      getbitexx:
     140.  00:84E9  D9                  	exx
     141.  00:84EA  7E                  	ld	a,[hl]
     142.  00:84EB  23                  	inc	hl
     143.  00:84EC  D9                  	exx
     144.  00:84ED  17                  	rla
     145.  00:84EE  C9                  	ret
     146.  00:84EF                      
     147.  00:84EF                      ; Depacker exit
     148.  00:84EF                      Depack_out:
     149.  00:84EF                      ;	ei
     150.  00:84EF  C9                  	ret
     151.  00:84F0                      
     152.  00:84F0                      modes:
     153.  00:84F0  94 84               	dw	offsok
     154.  00:84F2  84 84               	dw	mode2
     155.  00:84F4  7E 84               	dw	mode3
     156.  00:84F6  78 84               	dw	mode4
     157.  00:84F8  72 84               	dw	mode5
     158.  00:84FA  6C 84               	dw	mode6
     159.  00:84FC  66 84               	dw	mode7
   11535   00:84FE                      
   11536   00:84FE                      depack:
   11537   00:84FE                      
   11538   00:84FE                      		include	"unpack.asm"									; hl=ram/rom fuente de=ram destino
       1.  00:84FE                      ; pletter v0.5c msx unpacker
       2.  00:84FE                      
       3.  00:84FE                      ; call unpack with hl pointing to some pletter5 data, and de pointing to the destination.
       4.  00:84FE                      ; changes all registers
       5.  00:84FE                      
       6.  00:84FE                      ; define lengthindata when the original size is written in the pletter data
       7.  00:84FE                      
       8.  00:84FE                      ;  define LENGTHINDATA
       9.  00:84FE                      
      10.  00:84FE                        module pletter
      11.  00:84FE                      
      12.  00:84FE                        macro GETBIT
      13.  00:84FE                    <   add a,a
      14.  00:84FE                    <   call z,getbit
      15.  00:84FE                    <   endmacro
      16.  00:84FE                      
      17.  00:84FE                        macro GETBITEXX
      18.  00:84FE                    <   add a,a
      19.  00:84FE                    <   call z,getbitexx
      20.  00:84FE                    <   endmacro
      21.  00:84FE                      
      22.  00:84FE                      @unpack
      23.  00:84FE                      
      24.  00:84FE                        ifdef LENGTHINDATA
      25.  00:84FE                    ~   inc hl
      26.  00:84FE                    ~   inc hl
      27.  00:84FE                    ~   endif
      28.  00:84FE                      
      29.  00:84FE  7E                    ld a,(hl)
      30.  00:84FF  23                    inc hl
      31.  00:8500  D9                    exx
      32.  00:8501  11 00 00              ld de,0
      33.  00:8504  87                    add a,a
      34.  00:8505  3C                    inc a
      35.  00:8506  CB 13                 rl e
      36.  00:8508  87                    add a,a
      37.  00:8509  CB 13                 rl e
      38.  00:850B  87                    add a,a
      39.  00:850C  CB 13                 rl e
      40.  00:850E  CB 13                 rl e
      41.  00:8510  21 9C 85              ld hl,modes
      42.  00:8513  19                    add hl,de
      43.  00:8514  5E                    ld e,(hl)
      44.  00:8515  DD 6B                 ld ixl,e
      45.  00:8517  23                    inc hl
      46.  00:8518  5E                    ld e,(hl)
      47.  00:8519  DD 63                 ld ixh,e
      48.  00:851B  1E 01                 ld e,1
      49.  00:851D  D9                    exx
      50.  00:851E  FD 21 24 85           ld iy,loop
      51.  00:8522                      literal
      52.  00:8522  ED A0                 ldi
      53.  00:8524                      loop
      54.  00:8524                        GETBIT
      54.  00:8524  87                >   add a,a
      54.  00:8525  CC 92 85          >   call z,getbit
      55.  00:8528  30 F8                 jr nc,literal
      56.  00:852A  D9                    exx
      57.  00:852B  62                    ld h,d
      58.  00:852C  6B                    ld l,e
      59.  00:852D                      getlen
      60.  00:852D                        GETBITEXX
      60.  00:852D  87                >   add a,a
      60.  00:852E  CC 96 85          >   call z,getbitexx
      61.  00:8531  30 1B                 jr nc,.lenok
      62.  00:8533                      .lus
      63.  00:8533                        GETBITEXX
      63.  00:8533  87                >   add a,a
      63.  00:8534  CC 96 85          >   call z,getbitexx
      64.  00:8537  ED 6A                 adc hl,hl
      65.  00:8539  D8                    ret c
      66.  00:853A                        GETBITEXX
      66.  00:853A  87                >   add a,a
      66.  00:853B  CC 96 85          >   call z,getbitexx
      67.  00:853E  30 0E                 jr nc,.lenok
      68.  00:8540                        GETBITEXX
      68.  00:8540  87                >   add a,a
      68.  00:8541  CC 96 85          >   call z,getbitexx
      69.  00:8544  ED 6A                 adc hl,hl
      70.  00:8546  D8                    ret c
      71.  00:8547                        GETBITEXX
      71.  00:8547  87                >   add a,a
      71.  00:8548  CC 96 85          >   call z,getbitexx
      72.  00:854B  DA 33 85              jp c,.lus
      73.  00:854E                      .lenok
      74.  00:854E  23                    inc hl
      75.  00:854F  D9                    exx
      76.  00:8550  4E                    ld c,(hl)
      77.  00:8551  23                    inc hl
      78.  00:8552  06 00                 ld b,0
      79.  00:8554  CB 79                 bit 7,c
      80.  00:8556  CA 83 85              jp z,offsok
      81.  00:8559  DD E9                 jp ix
      82.  00:855B                      
      83.  00:855B                      mode6
      84.  00:855B                        GETBIT
      84.  00:855B  87                >   add a,a
      84.  00:855C  CC 92 85          >   call z,getbit
      85.  00:855F  CB 10                 rl b
      86.  00:8561                      mode5
      87.  00:8561                        GETBIT
      87.  00:8561  87                >   add a,a
      87.  00:8562  CC 92 85          >   call z,getbit
      88.  00:8565  CB 10                 rl b
      89.  00:8567                      mode4
      90.  00:8567                        GETBIT
      90.  00:8567  87                >   add a,a
      90.  00:8568  CC 92 85          >   call z,getbit
      91.  00:856B  CB 10                 rl b
      92.  00:856D                      mode3
      93.  00:856D                        GETBIT
      93.  00:856D  87                >   add a,a
      93.  00:856E  CC 92 85          >   call z,getbit
      94.  00:8571  CB 10                 rl b
      95.  00:8573                      mode2
      96.  00:8573                        GETBIT
      96.  00:8573  87                >   add a,a
      96.  00:8574  CC 92 85          >   call z,getbit
      97.  00:8577  CB 10                 rl b
      98.  00:8579                        GETBIT
      98.  00:8579  87                >   add a,a
      98.  00:857A  CC 92 85          >   call z,getbit
      99.  00:857D  30 04                 jr nc,offsok
     100.  00:857F  B7                    or a
     101.  00:8580  04                    inc b
     102.  00:8581  CB B9                 res 7,c
     103.  00:8583                      offsok
     104.  00:8583  03                    inc bc
     105.  00:8584  E5                    push hl
     106.  00:8585  D9                    exx
     107.  00:8586  E5                    push hl
     108.  00:8587  D9                    exx
     109.  00:8588  6B                    ld l,e
     110.  00:8589  62                    ld h,d
     111.  00:858A  ED 42                 sbc hl,bc
     112.  00:858C  C1                    pop bc
     113.  00:858D  ED B0                 ldir
     114.  00:858F  E1                    pop hl
     115.  00:8590  FD E9                 jp iy
     116.  00:8592                      
     117.  00:8592                      getbit
     118.  00:8592  7E                    ld a,(hl)
     119.  00:8593  23                    inc hl
     120.  00:8594  17                    rla
     121.  00:8595  C9                    ret
     122.  00:8596                      
     123.  00:8596                      getbitexx
     124.  00:8596  D9                    exx
     125.  00:8597  7E                    ld a,(hl)
     126.  00:8598  23                    inc hl
     127.  00:8599  D9                    exx
     128.  00:859A  17                    rla
     129.  00:859B  C9                    ret
     130.  00:859C                      
     131.  00:859C                      modes
     132.  00:859C  83 85                 word offsok
     133.  00:859E  73 85                 word mode2
     134.  00:85A0  6D 85                 word mode3
     135.  00:85A2  67 85                 word mode4
     136.  00:85A4  61 85                 word mode5
     137.  00:85A6  5B 85                 word mode6
     138.  00:85A8                      
     139.  00:85A8                        endmodule
     140.  00:85A8                      
     141.  00:85A8                      ;eof
   11539   00:85A8                      
   11540   00:85A8                      		;la instrucción que dejaremos en lugar del gancho
   11541   00:85A8                      		
   11542   00:85A8                      nuestra_isr:
   11543   00:85A8                      
   11544   00:85A8  CD 14 8B            		call	PT3_ROUT												;envia los datos a los registros del PSG
   11545   00:85AB  CD 1C 8A            		call	PT3_PLAY												;calcula el siguiente trozo de música que será enviado la próxima vez
   11546   00:85AE  CD 06 8C            		call	ayFX_PLAY												;calcula el siguiente trozo de efecto que será enviado la próxima vez
   11547   00:85B1                      ;		jp		VIEJA_INTERR											;ahora se va a ejecutar la original que había en el gancho
   11548   00:85B1  C9                  		ret
   11549   00:85B2                      		;gancho area salvada
   11550   00:85B2                      		
   11551   00:85B2                      		;MUSICA Y EFECTOS
   11552   00:85B2                      		
   11553   00:85B2                      		include 	"PT3-ROM_sjasm.asm"									;incluye el codigo del reproductor de PT3 (musica)
       1.  00:85B2                      		; --- PT3 REPLAYER WORKING ON ROM ---
       2.  00:85B2                      		; --- Can be assembled with asMSX ---
       3.  00:85B2                      		; --- ROM version: MSX-KUN        ---
       4.  00:85B2                      		; --- asMSX version 2: SapphiRe   ---
       5.  00:85B2                      
       6.  00:85B2                      ; Based on MSX full version of PT3 by Dioniso
       7.  00:85B2                      ;
       8.  00:85B2                      ; This version of the replayer can be used with any note table
       9.  00:85B2                      ; This version also allows the use of PT3 commands
      10.  00:85B2                      ; First 99 bytes of each PT3 module should be stripped off
      11.  00:85B2                      ;
      12.  00:85B2                      ; PLAY and PSG WRITE routines seperated to allow independent calls
      13.  00:85B2                      ;
      14.  00:85B2                      ; ROM LENGTH: 1549 bytes
      15.  00:85B2                      ; RAM LENGTH:  576 bytes
      16.  00:85B2                      
      17.  00:85B2                      
      18.  00:85B2                      
      19.  00:85B2                      ;SJASM version by BTV 2016
      20.  00:85B2                      
      21.  00:85B2                      
      22.  00:85B2                      		; --- CONSTANT VALUES DEFINITION ---
      23.  00:85B2                      
      24.  00:85B2                      ;ChannelsVars
      25.  00:85B2                      ;struc	CHNPRM
      26.  00:85B2                      ;reset group
      27.  00:85B2  (00:0000)           CHNPRM_PsInOr	equ 0	;RESB 1
      28.  00:85B2  (00:0001)           CHNPRM_PsInSm	equ 1	;RESB 1
      29.  00:85B2  (00:0002)           CHNPRM_CrAmSl	equ 2	;RESB 1
      30.  00:85B2  (00:0003)           CHNPRM_CrNsSl	equ 3	;RESB 1
      31.  00:85B2  (00:0004)           CHNPRM_CrEnSl	equ 4	;RESB 1
      32.  00:85B2  (00:0005)           CHNPRM_TSlCnt	equ 5	;RESB 1
      33.  00:85B2  (00:0006)           CHNPRM_CrTnSl	equ 6	;RESW 1
      34.  00:85B2  (00:0008)           CHNPRM_TnAcc	equ 8	;RESW 1
      35.  00:85B2  (00:000A)           CHNPRM_COnOff	equ 10	;RESB 1
      36.  00:85B2                      ;reset group
      37.  00:85B2                      
      38.  00:85B2  (00:000B)           CHNPRM_OnOffD	equ 11	;RESB 1
      39.  00:85B2                      
      40.  00:85B2                      ;IX for PTDECOD here [+12]
      41.  00:85B2  (00:000C)           CHNPRM_OffOnD	equ 12	;RESB 1
      42.  00:85B2  (00:000D)           CHNPRM_OrnPtr	equ 13	;RESW 1
      43.  00:85B2  (00:000F)           CHNPRM_SamPtr	equ 15	;RESW 1
      44.  00:85B2  (00:0011)           CHNPRM_NNtSkp	equ 17	;RESB 1
      45.  00:85B2  (00:0012)           CHNPRM_Note	equ 18	;RESB 1
      46.  00:85B2  (00:0013)           CHNPRM_SlToNt	equ 19	;RESB 1
      47.  00:85B2  (00:0014)           CHNPRM_Env_En	equ 20	;RESB 1
      48.  00:85B2  (00:0015)           CHNPRM_Flags	equ 21	;RESB 1
      49.  00:85B2                       ;Enabled - 0,SimpleGliss - 2
      50.  00:85B2  (00:0016)           CHNPRM_TnSlDl	equ 22	;RESB 1
      51.  00:85B2  (00:0017)           CHNPRM_TSlStp	equ 23	;RESW 1
      52.  00:85B2  (00:0019)           CHNPRM_TnDelt	equ 25	;RESW 1
      53.  00:85B2  (00:001B)           CHNPRM_NtSkCn	equ 27	;RESB 1
      54.  00:85B2  (00:001C)           CHNPRM_Volume	equ 28	;RESB 1
      55.  00:85B2  (00:001D)           CHNPRM_Size	equ 29	;RESB 1
      56.  00:85B2                      ;endstruc
      57.  00:85B2                      
      58.  00:85B2                      ;struc	AR
      59.  00:85B2  (00:0000)           AR_TonA		equ 0	;RESW 1
      60.  00:85B2  (00:0002)           AR_TonB		equ 2	;RESW 1
      61.  00:85B2  (00:0004)           AR_TonC		equ 4	;RESW 1
      62.  00:85B2  (00:0006)           AR_Noise	equ 6	;RESB 1
      63.  00:85B2  (00:0007)           AR_Mixer	equ 7	;RESB 1
      64.  00:85B2  (00:0008)           AR_AmplA	equ 8	;RESB 1
      65.  00:85B2  (00:0009)           AR_AmplB	equ 9	;RESB 1
      66.  00:85B2  (00:000A)           AR_AmplC	equ 10	;RESB 1
      67.  00:85B2  (00:000B)           AR_Env		equ 11	;RESW 1
      68.  00:85B2  (00:000D)           AR_EnvTp	equ 13	;RESB 1
      69.  00:85B2                      ;endstruc
      70.  00:85B2                      
      71.  00:85B2                      		; --- CODE STARTS HERE ---
      72.  00:85B2                      
      73.  00:85B2  21 00 F0            CHECKLP:	LD	HL,PT3_SETUP
      74.  00:85B5  CB FE               		SET	7,[HL]
      75.  00:85B7  CB 46               		BIT	0,[HL]
      76.  00:85B9  C8                  		RET	Z
      77.  00:85BA  E1                  		POP	HL
      78.  00:85BB  21 7A F0            		LD	HL,DelyCnt
      79.  00:85BE  34                  		INC	[HL]
      80.  00:85BF  21 3E F0            		LD	HL,ChanA+CHNPRM_NtSkCn
      81.  00:85C2  34                  		INC	[HL]
      82.  00:85C3  AF                  PT3_MUTE:	XOR	A
      83.  00:85C4  67                  		LD	H,A
      84.  00:85C5  6F                  		LD	L,A
      85.  00:85C6  32 48 F1            		LD	[AYREGS+AR_AmplA],A
      86.  00:85C9  22 49 F1            		LD	[AYREGS+AR_AmplB],HL
      87.  00:85CC  C3 15 8B            		JP	ROUT_A0
      88.  00:85CF                      
      89.  00:85CF                      PT3_INIT:	;HL - AddressOfModule - 100
      90.  00:85CF  22 01 F0            		LD [PT3_MODADDR],HL
      91.  00:85D2  E5                  		PUSH HL
      92.  00:85D3  11 64 00            		LD DE,100
      93.  00:85D6  19                  		ADD HL,DE
      94.  00:85D7  7E                  		LD A,[HL]
      95.  00:85D8  32 1C F0            		LD [PT3_Delay],A
      96.  00:85DB  E5                  		PUSH HL
      97.  00:85DC  DD E1               		POP IX
      98.  00:85DE  19                  		ADD HL,DE
      99.  00:85DF  22 03 F0            		LD [PT3_CrPsPtr],HL
     100.  00:85E2  DD 5E 02            		LD E,[IX+102-100]
     101.  00:85E5  19                  		ADD HL,DE
     102.  00:85E6  23                  		INC HL
     103.  00:85E7  22 18 F0            		LD [PT3_LPosPtr],HL
     104.  00:85EA  D1                  		POP DE
     105.  00:85EB  DD 6E 03            		LD L,[IX+103-100]
     106.  00:85EE  DD 66 04            		LD H,[IX+104-100]
     107.  00:85F1  19                  		ADD HL,DE
     108.  00:85F2  22 1A F0            		LD [PT3_PatsPtr],HL
     109.  00:85F5  21 A9 00            		LD HL,169
     110.  00:85F8  19                  		ADD HL,DE
     111.  00:85F9  22 07 F0            		LD [PT3_OrnPtrs],HL
     112.  00:85FC  21 69 00            		LD HL,105
     113.  00:85FF  19                  		ADD HL,DE
     114.  00:8600  22 05 F0            		LD [PT3_SAMPTRS],HL
     115.  00:8603  21 00 F0            		LD HL,PT3_SETUP
     116.  00:8606  CB BE               		RES 7,[HL]
     117.  00:8608                      
     118.  00:8608                      		; --- note table data depacker ---
     119.  00:8608                      		; Depacks first 12 tones of each tone table
     120.  00:8608                      
     121.  00:8608  11 89 8B            		LD DE,T_PACK
     122.  00:860B  01 B1 F1            		LD BC,T1_+(2*49)-1
     123.  00:860E  1A                  .TP_0:		LD A,[DE]
     124.  00:860F  13                  		INC DE
     125.  00:8610  FE 1E               		CP 15*2
     126.  00:8612  30 06               		JR NC,.TP_1
     127.  00:8614  67                  		LD H,A
     128.  00:8615  1A                  		LD A,[DE]
     129.  00:8616  6F                  		LD L,A
     130.  00:8617  13                  		INC DE
     131.  00:8618  18 07               		JR .TP_2
     132.  00:861A  D5                  .TP_1:		PUSH DE
     133.  00:861B  16 00               		LD D,0
     134.  00:861D  5F                  		LD E,A
     135.  00:861E  19                  		ADD HL,DE
     136.  00:861F  19                  		ADD HL,DE
     137.  00:8620  D1                  		POP DE
     138.  00:8621  7C                  .TP_2:		LD A,H
     139.  00:8622  02                  		LD [BC],A
     140.  00:8623  0B                  		DEC BC
     141.  00:8624  7D                  		LD A,L
     142.  00:8625  02                  		LD [BC],A
     143.  00:8626  0B                  		DEC BC
     144.  00:8627  D6 F0               		SUB $F0
     145.  00:8629  20 E3               		JR NZ,.TP_0
     146.  00:862B                      
     147.  00:862B                      		; --- INITIALIZE PT3 VARIABLES ---
     148.  00:862B  21 23 F0            		LD HL,VARS
     149.  00:862E  77                  		LD [HL],A
     150.  00:862F  11 24 F0            		LD DE,VARS+1
     151.  00:8632  01 2C 01            		LD BC,VAR0END-VARS-1
     152.  00:8635  ED B0               		LDIR
     153.  00:8637                      
     154.  00:8637  3C                  		INC A
     155.  00:8638  32 7A F0            		LD [DelyCnt],A
     156.  00:863B  21 01 F0            		LD HL,$F001 ;H - CHNPRM_Volume, L - CHNPRM_NtSkCn
     157.  00:863E  22 3E F0            		LD [ChanA+CHNPRM_NtSkCn],HL
     158.  00:8641  22 5B F0            		LD [ChanB+CHNPRM_NtSkCn],HL
     159.  00:8644  22 78 F0            		LD [ChanC+CHNPRM_NtSkCn],HL
     160.  00:8647                      
     161.  00:8647  21 85 8B            		LD HL,EMPTYSAMORN
     162.  00:864A  22 12 F0            		LD [PT3_AdInPtA],HL ;ptr to zero
     163.  00:864D  22 30 F0            		LD [ChanA+CHNPRM_OrnPtr],HL ;ornament 0 is "0,1,0"
     164.  00:8650  22 4D F0            		LD [ChanB+CHNPRM_OrnPtr],HL ;in all versions from
     165.  00:8653  22 6A F0            		LD [ChanC+CHNPRM_OrnPtr],HL ;3.xx to 3.6x and VTII
     166.  00:8656                      
     167.  00:8656  22 32 F0            		LD [ChanA+CHNPRM_SamPtr],HL ;S1 There is no default
     168.  00:8659  22 4F F0            		LD [ChanB+CHNPRM_SamPtr],HL ;S2 sample in PT3, so, you
     169.  00:865C  22 6C F0            		LD [ChanC+CHNPRM_SamPtr],HL ;S3 can comment S1,2,3; see
     170.  00:865F                      					    ;also EMPTYSAMORN comment
     171.  00:865F                      
     172.  00:865F                      		; --- NOTE TABLE CREATOR (c) Ivan Roshin, adapted by SapphiRe ---
     173.  00:865F  DD 7E FF            		LD A,[IX+99-100] ;TONE TABLE NUMBER
     174.  00:8662  17                  		RLA
     175.  00:8663  E6 07               		AND 7
     176.  00:8665  21 35 8B            		LD HL,NT_DATA
     177.  00:8668  D5                  		PUSH DE
     178.  00:8669  50                  		LD D,B		; ld d,0 (bc is 0000 after LDIR)
     179.  00:866A  87                  		ADD A,A
     180.  00:866B  5F                  		LD E,A
     181.  00:866C  19                  		ADD HL,DE	; hl -> init of correct note table data
     182.  00:866D  5E                  		LD E,[HL]
     183.  00:866E  23                  		INC HL
     184.  00:866F  CB 3B               		SRL E
     185.  00:8671  9F                  		SBC A,A
     186.  00:8672  E6 A7               		AND $A7			;$00 (NOP) or $A7 (AND A)
     187.  00:8674  32 21 F0            		LD [PT3_NTL3],A		; CORRECT INSTRUCTION, DEPENDS OF SELECTED TABLE
     188.  00:8677  3E C9               		LD A,$C9		; RET CODE
     189.  00:8679  32 22 F0            		LD [PT3_NTL3+1],A	; RET PLACED
     190.  00:867C  EB                  		EX DE,HL
     191.  00:867D  C1                  		POP BC ;BC=T1_
     192.  00:867E  09                  		ADD HL,BC
     193.  00:867F                      
     194.  00:867F  1A                  		LD A,[DE]                           
     195.  00:8680                      
     196.  00:8680  01 45 8B            		LD BC,T_
     197.  00:8683  81                  		ADD A,C
     198.  00:8684  4F                  		LD C,A
     199.  00:8685  88                  		ADC A,B
     200.  00:8686                      
     201.  00:8686  91                  		SUB C
     202.  00:8687  47                  		LD B,A
     203.  00:8688  C5                  		PUSH BC
     204.  00:8689  11 80 F0            		LD DE,NT_
     205.  00:868C  D5                  		PUSH DE
     206.  00:868D                      
     207.  00:868D  06 0C               		LD B,12
     208.  00:868F  C5                  .L1:		PUSH BC
     209.  00:8690  4E                  		LD C,[HL]
     210.  00:8691  23                  		INC HL
     211.  00:8692  E5                  		PUSH HL
     212.  00:8693  46                  		LD B,[HL]
     213.  00:8694                      
     214.  00:8694  D5                  		PUSH DE
     215.  00:8695  EB                  		EX DE,HL
     216.  00:8696  11 17 00            		LD DE,23
     217.  00:8699  DD 26 08            		db $DD,$26,$08	;LD XH,8
     218.  00:869C                      
     219.  00:869C  CB 38               .L2:		SRL B
     220.  00:869E  CB 19               		RR C
     221.  00:86A0  CD 21 F0            .L3:		CALL PT3_NTL3	;AND A or NOP
     222.  00:86A3  79                  		LD A,C
     223.  00:86A4  8A                  		ADC A,D	;=ADC 0
     224.  00:86A5  77                  		LD [HL],A
     225.  00:86A6  23                  		INC HL
     226.  00:86A7  78                  		LD A,B
     227.  00:86A8  8A                  		ADC A,D
     228.  00:86A9  77                  		LD [HL],A
     229.  00:86AA  19                  		ADD HL,DE
     230.  00:86AB  DD 25               		db $DD,$25	;DEC XH
     231.  00:86AD  20 ED               		JR NZ,.L2
     232.  00:86AF                      
     233.  00:86AF  D1                  		POP DE
     234.  00:86B0  13                  		INC DE
     235.  00:86B1  13                  		INC DE
     236.  00:86B2  E1                  		POP HL
     237.  00:86B3  23                  		INC HL
     238.  00:86B4  C1                  		POP BC
     239.  00:86B5  10 D8               		DJNZ .L1
     240.  00:86B7                      
     241.  00:86B7  E1                  		POP HL
     242.  00:86B8  D1                  		POP DE
     243.  00:86B9                      
     244.  00:86B9  7B                  		LD A,E
     245.  00:86BA  D5                  		PUSH DE
     246.  00:86BB  11 51 8B            		LD DE,TCOLD_1
     247.  00:86BE  BB                  		CP E
     248.  00:86BF  D1                  		POP DE
     249.  00:86C0  20 05               		JR NZ,.CORR_1
     250.  00:86C2  3E FD               		LD A,$FD
     251.  00:86C4  32 AE F0            		LD [NT_+$2E],A
     252.  00:86C7                      
     253.  00:86C7  1A                  .CORR_1:	LD A,[DE]
     254.  00:86C8  A7                  		AND A
     255.  00:86C9  28 11               		JR Z,.TC_EXIT
     256.  00:86CB  1F                  		RRA
     257.  00:86CC  F5                  		PUSH AF
     258.  00:86CD  87                  		ADD A,A
     259.  00:86CE  4F                  		LD C,A
     260.  00:86CF  09                  		ADD HL,BC
     261.  00:86D0  F1                  		POP AF
     262.  00:86D1  30 02               		JR NC,.CORR_2
     263.  00:86D3  35                  		DEC [HL]
     264.  00:86D4  35                  		DEC [HL]
     265.  00:86D5  34                  .CORR_2:	INC [HL]
     266.  00:86D6  A7                  		AND A
     267.  00:86D7  ED 42               		SBC HL,BC
     268.  00:86D9  13                  		INC DE
     269.  00:86DA  18 EB               		JR .CORR_1
     270.  00:86DC                      
     271.  00:86DC                      .TC_EXIT:	;POP AF
     272.  00:86DC                      
     273.  00:86DC                      		; --- CREATE PT3 VOLUME TABLE (c) Ivan Roshin, adapted by SapphiRe ---
     274.  00:86DC  21 11 00            		ld	hl,$11
     275.  00:86DF  54                  		ld	d,h
     276.  00:86E0  5C                  		ld	e,h
     277.  00:86E1  DD 21 50 F1         		ld	IX,VT_+16
     278.  00:86E5  06 0F               		ld	b,15
     279.  00:86E7  E5                  .INITV1:	push	hl
     280.  00:86E8  19                  		add	hl,de
     281.  00:86E9  EB                  		ex	de,hl
     282.  00:86EA  ED 62               		sbc	hl,hl
     283.  00:86EC  48                  		ld	c,b
     284.  00:86ED  06 10               		ld	b,16
     285.  00:86EF  7D                  .INITV2:	ld	a,l
     286.  00:86F0  17                  		rla
     287.  00:86F1  7C                  		ld	a,h
     288.  00:86F2  CE 00               		adc	a,0
     289.  00:86F4  DD 77 00            		ld	[ix],a
     290.  00:86F7  DD 23               		inc	ix
     291.  00:86F9  19                  		add	hl,de
     292.  00:86FA  10 F3               		djnz	.INITV2
     293.  00:86FC  E1                  		pop	hl
     294.  00:86FD  7B                  		ld	a,e
     295.  00:86FE  FE 77               		cp	$77
     296.  00:8700  20 01               		jr	nz,.INITV3
     297.  00:8702  1C                  		inc	e
     298.  00:8703  41                  .INITV3:	ld	b,c
     299.  00:8704  10 E1               		djnz	.INITV1
     300.  00:8706                      
     301.  00:8706  C9                  		RET
     302.  00:8707                      
     303.  00:8707                      		;pattern decoder
     304.  00:8707  DD 36 08 00         PD_OrSm:	LD [IX+(CHNPRM_Env_En-12)],0
     305.  00:870B  CD 91 88            		CALL SETORN
     306.  00:870E  0A                  		LD A,[BC]
     307.  00:870F  03                  		INC BC
     308.  00:8710  0F                  		RRCA
     309.  00:8711                      
     310.  00:8711  87                  PD_SAM:		ADD A,A
     311.  00:8712  5F                  PD_SAM_:	LD E,A
     312.  00:8713  16 00               		LD D,0
     313.  00:8715  2A 05 F0            		LD HL,[PT3_SAMPTRS]
     314.  00:8718  19                  		ADD HL,DE
     315.  00:8719  5E                  		LD E,[HL]
     316.  00:871A  23                  		INC HL
     317.  00:871B  56                  		LD D,[HL]
     318.  00:871C  2A 01 F0            		LD HL,[PT3_MODADDR]
     319.  00:871F  19                  		ADD HL,DE
     320.  00:8720  DD 75 03            		LD [IX+(CHNPRM_SamPtr-12)],L
     321.  00:8723  DD 74 04            		LD [IX+(CHNPRM_SamPtr+1-12)],H
     322.  00:8726  18 41               		JR PD_LOOP
     323.  00:8728                      
     324.  00:8728  07                  PD_VOL:		RLCA
     325.  00:8729  07                  		RLCA
     326.  00:872A  07                  		RLCA
     327.  00:872B  07                  		RLCA
     328.  00:872C  DD 77 10            		LD [IX+(CHNPRM_Volume-12)],A
     329.  00:872F  18 3B               		JR PD_LP2
     330.  00:8731                      	
     331.  00:8731  DD 77 08            PD_EOff:	LD [IX+(CHNPRM_Env_En-12)],A
     332.  00:8734  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     333.  00:8737  18 33               		JR PD_LP2
     334.  00:8739                      
     335.  00:8739  3D                  PD_SorE:	DEC A
     336.  00:873A  20 07               		JR NZ,PD_ENV
     337.  00:873C  0A                  		LD A,[BC]
     338.  00:873D  03                  		INC BC
     339.  00:873E  DD 77 05            		LD [IX+(CHNPRM_NNtSkp-12)],A
     340.  00:8741  18 29               		JR PD_LP2
     341.  00:8743                      
     342.  00:8743  CD 75 88            PD_ENV:		CALL SETENV
     343.  00:8746  18 24               		JR PD_LP2
     344.  00:8748                      
     345.  00:8748  CD 91 88            PD_ORN:		CALL SETORN
     346.  00:874B  18 1C               		JR PD_LOOP
     347.  00:874D                             
     348.  00:874D  DD 77 08            PD_ESAM:	LD [IX+(CHNPRM_Env_En-12)],A
     349.  00:8750  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     350.  00:8753  C4 75 88            		CALL NZ,SETENV
     351.  00:8756  0A                  		LD A,[BC]
     352.  00:8757  03                  		INC BC
     353.  00:8758  18 B8               		JR PD_SAM_
     354.  00:875A                      
     355.  00:875A  DD 7E 06            PTDECOD:	LD A,[IX+(CHNPRM_Note-12)]
     356.  00:875D  32 0F F0            		LD [PT3_PrNote],A
     357.  00:8760  DD 6E FA            		LD L,[IX+(CHNPRM_CrTnSl-12)]
     358.  00:8763  DD 66 FB            		LD H,[IX+(CHNPRM_CrTnSl+1-12)]
     359.  00:8766  22 10 F0            		LD [PT3_PrSlide],HL
     360.  00:8769                      
     361.  00:8769  11 10 20            PD_LOOP:	LD DE,$2010
     362.  00:876C  0A                  PD_LP2:		LD A,[BC]
     363.  00:876D  03                  		INC BC
     364.  00:876E  83                  		ADD A,E
     365.  00:876F  38 96               		JR C,PD_OrSm
     366.  00:8771  82                  		ADD A,D
     367.  00:8772  28 4A               		JR Z,PD_FIN
     368.  00:8774  38 9B               		JR C,PD_SAM
     369.  00:8776  83                  		ADD A,E
     370.  00:8777  28 25               		JR Z,PD_REL
     371.  00:8779  38 AD               		JR C,PD_VOL
     372.  00:877B  83                  		ADD A,E
     373.  00:877C  28 B3               		JR Z,PD_EOff
     374.  00:877E  38 B9               		JR C,PD_SorE
     375.  00:8780  C6 60               		ADD A,96
     376.  00:8782  38 20               		JR C,PD_NOTE
     377.  00:8784  83                  		ADD A,E
     378.  00:8785  38 C1               		JR C,PD_ORN
     379.  00:8787  82                  		ADD A,D
     380.  00:8788  38 0F               		JR C,PD_NOIS
     381.  00:878A  83                  		ADD A,E
     382.  00:878B  38 C0               		JR C,PD_ESAM
     383.  00:878D  87                  		ADD A,A
     384.  00:878E  5F                  		LD E,A
     385.  00:878F  21 CA 67            		LD HL,(SPCCOMS+$DF20) % 65536	; Adapted from original Speccy version (saves 6 bytes)
     386.  00:8792  19                  		ADD HL,DE
     387.  00:8793  5E                  		LD E,[HL]
     388.  00:8794  23                  		INC HL
     389.  00:8795  56                  		LD D,[HL]
     390.  00:8796  D5                  		PUSH DE
     391.  00:8797  18 D0               		JR PD_LOOP
     392.  00:8799                      
     393.  00:8799  32 7E F0            PD_NOIS:	LD [Ns_Base],A
     394.  00:879C  18 CE               		JR PD_LP2
     395.  00:879E                      
     396.  00:879E  DD CB 09 86         PD_REL:		RES 0,[IX+(CHNPRM_Flags-12)]
     397.  00:87A2  18 08               		JR PD_RES
     398.  00:87A4                      	
     399.  00:87A4  DD 77 06            PD_NOTE:	LD [IX+(CHNPRM_Note-12)],A
     400.  00:87A7  DD CB 09 C6         		SET 0,[IX+(CHNPRM_Flags-12)]
     401.  00:87AB  AF                  		XOR A
     402.  00:87AC                      
     403.  00:87AC  ED 73 09 F0         PD_RES:		LD [PT3_PDSP],SP
     404.  00:87B0  DD F9               		LD SP,IX
     405.  00:87B2  67                  		LD H,A
     406.  00:87B3  6F                  		LD L,A
     407.  00:87B4  E5                  		PUSH HL
     408.  00:87B5  E5                  		PUSH HL
     409.  00:87B6  E5                  		PUSH HL
     410.  00:87B7  E5                  		PUSH HL
     411.  00:87B8  E5                  		PUSH HL
     412.  00:87B9  E5                  		PUSH HL
     413.  00:87BA  ED 7B 09 F0         		LD SP,[PT3_PDSP]
     414.  00:87BE                      
     415.  00:87BE  DD 7E 05            PD_FIN:		LD A,[IX+(CHNPRM_NNtSkp-12)]
     416.  00:87C1  DD 77 0F            		LD [IX+(CHNPRM_NtSkCn-12)],A
     417.  00:87C4  C9                  		RET
     418.  00:87C5                      
     419.  00:87C5  DD CB 09 96         C_PORTM:	RES 2,[IX+(CHNPRM_Flags-12)]
     420.  00:87C9  0A                  		LD A,[BC]
     421.  00:87CA  03                  		INC BC
     422.  00:87CB                      		;SKIP PRECALCULATED TONE DELTA [BECAUSE
     423.  00:87CB                      		;CANNOT BE RIGHT AFTER PT3 COMPILATION]
     424.  00:87CB  03                  		INC BC
     425.  00:87CC  03                  		INC BC
     426.  00:87CD  DD 77 0A            		LD [IX+(CHNPRM_TnSlDl-12)],A
     427.  00:87D0  DD 77 F9            		LD [IX+(CHNPRM_TSlCnt-12)],A
     428.  00:87D3  11 80 F0            		LD DE,NT_
     429.  00:87D6  DD 7E 06            		LD A,[IX+(CHNPRM_Note-12)]
     430.  00:87D9  DD 77 07            		LD [IX+(CHNPRM_SlToNt-12)],A
     431.  00:87DC  87                  		ADD A,A
     432.  00:87DD  6F                  		LD L,A
     433.  00:87DE  26 00               		LD H,0
     434.  00:87E0  19                  		ADD HL,DE
     435.  00:87E1  7E                  		LD A,[HL]
     436.  00:87E2  23                  		INC HL
     437.  00:87E3  66                  		LD H,[HL]
     438.  00:87E4  6F                  		LD L,A
     439.  00:87E5  E5                  		PUSH HL
     440.  00:87E6  3A 0F F0            		LD A,[PT3_PrNote]
     441.  00:87E9  DD 77 06            		LD [IX+(CHNPRM_Note-12)],A
     442.  00:87EC  87                  		ADD A,A
     443.  00:87ED  6F                  		LD L,A
     444.  00:87EE  26 00               		LD H,0
     445.  00:87F0  19                  		ADD HL,DE
     446.  00:87F1  5E                  		LD E,[HL]
     447.  00:87F2  23                  		INC HL
     448.  00:87F3  56                  		LD D,[HL]
     449.  00:87F4  E1                  		POP HL
     450.  00:87F5  ED 52               		SBC HL,DE
     451.  00:87F7  DD 75 0D            		LD [IX+(CHNPRM_TnDelt-12)],L
     452.  00:87FA  DD 74 0E            		LD [IX+(CHNPRM_TnDelt+1-12)],H
     453.  00:87FD  ED 5B 10 F0         		LD DE,[PT3_PrSlide]
     454.  00:8801  DD 73 FA            		LD [IX+(CHNPRM_CrTnSl-12)],E
     455.  00:8804  DD 72 FB            		LD [IX+(CHNPRM_CrTnSl+1-12)],D
     456.  00:8807  0A                  		LD A,[BC] ;SIGNED TONE STEP
     457.  00:8808  03                  		INC BC
     458.  00:8809  08                  		EX AF,AF'
     459.  00:880A  0A                  		LD A,[BC]
     460.  00:880B  03                  		INC BC
     461.  00:880C  A7                  		AND A
     462.  00:880D  28 01               		JR Z,.NOSIG
     463.  00:880F  EB                  		EX DE,HL
     464.  00:8810  ED 52               .NOSIG:	SBC HL,DE
     465.  00:8812  F2 1A 88            		JP P,SET_STP
     466.  00:8815  2F                  		CPL
     467.  00:8816  08                  		EX AF,AF'
     468.  00:8817  ED 44               		NEG
     469.  00:8819  08                  		EX AF,AF'
     470.  00:881A  DD 77 0C            SET_STP:	LD [IX+(CHNPRM_TSlStp+1-12)],A
     471.  00:881D  08                  		EX AF,AF'
     472.  00:881E  DD 77 0B            		LD [IX+(CHNPRM_TSlStp-12)],A
     473.  00:8821  DD 36 FE 00         		LD [IX+(CHNPRM_COnOff-12)],0
     474.  00:8825  C9                  		RET
     475.  00:8826                      
     476.  00:8826  DD CB 09 D6         C_GLISS:	SET 2,[IX+(CHNPRM_Flags-12)]
     477.  00:882A  0A                  		LD A,[BC]
     478.  00:882B  03                  		INC BC
     479.  00:882C  DD 77 0A            		LD [IX+(CHNPRM_TnSlDl-12)],A
     480.  00:882F  DD 77 F9            		LD [IX+(CHNPRM_TSlCnt-12)],A
     481.  00:8832  0A                  		LD A,[BC]
     482.  00:8833  03                  		INC BC
     483.  00:8834  08                  		EX AF,AF'
     484.  00:8835  0A                  		LD A,[BC]
     485.  00:8836  03                  		INC BC
     486.  00:8837  18 E1               		JR SET_STP
     487.  00:8839                      
     488.  00:8839  0A                  C_SMPOS:	LD A,[BC]
     489.  00:883A  03                  		INC BC
     490.  00:883B  DD 77 F5            		LD [IX+(CHNPRM_PsInSm-12)],A
     491.  00:883E  C9                  		RET
     492.  00:883F                      
     493.  00:883F  0A                  C_ORPOS:	LD A,[BC]
     494.  00:8840  03                  		INC BC
     495.  00:8841  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     496.  00:8844  C9                  		RET
     497.  00:8845                      
     498.  00:8845  0A                  C_VIBRT:	LD A,[BC]
     499.  00:8846  03                  		INC BC
     500.  00:8847  DD 77 FF            		LD [IX+(CHNPRM_OnOffD-12)],A
     501.  00:884A  DD 77 FE            		LD [IX+(CHNPRM_COnOff-12)],A
     502.  00:884D  0A                  		LD A,[BC]
     503.  00:884E  03                  		INC BC
     504.  00:884F  DD 77 00            		LD [IX+(CHNPRM_OffOnD-12)],A
     505.  00:8852  AF                  		XOR A
     506.  00:8853  DD 77 F9            		LD [IX+(CHNPRM_TSlCnt-12)],A
     507.  00:8856  DD 77 FA            		LD [IX+(CHNPRM_CrTnSl-12)],A
     508.  00:8859  DD 77 FB            		LD [IX+(CHNPRM_CrTnSl+1-12)],A
     509.  00:885C  C9                  		RET
     510.  00:885D                      
     511.  00:885D  0A                  C_ENGLS:	LD A,[BC]
     512.  00:885E  03                  		INC BC
     513.  00:885F  32 1E F0            		LD [PT3_Env_Del],A
     514.  00:8862  32 7D F0            		LD [CurEDel],A
     515.  00:8865  0A                  		LD A,[BC]
     516.  00:8866  03                  		INC BC
     517.  00:8867  6F                  		LD L,A
     518.  00:8868  0A                  		LD A,[BC]
     519.  00:8869  03                  		INC BC
     520.  00:886A  67                  		LD H,A
     521.  00:886B  22 1F F0            		LD [PT3_ESldAdd],HL
     522.  00:886E  C9                  		RET
     523.  00:886F                      
     524.  00:886F  0A                  C_DELAY:	LD A,[BC]
     525.  00:8870  03                  		INC BC
     526.  00:8871  32 1C F0            		LD [PT3_Delay],A
     527.  00:8874  C9                  		RET
     528.  00:8875                      	
     529.  00:8875  DD 73 08            SETENV:		LD [IX+(CHNPRM_Env_En-12)],E
     530.  00:8878  32 4D F1            		LD [AYREGS+AR_EnvTp],A
     531.  00:887B  0A                  		LD A,[BC]
     532.  00:887C  03                  		INC BC
     533.  00:887D  67                  		LD H,A
     534.  00:887E  0A                  		LD A,[BC]
     535.  00:887F  03                  		INC BC
     536.  00:8880  6F                  		LD L,A
     537.  00:8881  22 4E F1            		LD [EnvBase],HL
     538.  00:8884  AF                  		XOR A
     539.  00:8885  DD 77 F4            		LD [IX+(CHNPRM_PsInOr-12)],A
     540.  00:8888  32 7D F0            		LD [CurEDel],A
     541.  00:888B  67                  		LD H,A
     542.  00:888C  6F                  		LD L,A
     543.  00:888D  22 7B F0            		LD [CurESld],HL
     544.  00:8890  C9                  C_NOP:		RET
     545.  00:8891                      
     546.  00:8891  87                  SETORN:		ADD A,A
     547.  00:8892  5F                  		LD E,A
     548.  00:8893  16 00               		LD D,0
     549.  00:8895  DD 72 F4            		LD [IX+(CHNPRM_PsInOr-12)],D
     550.  00:8898  2A 07 F0            		LD HL,[PT3_OrnPtrs]
     551.  00:889B  19                  		ADD HL,DE
     552.  00:889C  5E                  		LD E,[HL]
     553.  00:889D  23                  		INC HL
     554.  00:889E  56                  		LD D,[HL]
     555.  00:889F  2A 01 F0            		LD HL,[PT3_MODADDR]
     556.  00:88A2  19                  		ADD HL,DE
     557.  00:88A3  DD 75 01            		LD [IX+(CHNPRM_OrnPtr-12)],L
     558.  00:88A6  DD 74 02            		LD [IX+(CHNPRM_OrnPtr+1-12)],H
     559.  00:88A9  C9                  		RET
     560.  00:88AA                      
     561.  00:88AA                      		;ALL 16 ADDRESSES TO PROTECT FROM BROKEN PT3 MODULES
     562.  00:88AA  90 88               SPCCOMS:	dw C_NOP
     563.  00:88AC  26 88               		dw C_GLISS
     564.  00:88AE  C5 87               		dw C_PORTM
     565.  00:88B0  39 88               		dw C_SMPOS
     566.  00:88B2  3F 88               		dw C_ORPOS
     567.  00:88B4  45 88               		dw C_VIBRT
     568.  00:88B6  90 88               		dw C_NOP
     569.  00:88B8  90 88               		dw C_NOP
     570.  00:88BA  5D 88               		dw C_ENGLS
     571.  00:88BC  6F 88               		dw C_DELAY
     572.  00:88BE  90 88               		dw C_NOP
     573.  00:88C0  90 88               		dw C_NOP
     574.  00:88C2  90 88               		dw C_NOP
     575.  00:88C4  90 88               		dw C_NOP
     576.  00:88C6  90 88               		dw C_NOP
     577.  00:88C8  90 88               		dw C_NOP
     578.  00:88CA                      
     579.  00:88CA  AF                  CHREGS:		XOR A
     580.  00:88CB  32 4A F1            		LD [AYREGS+AR_AmplC],A
     581.  00:88CE  DD CB 15 46         		BIT 0,[IX+CHNPRM_Flags]
     582.  00:88D2  E5                  		PUSH HL
     583.  00:88D3  CA F9 89            		JP Z,.CH_EXIT
     584.  00:88D6  ED 73 0B F0         		LD [PT3_CSP],SP
     585.  00:88DA  DD 6E 0D            		LD L,[IX+CHNPRM_OrnPtr]
     586.  00:88DD  DD 66 0E            		LD H,[IX+CHNPRM_OrnPtr+1]
     587.  00:88E0  F9                  		LD SP,HL
     588.  00:88E1  D1                  		POP DE
     589.  00:88E2  67                  		LD H,A
     590.  00:88E3  DD 7E 00            		LD A,[IX+CHNPRM_PsInOr]
     591.  00:88E6  6F                  		LD L,A
     592.  00:88E7  39                  		ADD HL,SP
     593.  00:88E8  3C                  		INC A
     594.  00:88E9  BA                  		CP D
     595.  00:88EA  38 01               		JR C,.CH_ORPS
     596.  00:88EC  7B                  		LD A,E
     597.  00:88ED  DD 77 00            .CH_ORPS:	LD [IX+CHNPRM_PsInOr],A
     598.  00:88F0  DD 7E 12            		LD A,[IX+CHNPRM_Note]
     599.  00:88F3  86                  		ADD A,[HL]
     600.  00:88F4  F2 F8 88            		JP P,.CH_NTP
     601.  00:88F7  AF                  		XOR A
     602.  00:88F8  FE 60               .CH_NTP:	CP 96
     603.  00:88FA  38 02               		JR C,.CH_NOK
     604.  00:88FC  3E 5F               		LD A,95
     605.  00:88FE  87                  .CH_NOK:	ADD A,A
     606.  00:88FF  08                  		EX AF,AF'
     607.  00:8900  DD 6E 0F            		LD L,[IX+CHNPRM_SamPtr]
     608.  00:8903  DD 66 10            		LD H,[IX+CHNPRM_SamPtr+1]
     609.  00:8906  F9                  		LD SP,HL
     610.  00:8907  D1                  		POP DE
     611.  00:8908  26 00               		LD H,0
     612.  00:890A  DD 7E 01            		LD A,[IX+CHNPRM_PsInSm]
     613.  00:890D  47                  		LD B,A
     614.  00:890E  87                  		ADD A,A
     615.  00:890F  87                  		ADD A,A
     616.  00:8910  6F                  		LD L,A
     617.  00:8911  39                  		ADD HL,SP
     618.  00:8912  F9                  		LD SP,HL
     619.  00:8913  78                  		LD A,B
     620.  00:8914  3C                  		INC A
     621.  00:8915  BA                  		CP D
     622.  00:8916  38 01               		JR C,.CH_SMPS
     623.  00:8918  7B                  		LD A,E
     624.  00:8919  DD 77 01            .CH_SMPS:	LD [IX+CHNPRM_PsInSm],A
     625.  00:891C  C1                  		POP BC
     626.  00:891D  E1                  		POP HL
     627.  00:891E  DD 5E 08            		LD E,[IX+CHNPRM_TnAcc]
     628.  00:8921  DD 56 09            		LD D,[IX+CHNPRM_TnAcc+1]
     629.  00:8924  19                  		ADD HL,DE
     630.  00:8925  CB 70               		BIT 6,B
     631.  00:8927  28 06               		JR Z,.CH_NOAC
     632.  00:8929  DD 75 08            		LD [IX+CHNPRM_TnAcc],L
     633.  00:892C  DD 74 09            		LD [IX+CHNPRM_TnAcc+1],H
     634.  00:892F  EB                  .CH_NOAC:	EX DE,HL
     635.  00:8930  08                  		EX AF,AF'
     636.  00:8931  6F                  		LD L,A
     637.  00:8932  26 00               		LD H,0
     638.  00:8934  31 80 F0            		LD SP,NT_
     639.  00:8937  39                  		ADD HL,SP
     640.  00:8938  F9                  		LD SP,HL
     641.  00:8939  E1                  		POP HL
     642.  00:893A  19                  		ADD HL,DE
     643.  00:893B  DD 5E 06            		LD E,[IX+CHNPRM_CrTnSl]
     644.  00:893E  DD 56 07            		LD D,[IX+CHNPRM_CrTnSl+1]
     645.  00:8941  19                  		ADD HL,DE
     646.  00:8942  ED 7B 0B F0         		LD SP,[PT3_CSP]
     647.  00:8946  E3                  		EX [SP],HL
     648.  00:8947  AF                  		XOR A
     649.  00:8948  DD B6 05            		OR [IX+CHNPRM_TSlCnt]
     650.  00:894B  28 3E               		JR Z,.CH_AMP
     651.  00:894D  DD 35 05            		DEC [IX+CHNPRM_TSlCnt]
     652.  00:8950  20 39               		JR NZ,.CH_AMP
     653.  00:8952  DD 7E 16            		LD A,[IX+CHNPRM_TnSlDl]
     654.  00:8955  DD 77 05            		LD [IX+CHNPRM_TSlCnt],A
     655.  00:8958  DD 6E 17            		LD L,[IX+CHNPRM_TSlStp]
     656.  00:895B  DD 66 18            		LD H,[IX+CHNPRM_TSlStp+1]
     657.  00:895E  7C                  		LD A,H
     658.  00:895F  19                  		ADD HL,DE
     659.  00:8960  DD 75 06            		LD [IX+CHNPRM_CrTnSl],L
     660.  00:8963  DD 74 07            		LD [IX+CHNPRM_CrTnSl+1],H
     661.  00:8966  DD CB 15 56         		BIT 2,[IX+CHNPRM_Flags]
     662.  00:896A  20 1F               		JR NZ,.CH_AMP
     663.  00:896C  DD 5E 19            		LD E,[IX+CHNPRM_TnDelt]
     664.  00:896F  DD 56 1A            		LD D,[IX+CHNPRM_TnDelt+1]
     665.  00:8972  A7                  		AND A
     666.  00:8973  28 01               		JR Z,.CH_STPP
     667.  00:8975  EB                  		EX DE,HL
     668.  00:8976  ED 52               .CH_STPP:	SBC HL,DE
     669.  00:8978  FA 8B 89            		JP M,.CH_AMP
     670.  00:897B  DD 7E 13            		LD A,[IX+CHNPRM_SlToNt]
     671.  00:897E  DD 77 12            		LD [IX+CHNPRM_Note],A
     672.  00:8981  AF                  		XOR A
     673.  00:8982  DD 77 05            		LD [IX+CHNPRM_TSlCnt],A
     674.  00:8985  DD 77 06            		LD [IX+CHNPRM_CrTnSl],A
     675.  00:8988  DD 77 07            		LD [IX+CHNPRM_CrTnSl+1],A
     676.  00:898B  DD 7E 02            .CH_AMP:	LD A,[IX+CHNPRM_CrAmSl]
     677.  00:898E  CB 79               		BIT 7,C
     678.  00:8990  28 13               		JR Z,.CH_NOAM
     679.  00:8992  CB 71               		BIT 6,C
     680.  00:8994  28 07               		JR Z,.CH_AMIN
     681.  00:8996  FE 0F               		CP 15
     682.  00:8998  28 0B               		JR Z,.CH_NOAM
     683.  00:899A  3C                  		INC A
     684.  00:899B  18 05               		JR .CH_SVAM
     685.  00:899D  FE F1               .CH_AMIN:	CP -15
     686.  00:899F  28 04               		JR Z,.CH_NOAM
     687.  00:89A1  3D                  		DEC A
     688.  00:89A2  DD 77 02            .CH_SVAM:	LD [IX+CHNPRM_CrAmSl],A
     689.  00:89A5  6F                  .CH_NOAM:	LD L,A
     690.  00:89A6  78                  		LD A,B
     691.  00:89A7  E6 0F               		AND 15
     692.  00:89A9  85                  		ADD A,L
     693.  00:89AA  F2 AE 89            		JP P,.CH_APOS
     694.  00:89AD  AF                  		XOR A
     695.  00:89AE  FE 10               .CH_APOS:	CP 16
     696.  00:89B0  38 02               		JR C,.CH_VOL
     697.  00:89B2  3E 0F               		LD A,15
     698.  00:89B4  DD B6 1C            .CH_VOL:	OR [IX+CHNPRM_Volume]
     699.  00:89B7  6F                  		LD L,A
     700.  00:89B8  26 00               		LD H,0
     701.  00:89BA  11 40 F1            		LD DE,VT_
     702.  00:89BD  19                  		ADD HL,DE
     703.  00:89BE  7E                  		LD A,[HL]
     704.  00:89BF  CB 41               .CH_ENV:	BIT 0,C
     705.  00:89C1  20 03               		JR NZ,.CH_NOEN
     706.  00:89C3  DD B6 14            		OR [IX+CHNPRM_Env_En]
     707.  00:89C6  32 4A F1            .CH_NOEN:	LD [AYREGS+AR_AmplC],A
     708.  00:89C9  CB 78               		BIT 7,B
     709.  00:89CB  79                  		LD A,C
     710.  00:89CC  28 19               		JR Z,.NO_ENSL
     711.  00:89CE  17                  		RLA
     712.  00:89CF  17                  		RLA
     713.  00:89D0  CB 2F               		SRA A
     714.  00:89D2  CB 2F               		SRA A
     715.  00:89D4  CB 2F               		SRA A
     716.  00:89D6  DD 86 04            		ADD A,[IX+CHNPRM_CrEnSl] ;SEE COMMENT BELOW
     717.  00:89D9  CB 68               		BIT 5,B
     718.  00:89DB  28 03               		JR Z,.NO_ENAC
     719.  00:89DD  DD 77 04            		LD [IX+CHNPRM_CrEnSl],A
     720.  00:89E0  21 1D F0            .NO_ENAC:	LD HL,PT3_AddToEn
     721.  00:89E3  86                  		ADD A,[HL] ;BUG IN PT3 - NEED WORD HERE.
     722.  00:89E4                      			   ;FIX IT IN NEXT VERSION?
     723.  00:89E4  77                  		LD [HL],A
     724.  00:89E5  18 0E               		JR .CH_MIX
     725.  00:89E7  1F                  .NO_ENSL:	RRA
     726.  00:89E8  DD 86 03            		ADD A,[IX+CHNPRM_CrNsSl]
     727.  00:89EB  32 7F F0            		LD [AddToNs],A
     728.  00:89EE  CB 68               		BIT 5,B
     729.  00:89F0  28 03               		JR Z,.CH_MIX
     730.  00:89F2  DD 77 03            		LD [IX+CHNPRM_CrNsSl],A
     731.  00:89F5  78                  .CH_MIX:	LD A,B
     732.  00:89F6  1F                  		RRA
     733.  00:89F7  E6 48               		AND $48
     734.  00:89F9  21 47 F1            .CH_EXIT:	LD HL,AYREGS+AR_Mixer
     735.  00:89FC  B6                  		OR [HL]
     736.  00:89FD  0F                  		RRCA
     737.  00:89FE  77                  		LD [HL],A
     738.  00:89FF  E1                  		POP HL
     739.  00:8A00  AF                  		XOR A
     740.  00:8A01  DD B6 0A            		OR [IX+CHNPRM_COnOff]
     741.  00:8A04  C8                  		RET Z
     742.  00:8A05  DD 35 0A            		DEC [IX+CHNPRM_COnOff]
     743.  00:8A08  C0                  		RET NZ
     744.  00:8A09  DD AE 15            		XOR [IX+CHNPRM_Flags]
     745.  00:8A0C  DD 77 15            		LD [IX+CHNPRM_Flags],A
     746.  00:8A0F  1F                  		RRA
     747.  00:8A10  DD 7E 0B            		LD A,[IX+CHNPRM_OnOffD]
     748.  00:8A13  38 03               		JR C,.CH_ONDL
     749.  00:8A15  DD 7E 0C            		LD A,[IX+CHNPRM_OffOnD]
     750.  00:8A18  DD 77 0A            .CH_ONDL:	LD [IX+CHNPRM_COnOff],A
     751.  00:8A1B  C9                  		RET
     752.  00:8A1C                      
     753.  00:8A1C  AF                  PT3_PLAY:	XOR A
     754.  00:8A1D  32 1D F0            		LD [PT3_AddToEn],A
     755.  00:8A20  32 47 F1            		LD [AYREGS+AR_Mixer],A
     756.  00:8A23  3D                  		DEC A
     757.  00:8A24  32 4D F1            		LD [AYREGS+AR_EnvTp],A
     758.  00:8A27  21 7A F0            		LD HL,DelyCnt
     759.  00:8A2A  35                  		DEC [HL]
     760.  00:8A2B  C2 B2 8A            		JP NZ,.PL2
     761.  00:8A2E  21 3E F0            		LD HL,ChanA+CHNPRM_NtSkCn
     762.  00:8A31  35                  		DEC [HL]
     763.  00:8A32  20 4E               		JR NZ,.PL1B
     764.  00:8A34  ED 4B 12 F0         		LD BC,[PT3_AdInPtA]
     765.  00:8A38  0A                  		LD A,[BC]
     766.  00:8A39  A7                  		AND A
     767.  00:8A3A  20 3B               		JR NZ,.PL1A
     768.  00:8A3C  57                  		LD D,A
     769.  00:8A3D  32 7E F0            		LD [Ns_Base],A
     770.  00:8A40  2A 03 F0            		LD HL,[PT3_CrPsPtr]
     771.  00:8A43  23                  		INC HL
     772.  00:8A44  7E                  		LD A,[HL]
     773.  00:8A45  3C                  		INC A
     774.  00:8A46  20 08               		JR NZ,.PLNLP
     775.  00:8A48  CD B2 85            		CALL CHECKLP
     776.  00:8A4B  2A 18 F0            		LD HL,[PT3_LPosPtr]
     777.  00:8A4E  7E                  		LD A,[HL]
     778.  00:8A4F  3C                  		INC A
     779.  00:8A50  22 03 F0            .PLNLP:	LD [PT3_CrPsPtr],HL
     780.  00:8A53  3D                  		DEC A
     781.  00:8A54  87                  		ADD A,A
     782.  00:8A55  5F                  		LD E,A
     783.  00:8A56  CB 12               		RL D
     784.  00:8A58  2A 1A F0            		LD HL,[PT3_PatsPtr]
     785.  00:8A5B  19                  		ADD HL,DE
     786.  00:8A5C  ED 5B 01 F0         		LD DE,[PT3_MODADDR]
     787.  00:8A60  ED 73 0D F0         		LD [PT3_PSP],SP
     788.  00:8A64  F9                  		LD SP,HL
     789.  00:8A65  E1                  		POP HL
     790.  00:8A66  19                  		ADD HL,DE
     791.  00:8A67  44                  		LD B,H
     792.  00:8A68  4D                  		LD C,L
     793.  00:8A69  E1                  		POP HL
     794.  00:8A6A  19                  		ADD HL,DE
     795.  00:8A6B  22 14 F0            		LD [PT3_AdInPtB],HL
     796.  00:8A6E  E1                  		POP HL
     797.  00:8A6F  19                  		ADD HL,DE
     798.  00:8A70  22 16 F0            		LD [PT3_AdInPtC],HL
     799.  00:8A73  ED 7B 0D F0         		LD SP,[PT3_PSP]
     800.  00:8A77                      
     801.  00:8A77  DD 21 2F F0         .PL1A:		LD IX,ChanA+12
     802.  00:8A7B  CD 5A 87            		CALL PTDECOD
     803.  00:8A7E  ED 43 12 F0         		LD [PT3_AdInPtA],BC
     804.  00:8A82                      
     805.  00:8A82  21 5B F0            .PL1B:		LD HL,ChanB+CHNPRM_NtSkCn
     806.  00:8A85  35                  		DEC [HL]
     807.  00:8A86  20 0F               		JR NZ,.PL1C
     808.  00:8A88  DD 21 4C F0         		LD IX,ChanB+12
     809.  00:8A8C  ED 4B 14 F0         		LD BC,[PT3_AdInPtB]
     810.  00:8A90  CD 5A 87            		CALL PTDECOD
     811.  00:8A93  ED 43 14 F0         		LD [PT3_AdInPtB],BC
     812.  00:8A97                      
     813.  00:8A97  21 78 F0            .PL1C:		LD HL,ChanC+CHNPRM_NtSkCn
     814.  00:8A9A  35                  		DEC [HL]
     815.  00:8A9B  20 0F               		JR NZ,.PL1D
     816.  00:8A9D  DD 21 69 F0         		LD IX,ChanC+12
     817.  00:8AA1  ED 4B 16 F0         		LD BC,[PT3_AdInPtC]
     818.  00:8AA5  CD 5A 87            		CALL PTDECOD
     819.  00:8AA8  ED 43 16 F0         		LD [PT3_AdInPtC],BC
     820.  00:8AAC                      
     821.  00:8AAC  3A 1C F0            .PL1D:		LD A,[PT3_Delay]
     822.  00:8AAF  32 7A F0            		LD [DelyCnt],A
     823.  00:8AB2                      
     824.  00:8AB2  DD 21 23 F0         .PL2:		LD IX,ChanA
     825.  00:8AB6  2A 40 F1            		LD HL,[AYREGS+AR_TonA]
     826.  00:8AB9  CD CA 88            		CALL CHREGS
     827.  00:8ABC  22 40 F1            		LD [AYREGS+AR_TonA],HL
     828.  00:8ABF  3A 4A F1            		LD A,[AYREGS+AR_AmplC]
     829.  00:8AC2  32 48 F1            		LD [AYREGS+AR_AmplA],A
     830.  00:8AC5  DD 21 40 F0         		LD IX,ChanB
     831.  00:8AC9  2A 42 F1            		LD HL,[AYREGS+AR_TonB]
     832.  00:8ACC  CD CA 88            		CALL CHREGS
     833.  00:8ACF  22 42 F1            		LD [AYREGS+AR_TonB],HL
     834.  00:8AD2  3A 4A F1            		LD A,[AYREGS+AR_AmplC]
     835.  00:8AD5  32 49 F1            		LD [AYREGS+AR_AmplB],A
     836.  00:8AD8  DD 21 5D F0         		LD IX,ChanC
     837.  00:8ADC  2A 44 F1            		LD HL,[AYREGS+AR_TonC]
     838.  00:8ADF  CD CA 88            		CALL CHREGS
     839.  00:8AE2  22 44 F1            		LD [AYREGS+AR_TonC],HL
     840.  00:8AE5                      
     841.  00:8AE5  2A 7E F0            		LD HL,[Ns_Base_AddToNs]
     842.  00:8AE8  7C                  		LD A,H
     843.  00:8AE9  85                  		ADD A,L
     844.  00:8AEA  32 46 F1            		LD [AYREGS+AR_Noise],A
     845.  00:8AED                      
     846.  00:8AED  3A 1D F0            		LD A,[PT3_AddToEn]
     847.  00:8AF0  5F                  		LD E,A
     848.  00:8AF1  87                  		ADD A,A
     849.  00:8AF2  9F                  		SBC A,A
     850.  00:8AF3  57                  		LD D,A
     851.  00:8AF4  2A 4E F1            		LD HL,[EnvBase]
     852.  00:8AF7  19                  		ADD HL,DE
     853.  00:8AF8  ED 5B 7B F0         		LD DE,[CurESld]
     854.  00:8AFC  19                  		ADD HL,DE
     855.  00:8AFD  22 4B F1            		LD [AYREGS+AR_Env],HL
     856.  00:8B00                      
     857.  00:8B00  AF                  		XOR A
     858.  00:8B01  21 7D F0            		LD HL,CurEDel
     859.  00:8B04  B6                  		OR [HL]
     860.  00:8B05  C8                  		RET Z
     861.  00:8B06  35                  		DEC [HL]
     862.  00:8B07  C0                  		RET NZ
     863.  00:8B08  3A 1E F0            		LD A,[PT3_Env_Del]
     864.  00:8B0B  77                  		LD [HL],A
     865.  00:8B0C  2A 1F F0            		LD HL,[PT3_ESldAdd]
     866.  00:8B0F  19                  		ADD HL,DE
     867.  00:8B10  22 7B F0            		LD [CurESld],HL
     868.  00:8B13  C9                  		RET
     869.  00:8B14                      
     870.  00:8B14  AF                  PT3_ROUT:	XOR A
     871.  00:8B15                      	
     872.  00:8B15                      ROUT_A0:	; --- FIXES BITS 6 AND 7 OF MIXER ---
     873.  00:8B15  21 47 F1            		LD	HL,AYREGS+AR_Mixer
     874.  00:8B18  CB FE               		set	7,[hl]
     875.  00:8B1A  CB B6               		res	6,[hl]
     876.  00:8B1C                      
     877.  00:8B1C  0E A0               		LD C,$A0
     878.  00:8B1E  21 40 F1            		LD HL,AYREGS
     879.  00:8B21  ED 79               .LOUT:		OUT [C],A
     880.  00:8B23  0C                  		INC C
     881.  00:8B24  ED A3               		OUTI 
     882.  00:8B26  0D                  		DEC C
     883.  00:8B27  3C                  		INC A
     884.  00:8B28  FE 0D               		CP 13
     885.  00:8B2A  20 F5               		JR NZ,.LOUT
     886.  00:8B2C  ED 79               		OUT [C],A
     887.  00:8B2E  7E                  		LD A,[HL]
     888.  00:8B2F  A7                  		AND A
     889.  00:8B30  F8                  		RET M
     890.  00:8B31  0C                  		INC C
     891.  00:8B32  ED 79               		OUT [C],A
     892.  00:8B34  C9                  		RET
     893.  00:8B35                      
     894.  00:8B35  64                  NT_DATA:	db (T_NEW_0-T1_)*2
     895.  00:8B36  2A                  		db TCNEW_0-T_
     896.  00:8B37  65                  		db (T_OLD_0-T1_)*2+1
     897.  00:8B38  00                  		db TCOLD_0-T_
     898.  00:8B39  01                  		db (T_NEW_1-T1_)*2+1
     899.  00:8B3A  0C                  		db TCNEW_1-T_
     900.  00:8B3B  01                  		db (T_OLD_1-T1_)*2+1
     901.  00:8B3C  0C                  		db TCOLD_1-T_
     902.  00:8B3D  94                  		db (T_NEW_2-T1_)*2
     903.  00:8B3E  35                  		db TCNEW_2-T_
     904.  00:8B3F  30                  		db (T_OLD_2-T1_)*2
     905.  00:8B40  0E                  		db TCOLD_2-T_
     906.  00:8B41  60                  		db (T_NEW_3-T1_)*2
     907.  00:8B42  20                  		db TCNEW_3-T_
     908.  00:8B43  60                  		db (T_OLD_3-T1_)*2
     909.  00:8B44  21                  		db TCOLD_3-T_
     910.  00:8B45                      
     911.  00:8B45                      T_:
     912.  00:8B45                      
     913.  00:8B45                      TCOLD_0:	db $00+1,$04+1,$08+1,$0A+1,$0C+1,$0E+1,$12+1,$14+1
     913.  00:8B45  01 05 09 0B 0D 0F 13 15 
     914.  00:8B4D  19 25 3D 00         		db $18+1,$24+1,$3C+1,0
     915.  00:8B51                      TCNEW_1:	
     916.  00:8B51  5D 00               TCOLD_1:	db $5C+1,0
     917.  00:8B53                      TCOLD_2:	db $30+1,$36+1,$4C+1,$52+1,$5E+1,$70+1,$82,$8C,$9C
     917.  00:8B53  31 37 4D 53 5F 71 82 8C 9C 
     918.  00:8B5C                      		db $9E,$A0,$A6,$A8,$AA,$AC,$AE,$AE,0
     918.  00:8B5C  9E A0 A6 A8 AA AC AE AE 00 
     919.  00:8B65  57                  TCNEW_3:	db $56+1
     920.  00:8B66                      TCOLD_3:	db $1E+1,$22+1,$24+1,$28+1,$2C+1,$2E+1,$32+1,$BE+1,0
     920.  00:8B66  1F 23 25 29 2D 2F 33 BF 00 
     921.  00:8B6F                      TCNEW_0:	db $1C+1,$20+1,$22+1,$26+1,$2A+1,$2C+1,$30+1,$54+1
     921.  00:8B6F  1D 21 23 27 2B 2D 31 55 
     922.  00:8B77  BD BF 00            		db $BC+1,$BE+1,0
     923.  00:8B7A                      TCNEW_2:	db $1A+1,$20+1,$24+1,$28+1,$2A+1,$3A+1,$4C+1,$5E+1
     923.  00:8B7A  1B 21 25 29 2B 3B 4D 5F 
     924.  00:8B82  BB BD BF            		db $BA+1,$BC+1,$BE+1
     925.  00:8B85                      
     926.  00:8B85  00 01 00 90         EMPTYSAMORN: 	db 0,1,0,$90 ;delete $90 if you don't need default sample
     927.  00:8B89                      
     928.  00:8B89                      T_PACK:		; First 12 values of tone tables (packed)
     929.  00:8B89  0D                  		db ($06EC*2)/256
     930.  00:8B8A  D8                  		db #d8
     931.  00:8B8B  69                  		db $0755-$06EC
     932.  00:8B8C  70                  		db $07C5-$0755
     933.  00:8B8D  76                  		db $083B-$07C5
     934.  00:8B8E  7D                  		db $08B8-$083B
     935.  00:8B8F  85                  		db $093D-$08B8
     936.  00:8B90  8D                  		db $09CA-$093D
     937.  00:8B91  95                  		db $0A5F-$09CA
     938.  00:8B92  9D                  		db $0AFC-$0A5F
     939.  00:8B93  A8                  		db $0BA4-$0AFC
     940.  00:8B94  B1                  		db $0C55-$0BA4
     941.  00:8B95  BB                  		db $0D10-$0C55
     942.  00:8B96  0C                  		db ($066D*2)/256
     943.  00:8B97  DA                  		db #da
     944.  00:8B98  62                  		db $06CF-$066D
     945.  00:8B99  68                  		db $0737-$06CF
     946.  00:8B9A  6D                  		db $07A4-$0737
     947.  00:8B9B  75                  		db $0819-$07A4
     948.  00:8B9C  7B                  		db $0894-$0819
     949.  00:8B9D  83                  		db $0917-$0894
     950.  00:8B9E  8A                  		db $09A1-$0917
     951.  00:8B9F  92                  		db $0A33-$09A1
     952.  00:8BA0  9C                  		db $0ACF-$0A33
     953.  00:8BA1  A4                  		db $0B73-$0ACF
     954.  00:8BA2  AF                  		db $0C22-$0B73
     955.  00:8BA3  B8                  		db $0CDA-$0C22
     956.  00:8BA4  0E                  		db ($0704*2)/256
     957.  00:8BA5  08                  		db #08
     958.  00:8BA6  6A                  		db $076E-$0704
     959.  00:8BA7  72                  		db $07E0-$076E
     960.  00:8BA8  78                  		db $0858-$07E0
     961.  00:8BA9  7E                  		db $08D6-$0858
     962.  00:8BAA  86                  		db $095C-$08D6
     963.  00:8BAB  90                  		db $09EC-$095C
     964.  00:8BAC  96                  		db $0A82-$09EC
     965.  00:8BAD  A0                  		db $0B22-$0A82
     966.  00:8BAE  AA                  		db $0BCC-$0B22
     967.  00:8BAF  B4                  		db $0C80-$0BCC
     968.  00:8BB0  BE                  		db $0D3E-$0C80
     969.  00:8BB1  0F                  		db ($07E0*2)/256
     970.  00:8BB2  C0                  		db #c0
     971.  00:8BB3  78                  		db $0858-$07E0
     972.  00:8BB4  88                  		db $08E0-$0858
     973.  00:8BB5  80                  		db $0960-$08E0
     974.  00:8BB6  90                  		db $09F0-$0960
     975.  00:8BB7  98                  		db $0A88-$09F0
     976.  00:8BB8  A0                  		db $0B28-$0A88
     977.  00:8BB9  B0                  		db $0BD8-$0B28
     978.  00:8BBA  A8                  		db $0C80-$0BD8
     979.  00:8BBB  E0                  		db $0D60-$0C80
     980.  00:8BBC  B0                  		db $0E10-$0D60
     981.  00:8BBD  E8                  		db $0EF8-$0E10
   11554   00:8BBE                      		include		"ayFX-ROM_sjasm.asm"								;incluye el codigo del reproductor AY (efectos)
       1.  00:8BBE                      		; --- ayFX REPLAYER v1.31 ---
       2.  00:8BBE                      
       3.  00:8BBE                      		; --- v1.31	Fixed bug on previous version, only PSG channel C worked
       4.  00:8BBE                      		; --- v1.3	Fixed volume and Relative volume versions on the same file, conditional compilation
       5.  00:8BBE                      		; ---		Support for dynamic or fixed channel allocation
       6.  00:8BBE                      		; --- v1.2f/r	ayFX bank support
       7.  00:8BBE                      		; --- v1.11f/r	If a frame volume is zero then no AYREGS update
       8.  00:8BBE                      		; --- v1.1f/r	Fixed volume for all ayFX streams
       9.  00:8BBE                      		; --- v1.1	Explicit priority (as suggested by AR)
      10.  00:8BBE                      		; --- v1.0f	Bug fixed (error when using noise)
      11.  00:8BBE                      		; --- v1.0	Initial release
      12.  00:8BBE                      
      13.  00:8BBE                      		; --- DEFINE AYFXRELATIVE AS 0 FOR FIXED VOLUME VERSION ---
      14.  00:8BBE                      		; --- DEFINE AYFXRELATIVE AS 1 FOR RELATIVE VOLUME VERSION ---
      15.  00:8BBE  (00:0000)           AYFXRELATIVE equ 0
      16.  00:8BBE                      
      17.  00:8BBE                      ayFX_SETUP:																; ---          ayFX replayer setup          ---
      18.  00:8BBE                      																		; --- INPUT: HL -> pointer to the ayFX bank ---
      19.  00:8BBE  22 41 F2            		ld	[ayFX_BANK],hl												; Current ayFX bank
      20.  00:8BC1  3E 01               		ld	a,1															; a:=0
      21.  00:8BC3  32 40 F2            		ld	[ayFX_MODE],a												; Initial mode: fixed channel
      22.  00:8BC6  3C                  		inc	a															; Starting channel (=1)
      23.  00:8BC7  32 4A F2            		ld	[ayFX_CHANNEL],a											; Updated
      24.  00:8BCA                      ayFX_END:																; --- End of an ayFX stream ---
      25.  00:8BCA  3E FF               		ld	a,255														; Lowest ayFX priority
      26.  00:8BCC  32 43 F2            		ld	[ayFX_PRIORITY],a											; Priority saved (not playing ayFX stream)
      27.  00:8BCF  C9                  		ret																; Return
      28.  00:8BD0                      
      29.  00:8BD0                      ayFX_INIT:	; ---     INIT A NEW ayFX STREAM     ---
      30.  00:8BD0                      		; --- INPUT: A -> sound to be played ---
      31.  00:8BD0                      		; ---        C -> sound priority     ---
      32.  00:8BD0  C5                  		push	bc				; Store bc in stack
      33.  00:8BD1  D5                  		push	de				; Store de in stack
      34.  00:8BD2  E5                  		push	hl				; Store hl in stack
      35.  00:8BD3                      		; --- Check if the index is in the bank ---
      36.  00:8BD3  47                  		ld	b,a				; b:=a (new ayFX stream index)
      37.  00:8BD4  2A 41 F2            		ld	hl,[ayFX_BANK]			; Current ayFX BANK
      38.  00:8BD7  7E                  		ld	a,[hl]				; Number of samples in the bank
      39.  00:8BD8  B7                  		or	a				; If zero (means 256 samples)...
      40.  00:8BD9  28 06               		jr	z,.CHECK_PRI			; ...goto .CHECK_PRI
      41.  00:8BDB                      		; The bank has less than 256 samples
      42.  00:8BDB  78                  		ld	a,b				; a:=b (new ayFX stream index)
      43.  00:8BDC  BE                  		cp	[hl]				; If new index is not in the bank...
      44.  00:8BDD  3E 02               		ld	a,2				; a:=2 (error 2: Sample not in the bank)
      45.  00:8BDF  30 21               		jr	nc,.INIT_END			; ...we can't init it
      46.  00:8BE1                      .CHECK_PRI:	; --- Check if the new priority is lower than the current one ---
      47.  00:8BE1                      		; ---   Remember: 0 = highest priority, 15 = lowest priority  ---
      48.  00:8BE1  78                  		ld	a,b				; a:=b (new ayFX stream index)
      49.  00:8BE2  3A 43 F2            		ld	a,[ayFX_PRIORITY]		; a:=Current ayFX stream priority
      50.  00:8BE5  B9                  		cp	c				; If new ayFX stream priority is lower than current one...
      51.  00:8BE6  3E 01               		ld	a,1				; a:=1 (error 1: A sample with higher priority is being played)
      52.  00:8BE8  38 18               		jr	c,.INIT_END			; ...we don't start the new ayFX stream
      53.  00:8BEA                      		; --- Set new priority ---
      54.  00:8BEA  79                  		ld	a,c				; a:=New priority
      55.  00:8BEB  E6 0F               		and	$0F				; We mask the priority
      56.  00:8BED  32 43 F2            		ld	[ayFX_PRIORITY],a		; new ayFX stream priority saved in RAM
      57.  00:8BF0                      
      58.  00:8BF0                      		IF ( AYFXRELATIVE == 1 )
      59.  00:8BF0                    ~ 			; --- Volume adjust using PT3 volume table ---
      60.  00:8BF0                    ~ 			ld	c,a				; c:=New priority (fixed)
      61.  00:8BF0                    ~ 			ld	a,15				; a:=15
      62.  00:8BF0                    ~ 			sub	c				; a:=15-New priority = relative volume
      63.  00:8BF0                    ~ 			jr	z,.INIT_NOSOUND		; If priority is 15 -> no sound output (volume is zero)
      64.  00:8BF0                    ~ 			add	a,a				; a:=a*2
      65.  00:8BF0                    ~ 			add	a,a				; a:=a*4
      66.  00:8BF0                    ~ 			add	a,a				; a:=a*8
      67.  00:8BF0                    ~ 			add	a,a				; a:=a*16
      68.  00:8BF0                    ~ 			ld	e,a				; e:=a
      69.  00:8BF0                    ~ 			ld	d,0				; de:=a
      70.  00:8BF0                    ~ 			ld	hl,VT_				; hl:=PT3 volume table
      71.  00:8BF0                    ~ 			add	hl,de				; hl is a pointer to the relative volume table
      72.  00:8BF0                    ~ 			ld	[ayFX_VT],hl			; Save pointer
      73.  00:8BF0                    ~ 		ENDIF
      74.  00:8BF0                      
      75.  00:8BF0                      		; --- Calculate the pointer to the new ayFX stream ---
      76.  00:8BF0  ED 5B 41 F2         		ld	de,[ayFX_BANK]			; de:=Current ayFX bank
      77.  00:8BF4  13                  		inc	de				; de points to the increments table of the bank
      78.  00:8BF5  68                  		ld	l,b				; l:=b (new ayFX stream index)
      79.  00:8BF6  26 00               		ld	h,0				; hl:=b (new ayFX stream index)
      80.  00:8BF8  29                  		add	hl,hl				; hl:=hl*2
      81.  00:8BF9  19                  		add	hl,de				; hl:=hl+de (hl points to the correct increment)
      82.  00:8BFA  5E                  		ld	e,[hl]				; e:=lower byte of the increment
      83.  00:8BFB  23                  		inc	hl				; hl points to the higher byte of the correct increment
      84.  00:8BFC  56                  		ld	d,[hl]				; de:=increment
      85.  00:8BFD  19                  		add	hl,de				; hl:=hl+de (hl points to the new ayFX stream)
      86.  00:8BFE  22 44 F2            		ld	[ayFX_POINTER],hl		; Pointer saved in RAM
      87.  00:8C01  AF                  		xor	a				; a:=0 (no errors)
      88.  00:8C02  E1                  .INIT_END:	pop	hl				; Retrieve hl from stack
      89.  00:8C03  D1                  		pop	de				; Retrieve de from stack
      90.  00:8C04  C1                  		pop	bc				; Retrieve bc from stack
      91.  00:8C05  C9                  		ret					; Return
      92.  00:8C06                      
      93.  00:8C06                      		IF ( AYFXRELATIVE == 1 )
      94.  00:8C06                    ~ .INIT_NOSOUND:	; --- Init a sample with relative volume zero -> no sound output ---
      95.  00:8C06                    ~ 			ld	a,255				; Lowest ayFX priority
      96.  00:8C06                    ~ 			ld	[ayFX_PRIORITY],a		; Priority saved (not playing ayFX stream)
      97.  00:8C06                    ~ 			jr	.INIT_END			; Jumps to .INIT_END
      98.  00:8C06                    ~ 		ENDIF
      99.  00:8C06                      
     100.  00:8C06                      ayFX_PLAY:	; --- PLAY A FRAME OF AN ayFX STREAM ---
     101.  00:8C06  3A 43 F2            		ld	a,[ayFX_PRIORITY]		; a:=Current ayFX stream priority
     102.  00:8C09  B7                  		or	a				; If priority has bit 7 on...
     103.  00:8C0A  F8                  		ret	m				; ...return
     104.  00:8C0B                      		; --- Calculate next ayFX channel (if needed) ---
     105.  00:8C0B  3A 40 F2            		ld	a,[ayFX_MODE]			; ayFX mode
     106.  00:8C0E  E6 01               		and	1				; If bit0=0 (fixed channel)...
     107.  00:8C10  28 08               		jr	z,.TAKECB			; ...skip channel changing
     108.  00:8C12  21 4A F2            		ld	hl,ayFX_CHANNEL			; Old ayFX playing channel
     109.  00:8C15  35                  		dec	[hl]				; New ayFX playing channel
     110.  00:8C16  20 02               		jr	nz,.TAKECB			; If not zero jump to .TAKECB
     111.  00:8C18  36 03               		ld	[hl],3				; If zero -> set channel 3
     112.  00:8C1A                      .TAKECB:	; --- Extract control byte from stream ---
     113.  00:8C1A  2A 44 F2            		ld	hl,[ayFX_POINTER]		; Pointer to the current ayFX stream
     114.  00:8C1D  4E                  		ld	c,[hl]				; c:=Control byte
     115.  00:8C1E  23                  		inc	hl				; Increment pointer
     116.  00:8C1F                      		; --- Check if there's new tone on stream ---
     117.  00:8C1F  CB 69               		bit	5,c				; If bit 5 c is off...
     118.  00:8C21  28 08               		jr	z,.CHECK_NN			; ...jump to .CHECK_NN (no new tone)
     119.  00:8C23                      		; --- Extract new tone from stream ---
     120.  00:8C23  5E                  		ld	e,[hl]				; e:=lower byte of new tone
     121.  00:8C24  23                  		inc	hl				; Increment pointer
     122.  00:8C25  56                  		ld	d,[hl]				; d:=higher byte of new tone
     123.  00:8C26  23                  		inc	hl				; Increment pointer
     124.  00:8C27  ED 53 46 F2         		ld	[ayFX_TONE],de			; ayFX tone updated
     125.  00:8C2B                      .CHECK_NN:	; --- Check if there's new noise on stream ---
     126.  00:8C2B  CB 71               		bit	6,c				; if bit 6 c is off...
     127.  00:8C2D  28 09               		jr	z,.SETPOINTER			; ...jump to .SETPOINTER (no new noise)
     128.  00:8C2F                      		; --- Extract new noise from stream ---
     129.  00:8C2F  7E                  		ld	a,[hl]				; a:=New noise
     130.  00:8C30  23                  		inc	hl				; Increment pointer
     131.  00:8C31  FE 20               		cp	$20				; If it's an illegal value of noise (used to mark end of stream)...
     132.  00:8C33  28 95               		jr.	z,ayFX_END			; ...jump to ayFX_END
     133.  00:8C35  32 48 F2            		ld	[ayFX_NOISE],a			; ayFX noise updated
     134.  00:8C38                      .SETPOINTER:	; --- Update ayFX pointer ---
     135.  00:8C38  22 44 F2            		ld	[ayFX_POINTER],hl		; Update ayFX stream pointer
     136.  00:8C3B                      		; --- Extract volume ---
     137.  00:8C3B  79                  		ld	a,c				; a:=Control byte
     138.  00:8C3C  E6 0F               		and	$0F				; lower nibble
     139.  00:8C3E                      
     140.  00:8C3E                      		IF ( AYFXRELATIVE == 1 )
     141.  00:8C3E                    ~ 			; --- Fix the volume using PT3 Volume Table ---
     142.  00:8C3E                    ~ 			ld	hl,[ayFX_VT]			; hl:=Pointer to relative volume table
     143.  00:8C3E                    ~ 			ld	e,a				; e:=a (ayFX volume)
     144.  00:8C3E                    ~ 			ld	d,0				; d:=0
     145.  00:8C3E                    ~ 			add	hl,de				; hl:=hl+de (hl points to the relative volume of this frame
     146.  00:8C3E                    ~ 			ld	a,[hl]				; a:=ayFX relative volume
     147.  00:8C3E                    ~ 			or	a				; If relative volume is zero...
     148.  00:8C3E                    ~ 		ENDIF
     149.  00:8C3E                      
     150.  00:8C3E  32 49 F2            		ld	[ayFX_VOLUME],a			; ayFX volume updated
     151.  00:8C41  C8                  		ret	z				; ...return (don't copy ayFX values in to AYREGS)
     152.  00:8C42                      		; -------------------------------------
     153.  00:8C42                      		; --- COPY ayFX VALUES IN TO AYREGS ---
     154.  00:8C42                      		; -------------------------------------
     155.  00:8C42                      		; --- Set noise channel ---
     156.  00:8C42  CB 79               		bit	7,c				; If noise is off...
     157.  00:8C44  20 06               		jr	nz,.SETMASKS			; ...jump to .SETMASKS
     158.  00:8C46  3A 48 F2            		ld	a,[ayFX_NOISE]			; ayFX noise value
     159.  00:8C49  32 46 F1            		ld	[AYREGS+6],a			; copied in to AYREGS (noise channel)
     160.  00:8C4C                      .SETMASKS:	; --- Set mixer masks ---
     161.  00:8C4C  79                  		ld	a,c				; a:=Control byte
     162.  00:8C4D  E6 90               		and	$90				; Only bits 7 and 4 (noise and tone mask for psg reg 7)
     163.  00:8C4F  FE 90               		cp	$90				; If no noise and no tone...
     164.  00:8C51  C8                  		ret	z				; ...return (don't copy ayFX values in to AYREGS)
     165.  00:8C52                      		; --- Copy ayFX values in to ARYREGS ---
     166.  00:8C52  0F                  		rrca					; Rotate a to the right (1 TIME)
     167.  00:8C53  0F                  		rrca					; Rotate a to the right (2 TIMES) (OR mask)
     168.  00:8C54  16 DB               		ld	d,$DB				; d:=Mask for psg mixer (AND mask)
     169.  00:8C56                      		; --- Dump to correct channel ---
     170.  00:8C56  21 4A F2            		ld	hl,ayFX_CHANNEL			; Next ayFX playing channel
     171.  00:8C59  46                  		ld	b,[hl]				; Channel counter
     172.  00:8C5A                      .CHK1:		; --- Check if playing channel was 1 ---
     173.  00:8C5A  10 0D               		djnz	.CHK2				; Decrement and jump if channel was not 1
     174.  00:8C5C                      .PLAY_C:	; --- Play ayFX stream on channel C ---
     175.  00:8C5C  CD 8B 8C            		call	.SETMIXER			; Set PSG mixer value (returning a=ayFX volume and hl=ayFX tone)
     176.  00:8C5F  32 4A F1            		ld	[AYREGS+10],a			; Volume copied in to AYREGS (channel C volume)
     177.  00:8C62  CB 51               		bit	2,c				; If tone is off...
     178.  00:8C64  C0                  		ret	nz				; ...return
     179.  00:8C65  22 44 F1            		ld	[AYREGS+4],hl			; copied in to AYREGS (channel C tone)
     180.  00:8C68  C9                  		ret					; Return
     181.  00:8C69                      .CHK2:		; --- Check if playing channel was 2 ---
     182.  00:8C69  CB 0A               		rrc	d				; Rotate right AND mask
     183.  00:8C6B  0F                  		rrca					; Rotate right OR mask
     184.  00:8C6C  10 0D               		djnz	.CHK3				; Decrement and jump if channel was not 2
     185.  00:8C6E                      .PLAY_B:	; --- Play ayFX stream on channel B ---
     186.  00:8C6E  CD 8B 8C            		call	.SETMIXER			; Set PSG mixer value (returning a=ayFX volume and hl=ayFX tone)
     187.  00:8C71  32 49 F1            		ld	[AYREGS+9],a			; Volume copied in to AYREGS (channel B volume)
     188.  00:8C74  CB 49               		bit	1,c				; If tone is off...
     189.  00:8C76  C0                  		ret	nz				; ...return
     190.  00:8C77  22 42 F1            		ld	[AYREGS+2],hl			; copied in to AYREGS (channel B tone)
     191.  00:8C7A  C9                  		ret					; Return
     192.  00:8C7B                      .CHK3:		; --- Check if playing channel was 3 ---
     193.  00:8C7B  CB 0A               		rrc	d				; Rotate right AND mask
     194.  00:8C7D  0F                  		rrca					; Rotate right OR mask
     195.  00:8C7E                      .PLAY_A:	; --- Play ayFX stream on channel A ---
     196.  00:8C7E  CD 8B 8C            		call	.SETMIXER			; Set PSG mixer value (returning a=ayFX volume and hl=ayFX tone)
     197.  00:8C81  32 48 F1            		ld	[AYREGS+8],a			; Volume copied in to AYREGS (channel A volume)
     198.  00:8C84  CB 41               		bit	0,c				; If tone is off...
     199.  00:8C86  C0                  		ret	nz				; ...return
     200.  00:8C87  22 40 F1            		ld	[AYREGS+0],hl			; copied in to AYREGS (channel A tone)
     201.  00:8C8A  C9                  		ret					; Return
     202.  00:8C8B                      .SETMIXER:	; --- Set PSG mixer value ---
     203.  00:8C8B  4F                  		ld	c,a				; c:=OR mask
     204.  00:8C8C  3A 47 F1            		ld	a,[AYREGS+7]			; a:=PSG mixer value
     205.  00:8C8F  A2                  		and	d				; AND mask
     206.  00:8C90  B1                  		or	c				; OR mask
     207.  00:8C91  32 47 F1            		ld	[AYREGS+7],a			; PSG mixer value updated
     208.  00:8C94  3A 49 F2            		ld	a,[ayFX_VOLUME]			; a:=ayFX volume value
     209.  00:8C97  2A 46 F2            		ld	hl,[ayFX_TONE]			; ayFX tone value
     210.  00:8C9A  C9                  		ret					; Return
     211.  00:8C9B                      
     212.  00:8C9B                      		IF ( AYFXRELATIVE == 1 )
     213.  00:8C9B                    ~ 			; --- UNCOMMENT THIS IF YOU DON'T USE THIS REPLAYER WITH PT3 REPLAYER ---
     214.  00:8C9B                    ~ 		;VT_:	.INCBIN	"VT.BIN"
     215.  00:8C9B                    ~ 			; --- UNCOMMENT THIS IF YOU DON'T USE THIS REPLAYER WITH PT3 REPLAYER ---
     216.  00:8C9B                    ~ 		ENDIF
   11555   00:8C9B                      		
   11556   00:8C9B                      	;Variables del replayer... las coloco desde aqui.
   11557   00:8C9B                      	;mirar que hace la directiva MAP del SJASM
   11558   00:8C9B  (F000)              	map		#f000
   11559   00:8C9B                      
   11560   00:8C9B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PT3 REPLAYER
   11561   00:8C9B                      
   11562   00:8C9B  (00:F000)           PT3_SETUP:			#1	;set bit0 to 1, if you want to play without looping
   11563   00:8C9B                      					;bit7 is set each time, when loop point is passed
   11564   00:8C9B  (00:F001)           PT3_MODADDR:		#2
   11565   00:8C9B  (00:F003)           PT3_CrPsPtr:		#2
   11566   00:8C9B  (00:F005)           PT3_SAMPTRS:		#2
   11567   00:8C9B  (00:F007)           PT3_OrnPtrs:		#2
   11568   00:8C9B  (00:F009)           PT3_PDSP:			#2
   11569   00:8C9B  (00:F00B)           PT3_CSP:			#2
   11570   00:8C9B  (00:F00D)           PT3_PSP:			#2
   11571   00:8C9B  (00:F00F)           PT3_PrNote:			#1
   11572   00:8C9B  (00:F010)           PT3_PrSlide:		#2
   11573   00:8C9B  (00:F012)           PT3_AdInPtA:		#2
   11574   00:8C9B  (00:F014)           PT3_AdInPtB:		#2
   11575   00:8C9B  (00:F016)           PT3_AdInPtC:		#2
   11576   00:8C9B  (00:F018)           PT3_LPosPtr:		#2
   11577   00:8C9B  (00:F01A)           PT3_PatsPtr:		#2
   11578   00:8C9B  (00:F01C)           PT3_Delay:			#1
   11579   00:8C9B  (00:F01D)           PT3_AddToEn:		#1
   11580   00:8C9B  (00:F01E)           PT3_Env_Del:		#1
   11581   00:8C9B  (00:F01F)           PT3_ESldAdd:		#2
   11582   00:8C9B  (00:F021)           PT3_NTL3:			#2	; AND A / NOP (note table creator)
   11583   00:8C9B                      
   11584   00:8C9B  (00:F023)           VARS:				#0
   11585   00:8C9B                      
   11586   00:8C9B  (00:F023)           ChanA:				#29			;CHNPRM_Size
   11587   00:8C9B  (00:F040)           ChanB:				#29			;CHNPRM_Size
   11588   00:8C9B  (00:F05D)           ChanC:				#29			;CHNPRM_Size
   11589   00:8C9B                      
   11590   00:8C9B                      ;GlobalVars
   11591   00:8C9B  (00:F07A)           DelyCnt:			#1
   11592   00:8C9B  (00:F07B)           CurESld:			#2
   11593   00:8C9B  (00:F07D)           CurEDel:			#1
   11594   00:8C9B  (00:F07E)           Ns_Base_AddToNs:	#0
   11595   00:8C9B  (00:F07E)           Ns_Base:			#1
   11596   00:8C9B  (00:F07F)           AddToNs:			#1
   11597   00:8C9B                      
   11598   00:8C9B  (00:F080)           NT_:				#192	; Puntero a/tabla de frecuencias
   11599   00:8C9B                      
   11600   00:8C9B  (00:F140)           AYREGS:				#0
   11601   00:8C9B  (00:F140)           VT_:				#14
   11602   00:8C9B  (00:F14E)           EnvBase:			#2
   11603   00:8C9B  (00:F150)           VAR0END:			#0
   11604   00:8C9B                      
   11605   00:8C9B  (00:F150)           T1_:				#0		
   11606   00:8C9B  (00:F150)           T_NEW_1:			#0
   11607   00:8C9B  (00:F150)           T_OLD_1:			#24
   11608   00:8C9B  (00:F168)           T_OLD_2:			#24
   11609   00:8C9B  (00:F180)           T_NEW_3:			#0
   11610   00:8C9B  (00:F180)           T_OLD_3:			#2
   11611   00:8C9B  (00:F182)           T_OLD_0:			#0
   11612   00:8C9B  (00:F182)           T_NEW_0:			#24
   11613   00:8C9B  (00:F19A)           T_NEW_2:			#166
   11614   00:8C9B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PT3 REPLAYER END
   11615   00:8C9B                      
   11616   00:8C9B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ayFX REPLAYER 
   11617   00:8C9B  (00:F240)           ayFX_MODE:			#1			; ayFX mode
   11618   00:8C9B  (00:F241)           ayFX_BANK:			#2			; Current ayFX Bank
   11619   00:8C9B  (00:F243)           ayFX_PRIORITY:		#1			; Current ayFX stream priotity
   11620   00:8C9B  (00:F244)           ayFX_POINTER:		#2			; Pointer to the current ayFX stream
   11621   00:8C9B  (00:F246)           ayFX_TONE:			#2			; Current tone of the ayFX stream
   11622   00:8C9B  (00:F248)           ayFX_NOISE:			#1			; Current noise of the ayFX stream
   11623   00:8C9B  (00:F249)           ayFX_VOLUME:		#1			; Current volume of the ayFX stream
   11624   00:8C9B  (00:F24A)           ayFX_CHANNEL:		#1			; PSG channel to play the ayFX stream
   11625   00:8C9B                      
   11626   00:8C9B                      	;IF (AYFXRELATIVE == 1 ) 
   11627   00:8C9B                      ;ayFX_VT:	ds	2			; ayFX relative volume table pointer
   11628   00:8C9B                      	;ENDIF
   11629   00:8C9B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ayFX REPLAYER END
   11630   00:8C9B                      																
   11631   00:8C9B                      ;CONSTANTES
   11632   00:8C9B                      
   11633   00:8C9B  (068E)              EFECTOS_BAN_P:	incbin	"efectos_PLETTER.afb"								;incluye el banco de efectos
   11634   00:9329                      
   11635   00:9329                      sanctuary_x:	db	242,224,237,226,243,244,224,241,248,64
   11635   00:9329  F2 E0 ED E2 F3 F4 E0 F1 F8 40 
   11636   00:9333  C0 C1               sanctuary_1:	db	192,193
   11637   00:9335  C0 C2               sanctuary_2:	db	192,194
   11638   00:9337  C0 C3               sanctuary_3:	db	192,195
   11639   00:9339  C0 C4               sanctuary_4:	db	192,196
   11640   00:933B  C0 C5               sanctuary_5:	db	192,197
   11641   00:933D  C0 C6               sanctuary_6:	db	192,198
   11642   00:933F  C0 C7               sanctuary_7:	db	192,199
   11643   00:9341  C0 C8               sanctuary_8:	db	192,200
   11644   00:9343  C0 C9               sanctuary_9:	db	192,201
   11645   00:9345  C1 C0               sanctuary_10:	db	193,192
   11646   00:9347  C1 C1               sanctuary_11:	db	193,193
   11647   00:9349  C1 C2               sanctuary_12:	db	193,194
   11648   00:934B  C1 C3               sanctuary_13:	db	193,195
   11649   00:934D  C1 C4               sanctuary_14:	db	193,196
   11650   00:934F  C1 C5               sanctuary_15:	db	193,197
   11651   00:9351  C1 C6               sanctuary_16:	db	193,198
   11652   00:9353  C1 C7               sanctuary_17:	db	193,199
   11653   00:9355  C1 C8               sanctuary_18:	db	193,200
   11654   00:9357                      santuario_x:	db	242,224,237,243,244,224,241,232,238,64
   11654   00:9357  F2 E0 ED F3 F4 E0 F1 E8 EE 40 
   11655   00:9361                      
   11656   00:9361                      consejo_2:		db	195,64,225,238,236,225,224,242,64,64,193,64,242,244,228,235,238,251
   11656   00:9361  C3 40 E1 EE EC E1 E0 F2 40 40 C1 40 F2 F4 E4 EB 
   11656   00:9371  EE FB 
   11657   00:9373                      consejo_3:		db	244,242,224,64,209,64,227,228,64,228,242,226,224,235,74,237,64,242,232,64,41,42,64,228,242,243,8,64,241,238,243,224
   11657   00:9373  F4 F2 E0 40 D1 40 E3 E4 40 E4 F2 E2 E0 EB 4A ED 
   11657   00:9383  40 F2 E8 40 29 2A 40 E4 F2 F3 08 40 F1 EE F3 E0 
   11658   00:9393                      consejo_4:		db 	64, 64, 236, 238, 233, 224, 227, 238, 64, 237, 238, 64, 224, 241, 227, 228, 241, 8, 242, 251, 64, 64, 242, 9, 226, 224, 243, 228, 64, 64
   11658   00:9393  40 40 EC EE E9 E0 E3 EE 40 ED EE 40 E0 F1 E3 E4 
   11658   00:93A3  F1 08 F2 FB 40 40 F2 09 E2 E0 F3 E4 40 40 
   11659   00:93B1                      consejo_5:		db 	64, 237, 238, 64, 243, 238, 227, 238, 242, 64, 235, 238, 242, 64, 236, 244, 241, 238, 242, 64, 242, 238, 237, 64, 232, 230, 244, 224, 235, 228, 242, 64
   11659   00:93B1  40 ED EE 40 F3 EE E3 EE F2 40 EB EE F2 40 EC F4 
   11659   00:93C1  F1 EE F2 40 F2 EE ED 40 E8 E6 F4 E0 EB E4 F2 40 
   11660   00:93D1                      consejo_6:		DB  224,226,243,232,245,224, 64,64,235,224,64, 64, 64,228,242,226,224,235,228,241,224, 64, 64,242,228,226,241,228,243,224
   11660   00:93D1  E0 E2 F3 E8 F5 E0 40 40 EB E0 40 40 40 E4 F2 E2 
   11660   00:93E1  E0 EB E4 F1 E0 40 40 F2 E4 E2 F1 E4 F3 E0 
   11661   00:93EF                      consejo_7:		db	228, 235, 64, 225, 238, 236, 225, 228, 241, 238, 64, 243, 228, 64, 236, 238, 233, 224, 241, 8, 64, 227, 228, 236, 224, 242, 232, 224, 227, 238
   11661   00:93EF  E4 EB 40 E1 EE EC E1 E4 F1 EE 40 F3 E4 40 EC EE 
   11661   00:93FF  E9 E0 F1 08 40 E3 E4 EC E0 F2 E8 E0 E3 EE 
   11662   00:940D                      consejo_8:		DB  64,64,64,64,64,245,224,226,73,224, 64,235,224, 64,225,224,235,242,224, 64,64, 64, 64,64
   11662   00:940D  40 40 40 40 40 F5 E0 E2 49 E0 40 EB E0 40 E1 E0 
   11662   00:941D  EB F2 E0 40 40 40 40 40 
   11663   00:9425                      consejo_9:		db	228, 237, 226, 232, 228, 237, 227, 228, 64, 235, 224, 64, 235, 244, 249, 64, 239, 224, 241, 224, 64, 239, 238, 227, 228, 241, 64, 245, 228, 241
   11663   00:9425  E4 ED E2 E8 E4 ED E3 E4 40 EB E0 40 EB F4 F9 40 
   11663   00:9435  EF E0 F1 E0 40 EF EE E3 E4 F1 40 F5 E4 F1 
   11664   00:9443                      advice_2:		db	195,64,225,238,236,225,242,64,64,64,64,193,64,229,235,238,238,241
   11664   00:9443  C3 40 E1 EE EC E1 F2 40 40 40 40 C1 40 E5 EB EE 
   11664   00:9453  EE F1 
   11665   00:9455                      advice_3:		db	244,242,228,64,209,64,224,242,64,224,64,242,243,228,239,64,64,232,229,64,41,42,64,232,242,64,225,241,238,234,228,237
   11665   00:9455  F4 F2 E4 40 D1 40 E0 F2 40 E0 40 F2 F3 E4 EF 40 
   11665   00:9465  40 E8 E5 40 29 2A 40 E8 F2 40 E1 F1 EE EA E4 ED 
   11666   00:9475                      advice_4:		db 	232,229,64,248,238,244,64,224,241,228,64,246,228,243,251,64,248,238,244,64,246,238,237,120,243,64,225,244,241,237
   11666   00:9475  E8 E5 40 F8 EE F4 40 E0 F1 E4 40 F6 E4 F3 FB 40 
   11666   00:9485  F8 EE F4 40 F6 EE ED 78 F3 40 E1 F4 F1 ED 
   11667   00:9493                      advice_5:		db 	64,237, 238, 243, 64, 224, 235, 235, 64, 243,231,228,64,246, 224, 235, 235, 242, 64, 224, 241, 228, 64, 243, 231, 228, 64, 242, 224, 236, 228,64
   11667   00:9493  40 ED EE F3 40 E0 EB EB 40 F3 E7 E4 40 F6 E0 EB 
   11667   00:94A3  EB F2 40 E0 F1 E4 40 F3 E7 E4 40 F2 E0 EC E4 40 
   11668   00:94B3                      advice_6:		db	224, 226, 243, 232, 245, 224, 243, 228, 64, 64, 243, 231, 228, 64, 64, 242, 228, 226, 241, 228, 243, 64, 64, 235, 224, 227, 227, 228, 241, 242
   11668   00:94B3  E0 E2 F3 E8 F5 E0 F3 E4 40 40 F3 E7 E4 40 40 F2 
   11668   00:94C3  E4 E2 F1 E4 F3 40 40 EB E0 E3 E3 E4 F1 F2 
   11669   00:94D1                      advice_7:		db	243,231,228,64,229, 232, 241, 228, 236, 224, 237, 64, 246, 232, 235, 235, 64, 230, 228, 243, 64, 248, 238, 244, 64, 243, 238, 238, 64, 246, 228, 243
   11669   00:94D1  F3 E7 E4 40 E5 E8 F1 E4 EC E0 ED 40 F6 E8 EB EB 
   11669   00:94E1  40 E6 E4 F3 40 F8 EE F4 40 F3 EE EE 40 F6 E4 F3 
   11670   00:94F1                      advice_8:		DB  228,236,239,243,248, 64,243,231,228, 64,239,238,237,227,64,64,243,238,64,230,228,243,64,224,226,241,238,242,242,64,232,243
   11670   00:94F1  E4 EC EF F3 F8 40 F3 E7 E4 40 EF EE ED E3 40 40 
   11670   00:9501  F3 EE 40 E6 E4 F3 40 E0 E2 F1 EE F2 F2 40 E8 F3 
   11671   00:9511                      advice_9:		db	243, 244, 241, 237, 64, 243, 231, 228, 64, 235, 232, 230, 231, 243, 242,64,238, 237, 64, 242, 238, 64, 248,238,244,64,64,226,224,237
   11671   00:9511  F3 F4 F1 ED 40 F3 E7 E4 40 EB E8 E6 E7 F3 F2 40 
   11671   00:9521  EE ED 40 F2 EE 40 F8 EE F4 40 40 E2 E0 ED 
   11672   00:952F  F2 E4 E4            advice_9_1:		db	242,228,228
   11673   00:9532                      lo_has_logrado:	db	235,238,64,231,224,242,64,235,238,230,241,224,227,238,251,64,228,242,243,224,242,64,236,244,241,232,228,237,227,238,252
   11673   00:9532  EB EE 40 E7 E0 F2 40 EB EE E6 F1 E0 E3 EE FB 40 
   11673   00:9542  E4 F2 F3 E0 F2 40 EC F4 F1 E8 E4 ED E3 EE FC 
   11674   00:9551                      felicidades:	db	212,64,212,64,229,64,228,64,235,64,232,64,226,64,232,64,227,64,224,64,227,64,228,64,242,64,252,64,252,64
   11674   00:9551  D4 40 D4 40 E5 40 E4 40 EB 40 E8 40 E2 40 E8 40 
   11674   00:9561  E3 40 E0 40 E3 40 E4 40 F2 40 FC 40 FC 40 
   11675   00:956F                      camino_a:		db	236,232,228,237,243,241,224,242,251,64,228,237,64,238,243,241,238,64,64,242,224,237,243,244,224,241,232,238
   11675   00:956F  EC E8 E4 ED F3 F1 E0 F2 FB 40 E4 ED 40 EE F3 F1 
   11675   00:957F  EE 40 40 F2 E0 ED F3 F4 E0 F1 E8 EE 
   11676   00:958B                      camino_a_ing:	db	232,237,64,224,237,238,243,231,228,241,64,242,224,237,226,243,244,224,241,248
   11676   00:958B  E8 ED 40 E0 ED EE F3 E7 E4 F1 40 F2 E0 ED E2 F3 
   11676   00:959B  F4 E0 F1 F8 
   11677   00:959F                      fin_nivel_1_1:	DB 	237,238, 64,231,228, 64,224,241,227,232,227,238, 64, 64,235,238, 64, 64,242,244,229,232,226,232,228,237,243,228,251
   11677   00:959F  ED EE 40 E7 E4 40 E0 F1 E3 E8 E3 EE 40 40 EB EE 
   11677   00:95AF  40 40 F2 F4 E5 E8 E2 E8 E4 ED F3 E4 FB 
   11678   00:95BC                      fin_nivel_1_2:	DB  227,224,236,228,227,244,241,232,242, 64,239,232,227,228, 64,240,244,228, 64, 64,233,244,228,230,244,228
   11678   00:95BC  E3 E0 EC E4 E3 F4 F1 E8 F2 40 EF E8 E3 E4 40 F0 
   11678   00:95CC  F4 E4 40 40 E9 F4 E4 E6 F4 E4 
   11679   00:95D6                      fin_nivel_1_3:	DB  224,235, 64,237,232,245,228,235, 64,227,232,229,73,226,232,235
   11679   00:95D6  E0 EB 40 ED E8 F5 E4 EB 40 E3 E8 E5 49 E2 E8 EB 
   11680   00:95E6                      end_level_1_1:	DB  232, 64,231,224,245,228, 64,237,238,243, 64,225,244,241,237,228,227, 64,228,237,238,244,230,231,251
   11680   00:95E6  E8 40 E7 E0 F5 E4 40 ED EE F3 40 E1 F4 F1 ED E4 
   11680   00:95F6  E3 40 E4 ED EE F4 E6 E7 FB 
   11681   00:95FF                      end_level_1_2:	DB  230,232,245,228,236,228,231,224,241,227, 64,224,242,234,242, 64,236,228, 64,243,238, 64,239,235,224,248
   11681   00:95FF  E6 E8 F5 E4 EC E4 E7 E0 F1 E3 40 E0 F2 EA F2 40 
   11681   00:960F  EC E4 40 F3 EE 40 EF EB E0 F8 
   11682   00:9619                      end_level_1_3:	DB  243,231,228,64,231,224,241,227,64,235,228,245,228,235
   11682   00:9619  F3 E7 E4 40 E7 E0 F1 E3 40 EB E4 F5 E4 EB 
   11683   00:9627                      
   11684   00:9627  61 61 71 61         col_letras_5:	db	97,97,113,97
   11685   00:962B  81 81 71 81         col_letras_7:	db	129,129,113,129
   11686   00:962F  91 91 71 91         col_letras_8:	db	145,145,113,145
   11687   00:9633  A1 A1 71 A1         col_letras_9:	db	161,161,113,161
   11688   00:9637  B1 B1 71 B1         col_letras_10:	db	177,177,113,177
   11689   00:963B  D1 D1 71 D1         col_letras_12:	db	209,209,113,209
   11690   00:963F                      
   11691   00:963F  (0079)              blanco:			incbin	"BLANCO_pletter.DAT"
   11692   00:96B8  (0055)              mas_blanco:		incbin	"BLANCO_mas_pletter.DAT"
   11693   00:970D  (001A)              marcador:		incbin	"marcador_pletter.dat"
   11694   00:9727  (000E)              trofeos:		incbin	"trofeos_pletter.dat"
   11695   00:9735                      sprites:		; --- prota derecha quieto
   11696   00:9735                      				; color 1
   11697   00:9735                      sprites13:		DB $00,$0F,$1F,$1F,$36,$34,$7C,$3E
   11697   00:9735  00 0F 1F 1F 36 34 7C 3E 
   11698   00:973D                      				DB $1E,$3F,$49,$28,$1F,$10,$07,$00
   11698   00:973D  1E 3F 49 28 1F 10 07 00 
   11699   00:9745                      				DB $00,$F0,$F8,$98,$50,$50,$08,$08
   11699   00:9745  00 F0 F8 98 50 50 08 08 
   11700   00:974D                      				DB $10,$E0,$A0,$50,$F0,$90,$C0,$00
   11700   00:974D  10 E0 A0 50 F0 90 C0 00 
   11701   00:9755                      				; color 2
   11702   00:9755                      				DB $00,$36,$17,$00,$0F,$00,$00,$00
   11702   00:9755  00 36 17 00 0F 00 00 00 
   11703   00:975D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11703   00:975D  00 00 00 00 00 00 00 00 
   11704   00:9765                      				DB $00,$40,$A0,$00,$60,$00,$00,$00
   11704   00:9765  00 40 A0 00 60 00 00 00 
   11705   00:976D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11705   00:976D  00 00 00 00 00 00 00 00 
   11706   00:9775                      				; color 9
   11707   00:9775                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11707   00:9775  00 00 00 00 00 00 00 00 
   11708   00:977D                      				DB $00,$00,$00,$09,$0B,$03,$01,$01
   11708   00:977D  00 00 00 09 0B 03 01 01 
   11709   00:9785                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11709   00:9785  00 00 00 00 00 00 00 00 
   11710   00:978D                      				DB $00,$00,$60,$A0,$A0,$F0,$F0,$E0
   11710   00:978D  00 00 60 A0 A0 F0 F0 E0 
   11711   00:9795                      				; 
   11712   00:9795                      				; --- prota derecha andando
   11713   00:9795                      				; color 1
   11714   00:9795                      sprites14:		DB $07,$0F,$0F,$1B,$1B,$3F,$1F,$0F
   11714   00:9795  07 0F 0F 1B 1B 3F 1F 0F 
   11715   00:979D                      				DB $1F,$24,$14,$0F,$08,$18,$1E,$00
   11715   00:979D  1F 24 14 0F 08 18 1E 00 
   11716   00:97A5                      				DB $F8,$FC,$8C,$58,$58,$04,$84,$88
   11716   00:97A5  F8 FC 8C 58 58 04 84 88 
   11717   00:97AD                      				DB $F8,$D8,$24,$FC,$66,$AE,$1C,$00
   11717   00:97AD  F8 D8 24 FC 66 AE 1C 00 
   11718   00:97B5                      				; color 2
   11719   00:97B5                      				DB $1B,$0B,$00,$07,$07,$00,$00,$00
   11719   00:97B5  1B 0B 00 07 07 00 00 00 
   11720   00:97BD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11720   00:97BD  00 00 00 00 00 00 00 00 
   11721   00:97C5                      				DB $20,$D8,$00,$98,$10,$00,$00,$00
   11721   00:97C5  20 D8 00 98 10 00 00 00 
   11722   00:97CD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11722   00:97CD  00 00 00 00 00 00 00 00 
   11723   00:97D5                      				; color 9
   11724   00:97D5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11724   00:97D5  00 00 00 00 00 00 00 00 
   11725   00:97DD                      				DB $00,$00,$04,$04,$00,$00,$00,$00
   11725   00:97DD  00 00 04 04 00 00 00 00 
   11726   00:97E5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11726   00:97E5  00 00 00 00 00 00 00 00 
   11727   00:97ED                      				DB $00,$70,$A0,$A0,$F8,$78,$70,$00
   11727   00:97ED  00 70 A0 A0 F8 78 70 00 
   11728   00:97F5                      				; 
   11729   00:97F5                      				; --- prota izquierda quieto
   11730   00:97F5                      				; color 1
   11731   00:97F5                      sprites15:		DB $00,$0F,$1F,$19,$0A,$0A,$10,$10
   11731   00:97F5  00 0F 1F 19 0A 0A 10 10 
   11732   00:97FD                      				DB $08,$07,$05,$0A,$0F,$09,$03,$00
   11732   00:97FD  08 07 05 0A 0F 09 03 00 
   11733   00:9805                      				DB $00,$F0,$F8,$F8,$6C,$2C,$3E,$7C
   11733   00:9805  00 F0 F8 F8 6C 2C 3E 7C 
   11734   00:980D                      				DB $78,$FC,$92,$14,$F8,$08,$E0,$00
   11734   00:980D  78 FC 92 14 F8 08 E0 00 
   11735   00:9815                      				; color 2
   11736   00:9815                      				DB $00,$02,$05,$00,$06,$00,$00,$00
   11736   00:9815  00 02 05 00 06 00 00 00 
   11737   00:981D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11737   00:981D  00 00 00 00 00 00 00 00 
   11738   00:9825                      				DB $00,$6C,$E8,$00,$F0,$00,$00,$00
   11738   00:9825  00 6C E8 00 F0 00 00 00 
   11739   00:982D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11739   00:982D  00 00 00 00 00 00 00 00 
   11740   00:9835                      				; color 9
   11741   00:9835                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11741   00:9835  00 00 00 00 00 00 00 00 
   11742   00:983D                      				DB $00,$00,$06,$05,$05,$0F,$0F,$07
   11742   00:983D  00 00 06 05 05 0F 0F 07 
   11743   00:9845                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11743   00:9845  00 00 00 00 00 00 00 00 
   11744   00:984D                      				DB $00,$00,$00,$90,$D0,$C0,$80,$80
   11744   00:984D  00 00 00 90 D0 C0 80 80 
   11745   00:9855                      				; 
   11746   00:9855                      				; --- prota izquierdo andando
   11747   00:9855                      				; color 1
   11748   00:9855                      sprites16:		DB $1F,$3F,$31,$1A,$1A,$20,$21,$11
   11748   00:9855  1F 3F 31 1A 1A 20 21 11 
   11749   00:985D                      				DB $1F,$1B,$24,$3F,$66,$75,$38,$00
   11749   00:985D  1F 1B 24 3F 66 75 38 00 
   11750   00:9865                      				DB $E0,$F0,$F0,$D8,$D8,$FC,$F8,$F0
   11750   00:9865  E0 F0 F0 D8 D8 FC F8 F0 
   11751   00:986D                      				DB $F8,$24,$28,$F0,$10,$18,$78,$00
   11751   00:986D  F8 24 28 F0 10 18 78 00 
   11752   00:9875                      				; color 2
   11753   00:9875                      				DB $04,$1B,$00,$19,$08,$00,$00,$00
   11753   00:9875  04 1B 00 19 08 00 00 00 
   11754   00:987D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11754   00:987D  00 00 00 00 00 00 00 00 
   11755   00:9885                      				DB $D8,$D0,$00,$E0,$E0,$00,$00,$00
   11755   00:9885  D8 D0 00 E0 E0 00 00 00 
   11756   00:988D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11756   00:988D  00 00 00 00 00 00 00 00 
   11757   00:9895                      				; color 9
   11758   00:9895                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11758   00:9895  00 00 00 00 00 00 00 00 
   11759   00:989D                      				DB $00,$0E,$05,$05,$1F,$1E,$0E,$00
   11759   00:989D  00 0E 05 05 1F 1E 0E 00 
   11760   00:98A5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11760   00:98A5  00 00 00 00 00 00 00 00 
   11761   00:98AD                      				DB $00,$00,$20,$20,$00,$00,$00,$00
   11761   00:98AD  00 00 20 20 00 00 00 00 
   11762   00:98B5                      				; 
   11763   00:98B5                      				; --- subiendo 1
   11764   00:98B5                      				; color 1
   11765   00:98B5                      				DB $00,$07,$0F,$1F,$1F,$3F,$5F,$4F
   11765   00:98B5  00 07 0F 1F 1F 3F 5F 4F 
   11766   00:98BD                      				DB $7F,$5D,$4B,$28,$1C,$17,$10,$00
   11766   00:98BD  7F 5D 4B 28 1C 17 10 00 
   11767   00:98C5                      				DB $00,$E0,$F0,$F8,$F8,$F8,$F8,$F0
   11767   00:98C5  00 E0 F0 F8 F8 F8 F8 F0 
   11768   00:98CD                      				DB $F8,$FC,$D4,$14,$38,$E8,$08,$70
   11768   00:98CD  F8 FC D4 14 38 E8 08 70 
   11769   00:98D5                      				; color 6
   11770   00:98D5                      				DB $22,$34,$17,$03,$08,$0F,$00,$00
   11770   00:98D5  22 34 17 03 08 0F 00 00 
   11771   00:98DD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11771   00:98DD  00 00 00 00 00 00 00 00 
   11772   00:98E5                      				DB $00,$28,$E8,$C0,$10,$F0,$00,$00
   11772   00:98E5  00 28 E8 C0 10 F0 00 00 
   11773   00:98ED                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11773   00:98ED  00 00 00 00 00 00 00 00 
   11774   00:98F5                      				; color 9
   11775   00:98F5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11775   00:98F5  00 00 00 00 00 00 00 00 
   11776   00:98FD                      				DB $00,$00,$00,$00,$00,$20,$30,$00
   11776   00:98FD  00 00 00 00 00 20 30 00 
   11777   00:9905                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11777   00:9905  00 00 00 00 00 00 00 00 
   11778   00:990D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11778   00:990D  00 00 00 00 00 00 00 00 
   11779   00:9915                      				; 
   11780   00:9915                      				; --- subiendo 2
   11781   00:9915                      				; color 1
   11782   00:9915                      				DB $00,$07,$0F,$1F,$1F,$1F,$1F,$0F
   11782   00:9915  00 07 0F 1F 1F 1F 1F 0F 
   11783   00:991D                      				DB $1F,$3F,$2B,$28,$1C,$17,$10,$0E
   11783   00:991D  1F 3F 2B 28 1C 17 10 0E 
   11784   00:9925                      				DB $00,$E0,$F0,$F8,$F8,$FC,$FA,$F2
   11784   00:9925  00 E0 F0 F8 F8 FC FA F2 
   11785   00:992D                      				DB $FE,$BA,$D2,$14,$38,$E8,$08,$00
   11785   00:992D  FE BA D2 14 38 E8 08 00 
   11786   00:9935                      				; color 6
   11787   00:9935                      				DB $00,$14,$17,$03,$08,$0F,$00,$00
   11787   00:9935  00 14 17 03 08 0F 00 00 
   11788   00:993D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11788   00:993D  00 00 00 00 00 00 00 00 
   11789   00:9945                      				DB $44,$2C,$E8,$C0,$10,$F0,$00,$00
   11789   00:9945  44 2C E8 C0 10 F0 00 00 
   11790   00:994D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11790   00:994D  00 00 00 00 00 00 00 00 
   11791   00:9955                      				; color 9
   11792   00:9955                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11792   00:9955  00 00 00 00 00 00 00 00 
   11793   00:995D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11793   00:995D  00 00 00 00 00 00 00 00 
   11794   00:9965                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11794   00:9965  00 00 00 00 00 00 00 00 
   11795   00:996D                      				DB $00,$00,$00,$00,$00,$04,$0C,$00
   11795   00:996D  00 00 00 00 00 04 0C 00 
   11796   00:9975                      				; 
   11797   00:9975                      				; --- prota cae
   11798   00:9975                      				; color 1
   11799   00:9975                      				DB $17,$1F,$3F,$3E,$2C,$2A,$3A,$18
   11799   00:9975  17 1F 3F 3E 2C 2A 3A 18 
   11800   00:997D                      				DB $0C,$1F,$16,$11,$31,$AF,$E2,$72
   11800   00:997D  0C 1F 16 11 31 AF E2 72 
   11801   00:9985                      				DB $E0,$E8,$F8,$3C,$14,$54,$5C,$18
   11801   00:9985  E0 E8 F8 3C 14 54 5C 18 
   11802   00:998D                      				DB $30,$F8,$68,$88,$8D,$F7,$87,$0E
   11802   00:998D  30 F8 68 88 8D F7 87 0E 
   11803   00:9995                      				; color 2
   11804   00:9995                      				DB $00,$09,$0E,$0E,$10,$1C,$00,$00
   11804   00:9995  00 09 0E 0E 10 1C 00 00 
   11805   00:999D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11805   00:999D  00 00 00 00 00 00 00 00 
   11806   00:99A5                      				DB $00,$90,$70,$70,$08,$78,$00,$00
   11806   00:99A5  00 90 70 70 08 78 00 00 
   11807   00:99AD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11807   00:99AD  00 00 00 00 00 00 00 00 
   11808   00:99B5                      				; color 9
   11809   00:99B5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11809   00:99B5  00 00 00 00 00 00 00 00 
   11810   00:99BD                      				DB $00,$00,$01,$13,$15,$05,$07,$03
   11810   00:99BD  00 00 01 13 15 05 07 03 
   11811   00:99C5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11811   00:99C5  00 00 00 00 00 00 00 00 
   11812   00:99CD                      				DB $00,$00,$C0,$E8,$A8,$A0,$E0,$C0
   11812   00:99CD  00 00 C0 E8 A8 A0 E0 C0 
   11813   00:99D5                      				; 
   11814   00:99D5                      				; --- explosion 1
   11815   00:99D5                      				; color 1
   11816   00:99D5                      				DB $60,$57,$65,$57,$60,$10,$09,$07
   11816   00:99D5  60 57 65 57 60 10 09 07 
   11817   00:99DD                      				DB $03,$03,$05,$01,$01,$00,$00,$00
   11817   00:99DD  03 03 05 01 01 00 00 00 
   11818   00:99E5                      				DB $0C,$0C,$0C,$00,$0C,$10,$A0,$E0
   11818   00:99E5  0C 0C 0C 00 0C 10 A0 E0 
   11819   00:99ED                      				DB $F8,$E0,$50,$00,$00,$00,$00,$00
   11819   00:99ED  F8 E0 50 00 00 00 00 00 
   11820   00:99F5                      				; 
   11821   00:99F5                      				; --- explosion 2
   11822   00:99F5                      				; color 1
   11823   00:99F5                      				DB $60,$57,$65,$57,$60,$08,$0E,$07
   11823   00:99F5  60 57 65 57 60 08 0E 07 
   11824   00:99FD                      				DB $07,$3F,$07,$0F,$13,$00,$00,$00
   11824   00:99FD  07 3F 07 0F 13 00 00 00 
   11825   00:9A05                      				DB $06,$76,$56,$70,$06,$10,$78,$F0
   11825   00:9A05  06 76 56 70 06 10 78 F0 
   11826   00:9A0D                      				DB $E0,$F0,$C0,$E0,$F0,$C8,$80,$00
   11826   00:9A0D  E0 F0 C0 E0 F0 C8 80 00 
   11827   00:9A15                      				; 
   11828   00:9A15                      				; --- explosion 3
   11829   00:9A15                      				; color 1
   11830   00:9A15                      				DB $60,$57,$65,$57,$60,$0D,$FD,$1D
   11830   00:9A15  60 57 65 57 60 0D FD 1D 
   11831   00:9A1D                      				DB $3C,$39,$0C,$06,$0F,$13,$21,$01
   11831   00:9A1D  3C 39 0C 06 0F 13 21 01 
   11832   00:9A25                      				DB $05,$77,$57,$75,$05,$B0,$B6,$B8
   11832   00:9A25  05 77 57 75 05 B0 B6 B8 
   11833   00:9A2D                      				DB $3C,$9F,$38,$70,$E8,$E6,$42,$00
   11833   00:9A2D  3C 9F 38 70 E8 E6 42 00 
   11834   00:9A35                      				; SPRITE EN BLANCO
   11835   00:9A35                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11835   00:9A35  00 00 00 00 00 00 00 00 
   11836   00:9A3D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11836   00:9A3D  00 00 00 00 00 00 00 00 
   11837   00:9A45                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11837   00:9A45  00 00 00 00 00 00 00 00 
   11838   00:9A4D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11838   00:9A4D  00 00 00 00 00 00 00 00 
   11839   00:9A55                      				;
   11840   00:9A55                      				; --- Serpiente izquierda 1
   11841   00:9A55                      				; color 5
   11842   00:9A55                      				DB $00,$00,$1F,$3F,$7F,$7E,$3A,$12
   11842   00:9A55  00 00 1F 3F 7F 7E 3A 12 
   11843   00:9A5D                      				DB $7E,$3D,$00,$07,$0F,$00,$0F,$00
   11843   00:9A5D  7E 3D 00 07 0F 00 0F 00 
   11844   00:9A65                      				DB $00,$00,$C0,$E0,$F0,$F0,$F0,$F0
   11844   00:9A65  00 00 C0 E0 F0 F0 F0 F0 
   11845   00:9A6D                      				DB $F0,$F0,$20,$C0,$B0,$2E,$DE,$00
   11845   00:9A6D  F0 F0 20 C0 B0 2E DE 00 
   11846   00:9A75                      				; --- Serpìente izquierda 2
   11847   00:9A75                      				; color 5
   11848   00:9A75                      				DB $00,$00,$0F,$1F,$1F,$0E,$04,$1F
   11848   00:9A75  00 00 0F 1F 1F 0E 04 1F 
   11849   00:9A7D                      				DB $0F,$00,$0F,$1F,$00,$1F,$1F,$00
   11849   00:9A7D  0F 00 0F 1F 00 1F 1F 00 
   11850   00:9A85                      				DB $00,$00,$E0,$F0,$B8,$B8,$B8,$B8
   11850   00:9A85  00 00 E0 F0 B8 B8 B8 B8 
   11851   00:9A8D                      				DB $38,$F0,$60,$80,$60,$5C,$BC,$00
   11851   00:9A8D  38 F0 60 80 60 5C BC 00 
   11852   00:9A95                      				; --- Serpiente derecha 1
   11853   00:9A95                      				; color 5
   11854   00:9A95                      				DB $00,$00,$03,$07,$0F,$0F,$0F,$0F
   11854   00:9A95  00 00 03 07 0F 0F 0F 0F 
   11855   00:9A9D                      				DB $0F,$0F,$04,$03,$0D,$74,$7B,$00
   11855   00:9A9D  0F 0F 04 03 0D 74 7B 00 
   11856   00:9AA5                      				DB $00,$00,$F8,$FC,$FE,$7E,$5C,$48
   11856   00:9AA5  00 00 F8 FC FE 7E 5C 48 
   11857   00:9AAD                      				DB $7E,$BC,$00,$E0,$F0,$00,$F0,$00
   11857   00:9AAD  7E BC 00 E0 F0 00 F0 00 
   11858   00:9AB5                      				; --- Serpiente derecha 2
   11859   00:9AB5                      				; color 5
   11860   00:9AB5                      				DB $00,$00,$07,$0F,$1D,$1D,$1D,$1D
   11860   00:9AB5  00 00 07 0F 1D 1D 1D 1D 
   11861   00:9ABD                      				DB $1C,$0F,$06,$01,$06,$3A,$3D,$00
   11861   00:9ABD  1C 0F 06 01 06 3A 3D 00 
   11862   00:9AC5                      				DB $00,$00,$F0,$F8,$F8,$70,$20,$F8
   11862   00:9AC5  00 00 F0 F8 F8 70 20 F8 
   11863   00:9ACD                      				DB $F0,$00,$F0,$F8,$00,$F8,$F8,$00
   11863   00:9ACD  F0 00 F0 F8 00 F8 F8 00 
   11864   00:9AD5                      				; --- Serpiente izquierda 1
   11865   00:9AD5                      				; color 1
   11866   00:9AD5                      				DB $00,$1F,$20,$40,$80,$81,$C5,$ED
   11866   00:9AD5  00 1F 20 40 80 81 C5 ED 
   11867   00:9ADD                      				DB $81,$42,$3F,$08,$10,$1F,$10,$0F
   11867   00:9ADD  81 42 3F 08 10 1F 10 0F 
   11868   00:9AE5                      				DB $00,$C0,$20,$10,$08,$08,$08,$08
   11868   00:9AE5  00 C0 20 10 08 08 08 08 
   11869   00:9AED                      				DB $08,$08,$D0,$30,$4E,$D1,$21,$FF
   11869   00:9AED  08 08 D0 30 4E D1 21 FF 
   11870   00:9AF5                      				; --- Serpìente izquierda 2
   11871   00:9AF5                      				; color 1
   11872   00:9AF5                      				DB $00,$0F,$10,$20,$20,$31,$3B,$20
   11872   00:9AF5  00 0F 10 20 20 31 3B 20 
   11873   00:9AFD                      				DB $10,$0F,$10,$20,$3F,$20,$20,$1F
   11873   00:9AFD  10 0F 10 20 3F 20 20 1F 
   11874   00:9B05                      				DB $00,$E0,$10,$08,$44,$44,$44,$44
   11874   00:9B05  00 E0 10 08 44 44 44 44 
   11875   00:9B0D                      				DB $C4,$08,$90,$60,$9C,$A2,$42,$FE
   11875   00:9B0D  C4 08 90 60 9C A2 42 FE 
   11876   00:9B15                      				; --- Serpiente derecha 1
   11877   00:9B15                      				; color 1
   11878   00:9B15                      				DB $00,$03,$04,$08,$10,$10,$10,$10
   11878   00:9B15  00 03 04 08 10 10 10 10 
   11879   00:9B1D                      				DB $10,$10,$0B,$0C,$72,$8B,$84,$FF
   11879   00:9B1D  10 10 0B 0C 72 8B 84 FF 
   11880   00:9B25                      				DB $00,$F8,$04,$02,$01,$81,$A3,$B7
   11880   00:9B25  00 F8 04 02 01 81 A3 B7 
   11881   00:9B2D                      				DB $81,$42,$FC,$10,$08,$F8,$08,$F0
   11881   00:9B2D  81 42 FC 10 08 F8 08 F0 
   11882   00:9B35                      				; --- Serpiente derecha 2
   11883   00:9B35                      				; color 1
   11884   00:9B35                      				DB $00,$07,$08,$10,$22,$22,$22,$22
   11884   00:9B35  00 07 08 10 22 22 22 22 
   11885   00:9B3D                      				DB $23,$10,$09,$06,$39,$45,$42,$7F
   11885   00:9B3D  23 10 09 06 39 45 42 7F 
   11886   00:9B45                      				DB $00,$F0,$08,$04,$04,$8C,$DC,$04
   11886   00:9B45  00 F0 08 04 04 8C DC 04 
   11887   00:9B4D                      				DB $08,$F0,$08,$04,$FC,$04,$04,$F8		
   11887   00:9B4D  08 F0 08 04 FC 04 04 F8 
   11888   00:9B55                      				; --- Prota derecha lanza 1
   11889   00:9B55                      				; color 1
   11890   00:9B55                      				DB $0F,$1F,$1F,$2D,$2C,$7C,$3E,$1E
   11890   00:9B55  0F 1F 1F 2D 2C 7C 3E 1E 
   11891   00:9B5D                      				DB $FF,$A3,$D1,$79,$0F,$10,$31,$3C
   11891   00:9B5D  FF A3 D1 79 0F 10 31 3C 
   11892   00:9B65                      				DB $F0,$F8,$18,$90,$B0,$08,$C8,$10
   11892   00:9B65  F0 F8 18 90 B0 08 C8 10 
   11893   00:9B6D                      				DB $F0,$A8,$14,$14,$F8,$CC,$5C,$38
   11893   00:9B6D  F0 A8 14 14 F8 CC 5C 38 
   11894   00:9B75                      				; color 6
   11895   00:9B75                      				DB $5C,$2E,$06,$00,$0F,$0E,$00,$00
   11895   00:9B75  5C 2E 06 00 0F 0E 00 00 
   11896   00:9B7D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11896   00:9B7D  00 00 00 00 00 00 00 00 
   11897   00:9B85                      				DB $50,$E8,$E8,$00,$30,$20,$00,$00
   11897   00:9B85  50 E8 E8 00 30 20 00 00 
   11898   00:9B8D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11898   00:9B8D  00 00 00 00 00 00 00 00 
   11899   00:9B95                      				; color 9
   11900   00:9B95                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11900   00:9B95  00 00 00 00 00 00 00 00 
   11901   00:9B9D                      				DB $00,$00,$12,$13,$03,$01,$01,$00
   11901   00:9B9D  00 00 12 13 03 01 01 00 
   11902   00:9BA5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11902   00:9BA5  00 00 00 00 00 00 00 00 
   11903   00:9BAD                      				DB $00,$E0,$60,$40,$F0,$30,$E0,$00
   11903   00:9BAD  00 E0 60 40 F0 30 E0 00 
   11904   00:9BB5                      				; 
   11905   00:9BB5                      				; --- Prota derecha lanza 2
   11906   00:9BB5                      				; color 1
   11907   00:9BB5                      				DB $00,$07,$0F,$0F,$1B,$1B,$3F,$1F
   11907   00:9BB5  00 07 0F 0F 1B 1B 3F 1F 
   11908   00:9BBD                      				DB $0F,$1F,$2A,$24,$2F,$18,$30,$3C
   11908   00:9BBD  0F 1F 2A 24 2F 18 30 3C 
   11909   00:9BC5                      				DB $00,$F8,$FC,$CC,$6C,$28,$04,$94
   11909   00:9BC5  00 F8 FC CC 6C 28 04 94 
   11910   00:9BCD                      				DB $88,$FC,$42,$82,$7E,$F8,$88,$7C
   11910   00:9BCD  88 FC 42 82 7E F8 88 7C 
   11911   00:9BD5                      				; color 6
   11912   00:9BD5                      				DB $00,$15,$1B,$10,$07,$0F,$00,$00
   11912   00:9BD5  00 15 1B 10 07 0F 00 00 
   11913   00:9BDD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11913   00:9BDD  00 00 00 00 00 00 00 00 
   11914   00:9BE5                      				DB $00,$BC,$7C,$80,$00,$70,$00,$00
   11914   00:9BE5  00 BC 7C 80 00 70 00 00 
   11915   00:9BED                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11915   00:9BED  00 00 00 00 00 00 00 00 
   11916   00:9BF5                      				; color 9
   11917   00:9BF5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11917   00:9BF5  00 00 00 00 00 00 00 00 
   11918   00:9BFD                      				DB $00,$00,$00,$04,$04,$00,$00,$00
   11918   00:9BFD  00 00 00 04 04 00 00 00 
   11919   00:9C05                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11919   00:9C05  00 00 00 00 00 00 00 00 
   11920   00:9C0D                      				DB $00,$00,$30,$90,$D0,$F8,$68,$70
   11920   00:9C0D  00 00 30 90 D0 F8 68 70 
   11921   00:9C15                      				; 
   11922   00:9C15                      				; --- Prota izquierda lanza 1
   11923   00:9C15                      				; color 1
   11924   00:9C15                      				DB $0F,$1F,$18,$09,$0D,$10,$13,$08
   11924   00:9C15  0F 1F 18 09 0D 10 13 08 
   11925   00:9C1D                      				DB $0F,$15,$28,$28,$1F,$33,$3A,$1C
   11925   00:9C1D  0F 15 28 28 1F 33 3A 1C 
   11926   00:9C25                      				DB $F0,$F8,$F8,$B4,$34,$3E,$7C,$78
   11926   00:9C25  F0 F8 F8 B4 34 3E 7C 78 
   11927   00:9C2D                      				DB $FF,$C5,$8B,$9E,$F0,$08,$8C,$3C
   11927   00:9C2D  FF C5 8B 9E F0 08 8C 3C 
   11928   00:9C35                      				; color 6
   11929   00:9C35                      				DB $0A,$17,$17,$00,$0C,$04,$00,$00
   11929   00:9C35  0A 17 17 00 0C 04 00 00 
   11930   00:9C3D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11930   00:9C3D  00 00 00 00 00 00 00 00 
   11931   00:9C45                      				DB $3A,$74,$60,$00,$F0,$70,$00,$00
   11931   00:9C45  3A 74 60 00 F0 70 00 00 
   11932   00:9C4D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11932   00:9C4D  00 00 00 00 00 00 00 00 
   11933   00:9C55                      				; color 9
   11934   00:9C55                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11934   00:9C55  00 00 00 00 00 00 00 00 
   11935   00:9C5D                      				DB $00,$07,$06,$02,$0F,$0C,$07,$00
   11935   00:9C5D  00 07 06 02 0F 0C 07 00 
   11936   00:9C65                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11936   00:9C65  00 00 00 00 00 00 00 00 
   11937   00:9C6D                      				DB $00,$00,$48,$C8,$C0,$80,$80,$00 
   11937   00:9C6D  00 00 48 C8 C0 80 80 00 
   11938   00:9C75                      				; --- Prota izquierda lanza 2
   11939   00:9C75                      				; color 1
   11940   00:9C75                      				DB $00,$1F,$3F,$33,$36,$14,$20,$29
   11940   00:9C75  00 1F 3F 33 36 14 20 29 
   11941   00:9C7D                      				DB $11,$3F,$42,$41,$7E,$1F,$11,$3E
   11941   00:9C7D  11 3F 42 41 7E 1F 11 3E 
   11942   00:9C85                      				DB $00,$E0,$F0,$F0,$D8,$D8,$FC,$F8
   11942   00:9C85  00 E0 F0 F0 D8 D8 FC F8 
   11943   00:9C8D                      				DB $F0,$F8,$54,$24,$F4,$18,$0C,$3C
   11943   00:9C8D  F0 F8 54 24 F4 18 0C 3C 
   11944   00:9C95                      				; color 6
   11945   00:9C95                      				DB $00,$3D,$3E,$01,$00,$0E,$00,$00
   11945   00:9C95  00 3D 3E 01 00 0E 00 00 
   11946   00:9C9D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11946   00:9C9D  00 00 00 00 00 00 00 00 
   11947   00:9CA5                      				DB $00,$A8,$D8,$08,$E0,$F0,$00,$00
   11947   00:9CA5  00 A8 D8 08 E0 F0 00 00 
   11948   00:9CAD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11948   00:9CAD  00 00 00 00 00 00 00 00 
   11949   00:9CB5                      				; color 9
   11950   00:9CB5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11950   00:9CB5  00 00 00 00 00 00 00 00 
   11951   00:9CBD                      				DB $00,$00,$0C,$09,$0B,$1F,$16,$0E
   11951   00:9CBD  00 00 0C 09 0B 1F 16 0E 
   11952   00:9CC5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11952   00:9CC5  00 00 00 00 00 00 00 00 
   11953   00:9CCD                      				DB $00,$00,$00,$20,$20,$00,$00,$00
   11953   00:9CCD  00 00 00 20 20 00 00 00 
   11954   00:9CD5                      				; 
   11955   00:9CD5                      				; --- Serpiente muerta
   11956   00:9CD5                      					; color 5
   11957   00:9CD5                      				DB $00,$00,$00,$00,$03,$0F,$1E,$3F
   11957   00:9CD5  00 00 00 00 03 0F 1E 3F 
   11958   00:9CDD                      				DB $38,$3D,$3D,$3D,$3F,$1D,$0D,$00
   11958   00:9CDD  38 3D 3D 3D 3F 1D 0D 00 
   11959   00:9CE5                      				DB $00,$00,$00,$00,$E0,$F8,$FC,$7A
   11959   00:9CE5  00 00 00 00 E0 F8 FC 7A 
   11960   00:9CED                      				DB $16,$82,$CE,$D6,$DA,$DA,$B8,$00
   11960   00:9CED  16 82 CE D6 DA DA B8 00 
   11961   00:9CF5                      				; color 1
   11962   00:9CF5                      				DB $00,$00,$00,$03,$0C,$10,$21,$40
   11962   00:9CF5  00 00 00 03 0C 10 21 40 
   11963   00:9CFD                      				DB $47,$42,$42,$42,$40,$22,$12,$0F
   11963   00:9CFD  47 42 42 42 40 22 12 0F 
   11964   00:9D05                      				DB $00,$00,$00,$E0,$18,$04,$02,$85
   11964   00:9D05  00 00 00 E0 18 04 02 85 
   11965   00:9D0D                      				DB $E9,$7D,$31,$29,$25,$25,$46,$FC
   11965   00:9D0D  E9 7D 31 29 25 25 46 FC 
   11966   00:9D15                      			
   11967   00:9D15                      				; 
   11968   00:9D15                      				; --- Serpiente mata prota
   11969   00:9D15                      				; color 1
   11970   00:9D15                      				DB $0F,$10,$20,$20,$31,$3B,$60,$B0
   11970   00:9D15  0F 10 20 20 31 3B 60 B0 
   11971   00:9D1D                      				DB $5F,$BC,$19,$F4,$43,$A4,$54,$2F
   11971   00:9D1D  5F BC 19 F4 43 A4 54 2F 
   11972   00:9D25                      				DB $E0,$18,$04,$52,$75,$79,$79,$9D
   11972   00:9D25  E0 18 04 52 75 79 79 9D 
   11973   00:9D2D                      				DB $7F,$1D,$18,$37,$D1,$09,$0A,$FC
   11973   00:9D2D  7F 1D 18 37 D1 09 0A FC 
   11974   00:9D35                      				; color 3
   11975   00:9D35                      				DB $00,$0F,$1F,$1F,$0E,$04,$1F,$4F
   11975   00:9D35  00 0F 1F 1F 0E 04 1F 4F 
   11976   00:9D3D                      				DB $20,$00,$00,$08,$3C,$1B,$0B,$00
   11976   00:9D3D  20 00 00 08 3C 1B 0B 00 
   11977   00:9D45                      				DB $00,$E0,$F8,$AC,$8A,$86,$86,$02
   11977   00:9D45  00 E0 F8 AC 8A 86 86 02 
   11978   00:9D4D                      				DB $00,$00,$00,$08,$2E,$F6,$F4,$00
   11978   00:9D4D  00 00 00 08 2E F6 F4 00 
   11979   00:9D55                      				; color 4
   11980   00:9D55                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11980   00:9D55  00 00 00 00 00 00 00 00 
   11981   00:9D5D                      				DB $00,$00,$00,$00,$00,$40,$20,$00
   11981   00:9D5D  00 00 00 00 00 40 20 00 
   11982   00:9D65                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11982   00:9D65  00 00 00 00 00 00 00 00 
   11983   00:9D6D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11983   00:9D6D  00 00 00 00 00 00 00 00 
   11984   00:9D75                      				; color 9
   11985   00:9D75                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11985   00:9D75  00 00 00 00 00 00 00 00 
   11986   00:9D7D                      				DB $00,$43,$E6,$03,$00,$00,$00,$00
   11986   00:9D7D  00 43 E6 03 00 00 00 00 
   11987   00:9D85                      				DB $00,$00,$00,$00,$00,$00,$00,$60
   11987   00:9D85  00 00 00 00 00 00 00 60 
   11988   00:9D8D                      				DB $80,$E2,$E7,$C0,$00,$00,$00,$00
   11988   00:9D8D  80 E2 E7 C0 00 00 00 00 
   11989   00:9D95                      				; --- incendio izquierda
   11990   00:9D95                      				; color 1
   11991   00:9D95                      				DB $AD,$A9,$ED,$49,$4D,$00,$0F,$0E
   11991   00:9D95  AD A9 ED 49 4D 00 0F 0E 
   11992   00:9D9D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11992   00:9D9D  00 00 00 00 00 00 00 00 
   11993   00:9DA5                      				DB $D5,$55,$DD,$54,$55,$00,$E0,$E0
   11993   00:9DA5  D5 55 DD 54 55 00 E0 E0 
   11994   00:9DAD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   11994   00:9DAD  00 00 00 00 00 00 00 00 
   11995   00:9DB5                      				; color 6
   11996   00:9DB5                      				DB $00,$00,$02,$16,$32,$1F,$10,$11
   11996   00:9DB5  00 00 02 16 32 1F 10 11 
   11997   00:9DBD                      				DB $1F,$3F,$3F,$3C,$1E,$98,$D0,$F0
   11997   00:9DBD  1F 3F 3F 3C 1E 98 D0 F0 
   11998   00:9DC5                      				DB $00,$00,$00,$28,$A8,$F8,$18,$18
   11998   00:9DC5  00 00 00 28 A8 F8 18 18 
   11999   00:9DCD                      				DB $F4,$F6,$7E,$FE,$77,$77,$23,$1F
   11999   00:9DCD  F4 F6 7E FE 77 77 23 1F 
   12000   00:9DD5                      				; color 10
   12001   00:9DD5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12001   00:9DD5  00 00 00 00 00 00 00 00 
   12002   00:9DDD                      				DB $00,$00,$00,$03,$01,$07,$2F,$0F
   12002   00:9DDD  00 00 00 03 01 07 2F 0F 
   12003   00:9DE5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12003   00:9DE5  00 00 00 00 00 00 00 00 
   12004   00:9DED                      				DB $00,$00,$80,$00,$88,$88,$DC,$E0
   12004   00:9DED  00 00 80 00 88 88 DC E0 
   12005   00:9DF5                      				; 
   12006   00:9DF5                      				; --- incendio derecha
   12007   00:9DF5                      				; color 1
   12008   00:9DF5                      				DB $00,$00,$0F,$0E,$00,$01,$01,$00
   12008   00:9DF5  00 00 0F 0E 00 01 01 00 
   12009   00:9DFD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12009   00:9DFD  00 00 00 00 00 00 00 00 
   12010   00:9E05                      				DB $00,$00,$E0,$E0,$00,$00,$00,$00
   12010   00:9E05  00 00 E0 E0 00 00 00 00 
   12011   00:9E0D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12011   00:9E0D  00 00 00 00 00 00 00 00 
   12012   00:9E15                      				; color 6
   12013   00:9E15                      				DB $06,$0F,$10,$11,$5F,$5E,$1E,$3F
   12013   00:9E15  06 0F 10 11 5F 5E 1E 3F 
   12014   00:9E1D                      				DB $1F,$1F,$0F,$4D,$1E,$18,$98,$FC
   12014   00:9E1D  1F 1F 0F 4D 1E 18 98 FC 
   12015   00:9E25                      				DB $F8,$F2,$16,$10,$F8,$F2,$E0,$F2
   12015   00:9E25  F8 F2 16 10 F8 F2 E0 F2 
   12016   00:9E2D                      				DB $72,$F2,$F9,$F1,$E8,$68,$7C,$2C
   12016   00:9E2D  72 F2 F9 F1 E8 68 7C 2C 
   12017   00:9E35                      				; color 10
   12018   00:9E35                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12018   00:9E35  00 00 00 00 00 00 00 00 
   12019   00:9E3D                      				DB $00,$00,$00,$02,$01,$07,$07,$03
   12019   00:9E3D  00 00 00 02 01 07 07 03 
   12020   00:9E45                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12020   00:9E45  00 00 00 00 00 00 00 00 
   12021   00:9E4D                      				DB $80,$00,$00,$00,$10,$90,$80,$D0
   12021   00:9E4D  80 00 00 00 10 90 80 D0 
   12022   00:9E55                      
   12023   00:9E55                      sprites2:		; --- BOMBERO DERECHA QUIETO
   12024   00:9E55                      				; color 1
   12025   00:9E55                      				DB $00,$03,$05,$0A,$0F,$40,$7F,$0A
   12025   00:9E55  00 03 05 0A 0F 40 7F 0A 
   12026   00:9E5D                      				DB $0A,$0F,$37,$49,$59,$2F,$1A,$03
   12026   00:9E5D  0A 0F 37 49 59 2F 1A 03 
   12027   00:9E65                      				DB $00,$F0,$50,$D0,$F0,$02,$FE,$50
   12027   00:9E65  00 F0 50 D0 F0 02 FE 50 
   12028   00:9E6D                      				DB $70,$90,$F0,$7E,$42,$FE,$60,$F0
   12028   00:9E6D  70 90 F0 7E 42 FE 60 F0 
   12029   00:9E75                      				; color 4
   12030   00:9E75                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12030   00:9E75  00 00 00 00 00 00 00 00 
   12031   00:9E7D                      				DB $02,$05,$00,$3F,$00,$05,$05,$00
   12031   00:9E7D  02 05 00 3F 00 05 05 00 
   12032   00:9E85                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12032   00:9E85  00 00 00 00 00 00 00 00 
   12033   00:9E8D                      				DB $A0,$20,$00,$FC,$00,$A0,$80,$60
   12033   00:9E8D  A0 20 00 FC 00 A0 80 60 
   12034   00:9E95                      				; color 11
   12035   00:9E95                      				DB $00,$36,$26,$10,$03,$00,$00,$00
   12035   00:9E95  00 36 26 10 03 00 00 00 
   12036   00:9E9D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12036   00:9E9D  00 00 00 00 00 00 00 00 
   12037   00:9EA5                      				DB $00,$80,$BC,$00,$60,$00,$00,$00
   12037   00:9EA5  00 80 BC 00 60 00 00 00 
   12038   00:9EAD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12038   00:9EAD  00 00 00 00 00 00 00 00 
   12039   00:9EB5                      				; 
   12040   00:9EB5                      				; --- BOMBERO DERECHA ANDANDO
   12041   00:9EB5                      				; color 1
   12042   00:9EB5                      				DB $01,$02,$05,$07,$20,$3F,$05,$05
   12042   00:9EB5  01 02 05 07 20 3F 05 05 
   12043   00:9EBD                      				DB $07,$1B,$24,$2C,$17,$0C,$0E,$07
   12043   00:9EBD  07 1B 24 2C 17 0C 0E 07 
   12044   00:9EC5                      				DB $F8,$A8,$68,$F8,$01,$FF,$28,$38
   12044   00:9EC5  F8 A8 68 F8 01 FF 28 38 
   12045   00:9ECD                      				DB $C8,$F8,$BF,$A1,$FF,$6C,$DC,$38
   12045   00:9ECD  C8 F8 BF A1 FF 6C DC 38 
   12046   00:9ED5                      				; color 4
   12047   00:9ED5                      				DB $00,$00,$00,$00,$00,$00,$00,$01
   12047   00:9ED5  00 00 00 00 00 00 00 01 
   12048   00:9EDD                      				DB $02,$00,$1F,$00,$02,$02,$00,$00
   12048   00:9EDD  02 00 1F 00 02 02 00 00 
   12049   00:9EE5                      				DB $00,$00,$00,$00,$00,$00,$00,$50
   12049   00:9EE5  00 00 00 00 00 00 00 50 
   12050   00:9EED                      				DB $90,$00,$FE,$00,$D0,$C0,$30,$00
   12050   00:9EED  90 00 FE 00 D0 C0 30 00 
   12051   00:9EF5                      				; color 11
   12052   00:9EF5                      				DB $1B,$13,$08,$03,$01,$00,$00,$00
   12052   00:9EF5  1B 13 08 03 01 00 00 00 
   12053   00:9EFD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12053   00:9EFD  00 00 00 00 00 00 00 00 
   12054   00:9F05                      				DB $40,$5E,$00,$B0,$20,$00,$00,$00
   12054   00:9F05  40 5E 00 B0 20 00 00 00 
   12055   00:9F0D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12055   00:9F0D  00 00 00 00 00 00 00 00 
   12056   00:9F15                      				; 
   12057   00:9F15                      				; --- BOMBERO IZQUIERDA QUIETO
   12058   00:9F15                      				; color 1
   12059   00:9F15                      				DB $00,$0F,$0A,$0B,$0F,$40,$7F,$0A
   12059   00:9F15  00 0F 0A 0B 0F 40 7F 0A 
   12060   00:9F1D                      				DB $0E,$09,$0F,$7E,$42,$7F,$06,$0F
   12060   00:9F1D  0E 09 0F 7E 42 7F 06 0F 
   12061   00:9F25                      				DB $00,$C0,$A0,$50,$F0,$02,$FE,$50
   12061   00:9F25  00 C0 A0 50 F0 02 FE 50 
   12062   00:9F2D                      				DB $50,$F0,$EC,$92,$9A,$F4,$58,$C0
   12062   00:9F2D  50 F0 EC 92 9A F4 58 C0 
   12063   00:9F35                      				; color 4
   12064   00:9F35                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12064   00:9F35  00 00 00 00 00 00 00 00 
   12065   00:9F3D                      				DB $05,$04,$00,$3F,$00,$05,$01,$06
   12065   00:9F3D  05 04 00 3F 00 05 01 06 
   12066   00:9F45                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12066   00:9F45  00 00 00 00 00 00 00 00 
   12067   00:9F4D                      				DB $40,$A0,$00,$FC,$00,$A0,$A0,$00
   12067   00:9F4D  40 A0 00 FC 00 A0 A0 00 
   12068   00:9F55                      
   12069   00:9F55                      				; color 9
   12070   00:9F55                      sprites3:		DB $00,$01,$3D,$00,$06,$00,$00,$00
   12070   00:9F55  00 01 3D 00 06 00 00 00 
   12071   00:9F5D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12071   00:9F5D  00 00 00 00 00 00 00 00 
   12072   00:9F65                      				DB $00,$6C,$64,$08,$C0,$00,$00,$00
   12072   00:9F65  00 6C 64 08 C0 00 00 00 
   12073   00:9F6D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12073   00:9F6D  00 00 00 00 00 00 00 00 
   12074   00:9F75                      				; 
   12075   00:9F75                      				; --- BOMBERO IZQUIERDA ANDANDO
   12076   00:9F75                      				; color 1
   12077   00:9F75                      				DB $1F,$15,$16,$1F,$80,$FF,$14,$1C
   12077   00:9F75  1F 15 16 1F 80 FF 14 1C 
   12078   00:9F7D                      				DB $13,$1F,$FD,$85,$FF,$36,$3B,$1C
   12078   00:9F7D  13 1F FD 85 FF 36 3B 1C 
   12079   00:9F85                      				DB $80,$40,$A0,$E0,$04,$FC,$A0,$A0
   12079   00:9F85  80 40 A0 E0 04 FC A0 A0 
   12080   00:9F8D                      				DB $E0,$D8,$24,$34,$E8,$30,$70,$E0
   12080   00:9F8D  E0 D8 24 34 E8 30 70 E0 
   12081   00:9F95                      				; color 4
   12082   00:9F95                      				DB $00,$00,$00,$00,$00,$00,$00,$0A
   12082   00:9F95  00 00 00 00 00 00 00 0A 
   12083   00:9F9D                      				DB $09,$00,$7F,$00,$0B,$03,$0C,$00
   12083   00:9F9D  09 00 7F 00 0B 03 0C 00 
   12084   00:9FA5                      				DB $00,$00,$00,$00,$00,$00,$00,$80
   12084   00:9FA5  00 00 00 00 00 00 00 80 
   12085   00:9FAD                      				DB $40,$00,$F8,$00,$40,$40,$00,$00
   12085   00:9FAD  40 00 F8 00 40 40 00 00 
   12086   00:9FB5                      				; color 11
   12087   00:9FB5                      				DB $02,$7A,$00,$0D,$04,$00,$00,$00
   12087   00:9FB5  02 7A 00 0D 04 00 00 00 
   12088   00:9FBD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12088   00:9FBD  00 00 00 00 00 00 00 00 
   12089   00:9FC5                      				DB $D8,$C8,$10,$C0,$80,$00,$00,$00
   12089   00:9FC5  D8 C8 10 C0 80 00 00 00 
   12090   00:9FCD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12090   00:9FCD  00 00 00 00 00 00 00 00 
   12091   00:9FD5                      				; 
   12092   00:9FD5                      				; --- BOMBERO SUBIENDO 1
   12093   00:9FD5                      				; color 1
   12094   00:9FD5                      				DB $07,$0C,$37,$54,$54,$54,$2D,$1A
   12094   00:9FD5  07 0C 37 54 54 54 2D 1A 
   12095   00:9FDD                      				DB $0F,$1f,$2F,$2A,$1A,$0F,$12,$1E
   12095   00:9FDD  0F 1F 2F 2A 1A 0F 12 1E 
   12096   00:9FE5                      				DB $E0,$30,$EC,$2A,$2A,$2A,$B4,$5C
   12096   00:9FE5  E0 30 EC 2A 2A 2A B4 5C 
   12097   00:9FED                      				DB $F2,$fE,$F2,$5C,$58,$E8,$78,$00
   12097   00:9FED  F2 FE F2 5C 58 E8 78 00 
   12098   00:9FF5                      				; color 9
   12099   00:9FF5                      				DB $00,$00,$00,$00,$00,$00,$00,$03
   12099   00:9FF5  00 00 00 00 00 00 00 03 
   12100   00:9FFD                      				DB $08,$2B,$2B,$2B,$12,$05,$00,$00
   12100   00:9FFD  08 2B 2B 2B 12 05 00 00 
   12101   00:A005                      				DB $00,$00,$00,$00,$00,$00,$00,$C0
   12101   00:A005  00 00 00 00 00 00 00 C0 
   12102   00:A00D                      				DB $10,$D4,$D4,$D4,$48,$A0,$00,$00
   12102   00:A00D  10 D4 D4 D4 48 A0 00 00 
   12103   00:A015                      spritescaebom:	; --- BOMBERO CIRCUNSATANCIAL CAYENDO
   12104   00:A015                      				; color 1
   12105   00:A015                      				DB $38,$67,$6A,$1F,$66,$E5,$3E,$AA
   12105   00:A015  38 67 6A 1F 66 E5 3E AA 
   12106   00:A01D                      				DB $59,$0A,$7F,$40,$0A,$0A,$06,$03
   12106   00:A01D  59 0A 7F 40 0A 0A 06 03 
   12107   00:A025                      				DB $1C,$E6,$56,$F8,$66,$A7,$7C,$55
   12107   00:A025  1C E6 56 F8 66 A7 7C 55 
   12108   00:A02D                      				DB $9A,$50,$FE,$02,$50,$50,$60,$C0
   12108   00:A02D  9A 50 FE 02 50 50 60 C0 
   12109   00:A035                      				; color 4
   12110   00:A035                      				DB $C1,$45,$06,$15,$00,$3F,$05,$05
   12110   00:A035  C1 45 06 15 00 3F 05 05 
   12111   00:A03D                      				DB $01,$00,$00,$00,$00,$00,$00,$00
   12111   00:A03D  01 00 00 00 00 00 00 00 
   12112   00:A045                      				DB $83,$A2,$60,$A8,$00,$FC,$A0,$A0
   12112   00:A045  83 A2 60 A8 00 FC A0 A0 
   12113   00:A04D                      				DB $80,$00,$00,$00,$00,$00,$00,$00
   12113   00:A04D  80 00 00 00 00 00 00 00 
   12114   00:A055                      				; color 9
   12115   00:A055                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12115   00:A055  00 00 00 00 00 00 00 00 
   12116   00:A05D                      				DB $00,$00,$00,$18,$15,$00,$19,$1A
   12116   00:A05D  00 00 00 18 15 00 19 1A 
   12117   00:A065                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12117   00:A065  00 00 00 00 00 00 00 00 
   12118   00:A06D                      				DB $00,$00,$00,$18,$A8,$00,$98,$58				
   12118   00:A06D  00 00 00 18 A8 00 98 58 
   12119   00:A075                      				;SIGUE BOMBERO SUBIENDO 1
   12120   00:A075                      				; color 13
   12121   00:A075                      sprites4:		DB $10,$15,$05,$00,$0C,$00,$00,$00
   12121   00:A075  10 15 05 00 0C 00 00 00 
   12122   00:A07D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12122   00:A07D  00 00 00 00 00 00 00 00 
   12123   00:A085                      				DB $0C,$A0,$A0,$10,$00,$00,$00,$00
   12123   00:A085  0C A0 A0 10 00 00 00 00 
   12124   00:A08D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12124   00:A08D  00 00 00 00 00 00 00 00 
   12125   00:A095                      				; 
   12126   00:A095                      				; --- BOMBERO SUBIENDO 2
   12127   00:A095                      				; color 1
   12128   00:A095                      				DB $07,$0C,$37,$54,$54,$54,$2D,$3A
   12128   00:A095  07 0C 37 54 54 54 2D 3A 
   12129   00:A09D                      				DB $4F,$7f,$4F,$3A,$1A,$17,$1E,$00
   12129   00:A09D  4F 7F 4F 3A 1A 17 1E 00 
   12130   00:A0A5                      				DB $E0,$30,$EC,$2A,$2A,$2A,$B4,$58
   12130   00:A0A5  E0 30 EC 2A 2A 2A B4 58 
   12131   00:A0AD                      				DB $F0,$f8,$F4,$54,$58,$F0,$48,$78
   12131   00:A0AD  F0 F8 F4 54 58 F0 48 78 
   12132   00:A0B5                      				; color 9
   12133   00:A0B5                      				DB $00,$00,$00,$00,$00,$00,$00,$03
   12133   00:A0B5  00 00 00 00 00 00 00 03 
   12134   00:A0BD                      				DB $08,$2B,$2B,$2B,$12,$05,$00,$00
   12134   00:A0BD  08 2B 2B 2B 12 05 00 00 
   12135   00:A0C5                      				DB $00,$00,$00,$00,$00,$00,$00,$C0
   12135   00:A0C5  00 00 00 00 00 00 00 C0 
   12136   00:A0CD                      				DB $10,$D4,$D4,$D4,$48,$A0,$00,$00
   12136   00:A0CD  10 D4 D4 D4 48 A0 00 00 
   12137   00:A0D5                      				; color 11
   12138   00:A0D5                      				DB $30,$05,$05,$08,$00,$00,$00,$00
   12138   00:A0D5  30 05 05 08 00 00 00 00 
   12139   00:A0DD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12139   00:A0DD  00 00 00 00 00 00 00 00 
   12140   00:A0E5                      				DB $08,$A8,$A0,$00,$30,$00,$00,$00
   12140   00:A0E5  08 A8 A0 00 30 00 00 00 
   12141   00:A0ED                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12141   00:A0ED  00 00 00 00 00 00 00 00 
   12142   00:A0F5                      				
   12143   00:A0F5                      				; --- CHORRO IZQUIERDA
   12144   00:A0F5                      				; color 9
   12145   00:A0F5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12145   00:A0F5  00 00 00 00 00 00 00 00 
   12146   00:A0FD                      				DB $00,$00,$10,$11,$02,$00,$00,$00
   12146   00:A0FD  00 00 10 11 02 00 00 00 
   12147   00:A105                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12147   00:A105  00 00 00 00 00 00 00 00 
   12148   00:A10D                      				DB $00,$00,$00,$40,$20,$00,$18,$00
   12148   00:A10D  00 00 00 40 20 00 18 00 
   12149   00:A115                      				; color 15
   12150   00:A115                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12150   00:A115  00 00 00 00 00 00 00 00 
   12151   00:A11D                      				DB $00,$01,$07,$0E,$0C,$1F,$7F,$FF
   12151   00:A11D  00 01 07 0E 0C 1F 7F FF 
   12152   00:A125                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12152   00:A125  00 00 00 00 00 00 00 00 
   12153   00:A12D                      				DB $00,$FC,$FF,$BC,$90,$F0,$E0,$F8
   12153   00:A12D  00 FC FF BC 90 F0 E0 F8 
   12154   00:A135                      				; 
   12155   00:A135                      				; --- CHORRO DERECHA
   12156   00:A135                      				; color 9
   12157   00:A135                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12157   00:A135  00 00 00 00 00 00 00 00 
   12158   00:A13D                      				DB $00,$00,$00,$02,$04,$00,$18,$00
   12158   00:A13D  00 00 00 02 04 00 18 00 
   12159   00:A145                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12159   00:A145  00 00 00 00 00 00 00 00 
   12160   00:A14D                      				DB $00,$00,$08,$88,$40,$00,$00,$00
   12160   00:A14D  00 00 08 88 40 00 00 00 
   12161   00:A155                      				; color 15
   12162   00:A155                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12162   00:A155  00 00 00 00 00 00 00 00 
   12163   00:A15D                      				DB $00,$3F,$FF,$3D,$09,$0F,$07,$1F
   12163   00:A15D  00 3F FF 3D 09 0F 07 1F 
   12164   00:A165                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12164   00:A165  00 00 00 00 00 00 00 00 
   12165   00:A16D                      				DB $00,$80,$E0,$70,$30,$F8,$FE,$FF
   12165   00:A16D  00 80 E0 70 30 F8 FE FF 
   12166   00:A175                      				; --- prota quieto derecha bomba
   12167   00:A175                      				; color 1
   12168   00:A175                      sprites5:		DB $00,$0F,$1F,$5F,$B7,$4E,$A6,$87
   12168   00:A175  00 0F 1F 5F B7 4E A6 87 
   12169   00:A17D                      				DB $4F,$3F,$44,$34,$0F,$08,$03,$00
   12169   00:A17D  4F 3F 44 34 0F 08 03 00 
   12170   00:A185                      				DB $00,$F8,$FC,$CC,$28,$28,$04,$04
   12170   00:A185  00 F8 FC CC 28 28 04 04 
   12171   00:A18D                      				DB $08,$F0,$D0,$28,$F8,$48,$E0,$00
   12171   00:A18D  08 F0 D0 28 F8 48 E0 00 
   12172   00:A195                      				; color 2
   12173   00:A195                      				DB $00,$3B,$0B,$00,$07,$00,$00,$00
   12173   00:A195  00 3B 0B 00 07 00 00 00 
   12174   00:A19D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12174   00:A19D  00 00 00 00 00 00 00 00 
   12175   00:A1A5                      				DB $00,$20,$D0,$00,$B0,$00,$00,$00
   12175   00:A1A5  00 20 D0 00 B0 00 00 00 
   12176   00:A1AD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12176   00:A1AD  00 00 00 00 00 00 00 00 
   12177   00:A1B5                      				; color 9
   12178   00:A1B5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12178   00:A1B5  00 00 00 00 00 00 00 00 
   12179   00:A1BD                      				DB $00,$00,$00,$48,$31,$59,$78,$30
   12179   00:A1BD  00 00 00 48 31 59 78 30 
   12180   00:A1C5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12180   00:A1C5  00 00 00 00 00 00 00 00 
   12181   00:A1CD                      				DB $00,$00,$30,$D0,$D0,$F8,$F8,$F0
   12181   00:A1CD  00 00 30 D0 D0 F8 F8 F0 
   12182   00:A1D5                      								; 
   12183   00:A1D5                      				; --- prota andando derecha bomba
   12184   00:A1D5                      				; color 1
   12185   00:A1D5                      sprites6:		DB $07,$0F,$2F,$5B,$27,$53,$43,$27
   12185   00:A1D5  07 0F 2F 5B 27 53 43 27 
   12186   00:A1DD                      				DB $1F,$22,$12,$0F,$08,$18,$1E,$00
   12186   00:A1DD  1F 22 12 0F 08 18 1E 00 
   12187   00:A1E5                      				DB $F8,$FC,$8C,$58,$58,$04,$84,$88
   12187   00:A1E5  F8 FC 8C 58 58 04 84 88 
   12188   00:A1ED                      				DB $F8,$D8,$24,$FC,$66,$AE,$1C,$00
   12188   00:A1ED  F8 D8 24 FC 66 AE 1C 00 
   12189   00:A1F5                      				; color 5
   12190   00:A1F5                      				DB $1D,$0D,$00,$07,$07,$00,$00,$00
   12190   00:A1F5  1D 0D 00 07 07 00 00 00 
   12191   00:A1FD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12191   00:A1FD  00 00 00 00 00 00 00 00 
   12192   00:A205                      				DB $20,$D8,$00,$98,$10,$00,$00,$00
   12192   00:A205  20 D8 00 98 10 00 00 00 
   12193   00:A20D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12193   00:A20D  00 00 00 00 00 00 00 00 
   12194   00:A215                      				; color 9
   12195   00:A215                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12195   00:A215  00 00 00 00 00 00 00 00 
   12196   00:A21D                      				DB $00,$00,$24,$18,$2C,$3C,$18,$00
   12196   00:A21D  00 00 24 18 2C 3C 18 00 
   12197   00:A225                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12197   00:A225  00 00 00 00 00 00 00 00 
   12198   00:A22D                      				DB $00,$70,$A0,$A0,$F8,$78,$70,$00
   12198   00:A22D  00 70 A0 A0 F8 78 70 00 
   12199   00:A235                      				; 
   12200   00:A235                      				; --- prota quieto izquierda bomba
   12201   00:A235                      				; color 1
   12202   00:A235                      sprites7:		DB $00,$1F,$3F,$33,$14,$14,$20,$20
   12202   00:A235  00 1F 3F 33 14 14 20 20 
   12203   00:A23D                      				DB $10,$0F,$0B,$14,$1F,$12,$07,$00
   12203   00:A23D  10 0F 0B 14 1F 12 07 00 
   12204   00:A245                      				DB $00,$F0,$F8,$FA,$ED,$72,$65,$E1
   12204   00:A245  00 F0 F8 FA ED 72 65 E1 
   12205   00:A24D                      				DB $F2,$FC,$22,$2C,$F0,$10,$C0,$00
   12205   00:A24D  F2 FC 22 2C F0 10 C0 00 
   12206   00:A255                      				; color 2
   12207   00:A255                      				DB $00,$04,$0B,$00,$0D,$00,$00,$00
   12207   00:A255  00 04 0B 00 0D 00 00 00 
   12208   00:A25D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12208   00:A25D  00 00 00 00 00 00 00 00 
   12209   00:A265                      				DB $00,$DC,$D0,$00,$E0,$00,$00,$00
   12209   00:A265  00 DC D0 00 E0 00 00 00 
   12210   00:A26D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12210   00:A26D  00 00 00 00 00 00 00 00 
   12211   00:A275                      				; color 9
   12212   00:A275                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12212   00:A275  00 00 00 00 00 00 00 00 
   12213   00:A27D                      				DB $00,$00,$0C,$0B,$0B,$1F,$1F,$0F
   12213   00:A27D  00 00 0C 0B 0B 1F 1F 0F 
   12214   00:A285                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12214   00:A285  00 00 00 00 00 00 00 00 
   12215   00:A28D                      				DB $00,$00,$00,$12,$8C,$9A,$1E,$0C
   12215   00:A28D  00 00 00 12 8C 9A 1E 0C 
   12216   00:A295                      				; 
   12217   00:A295                      				; --- prota andando izquierda bomba
   12218   00:A295                      				; color 1
   12219   00:A295                      sprites8:		DB $1F,$3F,$31,$1A,$1A,$20,$21,$11
   12219   00:A295  1F 3F 31 1A 1A 20 21 11 
   12220   00:A29D                      				DB $1F,$1B,$24,$3F,$66,$75,$38,$00
   12220   00:A29D  1F 1B 24 3F 66 75 38 00 
   12221   00:A2A5                      				DB $E0,$F0,$F4,$DA,$E4,$CA,$C2,$E4
   12221   00:A2A5  E0 F0 F4 DA E4 CA C2 E4 
   12222   00:A2AD                      				DB $F8,$44,$48,$F0,$10,$18,$78,$00
   12222   00:A2AD  F8 44 48 F0 10 18 78 00 
   12223   00:A2B5                      				; color 5
   12224   00:A2B5                      				DB $04,$1B,$00,$19,$08,$00,$00,$00
   12224   00:A2B5  04 1B 00 19 08 00 00 00 
   12225   00:A2BD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12225   00:A2BD  00 00 00 00 00 00 00 00 
   12226   00:A2C5                      				DB $B8,$B0,$00,$E0,$E0,$00,$00,$00
   12226   00:A2C5  B8 B0 00 E0 E0 00 00 00 
   12227   00:A2CD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12227   00:A2CD  00 00 00 00 00 00 00 00 
   12228   00:A2D5                      				; color 9
   12229   00:A2D5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12229   00:A2D5  00 00 00 00 00 00 00 00 
   12230   00:A2DD                      				DB $00,$0E,$05,$05,$1F,$1E,$0E,$00
   12230   00:A2DD  00 0E 05 05 1F 1E 0E 00 
   12231   00:A2E5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12231   00:A2E5  00 00 00 00 00 00 00 00 
   12232   00:A2ED                      				DB $00,$00,$24,$18,$34,$3C,$18,$00
   12232   00:A2ED  00 00 24 18 34 3C 18 00 
   12233   00:A2F5                      				;
   12234   00:A2F5                      sprites17:		; --- altern prota subir bomba uno
   12235   00:A2F5                      				; color 1
   12236   00:A2F5                      				DB $00,$07,$BF,$4F,$97,$87,$4F,$9F
   12236   00:A2F5  00 07 BF 4F 97 87 4F 9F 
   12237   00:A2FD                      				DB $7F,$5D,$4B,$28,$1C,$17,$10,$00
   12237   00:A2FD  7F 5D 4B 28 1C 17 10 00 
   12238   00:A305                      				DB $00,$E0,$F0,$F8,$F8,$F8,$F8,$F0
   12238   00:A305  00 E0 F0 F8 F8 F8 F8 F0 
   12239   00:A30D                      				DB $F8,$FC,$D4,$14,$38,$E8,$08,$70
   12239   00:A30D  F8 FC D4 14 38 E8 08 70 
   12240   00:A315                      				; color 2
   12241   00:A315                      				DB $22,$34,$17,$03,$08,$0F,$00,$00
   12241   00:A315  22 34 17 03 08 0F 00 00 
   12242   00:A31D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12242   00:A31D  00 00 00 00 00 00 00 00 
   12243   00:A325                      				DB $00,$28,$E8,$C0,$10,$F0,$00,$00
   12243   00:A325  00 28 E8 C0 10 F0 00 00 
   12244   00:A32D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12244   00:A32D  00 00 00 00 00 00 00 00 
   12245   00:A335                      				; color 9
   12246   00:A335                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12246   00:A335  00 00 00 00 00 00 00 00 
   12247   00:A33D                      				DB $00,$00,$30,$68,$78,$30,$60,$00
   12247   00:A33D  00 00 30 68 78 30 60 00 
   12248   00:A345                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12248   00:A345  00 00 00 00 00 00 00 00 
   12249   00:A34D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12249   00:A34D  00 00 00 00 00 00 00 00 
   12250   00:A355                      				; 
   12251   00:A355                      				; --- altern prota subir bomba dos
   12252   00:A355                      				; color 1
   12253   00:A355                      				DB $00,$03,$07,$BF,$4F,$97,$87,$4F
   12253   00:A355  00 03 07 BF 4F 97 87 4F 
   12254   00:A35D                      				DB $7F,$3D,$2B,$28,$1C,$17,$10,$0E
   12254   00:A35D  7F 3D 2B 28 1C 17 10 0E 
   12255   00:A365                      				DB $00,$E0,$F0,$F8,$F8,$FC,$FA,$F2
   12255   00:A365  00 E0 F0 F8 F8 FC FA F2 
   12256   00:A36D                      				DB $FE,$FA,$D2,$14,$38,$E8,$08,$00
   12256   00:A36D  FE FA D2 14 38 E8 08 00 
   12257   00:A375                      				; color 2
   12258   00:A375                      				DB $02,$14,$17,$03,$08,$0F,$00,$00
   12258   00:A375  02 14 17 03 08 0F 00 00 
   12259   00:A37D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12259   00:A37D  00 00 00 00 00 00 00 00 
   12260   00:A385                      				DB $04,$2C,$E8,$C0,$10,$F0,$00,$00
   12260   00:A385  04 2C E8 C0 10 F0 00 00 
   12261   00:A38D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12261   00:A38D  00 00 00 00 00 00 00 00 
   12262   00:A395                      				; color 9
   12263   00:A395                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12263   00:A395  00 00 00 00 00 00 00 00 
   12264   00:A39D                      				DB $00,$00,$00,$30,$68,$78,$30,$00
   12264   00:A39D  00 00 00 30 68 78 30 00 
   12265   00:A3A5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12265   00:A3A5  00 00 00 00 00 00 00 00 
   12266   00:A3AD                      				DB $00,$00,$00,$00,$00,$04,$0C,$00
   12266   00:A3AD  00 00 00 00 00 04 0C 00 
   12267   00:A3B5                      				; 
   12268   00:A3B5                      				; --- prota quieto derecha cuchillo
   12269   00:A3B5                      				; color 1
   12270   00:A3B5                      sprites9:		DB $00,$07,$0F,$17,$23,$23,$23,$7F
   12270   00:A3B5  00 07 0F 17 23 23 23 7F 
   12271   00:A3BD                      				DB $4B,$3F,$22,$24,$1F,$08,$03,$00
   12271   00:A3BD  4B 3F 22 24 1F 08 03 00 
   12272   00:A3C5                      				DB $00,$F8,$FC,$CC,$A8,$28,$04,$84
   12272   00:A3C5  00 F8 FC CC A8 28 04 84 
   12273   00:A3CD                      				DB $88,$F0,$D0,$28,$F8,$48,$E0,$00
   12273   00:A3CD  88 F0 D0 28 F8 48 E0 00 
   12274   00:A3D5                      				; color 5
   12275   00:A3D5                      				DB $00,$1D,$1B,$00,$07,$00,$00,$00
   12275   00:A3D5  00 1D 1B 00 07 00 00 00 
   12276   00:A3DD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12276   00:A3DD  00 00 00 00 00 00 00 00 
   12277   00:A3E5                      				DB $00,$20,$D0,$00,$B0,$00,$00,$00
   12277   00:A3E5  00 20 D0 00 B0 00 00 00 
   12278   00:A3ED                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12278   00:A3ED  00 00 00 00 00 00 00 00 
   12279   00:A3F5                      				; color 9
   12280   00:A3F5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12280   00:A3F5  00 00 00 00 00 00 00 00 
   12281   00:A3FD                      				DB $00,$00,$08,$1C,$1C,$1C,$00,$34
   12281   00:A3FD  00 00 08 1C 1C 1C 00 34 
   12282   00:A405                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12282   00:A405  00 00 00 00 00 00 00 00 
   12283   00:A40D                      				DB $00,$00,$30,$50,$D0,$F8,$78,$70
   12283   00:A40D  00 00 30 50 D0 F8 78 70 
   12284   00:A415                      				; 
   12285   00:A415                      				; --- prota andando derecha cuchillo
   12286   00:A415                      				; color 1
   12287   00:A415                      sprites10:		DB $07,$0F,$17,$23,$23,$23,$7F,$45
   12287   00:A415  07 0F 17 23 23 23 7F 45 
   12288   00:A41D                      				DB $3F,$22,$24,$1F,$08,$18,$1E,$00
   12288   00:A41D  3F 22 24 1F 08 18 1E 00 
   12289   00:A425                      				DB $F8,$FC,$8C,$58,$58,$04,$84,$88
   12289   00:A425  F8 FC 8C 58 58 04 84 88 
   12290   00:A42D                      				DB $F8,$C8,$44,$FC,$66,$AE,$1C,$00
   12290   00:A42D  F8 C8 44 FC 66 AE 1C 00 
   12291   00:A435                      				; color 5
   12292   00:A435                      				DB $1D,$1B,$00,$07,$07,$00,$00,$00
   12292   00:A435  1D 1B 00 07 07 00 00 00 
   12293   00:A43D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12293   00:A43D  00 00 00 00 00 00 00 00 
   12294   00:A445                      				DB $30,$B8,$00,$98,$50,$00,$00,$00
   12294   00:A445  30 B8 00 98 50 00 00 00 
   12295   00:A44D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12295   00:A44D  00 00 00 00 00 00 00 00 
   12296   00:A455                      				; color 9
   12297   00:A455                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12297   00:A455  00 00 00 00 00 00 00 00 
   12298   00:A45D                      				DB $00,$08,$1C,$1C,$1C,$00,$3A,$00
   12298   00:A45D  00 08 1C 1C 1C 00 3A 00 
   12299   00:A465                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12299   00:A465  00 00 00 00 00 00 00 00 
   12300   00:A46D                      				DB $00,$70,$A0,$A0,$F8,$78,$70,$00
   12300   00:A46D  00 70 A0 A0 F8 78 70 00 
   12301   00:A475                      				; 
   12302   00:A475                      				; --- prota quieto izquierda cuchillo
   12303   00:A475                      				; color 1
   12304   00:A475                      sprites11:		DB $00,$1F,$3F,$33,$15,$14,$20,$21
   12304   00:A475  00 1F 3F 33 15 14 20 21 
   12305   00:A47D                      				DB $11,$0F,$0B,$14,$1F,$12,$07,$00
   12305   00:A47D  11 0F 0B 14 1F 12 07 00 
   12306   00:A485                      				DB $00,$E0,$F0,$E8,$C4,$C4,$C4,$FE
   12306   00:A485  00 E0 F0 E8 C4 C4 C4 FE 
   12307   00:A48D                      				DB $D2,$FC,$44,$24,$F8,$10,$C0,$00
   12307   00:A48D  D2 FC 44 24 F8 10 C0 00 
   12308   00:A495                      								; color 5
   12309   00:A495                      				DB $00,$04,$0B,$00,$0D,$00,$00,$00
   12309   00:A495  00 04 0B 00 0D 00 00 00 
   12310   00:A49D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12310   00:A49D  00 00 00 00 00 00 00 00 
   12311   00:A4A5                      				DB $00,$B8,$D8,$00,$E0,$00,$00,$00
   12311   00:A4A5  00 B8 D8 00 E0 00 00 00 
   12312   00:A4AD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12312   00:A4AD  00 00 00 00 00 00 00 00 
   12313   00:A4B5                      				; color 9
   12314   00:A4B5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12314   00:A4B5  00 00 00 00 00 00 00 00 
   12315   00:A4BD                      				DB $00,$00,$0C,$0A,$0B,$1F,$1E,$0E
   12315   00:A4BD  00 00 0C 0A 0B 1F 1E 0E 
   12316   00:A4C5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12316   00:A4C5  00 00 00 00 00 00 00 00 
   12317   00:A4CD                      				DB $00,$00,$10,$38,$38,$38,$00,$2C
   12317   00:A4CD  00 00 10 38 38 38 00 2C 
   12318   00:A4D5                      				; 
   12319   00:A4D5                      				; --- prota andando izquierda cuchillo
   12320   00:A4D5                      				; color 1
   12321   00:A4D5                      sprites12:		DB $1F,$3F,$31,$1A,$1A,$20,$21,$11
   12321   00:A4D5  1F 3F 31 1A 1A 20 21 11 
   12322   00:A4DD                      				DB $1F,$13,$22,$3F,$66,$75,$38,$00
   12322   00:A4DD  1F 13 22 3F 66 75 38 00 
   12323   00:A4E5                      				DB $E0,$F0,$E8,$C4,$C4,$C4,$FE,$A2
   12323   00:A4E5  E0 F0 E8 C4 C4 C4 FE A2 
   12324   00:A4ED                      				DB $FC,$44,$24,$F8,$10,$18,$78,$00
   12324   00:A4ED  FC 44 24 F8 10 18 78 00 
   12325   00:A4F5                      								; color 5
   12326   00:A4F5                      				DB $0C,$1D,$00,$19,$0A,$00,$00,$00
   12326   00:A4F5  0C 1D 00 19 0A 00 00 00 
   12327   00:A4FD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12327   00:A4FD  00 00 00 00 00 00 00 00 
   12328   00:A505                      				DB $B8,$D8,$00,$E0,$E0,$00,$00,$00
   12328   00:A505  B8 D8 00 E0 E0 00 00 00 
   12329   00:A50D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12329   00:A50D  00 00 00 00 00 00 00 00 
   12330   00:A515                      				; color 9
   12331   00:A515                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12331   00:A515  00 00 00 00 00 00 00 00 
   12332   00:A51D                      				DB $00,$0E,$05,$05,$1F,$1E,$0E,$00
   12332   00:A51D  00 0E 05 05 1F 1E 0E 00 
   12333   00:A525                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12333   00:A525  00 00 00 00 00 00 00 00 
   12334   00:A52D                      				DB $00,$10,$38,$38,$38,$00,$5C,$00
   12334   00:A52D  00 10 38 38 38 00 5C 00 
   12335   00:A535                      sprites18:		; --- altern prota subir cuchillo uno
   12336   00:A535                      				; color 1
   12337   00:A535                      				DB $00,$27,$5F,$9F,$9F,$9F,$FF,$AF
   12337   00:A535  00 27 5F 9F 9F 9F FF AF 
   12338   00:A53D                      				DB $7F,$5D,$4B,$28,$1C,$17,$10,$00
   12338   00:A53D  7F 5D 4B 28 1C 17 10 00 
   12339   00:A545                      				DB $00,$E0,$F0,$F8,$F8,$F8,$F8,$F0
   12339   00:A545  00 E0 F0 F8 F8 F8 F8 F0 
   12340   00:A54D                      				DB $F8,$FC,$D4,$14,$38,$E8,$08,$70
   12340   00:A54D  F8 FC D4 14 38 E8 08 70 
   12341   00:A555                      				; color 2
   12342   00:A555                      				DB $22,$34,$17,$03,$08,$0F,$00,$00
   12342   00:A555  22 34 17 03 08 0F 00 00 
   12343   00:A55D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12343   00:A55D  00 00 00 00 00 00 00 00 
   12344   00:A565                      				DB $00,$28,$E8,$C0,$10,$F0,$00,$00
   12344   00:A565  00 28 E8 C0 10 F0 00 00 
   12345   00:A56D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12345   00:A56D  00 00 00 00 00 00 00 00 
   12346   00:A575                      				; color 9
   12347   00:A575                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12347   00:A575  00 00 00 00 00 00 00 00 
   12348   00:A57D                      				DB $00,$20,$60,$60,$60,$00,$50,$00
   12348   00:A57D  00 20 60 60 60 00 50 00 
   12349   00:A585                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12349   00:A585  00 00 00 00 00 00 00 00 
   12350   00:A58D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12350   00:A58D  00 00 00 00 00 00 00 00 
   12351   00:A595                      				; 
   12352   00:A595                      				; --- altern prota subir cuchillo dos
   12353   00:A595                      				; color 1
   12354   00:A595                      				DB $00,$07,$0F,$1F,$3F,$5F,$5F,$5F
   12354   00:A595  00 07 0F 1F 3F 5F 5F 5F 
   12355   00:A59D                      				DB $7F,$7D,$2B,$28,$1C,$17,$10,$0E
   12355   00:A59D  7F 7D 2B 28 1C 17 10 0E 
   12356   00:A5A5                      				DB $00,$E0,$F0,$F8,$F8,$FC,$FA,$F2
   12356   00:A5A5  00 E0 F0 F8 F8 FC FA F2 
   12357   00:A5AD                      				DB $FE,$FA,$D2,$14,$38,$E8,$08,$00
   12357   00:A5AD  FE FA D2 14 38 E8 08 00 
   12358   00:A5B5                      				; color 2
   12359   00:A5B5                      				DB $02,$14,$17,$03,$08,$0F,$00,$00
   12359   00:A5B5  02 14 17 03 08 0F 00 00 
   12360   00:A5BD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12360   00:A5BD  00 00 00 00 00 00 00 00 
   12361   00:A5C5                      				DB $04,$2C,$E8,$C0,$10,$F0,$00,$00
   12361   00:A5C5  04 2C E8 C0 10 F0 00 00 
   12362   00:A5CD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12362   00:A5CD  00 00 00 00 00 00 00 00 
   12363   00:A5D5                      				; color 9
   12364   00:A5D5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12364   00:A5D5  00 00 00 00 00 00 00 00 
   12365   00:A5DD                      				DB $00,$00,$00,$00,$20,$20,$20,$00
   12365   00:A5DD  00 00 00 00 20 20 20 00 
   12366   00:A5E5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12366   00:A5E5  00 00 00 00 00 00 00 00 
   12367   00:A5ED                      				DB $00,$00,$00,$00,$00,$04,$0C,$00
   12367   00:A5ED  00 00 00 00 00 04 0C 00 
   12368   00:A5F5                      			
   12369   00:A5F5                      				; --- petiso quieto
   12370   00:A5F5                      				; color 1
   12371   00:A5F5                      sprites_pet:	DB $01,$02,$04,$04,$0F,$10,$10,$0F
   12371   00:A5F5  01 02 04 04 0F 10 10 0F 
   12372   00:A5FD                      				DB $08,$10,$10,$10,$14,$0C,$13,$0C
   12372   00:A5FD  08 10 10 10 14 0C 13 0C 
   12373   00:A605                      				DB $C0,$30,$08,$08,$08,$90,$B0,$18
   12373   00:A605  C0 30 08 08 08 90 B0 18 
   12374   00:A60D                      				DB $08,$44,$2C,$14,$04,$38,$E4,$38
   12374   00:A60D  08 44 2C 14 04 38 E4 38 
   12375   00:A615                      				; color 4
   12376   00:A615                      				DB $00,$00,$00,$02,$00,$00,$00,$00
   12376   00:A615  00 00 00 02 00 00 00 00 
   12377   00:A61D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12377   00:A61D  00 00 00 00 00 00 00 00 
   12378   00:A625                      				DB $00,$00,$00,$80,$00,$00,$00,$00
   12378   00:A625  00 00 00 80 00 00 00 00 
   12379   00:A62D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12379   00:A62D  00 00 00 00 00 00 00 00 
   12380   00:A635                      				; color 10
   12381   00:A635                      				DB $00,$00,$03,$01,$00,$00,$0E,$00
   12381   00:A635  00 00 03 01 00 00 0E 00 
   12382   00:A63D                      				DB $07,$0F,$0F,$0F,$0B,$03,$08,$00
   12382   00:A63D  07 0F 0F 0F 0B 03 08 00 
   12383   00:A645                      				DB $00,$00,$C0,$60,$E0,$60,$40,$C0
   12383   00:A645  00 00 C0 60 E0 60 40 C0 
   12384   00:A64D                      				DB $E0,$B0,$C0,$E0,$E0,$00,$10,$00
   12384   00:A64D  E0 B0 C0 E0 E0 00 10 00 
   12385   00:A655                      				; color 11
   12386   00:A655                      				DB $00,$01,$00,$00,$00,$0F,$01,$00
   12386   00:A655  00 01 00 00 00 0F 01 00 
   12387   00:A65D                      				DB $00,$00,$00,$00,$00,$00,$04,$00
   12387   00:A65D  00 00 00 00 00 00 04 00 
   12388   00:A665                      				DB $00,$C0,$30,$10,$10,$00,$00,$20
   12388   00:A665  00 C0 30 10 10 00 00 20 
   12389   00:A66D                      				DB $10,$08,$10,$08,$18,$C0,$08,$00
   12389   00:A66D  10 08 10 08 18 C0 08 00 
   12390   00:A675                      				; 
   12391   00:A675                      				; --- petiso salto
   12392   00:A675                      				; color 1
   12393   00:A675                      				DB $01,$02,$04,$04,$0F,$10,$10,$0F
   12393   00:A675  01 02 04 04 0F 10 10 0F 
   12394   00:A67D                      				DB $08,$10,$10,$30,$48,$3C,$07,$00
   12394   00:A67D  08 10 10 30 48 3C 07 00 
   12395   00:A685                      				DB $C0,$30,$08,$08,$08,$96,$B9,$02
   12395   00:A685  C0 30 08 08 08 96 B9 02 
   12396   00:A68D                      				DB $04,$1C,$04,$0C,$12,$3C,$C0,$00
   12396   00:A68D  04 1C 04 0C 12 3C C0 00 
   12397   00:A695                      				; color 4
   12398   00:A695                      				DB $00,$00,$00,$02,$00,$00,$00,$00
   12398   00:A695  00 00 00 02 00 00 00 00 
   12399   00:A69D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12399   00:A69D  00 00 00 00 00 00 00 00 
   12400   00:A6A5                      				DB $00,$00,$00,$80,$00,$00,$00,$00
   12400   00:A6A5  00 00 00 80 00 00 00 00 
   12401   00:A6AD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12401   00:A6AD  00 00 00 00 00 00 00 00 
   12402   00:A6B5                      				; color 10
   12403   00:A6B5                      				DB $00,$00,$03,$01,$00,$08,$0E,$00
   12403   00:A6B5  00 00 03 01 00 08 0E 00 
   12404   00:A6BD                      				DB $07,$0F,$0F,$0F,$27,$03,$00,$00
   12404   00:A6BD  07 0F 0F 0F 27 03 00 00 
   12405   00:A6C5                      				DB $00,$00,$C0,$60,$E0,$60,$44,$F8
   12405   00:A6C5  00 00 C0 60 E0 60 44 F8 
   12406   00:A6CD                      				DB $F0,$E0,$F0,$E0,$C8,$00,$00,$00
   12406   00:A6CD  F0 E0 F0 E0 C8 00 00 00 
   12407   00:A6D5                      				; color 11
   12408   00:A6D5                      				DB $00,$01,$00,$00,$00,$07,$01,$00
   12408   00:A6D5  00 01 00 00 00 07 01 00 
   12409   00:A6DD                      				DB $00,$00,$00,$00,$10,$00,$00,$00
   12409   00:A6DD  00 00 00 00 10 00 00 00 
   12410   00:A6E5                      				DB $00,$C0,$30,$10,$10,$00,$02,$04
   12410   00:A6E5  00 C0 30 10 10 00 02 04 
   12411   00:A6ED                      				DB $08,$00,$08,$10,$24,$C0,$00,$00
   12411   00:A6ED  08 00 08 10 24 C0 00 00 
   12412   00:A6F5                      				; --- exp 1
   12413   00:A6F5                      				; color 1
   12414   00:A6F5                      sprites_exp:	DB $78,$84,$9C,$AA,$99,$A4,$9A,$84
   12414   00:A6F5  78 84 9C AA 99 A4 9A 84 
   12415   00:A6FD                      				DB $79,$0A,$04,$00,$00,$00,$00,$00
   12415   00:A6FD  79 0A 04 00 00 00 00 00 
   12416   00:A705                      				DB $1E,$21,$2D,$5D,$91,$2E,$68,$28
   12416   00:A705  1E 21 2D 5D 91 2E 68 28 
   12417   00:A70D                      				DB $90,$52,$25,$02,$00,$00,$00,$00
   12417   00:A70D  90 52 25 02 00 00 00 00 
   12418   00:A715                      				; color 6
   12419   00:A715                      				DB $00,$70,$60,$00,$44,$03,$61,$73
   12419   00:A715  00 70 60 00 44 03 61 73 
   12420   00:A71D                      				DB $04,$00,$00,$00,$00,$00,$00,$00
   12420   00:A71D  04 00 00 00 00 00 00 00 
   12421   00:A725                      				DB $00,$1C,$00,$00,$4C,$80,$00,$C0
   12421   00:A725  00 1C 00 00 4C 80 00 C0 
   12422   00:A72D                      				DB $40,$00,$02,$00,$00,$00,$00,$00
   12422   00:A72D  40 00 02 00 00 00 00 00 
   12423   00:A735                      				; color 9
   12424   00:A735                      				DB $00,$08,$00,$44,$22,$40,$00,$08
   12424   00:A735  00 08 00 44 22 40 00 08 
   12425   00:A73D                      				DB $02,$04,$00,$00,$00,$00,$00,$00
   12425   00:A73D  02 04 00 00 00 00 00 00 
   12426   00:A745                      				DB $00,$02,$12,$22,$22,$50,$90,$10
   12426   00:A745  00 02 12 22 22 50 90 10 
   12427   00:A74D                      				DB $20,$20,$00,$00,$00,$00,$00,$00
   12427   00:A74D  20 20 00 00 00 00 00 00 
   12428   00:A755                      				; --- exp 2
   12429   00:A755                      				; color 1
   12430   00:A755                      				DB $1C,$22,$2E,$24,$2D,$22,$2D,$22
   12430   00:A755  1C 22 2E 24 2D 22 2D 22 
   12431   00:A75D                      				DB $1D,$04,$02,$00,$00,$00,$00,$00
   12431   00:A75D  1D 04 02 00 00 00 00 00 
   12432   00:A765                      				DB $38,$44,$54,$34,$A4,$58,$50,$50
   12432   00:A765  38 44 54 34 A4 58 50 50 
   12433   00:A76D                      				DB $A0,$22,$45,$02,$00,$00,$00,$00
   12433   00:A76D  A0 22 45 02 00 00 00 00 
   12434   00:A775                      				; color 6
   12435   00:A775                      				DB $00,$18,$10,$00,$12,$01,$10,$19
   12435   00:A775  00 18 10 00 12 01 10 19 
   12436   00:A77D                      				DB $02,$00,$00,$00,$00,$00,$00,$00
   12436   00:A77D  02 00 00 00 00 00 00 00 
   12437   00:A785                      				DB $00,$30,$00,$00,$10,$80,$00,$80
   12437   00:A785  00 30 00 00 10 80 00 80 
   12438   00:A78D                      				DB $00,$00,$02,$00,$00,$00,$00,$00
   12438   00:A78D  00 00 02 00 00 00 00 00 
   12439   00:A795                      				; color 9
   12440   00:A795                      				DB $00,$04,$00,$12,$00,$10,$00,$04
   12440   00:A795  00 04 00 12 00 10 00 04 
   12441   00:A79D                      				DB $00,$02,$00,$00,$00,$00,$00,$00
   12441   00:A79D  00 02 00 00 00 00 00 00 
   12442   00:A7A5                      				DB $00,$08,$28,$48,$48,$20,$A0,$20
   12442   00:A7A5  00 08 28 48 48 20 A0 20 
   12443   00:A7AD                      				DB $40,$40,$00,$00,$00,$00,$00,$00
   12443   00:A7AD  40 40 00 00 00 00 00 00 
   12444   00:A7B5                      				; --- exp 3
   12445   00:A7B5                      				; color 1
   12446   00:A7B5                      				DB $01,$02,$02,$02,$02,$02,$02,$02
   12446   00:A7B5  01 02 02 02 02 02 02 02 
   12447   00:A7BD                      				DB $02,$02,$01,$00,$00,$00,$00,$00
   12447   00:A7BD  02 02 01 00 00 00 00 00 
   12448   00:A7C5                      				DB $80,$40,$40,$40,$40,$40,$40,$40
   12448   00:A7C5  80 40 40 40 40 40 40 40 
   12449   00:A7CD                      				DB $40,$42,$85,$02,$00,$00,$00,$00
   12449   00:A7CD  40 42 85 02 00 00 00 00 
   12450   00:A7D5                      				; color 6
   12451   00:A7D5                      				DB $00,$01,$01,$01,$01,$01,$01,$01
   12451   00:A7D5  00 01 01 01 01 01 01 01 
   12452   00:A7DD                      				DB $01,$01,$00,$00,$00,$00,$00,$00
   12452   00:A7DD  01 01 00 00 00 00 00 00 
   12453   00:A7E5                      				DB $00,$80,$00,$00,$00,$00,$00,$00
   12453   00:A7E5  00 80 00 00 00 00 00 00 
   12454   00:A7ED                      				DB $00,$80,$02,$00,$00,$00,$00,$00
   12454   00:A7ED  00 80 02 00 00 00 00 00 
   12455   00:A7F5                      				; color 9
   12456   00:A7F5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12456   00:A7F5  00 00 00 00 00 00 00 00 
   12457   00:A7FD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12457   00:A7FD  00 00 00 00 00 00 00 00 
   12458   00:A805                      				DB $00,$00,$80,$80,$80,$80,$80,$80
   12458   00:A805  00 00 80 80 80 80 80 80 
   12459   00:A80D                      				DB $80,$00,$00,$00,$00,$00,$00,$00
   12459   00:A80D  80 00 00 00 00 00 00 00 
   12460   00:A815                      				; --- exp 4
   12461   00:A815                      				; color 1
   12462   00:A815                      				DB $1C,$22,$2A,$2C,$25,$1A,$0A,$0A
   12462   00:A815  1C 22 2A 2C 25 1A 0A 0A 
   12463   00:A81D                      				DB $05,$04,$02,$00,$00,$00,$00,$00
   12463   00:A81D  05 04 02 00 00 00 00 00 
   12464   00:A825                      				DB $38,$44,$74,$24,$B4,$44,$B4,$44
   12464   00:A825  38 44 74 24 B4 44 B4 44 
   12465   00:A82D                      				DB $B8,$22,$45,$02,$00,$00,$00,$00
   12465   00:A82D  B8 22 45 02 00 00 00 00 
   12466   00:A835                      				; color 6
   12467   00:A835                      				DB $00,$0C,$00,$00,$08,$01,$00,$01
   12467   00:A835  00 0C 00 00 08 01 00 01 
   12468   00:A83D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12468   00:A83D  00 00 00 00 00 00 00 00 
   12469   00:A845                      				DB $00,$18,$08,$00,$48,$80,$08,$98
   12469   00:A845  00 18 08 00 48 80 08 98 
   12470   00:A84D                      				DB $40,$00,$02,$00,$00,$00,$00,$00
   12470   00:A84D  40 00 02 00 00 00 00 00 
   12471   00:A855                      				; color 9
   12472   00:A855                      				DB $00,$10,$14,$12,$12,$04,$05,$04
   12472   00:A855  00 10 14 12 12 04 05 04 
   12473   00:A85D                      				DB $02,$02,$00,$00,$00,$00,$00,$00
   12473   00:A85D  02 02 00 00 00 00 00 00 
   12474   00:A865                      				DB $00,$20,$00,$48,$00,$08,$00,$20
   12474   00:A865  00 20 00 48 00 08 00 20 
   12475   00:A86D                      				DB $00,$40,$00,$00,$00,$00,$00,$00
   12475   00:A86D  00 40 00 00 00 00 00 00 
   12476   00:A875                      				; --- exp 5
   12477   00:A875                      				; color 1
   12478   00:A875                      				DB $78,$84,$B4,$BA,$89,$74,$16,$14
   12478   00:A875  78 84 B4 BA 89 74 16 14 
   12479   00:A87D                      				DB $09,$0A,$04,$00,$00,$00,$00,$00
   12479   00:A87D  09 0A 04 00 00 00 00 00 
   12480   00:A885                      				DB $1E,$21,$39,$55,$99,$25,$59,$21
   12480   00:A885  1E 21 39 55 99 25 59 21 
   12481   00:A88D                      				DB $9E,$52,$25,$02,$00,$00,$00,$00
   12481   00:A88D  9E 52 25 02 00 00 00 00 
   12482   00:A895                      				; color 6
   12483   00:A895                      				DB $00,$38,$00,$00,$32,$01,$00,$03
   12483   00:A895  00 38 00 00 32 01 00 03 
   12484   00:A89D                      				DB $02,$00,$00,$00,$00,$00,$00,$00
   12484   00:A89D  02 00 00 00 00 00 00 00 
   12485   00:A8A5                      				DB $00,$0E,$06,$00,$22,$C0,$86,$CE
   12485   00:A8A5  00 0E 06 00 22 C0 86 CE 
   12486   00:A8AD                      				DB $20,$00,$02,$00,$00,$00,$00,$00
   12486   00:A8AD  20 00 02 00 00 00 00 00 
   12487   00:A8B5                      				; color 9
   12488   00:A8B5                      				DB $00,$40,$48,$44,$44,$0A,$09,$08
   12488   00:A8B5  00 40 48 44 44 0A 09 08 
   12489   00:A8BD                      				DB $04,$04,$00,$00,$00,$00,$00,$00
   12489   00:A8BD  04 04 00 00 00 00 00 00 
   12490   00:A8C5                      				DB $00,$10,$00,$22,$44,$02,$00,$10
   12490   00:A8C5  00 10 00 22 44 02 00 10 
   12491   00:A8CD                      				DB $40,$20,$00,$00,$00,$00,$00,$00
   12491   00:A8CD  40 20 00 00 00 00 00 00 
   12492   00:A8D5                      
   12493   00:A8D5                      sprites_bomb_a:	; --- bombero mano 1
   12494   00:A8D5                      				; color 1
   12495   00:A8D5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12495   00:A8D5  00 00 00 00 00 00 00 00 
   12496   00:A8DD                      				DB $00,$00,$00,$00,$00,$00,$18,$24
   12496   00:A8DD  00 00 00 00 00 00 18 24 
   12497   00:A8E5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12497   00:A8E5  00 00 00 00 00 00 00 00 
   12498   00:A8ED                      				DB $60,$50,$C8,$88,$78,$48,$88,$90
   12498   00:A8ED  60 50 C8 88 78 48 88 90 
   12499   00:A8F5                      				; color 9
   12500   00:A8F5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12500   00:A8F5  00 00 00 00 00 00 00 00 
   12501   00:A8FD                      				DB $00,$00,$00,$00,$00,$00,$00,$18
   12501   00:A8FD  00 00 00 00 00 00 00 18 
   12502   00:A905                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12502   00:A905  00 00 00 00 00 00 00 00 
   12503   00:A90D                      				DB $00,$20,$30,$70,$00,$00,$00,$00
   12503   00:A90D  00 20 30 70 00 00 00 00 
   12504   00:A915                      				; color 11
   12505   00:A915                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12505   00:A915  00 00 00 00 00 00 00 00 
   12506   00:A91D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12506   00:A91D  00 00 00 00 00 00 00 00 
   12507   00:A925                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12507   00:A925  00 00 00 00 00 00 00 00 
   12508   00:A92D                      				DB $00,$00,$00,$00,$00,$30,$70,$60
   12508   00:A92D  00 00 00 00 00 30 70 60 
   12509   00:A935                      				; 
   12510   00:A935                      				; --- bombero mano 2
   12511   00:A935                      				; color 1
   12512   00:A935                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12512   00:A935  00 00 00 00 00 00 00 00 
   12513   00:A93D                      				DB $00,$00,$00,$00,$00,$00,$18,$24
   12513   00:A93D  00 00 00 00 00 00 18 24 
   12514   00:A945                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12514   00:A945  00 00 00 00 00 00 00 00 
   12515   00:A94D                      				DB $00,$00,$00,$00,$00,$00,$60,$90
   12515   00:A94D  00 00 00 00 00 00 60 90 
   12516   00:A955                      				; color 9
   12517   00:A955                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12517   00:A955  00 00 00 00 00 00 00 00 
   12518   00:A95D                      				DB $00,$00,$00,$00,$00,$00,$00,$18
   12518   00:A95D  00 00 00 00 00 00 00 18 
   12519   00:A965                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12519   00:A965  00 00 00 00 00 00 00 00 
   12520   00:A96D                      				DB $00,$00,$00,$00,$00,$00,$00,$60
   12520   00:A96D  00 00 00 00 00 00 00 60 
   12521   00:A975                      				; color 13
   12522   00:A975                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12522   00:A975  00 00 00 00 00 00 00 00 
   12523   00:A97D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12523   00:A97D  00 00 00 00 00 00 00 00 
   12524   00:A985                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12524   00:A985  00 00 00 00 00 00 00 00 
   12525   00:A98D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12525   00:A98D  00 00 00 00 00 00 00 00 
   12526   00:A995                      				; 
   12527   00:A995                      				; --- bombero mano 3
   12528   00:A995                      				; color 1
   12529   00:A995                      				DB $00,$00,$00,$00,$01,$02,$06,$0A
   12529   00:A995  00 00 00 00 01 02 06 0A 
   12530   00:A99D                      				DB $17,$2E,$3D,$2E,$1E,$13,$2E,$31
   12530   00:A99D  17 2E 3D 2E 1E 13 2E 31 
   12531   00:A9A5                      				DB $00,$00,$00,$00,$C0,$20,$30,$28
   12531   00:A9A5  00 00 00 00 C0 20 30 28 
   12532   00:A9AD                      				DB $F4,$3A,$DE,$3A,$3C,$E4,$3A,$C6
   12532   00:A9AD  F4 3A DE 3A 3C E4 3A C6 
   12533   00:A9B5                      				; color 9
   12534   00:A9B5                      				DB $00,$00,$00,$00,$00,$01,$01,$05
   12534   00:A9B5  00 00 00 00 00 01 01 05 
   12535   00:A9BD                      				DB $08,$11,$02,$11,$01,$00,$00,$0E
   12535   00:A9BD  08 11 02 11 01 00 00 0E 
   12536   00:A9C5                      				DB $00,$00,$00,$00,$00,$C0,$C0,$D0
   12536   00:A9C5  00 00 00 00 00 C0 C0 D0 
   12537   00:A9CD                      				DB $08,$C4,$20,$C4,$C0,$00,$00,$38
   12537   00:A9CD  08 C4 20 C4 C0 00 00 38 
   12538   00:A9D5                      				; color 11
   12539   00:A9D5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12539   00:A9D5  00 00 00 00 00 00 00 00 
   12540   00:A9DD                      				DB $00,$00,$00,$00,$00,$0C,$10,$00
   12540   00:A9DD  00 00 00 00 00 0C 10 00 
   12541   00:A9E5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12541   00:A9E5  00 00 00 00 00 00 00 00 
   12542   00:A9ED                      				DB $00,$00,$00,$00,$00,$18,$04,$00
   12542   00:A9ED  00 00 00 00 00 18 04 00 
   12543   00:A9F5                      				; 
   12544   00:A9F5                      				; --- bombero mano 4
   12545   00:A9F5                      				; color 1
   12546   00:A9F5                      				DB $00,$00,$00,$00,$01,$02,$06,$0A
   12546   00:A9F5  00 00 00 00 01 02 06 0A 
   12547   00:A9FD                      				DB $17,$2E,$3D,$2E,$1E,$13,$2E,$31
   12547   00:A9FD  17 2E 3D 2E 1E 13 2E 31 
   12548   00:AA05                      				DB $00,$00,$00,$00,$C0,$20,$30,$28
   12548   00:AA05  00 00 00 00 C0 20 30 28 
   12549   00:AA0D                      				DB $F4,$3A,$DE,$3A,$3C,$E4,$3A,$C6
   12549   00:AA0D  F4 3A DE 3A 3C E4 3A C6 
   12550   00:AA15                      				; color 9
   12551   00:AA15                      				DB $00,$00,$00,$00,$00,$01,$01,$05
   12551   00:AA15  00 00 00 00 00 01 01 05 
   12552   00:AA1D                      				DB $08,$11,$02,$11,$01,$00,$00,$0E
   12552   00:AA1D  08 11 02 11 01 00 00 0E 
   12553   00:AA25                      				DB $00,$00,$00,$00,$00,$C0,$C0,$D0
   12553   00:AA25  00 00 00 00 00 C0 C0 D0 
   12554   00:AA2D                      				DB $08,$C4,$20,$C4,$C0,$00,$00,$38
   12554   00:AA2D  08 C4 20 C4 C0 00 00 38 
   12555   00:AA35                      				; color 11
   12556   00:AA35                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12556   00:AA35  00 00 00 00 00 00 00 00 
   12557   00:AA3D                      				DB $00,$00,$00,$00,$00,$0C,$10,$00
   12557   00:AA3D  00 00 00 00 00 0C 10 00 
   12558   00:AA45                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12558   00:AA45  00 00 00 00 00 00 00 00 
   12559   00:AA4D                      				DB $00,$00,$00,$00,$00,$18,$04,$00
   12559   00:AA4D  00 00 00 00 00 18 04 00 
   12560   00:AA55                      				; 
   12561   00:AA55                      				; --- bombero mano 5
   12562   00:AA55                      				; color 1
   12563   00:AA55                      				DB $00,$01,$02,$06,$0E,$12,$2F,$3C
   12563   00:AA55  00 01 02 06 0E 12 2F 3C 
   12564   00:AA5D                      				DB $2E,$1D,$1E,$27,$1E,$13,$3E,$3E
   12564   00:AA5D  2E 1D 1E 27 1E 13 3E 3E 
   12565   00:AA65                      				DB $00,$C0,$20,$30,$38,$24,$FA,$1E
   12565   00:AA65  00 C0 20 30 38 24 FA 1E 
   12566   00:AA6D                      				DB $3A,$DC,$38,$E8,$24,$E4,$B8,$C4
   12566   00:AA6D  3A DC 38 E8 24 E4 B8 C4 
   12567   00:AA75                      				; color 9
   12568   00:AA75                      				DB $00,$00,$01,$01,$01,$0D,$10,$03
   12568   00:AA75  00 00 01 01 01 0D 10 03 
   12569   00:AA7D                      				DB $11,$02,$01,$18,$00,$00,$00,$00
   12569   00:AA7D  11 02 01 18 00 00 00 00 
   12570   00:AA85                      				DB $00,$00,$C0,$C0,$C0,$D8,$04,$E0
   12570   00:AA85  00 00 C0 C0 C0 D8 04 E0 
   12571   00:AA8D                      				DB $C4,$20,$C0,$00,$00,$00,$00,$38
   12571   00:AA8D  C4 20 C0 00 00 00 00 38 
   12572   00:AA95                      				; color 11
   12573   00:AA95                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12573   00:AA95  00 00 00 00 00 00 00 00 
   12574   00:AA9D                      				DB $00,$00,$00,$00,$01,$0C,$01,$00
   12574   00:AA9D  00 00 00 00 01 0C 01 00 
   12575   00:AAA5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12575   00:AAA5  00 00 00 00 00 00 00 00 
   12576   00:AAAD                      				DB $00,$00,$00,$10,$D8,$18,$44,$00
   12576   00:AAAD  00 00 00 10 D8 18 44 00 
   12577   00:AAB5                      quemado_esp:	; --- ALTERN QUEMANDOSE UNO ESPAÑOL
   12578   00:AAB5                      				; color 1
   12579   00:AAB5                      				DB $EE,$8A,$AA,$AA,$EE,$00,$0F,$0E
   12579   00:AAB5  EE 8A AA AA EE 00 0F 0E 
   12580   00:AABD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12580   00:AABD  00 00 00 00 00 00 00 00 
   12581   00:AAC5                      				DB $EE,$2A,$4A,$8A,$EE,$00,$E0,$E0
   12581   00:AAC5  EE 2A 4A 8A EE 00 E0 E0 
   12582   00:AACD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12582   00:AACD  00 00 00 00 00 00 00 00 
   12583   00:AAD5                      				; color 6
   12584   00:AAD5                      				DB $00,$00,$00,$14,$10,$1F,$10,$11
   12584   00:AAD5  00 00 00 14 10 1F 10 11 
   12585   00:AADD                      				DB $1F,$3F,$3F,$3C,$1E,$98,$D0,$F0
   12585   00:AADD  1F 3F 3F 3C 1E 98 D0 F0 
   12586   00:AAE5                      				DB $00,$00,$00,$20,$10,$F8,$18,$1C
   12586   00:AAE5  00 00 00 20 10 F8 18 1C 
   12587   00:AAED                      				DB $F6,$F6,$7E,$FE,$77,$77,$23,$1F
   12587   00:AAED  F6 F6 7E FE 77 77 23 1F 
   12588   00:AAF5                      				; color 10
   12589   00:AAF5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12589   00:AAF5  00 00 00 00 00 00 00 00 
   12590   00:AAFD                      				DB $00,$00,$00,$03,$01,$07,$2F,$0F
   12590   00:AAFD  00 00 00 03 01 07 2F 0F 
   12591   00:AB05                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12591   00:AB05  00 00 00 00 00 00 00 00 
   12592   00:AB0D                      				DB $00,$00,$80,$00,$88,$88,$DC,$E0
   12592   00:AB0D  00 00 80 00 88 88 DC E0 
   12593   00:AB15                      pausa_sprit:	; --- pausa prota uno
   12594   00:AB15                      				; color 1
   12595   00:AB15                      				DB $00,$60,$A3,$A7,$AF,$AD,$AD,$AC
   12595   00:AB15  00 60 A3 A7 AF AD AD AC 
   12596   00:AB1D                      				DB $FC,$9E,$BF,$77,$24,$1C,$3F,$39
   12596   00:AB1D  FC 9E BF 77 24 1C 3F 39 
   12597   00:AB25                      				DB $00,$00,$F0,$F8,$9C,$AC,$2C,$0C
   12597   00:AB25  00 00 F0 F8 9C AC 2C 0C 
   12598   00:AB2D                      				DB $CC,$1C,$F8,$F4,$CC,$88,$FE,$8E
   12598   00:AB2D  CC 1C F8 F4 CC 88 FE 8E 
   12599   00:AB35                      				; color 2
   12600   00:AB35                      				DB $08,$1B,$03,$00,$06,$00,$00,$00
   12600   00:AB35  08 1B 03 00 06 00 00 00 
   12601   00:AB3D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12601   00:AB3D  00 00 00 00 00 00 00 00 
   12602   00:AB45                      				DB $08,$30,$70,$00,$70,$00,$00,$00
   12602   00:AB45  08 30 70 00 70 00 00 00 
   12603   00:AB4D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12603   00:AB4D  00 00 00 00 00 00 00 00 
   12604   00:AB55                      				; color 9
   12605   00:AB55                      				DB $00,$00,$00,$00,$00,$00,$00,$40
   12605   00:AB55  00 00 00 00 00 00 00 40 
   12606   00:AB5D                      				DB $40,$40,$42,$42,$43,$03,$61,$40
   12606   00:AB5D  40 40 42 42 43 03 61 40 
   12607   00:AB65                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12607   00:AB65  00 00 00 00 00 00 00 00 
   12608   00:AB6D                      				DB $00,$60,$50,$D0,$F0,$30,$E0,$00
   12608   00:AB6D  00 60 50 D0 F0 30 E0 00 
   12609   00:AB75                      				; 
   12610   00:AB75                      				; --- pausa prota dos
   12611   00:AB75                      				; color 1
   12612   00:AB75                      				DB $50,$A8,$53,$27,$06,$0D,$0B,$16
   12612   00:AB75  50 A8 53 27 06 0D 0B 16 
   12613   00:AB7D                      				DB $3E,$27,$37,$1B,$12,$0E,$3F,$39
   12613   00:AB7D  3E 27 37 1B 12 0E 3F 39 
   12614   00:AB85                      				DB $20,$EC,$FC,$7E,$CF,$07,$9F,$26
   12614   00:AB85  20 EC FC 7E CF 07 9F 26 
   12615   00:AB8D                      				DB $27,$0C,$F8,$F4,$CC,$8C,$FE,$8E
   12615   00:AB8D  27 0C F8 F4 CC 8C FE 8E 
   12616   00:AB95                      				; color 2
   12617   00:AB95                      				DB $04,$0D,$01,$00,$06,$00,$00,$00
   12617   00:AB95  04 0D 01 00 06 00 00 00 
   12618   00:AB9D                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12618   00:AB9D  00 00 00 00 00 00 00 00 
   12619   00:ABA5                      				DB $08,$30,$70,$00,$70,$00,$00,$00
   12619   00:ABA5  08 30 70 00 70 00 00 00 
   12620   00:ABAD                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12620   00:ABAD  00 00 00 00 00 00 00 00 
   12621   00:ABB5                      				; color 9
   12622   00:ABB5                      				DB $00,$00,$00,$00,$00,$00,$50,$20
   12622   00:ABB5  00 00 00 00 00 00 50 20 
   12623   00:ABBD                      				DB $00,$01,$02,$04,$09,$01,$18,$08
   12623   00:ABBD  00 01 02 04 09 01 18 08 
   12624   00:ABC5                      				DB $00,$00,$00,$00,$00,$00,$00,$00
   12624   00:ABC5  00 00 00 00 00 00 00 00 
   12625   00:ABCD                      				DB $80,$30,$F8,$60,$D8,$D8,$F0,$00
   12625   00:ABCD  80 30 F8 60 D8 D8 F0 00 
   12626   00:ABD5                      	;
   12627   00:ABD5                      sprites_ojos:	; --- ojo izquierda 1
   12628   00:ABD5                      				; color 8
   12629   00:ABD5                      				DB $00,$00,$14,$0A,$1B,$0E,$1F,$0D
   12629   00:ABD5  00 00 14 0A 1B 0E 1F 0D 
   12630   00:ABDD                      				DB $01,$00,$00,$00,$00,$00,$00,$00
   12630   00:ABDD  01 00 00 00 00 00 00 00 
   12631   00:ABE5                      				DB $00,$00,$00,$A0,$60,$48,$A0,$90
   12631   00:ABE5  00 00 00 A0 60 48 A0 90 
   12632   00:ABED                      				DB $E0,$E0,$40,$00,$00,$00,$00,$00
   12632   00:ABED  E0 E0 40 00 00 00 00 00 
   12633   00:ABF5                      				; 
   12634   00:ABF5                      				; --- ojo izquierda 2
   12635   00:ABF5                      				; color 8
   12636   00:ABF5                      				DB $0A,$04,$19,$0E,$1D,$0E,$1F,$0F
   12636   00:ABF5  0A 04 19 0E 1D 0E 1F 0F 
   12637   00:ABFD                      				DB $07,$03,$00,$00,$00,$00,$00,$00
   12637   00:ABFD  07 03 00 00 00 00 00 00 
   12638   00:AC05                      				DB $00,$00,$40,$E0,$40,$AC,$D8,$A0
   12638   00:AC05  00 00 40 E0 40 AC D8 A0 
   12639   00:AC0D                      				DB $E0,$E0,$40,$00,$00,$00,$00,$00
   12639   00:AC0D  E0 E0 40 00 00 00 00 00 
   12640   00:AC15                      				; 
   12641   00:AC15                      				; --- ojo derecha 1
   12642   00:AC15                      				; color 8
   12643   00:AC15                      				DB $00,$00,$00,$05,$06,$12,$05,$09
   12643   00:AC15  00 00 00 05 06 12 05 09 
   12644   00:AC1D                      				DB $07,$07,$02,$00,$00,$00,$00,$00
   12644   00:AC1D  07 07 02 00 00 00 00 00 
   12645   00:AC25                      				DB $00,$00,$28,$50,$D8,$70,$F8,$B0
   12645   00:AC25  00 00 28 50 D8 70 F8 B0 
   12646   00:AC2D                      				DB $80,$00,$00,$00,$00,$00,$00,$00
   12646   00:AC2D  80 00 00 00 00 00 00 00 
   12647   00:AC35                      				; 
   12648   00:AC35                      				; --- ojo derecha 2
   12649   00:AC35                      				; color 8
   12650   00:AC35                      				DB $00,$00,$02,$07,$02,$35,$1B,$05
   12650   00:AC35  00 00 02 07 02 35 1B 05 
   12651   00:AC3D                      				DB $07,$07,$02,$00,$00,$00,$00,$00
   12651   00:AC3D  07 07 02 00 00 00 00 00 
   12652   00:AC45                      				DB $50,$20,$98,$70,$B8,$70,$F8,$F0
   12652   00:AC45  50 20 98 70 B8 70 F8 F0 
   12653   00:AC4D                      				DB $E0,$C0,$00,$00,$00,$00,$00,$00
   12653   00:AC4D  E0 C0 00 00 00 00 00 00 
   12654   00:AC55                      				
   12655   00:AC55                      ;sprites_oniric:	; 
   12656   00:AC55                      				; --- oniric 1
   12657   00:AC55                      				; color 1
   12658   00:AC55                      ;				DB $00,$00,$03,$0F,$1F,$1E,$1F,$0F
   12659   00:AC55                      ;				DB $1F,$1C,$19,$39,$3D,$37,$25,$2E
   12660   00:AC55                      ;				DB $00,$00,$80,$00,$00,$F8,$5D,$A7
   12661   00:AC55                      ;				DB $F2,$F8,$2D,$3F,$1A,$87,$ED,$F8
   12662   00:AC55                      				; 
   12663   00:AC55                      				; --- oniric 2
   12664   00:AC55                      				; color 1
   12665   00:AC55                      ;				DB $00,$00,$0E,$07,$07,$FB,$D7,$2F
   12666   00:AC55                      ;				DB $7F,$FB,$A4,$E4,$D5,$0F,$BD,$FB
   12667   00:AC55                      ;				DB $00,$00,$00,$80,$C0,$C0,$C0,$80
   12668   00:AC55                      ;				DB $C0,$C0,$C0,$E0,$E0,$60,$20,$A0	
   12669   00:AC55                      				; --- oniric 3
   12670   00:AC55                      				; color 1
   12671   00:AC55                      ;				DB $39,$33,$17,$0E,$06,$02,$01,$20
   12672   00:AC55                      ;				DB $70,$D8,$CB,$CB,$CB,$CB,$73,$20
   12673   00:AC55                      ;				DB $D0,$98,$35,$7A,$70,$E0,$B0,$7A
   12674   00:AC55                      ;				DB $1F,$07,$C0,$2F,$2A,$22,$2A,$4F
   12675   00:AC55                      				; 
   12676   00:AC55                      				; --- oniric 4
   12677   00:AC55                      				; color 1
   12678   00:AC55                      ;				DB $5C,$CE,$67,$F3,$73,$3A,$6C,$F0
   12679   00:AC55                      ;				DB $C1,$01,$3C,$B2,$B2,$3C,$B2,$84
   12680   00:AC55                      ;				DB $E0,$60,$40,$80,$00,$00,$80,$98
   12681   00:AC55                      ;				DB $BC,$B4,$30,$B0,$B0,$B4,$B4,$18
   12682   00:AC55                      							
   12683   00:AC55                      				
   12684   00:AC55                      game_over:		db	64,230,224,236,228,64,64,238,245,228,241
   12684   00:AC55  40 E6 E0 EC E4 40 40 EE F5 E4 F1 
   12685   00:AC60                      se__acabo:		db	64,242,228,64,64,64,224,226,224,225,74
   12685   00:AC60  40 F2 E4 40 40 40 E0 E2 E0 E1 4A 
   12686   00:AC6B                      continua_i:		db	229,197,64,64,64,64,226,238,237,243,232,237,244,228
   12686   00:AC6B  E5 C5 40 40 40 40 E2 EE ED F3 E8 ED F4 E4 
   12687   00:AC79                      continua_e:		db	229,197,64,64,64,64,226,238,237,243,232,237,156,224
   12687   00:AC79  E5 C5 40 40 40 40 E2 EE ED F3 E8 ED 9C E0 
   12688   00:AC87  EF E0 F4 F2 E4      pause:			db	239,224,244,242,228
   12689   00:AC8C                      ;test_version:	db	243,228,242,243,64,245,228,241,242,232,238,237		;para version test
   12690   00:AC8C  14 14 14 14 14      ladrillos:		db	20,20,20,20,20										;ladrillos en la zona donde se escribe el pause
   12691   00:AC91                      
   12692   00:AC91                      
   12693   00:AC91                      										
   12694   00:AC91                      empresa:		db	28,"CARAMBALpN STUDIOS  PRESENTS"					;PANTALLA DE MENU
   12694   00:AC91  1C 43 41 52 41 4D 42 41 4C 70 4E 20 53 54 55 44 
   12694   00:ACA1  49 4F 53 20 20 50 52 45 53 45 4E 54 53 
   12695   00:ACAE                      empresa_e:		db	28,"CARAMBALpN STUDIOS  PRESENTA"
   12695   00:ACAE  1C 43 41 52 41 4D 42 41 4C 70 4E 20 53 54 55 44 
   12695   00:ACBE  49 4F 53 20 20 50 52 45 53 45 4E 54 41 
   12696   00:ACCB                      titulo_1:		db	224,"hih  i  h iih  hih i   h  i hiihxzy  y  x yzx  xzx y   x  y xzzyk k  k  k k k  k k k   k  k k   ajjl k  k ajjl k k k   k  k mjjlk  k k  k k  k k k k   k  k    kk  k k  k k  k k k k   k  k    kmjjb mjjb e  e e mjb   mjjb fjjb"
   12696   00:ACCB  E0 68 69 68 20 20 69 20 20 68 20 69 69 68 20 20 
   12696   00:ACDB  68 69 68 20 69 20 20 20 68 20 20 69 20 68 69 69 
   12696   00:ACEB  68 78 7A 79 20 20 79 20 20 78 20 79 7A 78 20 20 
   12696   00:ACFB  78 7A 78 20 79 20 20 20 78 20 20 79 20 78 7A 7A 
   12696   00:AD0B  79 6B 20 6B 20 20 6B 20 20 6B 20 6B 20 6B 20 20 
   12696   00:AD1B  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 6B 20 20 
   12696   00:AD2B  20 61 6A 6A 6C 20 6B 20 20 6B 20 61 6A 6A 6C 20 
   12696   00:AD3B  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 6D 6A 6A 
   12696   00:AD4B  6C 6B 20 20 6B 20 6B 20 20 6B 20 6B 20 20 6B 20 
   12696   00:AD5B  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 20 20 20 
   12696   00:AD6B  6B 6B 20 20 6B 20 6B 20 20 6B 20 6B 20 20 6B 20 
   12696   00:AD7B  6B 20 6B 20 6B 20 20 20 6B 20 20 6B 20 20 20 20 
   12696   00:AD8B  6B 6D 6A 6A 62 20 6D 6A 6A 62 20 65 20 20 65 20 
   12696   00:AD9B  65 20 6D 6A 62 20 20 20 6D 6A 6A 62 20 66 6A 6A 
   12696   00:ADAB  62 
   12697   00:ADAC  04 4D 45 4E 72      mensaje:		db	4,"MENr"
   12698   00:ADB1  04 4D 45 4E 55      mensaje_ING:		db	4,"MENU"
   12699   00:ADB6                      teclado:		db	6,"- EASY"
   12699   00:ADB6  06 2D 20 45 41 53 59 
   12700   00:ADBD                      mando:			db	6,"- HARD"
   12700   00:ADBD  06 2D 20 48 41 52 44 
   12701   00:ADC4                      instrucciones:	db	10,"- LANGUAGE"
   12701   00:ADC4  0A 2D 20 4C 41 4E 47 55 41 47 45 
   12702   00:ADCF                      teclado_e:		db	7,"- FpCIL"
   12702   00:ADCF  07 2D 20 46 70 43 49 4C 
   12703   00:ADD7                      mando_e:		db	9,"- DIFqCIL"
   12703   00:ADD7  09 2D 20 44 49 46 71 43 49 4C 
   12704   00:ADE1                      instruccion_e:	db	8,"- IDIOMA"
   12704   00:ADE1  08 2D 20 49 44 49 4F 4D 41 
   12705   00:ADEA                      salir:			db	12,"- COVER PAGE"
   12705   00:ADEA  0C 2D 20 43 4F 56 45 52 20 50 41 47 45 
   12706   00:ADF7                      salir_e:		db	9,"- PORTADA"
   12706   00:ADF7  09 2D 20 50 4F 52 54 41 44 41 
   12707   00:AE01                      copyright:		db	28,"(C)  CARAMBALpN STUDIOS 2018"
   12707   00:AE01  1C 28 43 29 20 20 43 41 52 41 4D 42 41 4C 70 4E 
   12707   00:AE11  20 53 54 55 44 49 4F 53 20 32 30 31 38 
   12708   00:AE1E                      
   12709   00:AE1E  01 6E               serp_1:			db	1,"n"
   12710   00:AE20  01 20               nada:			db	1," "
   12711   00:AE22                      
   12712   00:AE22                      ;programacion:	db	12,"PROGRAMMING:"
   12713   00:AE22                      ;musica:			db	6,"MUSIC:"
   12714   00:AE22                      ;graficos:		db	9,"GRAPHICS:"
   12715   00:AE22                      ;programacion_e:	db	13,"PROGRAMACIsN:"
   12716   00:AE22                      ;musica_e:		db	7,"MtSICA:"
   12717   00:AE22                      ;graficos_e:		db	9,"GRpFICOS:"
   12718   00:AE22                      ;benja:			db	15,"BENJAMrN MIGUEL"
   12719   00:AE22                      ;jorge:			db	12,"JORGE ROMERO"
   12720   00:AE22                      ;mis_chicos:		db	30,"A MIS CHICOS/A DE ASM MSX TEAM"
   12721   00:AE22                      ;ilustraciones:	db	14,"ILUSTRACIONES:"
   12722   00:AE22                      ;salguero:		db	16,"JOSq L. SALGUERO"
   12723   00:AE22                      ;ilustrations:	db	14,"ILLUSTRATIONS:"
   12724   00:AE22                      ;tromax:			db	19,"DAVID F.G. (TROMAX)"
   12725   00:AE22                      ;john:			db	12,"JOHN HASSINK"
   12726   00:AE22                      ;mano_derecha:	db	13,"MANO DERECHA:"
   12727   00:AE22                      ;mano_derecha_e:	db	11,"RIGHT HAND:"
   12728   00:AE22                      ;agradecido:		db	32,"GRACIAS A:        Y RAFA BOLLERO"
   12729   00:AE22                      ;thanks:			db	32,"THANKS TO:      AND RAFA BOLLERO"
   12730   00:AE22                      
   12731   00:AE22                      letras_A:		DB $00,$3C,$42,$42,$7E,$42,$24,$00
   12731   00:AE22  00 3C 42 42 7E 42 24 00 
   12732   00:AE2A                      				DB $00,$78,$44,$7C,$42,$42,$7C,$00
   12732   00:AE2A  00 78 44 7C 42 42 7C 00 
   12733   00:AE32                      				DB $00,$3C,$42,$40,$40,$42,$3C,$00
   12733   00:AE32  00 3C 42 40 40 42 3C 00 
   12734   00:AE3A                      				DB $00,$78,$44,$42,$42,$44,$38,$00
   12734   00:AE3A  00 78 44 42 42 44 38 00 
   12735   00:AE42                      letras_E:		DB $00,$3C,$42,$40,$78,$42,$3C,$00
   12735   00:AE42  00 3C 42 40 78 42 3C 00 
   12736   00:AE4A                      				DB $00,$7C,$42,$40,$58,$40,$20,$00
   12736   00:AE4A  00 7C 42 40 58 40 20 00 
   12737   00:AE52                      				DB $00,$3C,$42,$40,$4E,$42,$3C,$00
   12737   00:AE52  00 3C 42 40 4E 42 3C 00 
   12738   00:AE5A                      				DB $00,$24,$42,$42,$7E,$42,$24,$00
   12738   00:AE5A  00 24 42 42 7E 42 24 00 
   12739   00:AE62                      letras_I:		DB $00,$3C,$52,$10,$10,$52,$3C,$00
   12739   00:AE62  00 3C 52 10 10 52 3C 00 
   12740   00:AE6A                      				DB $00,$7E,$08,$04,$02,$42,$3C,$00
   12740   00:AE6A  00 7E 08 04 02 42 3C 00 
   12741   00:AE72                      letras_K:		DB $00,$44,$42,$5C,$42,$42,$24,$00
   12741   00:AE72  00 44 42 5C 42 42 24 00 
   12742   00:AE7A                      letras_L:		DB $00,$20,$40,$40,$40,$42,$3C,$00
   12742   00:AE7A  00 20 40 40 40 42 3C 00 
   12743   00:AE82                      				DB $00,$24,$5A,$42,$42,$42,$24,$00
   12743   00:AE82  00 24 5A 42 42 42 24 00 
   12744   00:AE8A                      letras_N:		DB $00,$24,$52,$52,$4A,$4A,$24,$00
   12744   00:AE8A  00 24 52 52 4A 4A 24 00 
   12745   00:AE92                      letras_O:		DB $00,$3C,$42,$42,$42,$42,$3C,$00
   12745   00:AE92  00 3C 42 42 42 42 3C 00 
   12746   00:AE9A                      				DB $00,$7C,$42,$42,$7C,$40,$20,$00
   12746   00:AE9A  00 7C 42 42 7C 40 20 00 
   12747   00:AEA2                      				DB $00,$3C,$42,$42,$4A,$44,$3A,$00
   12747   00:AEA2  00 3C 42 42 4A 44 3A 00 
   12748   00:AEAA                      				DB $00,$7C,$42,$42,$3C,$42,$44,$00
   12748   00:AEAA  00 7C 42 42 3C 42 44 00 
   12749   00:AEB2                      letras_S:		DB $00,$3C,$42,$30,$04,$42,$3C,$00
   12749   00:AEB2  00 3C 42 30 04 42 3C 00 
   12750   00:AEBA                      				DB $00,$3C,$42,$10,$10,$08,$08,$00
   12750   00:AEBA  00 3C 42 10 10 08 08 00 
   12751   00:AEC2                      				DB $00,$24,$42,$42,$42,$42,$3C,$00
   12751   00:AEC2  00 24 42 42 42 42 3C 00 
   12752   00:AECA                      				DB $00,$24,$42,$42,$42,$24,$18,$00
   12752   00:AECA  00 24 42 42 42 24 18 00 
   12753   00:AED2                      letras_W:		DB $00,$24,$42,$42,$42,$5A,$24,$00
   12753   00:AED2  00 24 42 42 42 5A 24 00 
   12754   00:AEDA                      				DB $00,$42,$24,$18,$24,$42,$42,$00
   12754   00:AEDA  00 42 24 18 24 42 42 00 
   12755   00:AEE2                      				DB $00,$44,$42,$24,$08,$10,$10,$00
   12755   00:AEE2  00 44 42 24 08 10 10 00 
   12756   00:AEEA                      				DB $00,$3C,$42,$08,$20,$42,$3C,$00
   12756   00:AEEA  00 3C 42 08 20 42 3C 00 
   12757   00:AEF2                      
   12758   00:AEF2                      
   12759   00:AEF2                      titulo_centro1:	; --- este/sur, noerte/este, fin oeste, fin sur, fin norte, fin este
   12760   00:AEF2                      				DB $00,$3F,$7F,$7F,$7F,$7C,$7B,$7A
   12760   00:AEF2  00 3F 7F 7F 7F 7C 7B 7A 
   12761   00:AEFA                      				DB $7A,$FA,$FA,$FA,$FA,$06,$FC,$00
   12761   00:AEFA  7A FA FA FA FA 06 FC 00 
   12762   00:AF02                      				DB $00,$FC,$FE,$FE,$FA,$06,$FC,$00
   12762   00:AF02  00 FC FE FE FA 06 FC 00 
   12763   00:AF0A                      				DB $00,$3C,$76,$7A,$7A,$7A,$7A,$7A
   12763   00:AF0A  00 3C 76 7A 7A 7A 7A 7A 
   12764   00:AF12                      				DB $7A,$7A,$7A,$7A,$7A,$76,$3C,$00
   12764   00:AF12  7A 7A 7A 7A 7A 76 3C 00 
   12765   00:AF1A                      				DB $00,$3F,$7F,$7F,$5F,$60,$3F,$00
   12765   00:AF1A  00 3F 7F 7F 5F 60 3F 00 
   12766   00:AF22                      				DB $00,$7F,$FF,$FF,$FF,$FC,$FB,$FA
   12766   00:AF22  00 7F FF FF FF FC FB FA 
   12767   00:AF2A                      
   12768   00:AF2A                      fueguito_1:		DB 	$82,$10,$03,$58,$04,$52,$22,$7C
   12768   00:AF2A  82 10 03 58 04 52 22 7C 
   12769   00:AF32                      fueguito_2:		DB 	$01,$88,$0A,$94,$11,$8A,$60,$5A
   12769   00:AF32  01 88 0A 94 11 8A 60 5A 
   12770   00:AF3A                      				; --- horizontal, vertical, oeste/sur, noerte/este
   12771   00:AF3A                      				DB 	$00,$FF,$FF,$FF,$FF,$00,$FF,$00
   12771   00:AF3A  00 FF FF FF FF 00 FF 00 
   12772   00:AF42                      				DB 	$7A,$7A,$7A,$7A,$7A,$7A,$7A,$7A
   12772   00:AF42  7A 7A 7A 7A 7A 7A 7A 7A 
   12773   00:AF4A                      				DB 	$00,$FC,$F6,$FA,$FA,$FA,$FA,$7A
   12773   00:AF4A  00 FC F6 FA FA FA FA 7A 
   12774   00:AF52                      				DB 	$7A,$7B,$7D,$7F,$7F,$7F,$3F,$00
   12774   00:AF52  7A 7B 7D 7F 7F 7F 3F 00 
   12775   00:AF5A                      
   12776   00:AF5A                      
   12777   00:AF5A                      flame_1:		DB 	$08,$1C,$3E,$7F,$7F,$7F,$3E,$1C
   12777   00:AF5A  08 1C 3E 7F 7F 7F 3E 1C 
   12778   00:AF62                      flame_2:		DB 	$00,$08,$1C,$3E,$7F,$7F,$3E,$1C
   12778   00:AF62  00 08 1C 3E 7F 7F 3E 1C 
   12779   00:AF6A                      letras_A_acen:	DB 	$0C,$00,$3C,$42,$7E,$42,$24,$00
   12779   00:AF6A  0C 00 3C 42 7E 42 24 00 
   12780   00:AF72                      ;				DB 	$0C,$00,$3C,$42,$78,$42,$3C,$00
   12781   00:AF72                      				DB 	$0C,$00,$3C,$52,$10,$52,$3C,$00
   12781   00:AF72  0C 00 3C 52 10 52 3C 00 
   12782   00:AF7A                      ;				DB 	$0C,$00,$3C,$42,$42,$42,$3C,$00
   12783   00:AF7A                      letras_U_acen:	DB 	$0C,$00,$24,$42,$42,$42,$3C,$00
   12783   00:AF7A  0C 00 24 42 42 42 3C 00 
   12784   00:AF82                      
   12785   00:AF82                      fuego_quema:	DB 	$65,$90,$2A,$55,$A2,$DD,$7A,$7B
   12785   00:AF82  65 90 2A 55 A2 DD 7A 7B 
   12786   00:AF8A                      				DB 	$2A,$C9,$16,$A4,$5A,$5D,$BE,$7A
   12786   00:AF8A  2A C9 16 A4 5A 5D BE 7A 
   12787   00:AF92                      				DB 	$82,$D4,$A7,$DA,$0D,$D2,$2B,$7C
   12787   00:AF92  82 D4 A7 DA 0D D2 2B 7C 
   12788   00:AF9A                      fuego_quema_2:	DB 	$79,$65,$7A,$90,$dd,$2a,$a2,$55
   12788   00:AF9A  79 65 7A 90 DD 2A A2 55 
   12789   00:AFA2                      				DB 	$7a,$5a,$c9,$be,$2A,$16,$5d,$be
   12789   00:AFA2  7A 5A C9 BE 2A 16 5D BE 
   12790   00:AFAA                      				DB 	$d3,$82,$7c,$D4,$7c,$a7,$0d,$2b
   12790   00:AFAA  D3 82 7C D4 7C A7 0D 2B 
   12791   00:AFB2                      				
   12792   00:AFB2                      parentesis_a:	db	#02,#04,#04,#08,#04,#04,#02,#00						;DEFINICION DE PARENTESIS, GUION Y PUNTO
   12792   00:AFB2  02 04 04 08 04 04 02 00 
   12793   00:AFBA                      parentesis_c:	db	#80,#40,#40,#20,#40,#40,#80,#00
   12793   00:AFBA  80 40 40 20 40 40 80 00 
   12794   00:AFC2                      guion:			db	#00,#00,#00,#82,#7C,#00,#00,#00
   12794   00:AFC2  00 00 00 82 7C 00 00 00 
   12795   00:AFCA                      punto:			db	#00,#00,#00,#00,#00,#60,#60,#00
   12795   00:AFCA  00 00 00 00 00 60 60 00 
   12796   00:AFD2                      
   12797   00:AFD2                      numero0:		DB 	$00,$3C,$42,$10,$4A,$42,$3C,$00
   12797   00:AFD2  00 3C 42 10 4A 42 3C 00 
   12798   00:AFDA                      				DB 	$00,$02,$02,$00,$02,$02,$02,$00
   12798   00:AFDA  00 02 02 00 02 02 02 00 
   12799   00:AFE2                      				DB 	$00,$7C,$02,$3C,$40,$40,$3E,$00
   12799   00:AFE2  00 7C 02 3C 40 40 3E 00 
   12800   00:AFEA                      				DB 	$00,$3C,$02,$3C,$02,$02,$3C,$00
   12800   00:AFEA  00 3C 02 3C 02 02 3C 00 
   12801   00:AFF2                      numero4:		DB 	$00,$42,$42,$3C,$02,$02,$02,$00
   12801   00:AFF2  00 42 42 3C 02 02 02 00 
   12802   00:AFFA                      				DB 	$00,$7C,$80,$7C,$02,$02,$7C,$00
   12802   00:AFFA  00 7C 80 7C 02 02 7C 00 
   12803   00:B002                      				DB 	$00,$3C,$40,$7C,$42,$42,$3C,$00
   12803   00:B002  00 3C 40 7C 42 42 3C 00 
   12804   00:B00A                      				DB 	$00,$7C,$02,$02,$00,$02,$02,$00
   12804   00:B00A  00 7C 02 02 00 02 02 00 
   12805   00:B012                      numero8:		DB	$00,$3C,$42,$3C,$42,$42,$3C,$00
   12805   00:B012  00 3C 42 3C 42 42 3C 00 
   12806   00:B01A                      				DB	$00,$3C,$42,$42,$3C,$02,$3C,$00
   12806   00:B01A  00 3C 42 42 3C 02 3C 00 
   12807   00:B022                      dospuntos:		db	#00,#00,#60,#60,#00,#60,#60,#00
   12807   00:B022  00 00 60 60 00 60 60 00 
   12808   00:B02A                      
   12809   00:B02A                      agua_1:			DB 	$20,$40,$60,$A3,$1C,$04,$04,$18
   12809   00:B02A  20 40 60 A3 1C 04 04 18 
   12810   00:B032                      chorro_1:		DB 	$2A,$54,$2A,$55,$AA,$55,$AA,$55	
   12810   00:B032  2A 54 2A 55 AA 55 AA 55 
   12811   00:B03A                      grifo_1:		DB 	$3A,$3C,$7F,$14,$2A,$54,$2A,$55
   12811   00:B03A  3A 3C 7F 14 2A 54 2A 55 
   12812   00:B042                      fuego_1_2:		DB 	$10,$30,$6C,$5E,$3E,$7C,$7A,$34
   12812   00:B042  10 30 6C 5E 3E 7C 7A 34 
   12813   00:B04A                      portal_1:		DB 	$81,$7E,$41,$40,$48,$40,$42,$40
   12813   00:B04A  81 7E 41 40 48 40 42 40 
   12814   00:B052                      				DB 	$81,$7E,$02,$02,$02,$82,$02,$12
   12814   00:B052  81 7E 02 02 02 82 02 12 
   12815   00:B05A                      				DB 	$02,$22,$32,$78,$7A,$30,$02,$FA
   12815   00:B05A  02 22 32 78 7A 30 02 FA 
   12816   00:B062                      				DB 	$40,$48,$4C,$1E,$5E,$0C,$40,$5F
   12816   00:B062  40 48 4C 1E 5E 0C 40 5F 
   12817   00:B06A  A5                  cuchillo_1:		db	$a5
   12818   00:B06B  85                  bomba_1:		db	$85
   12819   00:B06C                      salpic_1_1:		db $78,$D0,$C0,$7F,$7F,$C0,$D0,$78
   12819   00:B06C  78 D0 C0 7F 7F C0 D0 78 
   12820   00:B074                      salpic_1_2:		db $1E,$0B,$03,$FE,$FE,$03,$0B,$1E
   12820   00:B074  1E 0B 03 FE FE 03 0B 1E 
   12821   00:B07C                      
   12822   00:B07C                      agua_2:			DB 	$20,$C0,$B0,$09,$0A,$1C,$20,$20
   12822   00:B07C  20 C0 B0 09 0A 1C 20 20 
   12823   00:B084                      chorro_2:		DB 	$54,$2A,$54,$AA,$55,$AA,$55,$AA
   12823   00:B084  54 2A 54 AA 55 AA 55 AA 
   12824   00:B08C                      grifo_2:		DB 	$3A,$3C,$7F,$28,$54,$2A,$54,$AA
   12824   00:B08C  3A 3C 7F 28 54 2A 54 AA 
   12825   00:B094                      fuego_2_2:		DB 	$08,$0C,$36,$7A,$7C,$3E,$5E,$2C
   12825   00:B094  08 0C 36 7A 7C 3E 5E 2C 
   12826   00:B09C                      portal_2:		DB 	$81,$7E,$40,$50,$42,$40,$40,$41
   12826   00:B09C  81 7E 40 50 42 40 40 41 
   12827   00:B0A4                      				DB 	$81,$7E,$02,$22,$02,$22,$02,$02
   12827   00:B0A4  81 7E 02 22 02 22 02 02 
   12828   00:B0AC                      				DB 	$02,$12,$32,$78,$7A,$30,$02,$FA	
   12828   00:B0AC  02 12 32 78 7A 30 02 FA 
   12829   00:B0B4                      				DB 	$40,$44,$4C,$1E,$5E,$0C,$40,$5F	
   12829   00:B0B4  40 44 4C 1E 5E 0C 40 5F 
   12830   00:B0BC  F5                  cuchillo_2:		db	$f5	
   12831   00:B0BD  E5                  bomba_2:		db	$e5
   12832   00:B0BE                      salpic_2_1:		db $1E,$34,$30,$1F,$1F,$30,$34,$1E
   12832   00:B0BE  1E 34 30 1F 1F 30 34 1E 
   12833   00:B0C6                      salpic_2_2:		db $78,$2C,$0C,$F8,$F8,$0C,$2C,$78
   12833   00:B0C6  78 2C 0C F8 F8 0C 2C 78 
   12834   00:B0CE                      
   12835   00:B0CE  15 F5               color_gas_1:	db 	$15,$F5
   12836   00:B0D0  B5 F5               color_mec_1:	db 	$B5,$f5
   12837   00:B0D2  65 F5               color_gas_2:	db 	$65,$F5
   12838   00:B0D4  95 F5               color_mec_2:	db 	$95,$f5
   12839   00:B0D6  F5 F5               color_gas_3:	db 	$F5,$F5
   12840   00:B0D8  85 F5               color_mec_3:	db 	$85,$F5
   12841   00:B0DA  E5 F5               color_gas_4:	db 	$E5,$F5
   12842   00:B0DC  65 F5               color_mec_4:	db 	$65,$F5
   12843   00:B0DE  E5 F5               color_gas_5:	db 	$E5,$F5
   12844   00:B0E0  F5 F5               color_mec_5:	db 	$F5,$F5
   12845   00:B0E2  E5 F5               color_gas_6:	db 	$E5,$F5
   12846   00:B0E4  E5 F5               color_mec_6:	db 	$E5,$F5
   12847   00:B0E6  15 F5               color_gas_7:	db 	$15,$F5
   12848   00:B0E8  E5 F5               color_mec_7:	db 	$E5,$f5
   12849   00:B0EA  E5                  color_gas_8:	db 	$E5
   12850   00:B0EB  E5                  color_mec_8:	db 	$E5
   12851   00:B0EC                      
   12852   00:B0EC                      
   12853   00:B0EC                      
   12854   00:B0EC                      
   12855   00:B0EC                      
   12856   00:B0EC                      
   12857   00:B0EC                      
   12858   00:B0EC                      
   12859   00:B0EC                      
   12860   00:B0EC                      
   12861   00:B0EC                      
   12862   00:B0EC                      ;48KB routines
   12863   00:B0EC                      
   12864   00:B0EC                      ; ------------------------------
   12865   00:B0EC                      ; SETROMPAGE0			
   12866   00:B0EC                      ; Posiciona nuestro cartucho en 
   12867   00:B0EC                      ; Pagina 0
   12868   00:B0EC                      ; -----------------------------
   12869   00:B0EC                      
   12870   00:B0EC                      setrompage0:			
   12871   00:B0EC                      				
   12872   00:B0EC  3A 00 C0                    				ld		a,(SLOTVAR)		
   12873   00:B0EF  18 03               				        jr		setslotpage0	
   12874   00:B0F1                      				
   12875   00:B0F1                      			
   12876   00:B0F1                      			
   12877   00:B0F1                      ; ------------------------------
   12878   00:B0F1                      ; RECBIOS
   12879   00:B0F1                      ; Posiciona la bios ROM
   12880   00:B0F1                      ; -------------------------------
   12881   00:B0F1                      					
   12882   00:B0F1                      recbios:		
   12883   00:B0F1  3A C1 FC                    				ld		a,(EXPTBL)
   12884   00:B0F4                      				
   12885   00:B0F4                      			
   12886   00:B0F4                      
   12887   00:B0F4                      ; ---------------------------
   12888   00:B0F4                      ; SETSLOTPAGE0
   12889   00:B0F4                      ; Posiciona el slot pasado 
   12890   00:B0F4                      ; en pagina 0 del Z80
   12891   00:B0F4                      ; A: Formato FxxxSSPP
   12892   00:B0F4                      ; ----------------------------
   12893   00:B0F4                                  
   12894   00:B0F4                      setslotpage0:       
   12895   00:B0F4  F3                  	di
   12896   00:B0F5                      
   12897   00:B0F5  47                  	ld      b,a                 ; B = Slot param in FxxxSSPP format                
   12898   00:B0F6                      
   12899   00:B0F6                      
   12900   00:B0F6  DB A8               	in      a,(0A8h)
   12901   00:B0F8  E6 FC               	and     011111100b
   12902   00:B0FA  57                  	ld      d,a                 ; D = Primary slot value
   12903   00:B0FB                      
   12904   00:B0FB  78                  	ld      a,b         
   12905   00:B0FC                      
   12906   00:B0FC  E6 03               	and     03  
   12907   00:B0FE  B2                  	or      d
   12908   00:B0FF  57                  	ld      d,a                 ; D = Final Value for primary slot 
   12909   00:B100                      
   12910   00:B100                      
   12911   00:B100  D3 A8               	out     (0A8h),a
   12912   00:B102                      
   12913   00:B102                      	; Check if expanded
   12914   00:B102  78                  	ld      a,b
   12915   00:B103  CB 7F               	bit     7,a
   12916   00:B105  C8                  	ret     z   
   12917   00:B106                      
   12918   00:B106  E6 03               	and     03h                             
   12919   00:B108  0F                  	rrca
   12920   00:B109  0F                  	rrca
   12921   00:B10A  E6 C0               	and     011000000b
   12922   00:B10C  4F                  	ld      c,a                 
   12923   00:B10D  7A                  	ld      a,d
   12924   00:B10E  E6 3F               	and     00111111b
   12925   00:B110  B1                  	or      c
   12926   00:B111  4F                  	ld      c,a                 ; Primary slot value with main slot in page 3  
   12927   00:B112                      
   12928   00:B112  78                  	ld      a,b
   12929   00:B113  E6 0C               	and     00001100b
   12930   00:B115  0F                  	rrca
   12931   00:B116  0F                  	rrca    
   12932   00:B117  E6 03               	and     03h
   12933   00:B119  47                  	ld      b,a                 ; B = Expanded slot in page 3
   12934   00:B11A  79                  	ld      a,c
   12935   00:B11B  D3 A8               	out     (0A8h),a            ; Slot : Main Slot, xx, xx, Main slot
   12936   00:B11D  3A FF FF            	ld      a,(0FFFFh)
   12937   00:B120  2F                  	cpl
   12938   00:B121  E6 FC               	and     011111100b
   12939   00:B123  B0                  	or      b
   12940   00:B124  32 FF FF            	ld      (0FFFFh),a          ; Expanded slot selected 
   12941   00:B127                      
   12942   00:B127  4F                  	ld      c,a
   12943   00:B128                      
   12944   00:B128                      								; Slot Final. Ram, rom c, rom c, Main
   12945   00:B128  7A                  	ld      a,d                 ; A = Final value
   12946   00:B129  D3 A8               	out     (0A8h),a
   12947   00:B12B                      
   12948   00:B12B  E6 03               	and     3                   ; Set value in STLTBL 
   12949   00:B12D  11 C5 FC            	ld      de,SLTTBL    
   12950   00:B130  83                  	add     a,e
   12951   00:B131  5F                  	ld      e,a
   12952   00:B132  30 01               	jr      nc,.nocarry
   12953   00:B134  14                  	inc     d
   12954   00:B135                      .nocarry:
   12955   00:B135  79                  	ld      a,c
   12956   00:B136  12                  	ld      (de),a
   12957   00:B137                      
   12958   00:B137  C9                  	ret
   12959   00:B138                      
   12960   00:B138  (0046)              COLOR_FINAL:	incbin	"TILES_FINAL.col"
   12961   00:B17E  (0508)              TILES_FINAL:	incbin	"TILES_FINAL.til"
   12962   00:B686                                          
   12963   00:B686                      setslotpage0_end:
   12964   00:B686                                      
   12965   00:B686                      ;paso_negro_der:	incbin	"PASO_NEGRO_DERECHA_PLETTER.DAT"
   12966   00:B686  (0036)              paso_negro_izq:	incbin	"PASO_NEGRO_IZQUIERDA_PLETTER.DAT"				;paso oscuro de 2 pantallas cuando no hay luz
   12967   00:B6BC  (00C4)              entre_fases:	incbin	"ENTRESAN.DAT"
   12968   00:B780  (0126)              fase_17:		incbin	"FASE_17_pletter.dat"							
   12969   00:B8A6  (0130)              fase_18:		incbin	"FASE_18_pletter.dat"
   12970   00:B9D6                      ;fase_19:		incbin	"FASE_19_pletter.dat"   						;por si se libera memoria
   12971   00:B9D6  (01F5)              FINAL_ING:		incbin	"FINAL_TEMPLO_ingles.dat"
   12972   00:BBCB  (01F1)              FINAL:			incbin	"FINAL_TEMPLO.dat"
   12973   00:BDBC                      
   12974   00:BDBC  00 (580)            		ds		#C000-$													;rellena hasta fin de la aplicacion
   12975   00:C000                      		
   12976   00:C000                      		
   12977   00:C000                      ;VARIABLES						DONDE SE SITUAN							OCUPAN	DESCRIPCION
   12978   00:C000                      
   12979   00:C000  (00:C000)           inicio_ram:						equ	#c000								;0		describe el inicio de variables
   12980   00:C000                      		
   12981   00:C000  (00:C001)           idioma:							equ	inicio_ram+1						;1		0 ingles 1 castellano 2 catalán
   12982   00:C000                      
   12983   00:C000  (00:C002)           petiso_que_toca:				equ	idioma+1							;1		0 quieto 1 saltando
   12984   00:C000  (00:C003)           petisox:						equ	petiso_que_toca+1					;1
   12985   00:C000  (00:C004)           petisoy:						equ	petisox+1							;1
   12986   00:C000  (00:C005)           espera_petiso:					equ	petisoy+1							;1
   12987   00:C000  (00:C006)           espera_petiso_resta:			equ	espera_petiso+1						;1
   12988   00:C000  (00:C007)           espera_petiso_resta_2:			equ	espera_petiso_resta+1				;1
   12989   00:C000  (00:C008)           y_exp:							equ	espera_petiso_resta_2+1				;1		y de la posicion de exp
   12990   00:C000  (00:C009)           valor_suma_resta_exp:			equ	y_exp+1								;1		para sumar y restar a y y crear el efecto de movimiento
   12991   00:C000  (00:C00A)           direccion_exp:					equ	valor_suma_resta_exp+1				;1		para saber si lo suma o si lo resta
   12992   00:C000  (00:C00B)           cuenta_gira_exp:				equ	direccion_exp+1						;1		para darle la vuelta
   12993   00:C000  (00:C00C)           retardo_exp:					equ	cuenta_gira_exp+1					;1		hacer más lenta la secuencia de exp
   12994   00:C000                      
   12995   00:C000  (00:C00D)           VIEJA_INTERR:					EQU	retardo_exp+1						;5		le damos 5 bytes para guardar la información que había en la interrupción
   12996   00:C000  (00:C012)           fuego_cambia:					equ	VIEJA_INTERR+5						;2		dos posiciones del fuego del menu 1 y 2
   12997   00:C000  (00:C014)           fuego_cambiante:				equ	fuego_cambia+2						;1		
   12998   00:C000  (00:C015)           y_serp:							equ	fuego_cambiante+1					;1		coordenada y de la sepiente de menu
   12999   00:C000                      
   13000   00:C000  (00:C016)           nivel:							equ	y_serp+1							;1		0 nevel 1 - 1 nivel 2
   13001   00:C000                      
   13002   00:C000  (00:C017)           clock:							equ	nivel+1								;2		variables de tiempo para intercalar menu y creditos
   13003   00:C000  (00:C019)           CLOCK:							equ	clock+2								;2		variable de tiempo para cuando hay 2 necearias
   13004   00:C000  (00:C01B)           px:								equ	CLOCK+2								;1		x prota
   13005   00:C000  (00:C01C)           py:								equ	px+1								;1		y prota
   13006   00:C000  (00:C01D)           puede_cambiar_de_direccion:		equ	py+1								;1		0 - no 1 - si
   13007   00:C000  (00:C01E)           vidas_prota:					equ	puede_cambiar_de_direccion+1		;1		vidas del protagonista
   13008   00:C000  (00:C01F)           color_prota:					equ	vidas_prota+1						;1		7 - mojado		8 - seco
   13009   00:C000  (00:C020)           color_lineas_prota:				equ	color_prota+1						;1		1 - seco		14 - moojado
   13010   00:C000  (00:C021)           muerto:							equ	color_lineas_prota+1				;1		0 muerto - 1 vivo
   13011   00:C000  (00:C022)           fase_en_la_que_esta:			equ	muerto+1							;1		fase en la que jugamos
   13012   00:C000  (00:C023)           estado_prota:					equ	fase_en_la_que_esta+1				;1		0=quieto 1=andando 2=saltando 3=cayendo 4=subiendo/bajando
   13013   00:C000  (00:C024)           prev_dir_prota:					equ	estado_prota+1						;1		hacia qué lado miraba antes el prota
   13014   00:C000  (00:C025)           salto_pulsado:					equ	prev_dir_prota+1					;1		para que no se pueda saltar mientras se cae o ya se está saltando
   13015   00:C000  (00:C026)           pasos_de_salto:					equ	salto_pulsado+1						;1		si está saltando indica cuánto le queda para dejar de saltar
   13016   00:C000  (00:C027)           dir_prota:						equ	pasos_de_salto+1					;1		0 derecha 1 izquierda
   13017   00:C000  (00:C028)           paso:							equ	dir_prota+1							;1		0 recto 1 andando 2 subiendo A 3 subiendo B
   13018   00:C000  (00:C029)           retard_anim:					equ	paso+1								;1		entre 0 y 9
   13019   00:C000  (00:C02A)           atributos_sprite_general:		equ	retard_anim+1						;48		4 bytes y,x,patron,color PARA 4 SPRITES
   13020   00:C000  (00:C05A)           tiene_objeto:					equ	atributos_sprite_general+48			;1		0=no 1=bomba 2=cuchillo
   13021   00:C000  (00:C05B)           px_salida:						equ	tiene_objeto+1						;1		para recordar el punto de la puerta
   13022   00:C000  (00:C05C)           py_salida:						equ	px_salida+1							;1
   13023   00:C000                      
   13024   00:C000  (00:C05D)           x_explosion:					equ	py_salida+1							;1		posición de la explosión al explotar la bomba
   13025   00:C000  (00:C05E)           y_explosion:					equ	x_explosion+1						;1
   13026   00:C000  (00:C05F)           estado_de_explosion:			equ	y_explosion+1						;1		0=no 1,2,3 sprites 22,23,24
   13027   00:C000  (00:C060)           contador_retardo_explosion:		equ	estado_de_explosion+1				;1
   13028   00:C000                      
   13029   00:C000  (00:C061)           buffer_colisiones:				equ	contador_retardo_explosion+1		;736	para leer las colisiones en RAM ya que es mucho más ràpido
   13030   00:C000  (00:C341)           buffer_colisiones_2:			equ	buffer_colisiones+736				;736	la segunda pantalla
   13031   00:C000  (00:C621)           pantalla_activa:				equ	buffer_colisiones_2+736				;1		1 = patnalla 1 - 2 = pantalla 2
   13032   00:C000                      
   13033   00:C000  (00:C622)           estado_de_salto:				equ	pantalla_activa+1					;1		1a8-9a20-21a28 salto derecha - 31a38-39a50-51a58 salto izquierda
   13034   00:C000  (00:C623)           mechero:						equ	estado_de_salto+1					;1		0 no lo tienes 1 lo tienes
   13035   00:C000  (00:C624)           gasolina:						equ	mechero+1							;1		0 no lo tienes 1 lo tienes
   13036   00:C000  (00:C625)           posicion_puerta:				equ	gasolina+1							;2		posicion de la puerta
   13037   00:C000  (00:C627)           pantalla_puerta:				equ	posicion_puerta+2					;1		pantalla en la que se encuentra 1 o 2
   13038   00:C000  (00:C628)           ya_ha_cambiado_puerta:			equ	pantalla_puerta+1					;1		0 está cerrada 1 está abierta
   13039   00:C000  (00:C629)           increm:							equ	ya_ha_cambiado_puerta+1				;1		para borrado concreto de vram
   13040   00:C000                      
   13041   00:C000  (00:C62A)           tile_a_poner_agua:				equ	increm+1							;1		decide el tile que toca en el agua
   13042   00:C000                      
   13043   00:C000  (00:C62B)           score:							equ	tile_a_poner_agua+1					;2		puntos
   13044   00:C000  (00:C62D)           contador_para_puntuacion:		equ	score+2								;2		compara con score para controlar los tiles a pintar en puntuacion
   13045   00:C000  (00:C62F)           posicion_del_punto_unidades:	equ contador_para_puntuacion+2			;1		control tile unidades
   13046   00:C000  (00:C630)           posicion_del_punto_decenas:		equ	posicion_del_punto_unidades+1		;1		control tile decenas
   13047   00:C000  (00:C631)           posicion_del_punto_centenas:	equ	posicion_del_punto_decenas+1		;1		control tile centenas
   13048   00:C000  (00:C632)           posicion_del_punto_millares:	equ	posicion_del_punto_centenas+1		;1		control tile unidades de millar
   13049   00:C000  (00:C633)           cuenta_puntos_o_no:				equ	posicion_del_punto_millares+1		;1		0 no cuenta 1 si cuenta
   13050   00:C000  (00:C634)           cuanto_sumamos_a_score:			equ	cuenta_puntos_o_no+1				;1		para el contador evolutivo
   13051   00:C000                      
   13052   00:C000  (00:C635)           variables_serpiente_1:			equ	cuanto_sumamos_a_score+1			;10		0	-	serp_x_1
   13053   00:C000                      																		;		1	-	serp_y_1
   13054   00:C000                      																		;		2	-	serp_direcion_1
   13055   00:C000                      																		;		3	-	serp_paso_1
   13056   00:C000                      																		;		4	-	color_serp_1
   13057   00:C000                      																		;		5	-	cont_retardo_serp_1
   13058   00:C000                      																		;		6	-	cont_retardo_serp_1_mobil
   13059   00:C000                      																		;		7	-	retardo_veloc_serp_1
   13060   00:C000                      																		;		8	-	retardo_veloc_serp_1_mobil
   13061   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   13062   00:C000  (00:C63F)           variables_serpiente_2:			equ	variables_serpiente_1+10			;10		0	-	serp_x_2
   13063   00:C000                      																		;		1	-	serp_y_2
   13064   00:C000                      																		;		2	-	serp_direcion_2
   13065   00:C000                      																		;		3	-	serp_paso_2
   13066   00:C000                      																		;		4	-	color_serp_2
   13067   00:C000                      																		;		5	-	cont_retardo_serp_2
   13068   00:C000                      																		;		6	-	cont_retardo_serp_2_mobil
   13069   00:C000                      																		;		7	-	retardo_veloc_serp_2
   13070   00:C000                      																		;		8	-	retardo_veloc_serp_2_mobil
   13071   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   13072   00:C000  (00:C649)           variables_serpiente_3:			equ	variables_serpiente_2+10			;10		0	-	serp_x_3
   13073   00:C000                      																		;		1	-	serp_y_3
   13074   00:C000                      																		;		2	-	serp_direcion_3
   13075   00:C000                      																		;		3	-	serp_paso_3
   13076   00:C000                      																		;		4	-	color_serp_3
   13077   00:C000                      																		;		5	-	cont_retardo_serp_3
   13078   00:C000                      																		;		6	-	cont_retardo_serp_3_mobil
   13079   00:C000                      																		;		7	-	retardo_veloc_serp_3
   13080   00:C000                      																		;		8	-	retardo_veloc_serp_3_mobil
   13081   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   13082   00:C000  (00:C653)           variables_serpiente_4:			equ	variables_serpiente_3+10			;10		0	-	serp_x_4
   13083   00:C000                      																		;		1	-	serp_y_4
   13084   00:C000                      																		;		2	-	serp_direcion_4
   13085   00:C000                      																		;		3	-	serp_paso_4
   13086   00:C000                      																		;		4	-	color_serp_4
   13087   00:C000                      																		;		5	-	cont_retardo_serp_4
   13088   00:C000                      																		;		6	-	cont_retardo_serp_4_mobil
   13089   00:C000                      																		;		7	-	retardo_veloc_serp_4
   13090   00:C000                      																		;		8	-	retardo_veloc_serp_4_mobil
   13091   00:C000                      																		;		9	-	PANTALLA EN LA QUE ESTA
   13092   00:C000  (00:C65D)           colision_cuchillo_serp_real:	equ	variables_serpiente_4+10			;1		0	-	no hay colision, 1	-	si la hay															
   13093   00:C000  (00:C65E)           serp1:							equ	colision_cuchillo_serp_real+1		;1		serpiente 1 1-presente 0-ausente
   13094   00:C000  (00:C65F)           serp2:							equ	serp1+1								;1		serpiente 2 1-presente 0-ausente
   13095   00:C000  (00:C660)           serp3:							equ	serp2+1								;1		serpiente 3 1-presente 0-ausente
   13096   00:C000  (00:C661)           serp4:							equ	serp3+1								;1		serpiente 4 1-presente 0-ausente
   13097   00:C000                      
   13098   00:C000  (00:C662)           cont_no_salta_dos_seguidas:		equ	serp4+1								;1		para evitar el doble salto
   13099   00:C000                      
   13100   00:C000  (00:C663)           pasamos_la_fase:				equ	cont_no_salta_dos_seguidas+1		;1		0 estamos jugando 1 pasamos la fase
   13101   00:C000                      
   13102   00:C000  (00:C664)           momento_lanzamiento:			equ	pasamos_la_fase+1					;1		0 no lanza - 1 movm 1 - 2 mov 2 - 3 en órbita
   13103   00:C000  (00:C665)           pantalla_cuchillo:				equ	momento_lanzamiento+1				;1		1 o 2
   13104   00:C000  (00:C666)           contador_poses_lanzar:			equ	pantalla_cuchillo+1					;1		para retrasar las poses de lanzar
   13105   00:C000  (00:C667)           recordar_lo_que_habia:			equ	contador_poses_lanzar+1				;2		guarda el valor de lo que borra si hay que pintar circunstancialmente una cosa
   13106   00:C000  (00:C669)           dir_cuchillo:					equ	recordar_lo_que_habia+2				;1		la dirección hacia la que ba el cuchillo
   13107   00:C000  (00:C66A)           cx:								equ	dir_cuchillo+1						;1		x cuchillo
   13108   00:C000  (00:C66B)           cy:								equ	cx+1								;1		y cuchillo
   13109   00:C000                      
   13110   00:C000  (00:C66C)           escalera_activada:				equ	cy+1								;1		0 no - 1 si
   13111   00:C000  (00:C66D)           posicion_escalera:				equ	escalera_activada+1					;2		numero de tile que tiene que pintar de la escalera alternativa
   13112   00:C000  (00:C66F)           contador_escalera:				equ	posicion_escalera+2					;1		retardo para la construccion de la escalaera
   13113   00:C000  (00:C670)           limite_escalera					equ	contador_escalera+1					;2		numero de tile en el que tiene que parar de construir
   13114   00:C000  (00:C672)           pantalla_escalera:				equ	limite_escalera+2					;1		pantalla en la que está la escalera
   13115   00:C000                      
   13116   00:C000  (00:C673)           OUS_ACTIU:						equ	pantalla_escalera+1					;1		para saber el huevo que está activando
   13117   00:C000  (00:C674)           trampa:							equ	OUS_ACTIU+1							;1		cantidad de pasar fases que tienes
   13118   00:C000  (00:C675)           inmune_serp:					equ	trampa+1							;1		inmune a las serpientes
   13119   00:C000  (00:C676)           inmune_bomb:					equ	inmune_serp+1						;1		inmune a los bomberos
   13120   00:C000                      
   13121   00:C000  (00:C677)           grifo_estado:					equ	inmune_bomb+1						;1		0 - cerrado	1 - abierto
   13122   00:C000                      
   13123   00:C000                      
   13124   00:C000  (00:C678)           ESTADO_MUSICA:					EQU	grifo_estado+1						;1		0 - apagada y 1 - encendida
   13125   00:C000                      
   13126   00:C000  (00:C679)           vision_estado:					equ	ESTADO_MUSICA+1						;1		0 	-	no ve nada y 1 - lo ve todo
   13127   00:C000                      
   13128   00:C000  (00:C67A)           colision_bombero_prota_real:	equ	vision_estado+1						;1		0	-	no hay colision,	1	-	si la hay			
   13129   00:C000  (00:C67B)           bombero_1:						equ	colision_bombero_prota_real+1		;1		0 	- 	existe				1 	- 	no existe
   13130   00:C000  (00:C67C)           bombero_control:				equ	bombero_1+1							;13		0	-	x					(0 - 255)
   13131   00:C000                      																		;		1	-	y					(0 - 255)
   13132   00:C000                      																		;		2	.	velocidad			(1 - 3)
   13133   00:C000                      																		;		3	-	cada cuanto para	(0 - 255)
   13134   00:C000                      																		;		4	-	tiempo que para		(0 - 255)
   13135   00:C000                      																		;		5	-	paso				(0 - quieto	1 - andando)
   13136   00:C000                      																		;		6	-	direccion			(0 - derecha)	1 - izquierda)
   13137   00:C000                      																		;		7	-	en escalera			(0 - no	1 - si)
   13138   00:C000                      																		;		8	-	tiempo para aparecer(0-255)
   13139   00:C000                      																		;		9	-	retardo de velocidad(0-10)
   13140   00:C000                      																		;		10	-	0 - decide subir 1 - decide bajar 2- decide no utilizar
   13141   00:C000                      																		;		11	-	contador de reten para evitar que suba  y baje escaleras de forma seguida
   13142   00:C000                      																		;		12	-	pantalla en la que está 1 o 2
   13143   00:C000                      																
   13144   00:C000  (00:C689)           toca_bombero:					equ	bombero_control+13					;1		0 no saldrá bombero en la siguiente 1 si saldrá
   13145   00:C000  (00:C68A)           velocidad_paseo_fases:			equ	toca_bombero+1						;1		1 - mas tiempo para leer mensaje 2-menos tiempo
   13146   00:C000  (00:C68B)           tile_grifo_balsa_1:				equ	velocidad_paseo_fases+1				;2		tile en que se localiza el primer grifo de balsa
   13147   00:C000  (00:C68D)           tile_grifo_balsa_2:				equ	tile_grifo_balsa_1+2				;2		tile en que se localiza el segundo grifo de balsa
   13148   00:C000  (00:C68F)           grifos_balsa_cerrados:			equ	tile_grifo_balsa_2+2				;1		0 es cerrado - 1 es abierto
   13149   00:C000  (00:C690)           posicion_balsa_desde_grifo:		equ	grifos_balsa_cerrados+1				;2		posición en la que empieza la balsa, desde el grifo en sí
   13150   00:C000  (00:C692)           balsa_activa:					equ	posicion_balsa_desde_grifo+2		;1		0 - no 1 - si
   13151   00:C000  (00:C693)           balsa_bacia:					equ	balsa_activa+1						;1		0 - se vacio 1 - no se vacio
   13152   00:C000  (00:C694)           pantalla_tile_grifo_balsa_1:	equ balsa_bacia+1						;1		pantalla en la que está el grifo 1
   13153   00:C000  (00:C695)           pantalla_tile_grifo_balsa_2:	equ	pantalla_tile_grifo_balsa_1+1		;1		pantalla en la que está el grifo 2
   13154   00:C000  (00:C696)           pantalla_balsa:					equ	pantalla_tile_grifo_balsa_2+1		;1		pantalla en la que está la balsa
   13155   00:C000  (00:C697)           GAME_OVER:						equ	pantalla_balsa+1					;390	MUSICA FIN PARTIDA
   13156   00:C000                      
   13157   00:C000  (00:C81D)           MUTE:							EQU	GAME_OVER+390						;117	silencio musical								
   13158   00:C000  (00:C892)           MUERTO:							EQU	MUTE+117							;373	MUSICA MUERTO
   13159   00:C000  (00:CA07)           clock_1:						equ	MUERTO+373							;1		VARIALBLE A DEFINIR
   13160   00:C000  (00:CA08)           ENTRE_FASES:					equ	clock_1+1							;470	MUSICA ENTRE FASES
   13161   00:C000  (00:CBDE)           sticky:							equ	ENTRE_FASES+470						;1		stick o strig 0 o 1
   13162   00:C000  (00:CBDF)           EFECTOS_BANCO:					equ	sticky+1							;1939	efectos de sonido
   13163   00:C000  (00:D372)           posicion_brillo_items:			equ	EFECTOS_BANCO+1939					;1		control para el brillo de los items
   13164   00:C000  (00:D373)           GEN_MUSIC:						EQU	posicion_brillo_items+1				;2925	MUSICA INICIO
   13165   00:C000  (00:DEE0)           sigue_pulsando					equ	GEN_MUSIC+2925						;1		controla que no se pulse dos veces seguidas una dirección durante el menu
   13166   00:C000  (00:DEE1)           VDPW99:                         equ  sigue_pulsando + 1
   13167   00:C000  (00:DEE2)           VDPW98:                         equ VDPW99 + 1
   13168   00:C000  (00:DEE3)           valor_a_cambiar_en_tile_v:		equ	VDPW98+1							;1		para controlar el triple cambio de tile con una única variable
   13169   00:C000                      

    LABELS
-------------------------------------------------
00:000000C3   CLS
00:0000006C X SCREEN0
00:0000006F   SCREEN1
00:000000D2 X MODOTEXTO
00:000000C6   LOCATE
00:000000A2   CHPUT
00:000000CC   KEYOFF
00:00000062   COLOR
00:0000F3E9   COLLETRA
00:0000F3EA   COLFONDO
00:0000F3EB   COLBORDE
00:0000009F X INPUT
00:0000F3AF X ANCHOSC0
00:0000F3AF   ANCHOSC1
00:0000F3DB   CLICKOFF
00:00000041   DISSCR
00:00000044   ENASCR
00:0000013E X RDVDP
00:00000047   WRTVDP
00:0000005C   GRABAVRAM
00:00000059 X GRABARAM
00:0000005F   SCREENX
00:000000D5   ONSTICK
00:000000D8   ONSTRIG
00:0000003B X RESET
00:0000FD9A X H.KEYI
00:0000FD9F   H.TIMI
00:00000141   SNSMAT
00:00000024   ENASLT
00:0000FCC1   EXPTBL
00:0000FCC5   SLTTBL
00:00000138   RSLREG
00:0000C000   SLOTVAR
00:0000F3DF X RG0SAV
00:0000F3E0   RG1SAV
00:0000F3E1 X RG2SAV
00:0000F3E2 X RG3SAV
00:0000F3E3 X RG4SAV
00:0000F3E4 X RG5SAV
00:0000F3E5 X RG6SAV
00:0000F3E6 X RG7SAV
00:0000FFE8   RG9SAV
00:0000F3E7 X STATFL
00:00000069 X CLRSPR
00:00000000   instru_caste
00:0000011E   instru_ingle
00:0000022D   CANCION
00:000007DA   SILENCIO
00:000007F6   MUSICA_GAMEOVER
00:000008BC   MUSICA_FASES
00:00000C08   MUSICA_MUERTO
00:00000CEB   MUSICA_ENTRE_FASES
00:00000DD9   pant_carga_til
00:000018AA   pant_carga_col
00:00001D82   pant_carga
00:00001EAA   tiles_1
00:00002411   colores_1
00:00002728   fase_1
00:000027C0   fase_2
00:000028B9   fase_3
00:000029E6   fase_4_1
00:00002B14   fase_4_2
00:00002C28   fase_5_1
00:00002D64   fase_5_2
00:00002EB6   fase_6
00:00002FC4   fase_7_1
00:00003088   fase_7_2
00:0000312A   fase_8
00:00003269   fase_9
00:000033DA   fase_10_1
00:000034D2   fase_10_2
00:00003613   fase_11_1
00:0000373D   fase_11_2
00:0000385E   fase_12
00:00003982   fase_13
00:00003AD8   fase_14
00:00003BB8   fase_15_1
00:00003CD5   fase_15_2
00:00003DD5   fase_16
00:00003F33 X relleno_page_0_
00:00004010   START
00:0000402A   ampliamos_lectura_a_32kb
00:00004094   search_slotset
00:0000409A   search_slot
00:000040BB   PANTALLA_DE_CARGA
00:000040CC   colores_inicio
00:000040DB   cargando_patrones
00:00004108 X INICIA_MUSICA
00:00004125   petisos
00:0000413E   petiso_activity
00:00004179   petiso_a_saltar
00:00004188   registros_petiso
00:000041C1   exp_activity
00:000041D5 X exp_suma_posicion
00:000041F1   exp_resta_posicion
00:00004217   exp_sprites
00:0000421E X exp_sprite_1
00:00004222   exp_sprites_diferente
00:0000423E   exp_sprite_2
00:00004242   exp_sprite_3
00:00004246   exp_sprite_4
00:0000424A   exp_sprite_5
00:0000424E   registros_exp
00:00004294   MENU
00:000042B3 X PREPARA_VARIABLES_SERPIENTE
00:000042EB X RUTINA_DE_MENU
00:00004327 X PANTALLA_DE_SELECCION
00:0000434B X menu_ingles
00:0000439B   menu_castellano
00:000043E9   rutina_colores_inicio
00:000043F7   rutina_colores_pinto
00:00004400   reinicia_fuego
00:00004407   cambia_variable_fuego
00:00004412   cambia_variable_fuego_2
00:00004418   anima_fuego
00:0000444F   anima_fuego_2
00:0000447F   contro_serpiente_a_pintar
00:0000449B   control_stick_menu
00:000044B5   mas_control
00:000044C7   control_stick_menu_para_dos_sticks
00:000044D5   limpiamos_la_ultima_opcion
00:000044D9   control_strig_menu
00:000044EE X controla_tiempo_para_cambio
00:000044F1   que_ha_elegido
00:0000450D   idioma_a_pintar
00:00004513 X castellano
00:0000451B   ingles
00:00004522   prepara_nivel_1
00:00004529   prepara_nivel_2
00:00004531   lee_pinta_una
00:00004533   loop_lee_pinta_una
00:0000453B   pinta_serpiente_1
00:00004552   sube_cursor
00:00004560   lo_sube
00:0000457C   baja_cursor
00:0000458A   lo_baja
00:000045A6   limpia_sprites
00:000045D4   prepara_juego
00:00004606 X instrucciones_en_ingles
00:00004611   instrucciones_en_castellano
00:0000461A   animaciones_de_instrucciones
00:00004628   animaciones_de_instrucciones_1
00:000046A0   animaciones_de_instrucciones_2
00:000046FA   animaciones_de_instrucciones_3
00:00004754   animaciones_de_instrucciones_4
00:00004788   animaciones_de_instrucciones_5
00:00004798   vamos_alla
00:0000479D   esperando
00:000047AF   datos_a_preparar
00:00004800   define_espera_entre_fases
00:00004807   coordenadas_prota
00:00004815   bloque_sanctuary_1
00:00004823   bloque_sanctuary_1_esp
00:00004826   bloque_sanctuary_1_cont
00:00004891   bloque_sanctuary_2
00:0000489F   bloque_sanctuary_2_esp
00:000048A2   bloque_sanctuary_2_cont
00:00004908   bloque_sanctuary_3
00:00004916   bloque_sanctuary_3_esp
00:00004919   bloque_sanctuary_3_cont
00:00004980   bloque_sanctuary_4
00:0000498E   bloque_sanctuary_4_esp
00:00004991   bloque_sanctuary_4_cont
00:00004A08   bloque_sanctuary_5
00:00004A16   bloque_sanctuary_5_esp
00:00004A19   bloque_sanctuary_5_cont
00:00004A8F   bloque_sanctuary_6
00:00004A9D   bloque_sanctuary_6_esp
00:00004AA0   bloque_sanctuary_6_cont
00:00004B5F   bloque_sanctuary_7
00:00004B6D   bloque_sanctuary_7_esp
00:00004B70   bloque_sanctuary_7_cont
00:00004C13   bloque_sanctuary_8
00:00004C21   bloque_sanctuary_8_esp
00:00004C24   bloque_sanctuary_8_cont
00:00004CE5   bloque_sanctuary_9
00:00004CF3   bloque_sanctuary_9_esp
00:00004CF6   bloque_sanctuary_9_cont
00:00004D87   bloque_sanctuary_10
00:00004D95   bloque_sanctuary_10_esp
00:00004D98   bloque_sanctuary_10_cont
00:00004E43   bloque_sanctuary_11
00:00004E51   bloque_sanctuary_11_esp
00:00004E54   bloque_sanctuary_11_cont
00:00004EC9   bloque_sanctuary_12
00:00004ED7   bloque_sanctuary_12_esp
00:00004EDA   bloque_sanctuary_12_cont
00:00004F6F   bloque_sanctuary_13
00:00004F7D   bloque_sanctuary_13_esp
00:00004F80   bloque_sanctuary_13_cont
00:0000500D   bloque_sanctuary_14
00:0000501B   bloque_sanctuary_14_esp
00:0000501E   bloque_sanctuary_14_cont
00:00005099   bloque_sanctuary_15
00:000050A7   bloque_sanctuary_15_esp
00:000050AA   bloque_sanctuary_15_cont
00:00005132   bloque_sanctuary_16
00:00005140   bloque_sanctuary_16_esp
00:00005143   bloque_sanctuary_16_cont
00:000051DF   bloque_sanctuary_17
00:000051ED   bloque_sanctuary_17_esp
00:000051F0   bloque_sanctuary_17_cont
00:000052B1   bloque_sanctuary_18
00:000052BF   bloque_sanctuary_18_esp
00:000052C2   bloque_sanctuary_18_cont
00:000053D0   FINAL_TEMPLO
00:00005408   FINAL_TEMPLO_1
00:00005415   FINAL_TEMPLO_CONTINUA
00:0000543E   animacion_final
00:0000546E   animacion_final_cont
00:0000547D   animacion_final_recont
00:0000548A   animacion_final_1
00:000054A7   FINAL_TEMPLO_NIVEL_1
00:000054DC   FINAL_TEMPLO_NIVEL_1_ESP
00:00005500   FINAL_TEMPLO_NIVEL_1_CONTINUA
00:00005513   pinta_mando_de_luz_en_su_sitio
00:00005521   pantalla_en_mas_blanco
00:00005532   pantalla_en_blanco
00:0000554C   copiamos_en_pantalla_lo_de_memoria
00:00005558   copiamos_en_pantalla_lo_de_memoria_2
00:0000555B   copiamos_en_pantalla_lo_de_memoria_tras_buffer
00:00005564   anunciamos_el_santuario_correspondiente
00:0000556D   anunciamos_el_santuario_correspondiente_numero
00:00005579   variables_iguales
00:0000566B   variables_serpientes
00:0000568B   SPRITES_PETISOS
00:00005697   SPRITES_OJOS
00:000056A3   SPRITES_UNO
00:000056C0   SPRITES_DOS
00:000056E4   SPRITES_PAUSA
00:000056F0   SPRITES_BOMBA
00:000056FC   SPRITES_CUCHILLO
00:00005708   SPRITES_PROTA_NORMAL
00:00005714   SPRITES_BOMBERO_PERSIGUE
00:00005720   string_de_espera
00:0000572F   activa_mute
00:0000573A   activa_musica_fases
00:00005764   activa_musica_menu
00:0000577E   activa_musica_muerto
00:00005789   activa_musica_entre_fases
00:00005794   rutina_de_esperar_un_rato
00:000057A3   PREPARACION_SCREEN_2
00:000057B5   gran_rutina
00:00005815   ous
00:000058AC   ous_inici
00:000058D2   ous_1_2
00:000058DD   ous_1_3
00:000058E8   ous_1_4
00:000058F3   ous_1_5
00:000058FE   ous_1_6
00:00005909   ous_1_7
00:00005914   ous_1_8
00:0000591F   inicia_ou_2
00:00005925   inicia_ou_3
00:0000592B   inicia_ou_4
00:00005931   ous_2_3
00:0000593B   ous_2_4
00:00005945   ous_2_6
00:0000594F   ous_2_7
00:0000595A   ous_3_2
00:00005964   ous_3_3
00:0000596E   ous_3_6
00:00005978   ous_3_7
00:00005982   ous_3_8
00:0000598C   ous_4_4
00:00005996   ous_4_5
00:000059A0   ous_4_10
00:000059AA   aumenta_ou
00:000059B2   inmune_a_serpientes
00:000059C1   inmune_bombero
00:000059D0   dos_vidas_mas
00:000059E7   activa_pasa_fases
00:000059F6   variantes_de_items
00:00005A1F   standard_brillo
00:00005A29   variante_1
00:00005A3A   variante_2
00:00005A4B   variante_3
00:00005A5C   variante_4
00:00005A6D   variante_5
00:00005A7E   variante_6
00:00005A8F   variante_7
00:00005AA1   variante_8
00:00005AB9   reinicia_brillo_items
00:00005ABE   standard_tiles_cambiantes
00:00005AC8   resto_de_standard
00:00005AF1   standard_tiles_cambiantes_2
00:00005AFB   standard_tiles_cambiantes_3
00:00005B05   standard_tiles_cambiantes_4
00:00005B0F   tiles_cambiantes
00:00005B78   tiles_cambiantes_1
00:00005BC0   reset_clock
00:00005BD3   reset_clock_2
00:00005BD8   limpia_clock_a_10
00:00005BE0   diferencias_en_las_fases
00:00005BEF   final_diferencias_fase
00:00005BF0   diferencias_en_las_fases_2
00:00005BF9   POINT_de_diferencias_fase_1
00:00005C1D   POINT_de_diferencias_fase_2
00:00005C41   cambios_fase_1
00:00005C4B   cambios_fase_3
00:00005C70   cambios_fase_4
00:00005C75   cambios_fase_5
00:00005C7F   cambios_fase_6
00:00005C84   cambios_fase_7
00:00005C98   cambios_fase_8
00:00005CAE   cambios_fase_10
00:00005CBD   cambios_fase_13
00:00005CCF X cambios_fase_14
00:00005CE1   cambios_fase_17
00:00005CF0   vigila_si_cierra_puertas
00:00005D14   movimiento_forzado_en_puertas
00:00005D2B   recoloca_puerta_amarilla_derecha
00:00005D5D   recoloca_puerta_amarilla_izquierda
00:00005D90   recoloca_puerta_azul_derecha
00:00005DC2   recoloca_puerta_azul_izquierda
00:00005DF5   grifos_balsa_bombero
00:00005E25   grifos_balsa_bombero_2
00:00005E2C   grifos_balsa_bombero_3
00:00005E46   grifos_balsa_bombero_4
00:00005E4D   grifos_balsa_bombero_5
00:00005E67   grifos_balsa_bombero_6
00:00005E6E   grifos_balsa_bombero_7
00:00005EAC   grifos_balsa_bombero_8
00:00005EB3   grifos_balsa_bombero_9
00:00005EBB   grifos_balsa_bombero_cierre
00:00005EC0   grifo_bombero
00:00005F0B   grifo_bombero_continua
00:00005F1A   grifo_bombero_1
00:00005F1F   que_pinto_de_la_balsa
00:00005F39 X balsa_a_pintar_si_cerrado_grifo
00:00005F49   balsa_a_pintar_si_cerrado_grifo_1
00:00005F50   balsa_a_pintar_si_cerrado_grifo_2
00:00005F60   balsa_a_pintar_si_cerrado_grifo_3
00:00005F67   balsa_a_pintar_si_cerrado_grifo_4
00:00005F8A   balsa_a_pintar_si_abierto_grifo
00:00005F9A   balsa_a_pintar_si_abierto_grifo_1
00:00005FA1   balsa_a_pintar_si_abierto_grifo_2
00:00005FBB   balsa_a_pintar_si_abierto_grifo_3
00:00005FC2   balsa_a_pintar_si_abierto_grifo_4
00:00005FE5   revisa_bombero
00:00005FF9   se_activa_el_bombero
00:00006035   resta_y_camina
00:0000603C   revisa_subida_bombero
00:00006051   continua_rvb
00:00006073   revisa_bajada_bombero
00:00006090   continua_rbb
00:000060AD   corrige_en_escalera_bombero
00:000060B6   sigue_andando
00:000060C1   decide_paso_en_escalera
00:000060CB   paso_uno_escaleras
00:000060D8   paso_dos_escaleras
00:000060E4   revisa_caida_bombero
00:00006171   define_direccion_bombero
00:0000617B X va_hacia_la_izquierda
00:000061AF X paso_movido_izquierda
00:000061BB   paso_quieto_izquierda
00:000061C8   va_hacia_la_derecha
00:000061FC X paso_movido_derecha
00:00006207   paso_quieto_derecha
00:00006213   cambia_la_direccion_bombero
00:00006219 X cambia_a_derecha
00:00006222   cambia_a_izquierda
00:0000622C   hacia_donde_quiero_ir
00:00006249   bombero_cambia_de_pantalla
00:00006250 X bombero_cambia_de_pantalla_a_1
00:0000625E   bombero_cambia_de_pantalla_a_2
00:0000626C   damos_valor_bajada_bombero
00:00006272   damos_valor_subida_bombero
00:00006278   estamos_en_escalera
00:0000627F   ultimas_variables_bombero
00:000062AD   ultimas_variables_bombero_2
00:000062C9   bombero_variables_anuladas
00:000062DB   revisa_escalera
00:00006300   revisa_escalera_pantalla_2
00:00006303   revisa_escalera_continua
00:00006351   revisa_escalera_continua_2
00:00006369   se_acabo_la_escalera
00:0000636E   pulsa_una_tecla
00:0000637B   pulsa_una_tecla_sigue
00:00006396   pasa_fase_con_trampa
00:000063A8   una_vida_menos
00:000063BA   musica_off_on
00:000063D2   reconectamos_musica
00:000063DB   reconectamos_musica_2
00:000063E4   pausa_el_juego
00:00006400   rutina_de_pausa
00:0000640C X animacion_rutina_de_pausa_1
00:0000642E   animacion_rutina_de_pausa_2
00:00006457   animacion_rutina_de_pausa_3
00:00006464   mira_si_aprieta_una_tecla
00:00006473   mira_si_aprieta_una_tecla_dos
00:0000647B   reconectamos
00:000064A2   reconectamos_bomba
00:000064A7   reconectamos_cuchillo
00:000064AA   reconectamos_sigue
00:000064BD   repite_fase
00:000064D3 X buscando_la_fase
00:000064D9   lista_de_opciones
00:000064E4   POINT_de_acceso_a_fases
00:0000650A   termina_partida_mal
00:00006523 X termina_en_ingles
00:0000653D   termina_en_castellano
00:00006555   termina_partida_mal_continua
00:00006567   string_para_reiniciar_programa
00:0000658F   resetea_para_continue
00:00006595   inicio
00:0000659B   musica_sin_bucle
00:000065A6   musica_con_bucle
00:000065B1   colision_bombero_prota
00:0000662A   muy_mojado_fin_partida
00:0000663B   colisiones_serpientes_prota_1
00:00006662   comunes_muerte_por_serpiente
00:00006682   espera_por_muerte
00:0000669A   comun_colision_serpentes_1
00:000066A3   comun_colision_serpentes_2
00:000066AB   comun_colision_serpentes_3
00:000066B9   colisiones_serpientes_prota_2
00:000066DC   colisiones_serpientes_prota_3
00:00006704   colisiones_serpientes_prota_4
00:00006724   coteja_colision_prota_serpiente
00:00006766   coteja_colision_prota_bombero
00:00006784   coteja_colision_prota_bombero_menos_siete
00:0000678B   coteja_colision_prota_bombero_sigue
00:000067B9   colisiones_serpientes_cuchillos_comun_1
00:000067C2   colisiones_serpientes_cuchillos_comun_2
00:000067CA   colisiones_serpientes_cuchillos_comun_3
00:000067D5   colisiones_serpientes_cuchillos
00:000067EE X colision_cuchillo_serp_1
00:000067F9   colision_cuchillo_serp_2
00:00006817   colision_cuchillo_serp_3
00:00006835   colision_cuchillo_serp_4
00:00006850   colision_cuchillo_serpiente
00:000068B2   colision_cuchillo_serpiente_continua
00:000068C6   atributos_sprites
00:000068D2   estado_en_que_se_encuentra
00:00006901   continua_estado
00:00006958   cambio_estado_a_subiendo_para_la_caida
00:0000695E   segunda_comprovacion_caida
00:00006971   final_rutina_sin_caida
00:00006976   ultima_rectificacion_de_caida
00:00006982   caigo
00:000069C7   rectifico_caida_a_izquierda
00:000069DF   rectifico_caida_a_derecha
00:000069E7   mueve_prota
00:00006A01   stick_mando
00:00006A1D   stick_mando_2
00:00006A27   sube_escaleras
00:00006A7C   sube_escaleras_afirmativo
00:00006A94   a_mover_a_la_izquierda
00:00006A9D   comprueba_derecha
00:00006AB8   a_mover_a_la_derecha
00:00006ABF   a_subir
00:00006ACE   baja_escaleras
00:00006AF8   baja_escaleras_afirmativo
00:00006B0C   a_mover_a_la_izquierda_bajando
00:00006B15   comprueba_derecha_bajando
00:00006B2D   a_mover_a_la_derecha_bajando
00:00006B34   a_bajar
00:00006B42   mueve_izquierda_prota
00:00006B91   actualiza_el_paso_subiendo
00:00006B9F   reset_retardo_y_cambia_paso_subiendo
00:00006BAF   gira_puerta_derecha_amarilla
00:00006BDD   gira_puerta_izquierda_amarilla
00:00006C0B   gira_puerta_derecha_azul
00:00006C39   gira_puerta_izquierda_azul
00:00006C67   a_pantalla_2
00:00006C86   a_pantalla_1
00:00006CA5   pinta_mando_de_luz_pantalla_1
00:00006CB1   cosas_a_pintar_en_pantalla_10_1
00:00006CD9   cosas_a_pintar_en_pantalla_11_1
00:00006D01   pinta_mando_de_luz_pantalla_2
00:00006D0D   cosas_a_pintar_en_pantalla_10_2
00:00006D36   cosas_a_pintar_en_pantalla_11_2
00:00006D5F   mueve_derecha_prota
00:00006DA8   actualiza_el_paso
00:00006DB6   reset_retardo_y_cambia_paso
00:00006DC6   actualiza_atributos_sprite
00:00006E15   lanza_derecha_1
00:00006E19   lanza_derecha_2
00:00006E1D   mirando_izquierda
00:00006E2C   lanza_izquierda_1
00:00006E30   lanza_izquierda_2
00:00006E34   mirar_paso
00:00006E43   todo_va_bien
00:00006E4B   ultimos_valores
00:00006E64   esta_cayendo_para_el_patron
00:00006E69   esta_subiendo_o_bajando_para_el_patron
00:00006E6D   end
00:00006E73   set_parado
00:00006E79   get_bloque_en_X_Y
00:00006E9F   cargando_pantalla_2
00:00006EA2   get_bloque_en_X_Y_continua
00:00006EAA   get_bloque_en_X_Y_paravram
00:00006EC5 X pone_estado_prota_a_0
00:00006EC9   pose_si_esta_parado
00:00006EDD   esta_en_escalera
00:00006EE3   usa_objeto_o_salta
00:00006F21   sigue_comprobando
00:00006F33   reduce_el_contador_de_salto
00:00006F38   decide_si_usa_o_salta
00:00006F9A   fase_superada
00:00006FB0   apaga_los_chorros
00:00006FE6   quita_a_tu_derecha
00:00007022   quita_encima_tuyo
00:0000705E   quita_a_tu_izquierda
00:0000709A   quita_a_tu_derecha_2
00:000070E8   quita_a_tu_izquierda_2
00:00007124   coge_algun_objeto
00:000071BE   quitamos_el_tapon
00:000071D0 X quitamos_el_tapon_en_1
00:000071D9   quitamos_el_tapon_en_2
00:000071E0   quitamos_el_tapon_continua
00:00007215   quitamos_el_tapon_final
00:0000721F   cierra_los_grifos_de_balsa
00:00007233 X cierra_los_grifos_de_balsa_1
00:0000723C   cierra_los_grifos_de_balsa_2
00:00007243   cierra_los_grifos_de_balsa_3
00:00007254 X cierra_los_grifos_de_balsa_4
00:0000725E   cierra_los_grifos_de_balsa_5
00:00007265   cierra_los_grifos_de_balsa_6
00:00007279 X cierra_los_grifos_de_balsa_7
00:00007281   cierra_los_grifos_de_balsa_8
00:0000728B X cierra_los_grifos_de_balsa_9
00:00007293   cierra_los_grifos_de_balsa_10
00:0000729D   activa_escalera_extra
00:000072BB   activa_chorro_1
00:00007303   activa_chorro_2
00:0000734B   moja_prota
00:00007356   coge_toalla
00:00007387   vida_extra
00:000073B5   cierra_grifo
00:000073E0   coge_mechero_por_derecha
00:000073F4 X coge_mechero_por_izquierda
00:00007408 X coge_mechero
00:00007431   damos_la_luz
00:00007455   coge_gasolina_por_derecha
00:0000746B   coge_gasolina_por_izquierda
00:0000747F   coge_gasolina
00:0000749F   pinta_algo_solo
00:000074AB   coge_la_bomba
00:000074E2   coge_cuchillo
00:00007518   usa_bomba
00:00007525   continuamos
00:0000755A   continuamos_2
00:0000755F   continuamos_3
00:00007575   segunda_comprovacion_de_agujeros
00:0000758A   hace_agujero_1
00:000075AD   hace_agujero_1_2
00:000075C1   hace_agujero_2
00:000075E5   hace_agujero_2_2
00:000075F9   hace_agujero_3
00:00007628   hace_agujero_3_2
00:0000763C   usa_cuchillo
00:0000765C   rutina_cuchillo_volador
00:0000767D   comprueba_lugar_cuchillo
00:00007689 X lanzamos_a_la_derecha
00:000076C8   lanzamos_a_la_derecha_final
00:000076CE   lanzamos_a_la_izquierda
00:00007716   lanzamos_a_la_izquierda_final
00:0000771C   avanza_cuchillo
00:00007724 X avanza_hacia_la_derecha
00:0000776F   avanza_hacia_la_derecha_continua
00:000077A9   avanza_hacia_la_derecha_continua_2
00:000077B2   cuchillo_cambia_a_pantalla_dos
00:000077D3   clava_a_la_derecha
00:00007801   continua_clava_derecha_normal
00:0000782D   avanza_hacia_la_izquierda
00:0000787D   avanza_hacia_la_izquierda_continua
00:000078B7   avanza_hacia_la_izquierda_continua_2
00:000078C0   cuchillo_cambia_a_pantalla_uno
00:000078E1   clava_a_la_izquierda
00:0000790D   continua_clava_izquierda_normal
00:00007930   fin_de_secuencia_cuchillo
00:00007935 X trabajamos_en_pantalla_cuchillo
00:00007940   reclamo_posicion_cuchillo
00:00007949   actualiza_la_puerta
00:000079E5   final_actualiza_puerta
00:000079EC   alegria_de_color
00:00007A28   comprueba_estado_de_explosion
00:00007A66   finalizamos_la_explosion
00:00007A7D   puntuacion_vidas_fase
00:00007A95 X puntuacion_vidas_fase_2
00:00007AC0   pon_vidas_a_maximo
00:00007AC6   fase_superior_a_diez
00:00007AD3   rutina_de_puntos
00:00007AE8   resetea_los_numeros
00:00007B1B   termina_de_contar_puntuacion
00:00007B3F   ha_saltado
00:00007B4D   salta_hacia_la_derecha
00:00007B5C   salta_hacia_la_izquierda
00:00007B6B   salta_sube
00:00007B94   la_y_a_la_derecha
00:00007B9C   salta_resolucion
00:00007BAF   resetea_el_salto
00:00007BB9   salta_sube_izquierda
00:00007BE5   la_y_a_la_izquierda
00:00007BED   salta_sigue
00:00007C01   salta_sigue_izquierda
00:00007C14   salta_baja
00:00007C62   salta_baja_izquierda
00:00007CA7   animacion_entre_fases
00:00007CB2   quemando_al_prota
00:00007CDD   rutina_espera_quemando_1
00:00007CF6   rutina_espera_quemando_2
00:00007D40   completamos_la_frase_en_ingles
00:00007D4C   ha_saltado_la_rutina_anterior
00:00007D52   rutina_pone_consejo
00:00007D7F   consejos_fase_2
00:00007D85 X consejo_ing_fase_2
00:00007D91   consejo_esp_fase_2
00:00007D9D   consejos_fase_3
00:00007DA3 X consejo_ing_fase_3
00:00007DAF   consejo_esp_fase_3
00:00007DBB   consejos_fase_4
00:00007DC1 X consejo_ing_fase_4
00:00007DC7   consejo_esp_fase_4
00:00007DCD   consejos_fase_5
00:00007DD3 X consejo_ing_fase_5
00:00007DDF   consejo_esp_fase_5
00:00007DEB   consejos_fase_6
00:00007DF1 X consejo_ing_fase_6
00:00007DFD   consejo_esp_fase_6
00:00007E03   consejos_fase_7
00:00007E09 X consejo_ing_fase_7
00:00007E15   consejo_esp_fase_7
00:00007E1B   consejos_fase_8
00:00007E21 X consejo_ing_fase_8
00:00007E2D   consejo_esp_fase_8
00:00007E39   consejos_fase_9
00:00007E3F X consejo_ing_fase_9
00:00007E57   consejo_esp_fase_9
00:00007E5D   rutina_espera_quemando_2_cont
00:00007E6D   paseito_entre_fases
00:00007ED0 X aparece_el_bombero
00:00007F06 X aparece_el_bombero_2
00:00007F1D X aparece_el_bombero_3
00:00007F34 X aparece_el_bombero_4
00:00007F4B X aparece_el_bombero_5
00:00007F62 X aparece_el_bombero_6
00:00007F77   aparece_el_bombero_7
00:00007FA0 X aparece_el_bombero_8
00:00007FE1   aparece_el_bombero_9
00:00007FEA   tiles_cambiantes_entre_fases
00:00008009   tiles_cambiantes_1_entre_fases
00:00008012   limpia_clock_a_10_entre_fases
00:0000801A   espera_de_animaciones
00:00008026   suma_a_y
00:0000802B   movimiento_serpientes
00:0000802F X analiza_serpiente_1
00:0000804B   analiza_serpiente_2
00:00008067   analiza_serpiente_3
00:00008083   analiza_serpiente_4
00:0000809E   atributos_serpiente_detallados
00:000080D1   no_Esta_en_pantalla
00:000080E1   pinta_muerta_1
00:000080F4   pinta_muerta_2
00:00008107   pinta_muerta_3
00:0000811A   pinta_muerta_4
00:0000812A   pintamos_serpiente_muerta
00:00008151   rutina_de_movimiento_serpientes
00:00008161 X resta_x_serpiente
00:000081AE   resta_x_serpiente_final
00:000081B7   suma_x_serpiente
00:00008203   suma_x_serpiente_final
00:0000820C   va_a_pantalla_1
00:00008218   va_a_pantalla_2
00:00008224   serp_cambia_paso_a_derecha
00:0000822B   serp_cambia_paso_a_izquierda
00:00008231   pose_serp
00:00008247 X paso_1_serp
00:0000824E   paso_2_serp
00:00008252   elegir_sprite_serp
00:00008258 X suma_direccion_0_serp
00:0000825E X suma_paso_00_serp
00:00008264   suma_paso_01_serp
00:0000826A   suma_direccion_1_serp
00:00008270 X suma_paso_10_serp
00:00008276   suma_paso_11_serp
00:0000827C X uno_diez
00:00008285   seis_diez
00:0000828B   x_diez
00:00008292   dos_diez
00:0000829A   menos_dos_diez
00:000082A2   seis_dos
00:000082A8   x_dos
00:000082AF   cero_cero
00:000082B3   x_cero
00:000082B8   menos_uno_cero
00:000082C0 X siete_dieciseis
00:000082C6   x_dieciseis
00:000082CD   menos_uno_dieciseis
00:000082D4   dieciseis_dieciseis
00:000082DC   menos_dos_dieciocho
00:000082E2   x_dieciocho
00:000082E9   catorce_diez
00:000082F1   diez_diez
00:000082F9   doce_diez
00:00008301   catorce_dos
00:00008309   catorce_dieciocho
00:00008311 X veinte_diez
00:0000831B   veintidos_diez
00:00008324   menos_diez_diez
00:0000832D   seis_dieciocho
00:00008335   menos_diez_dieciocho
00:0000833D   tres_quince
00:00008343   x_quince
00:0000834A   tres_dos
00:00008353   dos_dieciocho
00:0000835B   ocho_dieciocho
00:00008364   diez_dieciocho
00:0000836D   ocho_uno
00:00008373 X x_uno
00:00008379   ocho_cuatro
00:00008381   dieciseis_quince
00:00008389   dieciseis_dos
00:00008392   menos_dos_menos_cuatro
00:0000839A   nueve_menos_cuatro
00:000083A2   uno_menos_cuatro
00:000083A7   x_cuatro
00:000083AE   x_cuatro_mas
00:000083B5   menos_uno_quince
00:000083BC   menos_uno_dos
00:000083C4   pinta_en_pantalla
00:000083D6   efecto_sonido
00:000083DA   CERO_CUATRO_OCHO
00:000083E4   UNO_CINCO_NUEVE
00:000083EE   DOS_SEIS_DIEZ
00:000083FC   depack_VRAM
00:00008428   literal
00:0000842D   loop
00:00008436 X getlen
00:0000843C   lus
00:00008459   lenok
00:00008466   mode7
00:0000846C   mode6
00:00008472   mode5
00:00008478   mode4
00:0000847E   mode3
00:00008484   mode2
00:00008494   offsok
00:0000849F   offsok.loop
00:000084E5   getbit
00:000084E9   getbitexx
00:000084EF   Depack_out
00:000084F0   modes
00:000084FE   depack
00:000084FE X unpack
00:00008522   pletter.literal
00:00008524   pletter.loop
00:0000852D X pletter.getlen
00:00008533   pletter.getlen.lus
00:0000854E   pletter.getlen.lenok
00:0000855B   pletter.mode6
00:00008561   pletter.mode5
00:00008567   pletter.mode4
00:0000856D   pletter.mode3
00:00008573   pletter.mode2
00:00008583   pletter.offsok
00:00008592   pletter.getbit
00:00008596   pletter.getbitexx
00:0000859C   pletter.modes
00:000085A8   nuestra_isr
00:00000000   CHNPRM_PsInOr
00:00000001   CHNPRM_PsInSm
00:00000002   CHNPRM_CrAmSl
00:00000003   CHNPRM_CrNsSl
00:00000004   CHNPRM_CrEnSl
00:00000005   CHNPRM_TSlCnt
00:00000006   CHNPRM_CrTnSl
00:00000008   CHNPRM_TnAcc
00:0000000A   CHNPRM_COnOff
00:0000000B   CHNPRM_OnOffD
00:0000000C   CHNPRM_OffOnD
00:0000000D   CHNPRM_OrnPtr
00:0000000F   CHNPRM_SamPtr
00:00000011   CHNPRM_NNtSkp
00:00000012   CHNPRM_Note
00:00000013   CHNPRM_SlToNt
00:00000014   CHNPRM_Env_En
00:00000015   CHNPRM_Flags
00:00000016   CHNPRM_TnSlDl
00:00000017   CHNPRM_TSlStp
00:00000019   CHNPRM_TnDelt
00:0000001B   CHNPRM_NtSkCn
00:0000001C   CHNPRM_Volume
00:0000001D X CHNPRM_Size
00:00000000   AR_TonA
00:00000002   AR_TonB
00:00000004   AR_TonC
00:00000006   AR_Noise
00:00000007   AR_Mixer
00:00000008   AR_AmplA
00:00000009   AR_AmplB
00:0000000A   AR_AmplC
00:0000000B   AR_Env
00:0000000D   AR_EnvTp
00:000085B2   CHECKLP
00:000085C3 X PT3_MUTE
00:000085CF   PT3_INIT
00:0000860E   PT3_INIT.TP_0
00:0000861A   PT3_INIT.TP_1
00:00008621   PT3_INIT.TP_2
00:0000868F   PT3_INIT.L1
00:0000869C   PT3_INIT.L2
00:000086A0 X PT3_INIT.L3
00:000086C7   PT3_INIT.CORR_1
00:000086D5   PT3_INIT.CORR_2
00:000086DC   PT3_INIT.TC_EXIT
00:000086E7   PT3_INIT.INITV1
00:000086EF   PT3_INIT.INITV2
00:00008703   PT3_INIT.INITV3
00:00008707   PD_OrSm
00:00008711   PD_SAM
00:00008712   PD_SAM_
00:00008728   PD_VOL
00:00008731   PD_EOff
00:00008739   PD_SorE
00:00008743   PD_ENV
00:00008748   PD_ORN
00:0000874D   PD_ESAM
00:0000875A   PTDECOD
00:00008769   PD_LOOP
00:0000876C   PD_LP2
00:00008799   PD_NOIS
00:0000879E   PD_REL
00:000087A4   PD_NOTE
00:000087AC   PD_RES
00:000087BE   PD_FIN
00:000087C5   C_PORTM
00:00008810   C_PORTM.NOSIG
00:0000881A   SET_STP
00:00008826   C_GLISS
00:00008839   C_SMPOS
00:0000883F   C_ORPOS
00:00008845   C_VIBRT
00:0000885D   C_ENGLS
00:0000886F   C_DELAY
00:00008875   SETENV
00:00008890   C_NOP
00:00008891   SETORN
00:000088AA   SPCCOMS
00:000088CA   CHREGS
00:000088ED   CHREGS.CH_ORPS
00:000088F8   CHREGS.CH_NTP
00:000088FE   CHREGS.CH_NOK
00:00008919   CHREGS.CH_SMPS
00:0000892F   CHREGS.CH_NOAC
00:00008976   CHREGS.CH_STPP
00:0000898B   CHREGS.CH_AMP
00:0000899D   CHREGS.CH_AMIN
00:000089A2   CHREGS.CH_SVAM
00:000089A5   CHREGS.CH_NOAM
00:000089AE   CHREGS.CH_APOS
00:000089B4   CHREGS.CH_VOL
00:000089BF X CHREGS.CH_ENV
00:000089C6   CHREGS.CH_NOEN
00:000089E0   CHREGS.NO_ENAC
00:000089E7   CHREGS.NO_ENSL
00:000089F5   CHREGS.CH_MIX
00:000089F9   CHREGS.CH_EXIT
00:00008A18   CHREGS.CH_ONDL
00:00008A1C   PT3_PLAY
00:00008A50   PT3_PLAY.PLNLP
00:00008A77   PT3_PLAY.PL1A
00:00008A82   PT3_PLAY.PL1B
00:00008A97   PT3_PLAY.PL1C
00:00008AAC   PT3_PLAY.PL1D
00:00008AB2   PT3_PLAY.PL2
00:00008B14   PT3_ROUT
00:00008B15   ROUT_A0
00:00008B21   ROUT_A0.LOUT
00:00008B35   NT_DATA
00:00008B45   T_
00:00008B45   TCOLD_0
00:00008B51   TCNEW_1
00:00008B51   TCOLD_1
00:00008B53   TCOLD_2
00:00008B65   TCNEW_3
00:00008B66   TCOLD_3
00:00008B6F   TCNEW_0
00:00008B7A   TCNEW_2
00:00008B85   EMPTYSAMORN
00:00008B89   T_PACK
00:00000000 X AYFXRELATIVE
00:00008BBE   ayFX_SETUP
00:00008BCA   ayFX_END
00:00008BD0   ayFX_INIT
00:00008BE1   ayFX_INIT.CHECK_PRI
00:00008C02   ayFX_INIT.INIT_END
00:00008C06   ayFX_PLAY
00:00008C1A   ayFX_PLAY.TAKECB
00:00008C2B   ayFX_PLAY.CHECK_NN
00:00008C38   ayFX_PLAY.SETPOINTER
00:00008C4C   ayFX_PLAY.SETMASKS
00:00008C5A X ayFX_PLAY.CHK1
00:00008C5C X ayFX_PLAY.PLAY_C
00:00008C69   ayFX_PLAY.CHK2
00:00008C6E X ayFX_PLAY.PLAY_B
00:00008C7B   ayFX_PLAY.CHK3
00:00008C7E X ayFX_PLAY.PLAY_A
00:00008C8B   ayFX_PLAY.SETMIXER
00:0000F000   PT3_SETUP
00:0000F001   PT3_MODADDR
00:0000F003   PT3_CrPsPtr
00:0000F005   PT3_SAMPTRS
00:0000F007   PT3_OrnPtrs
00:0000F009   PT3_PDSP
00:0000F00B   PT3_CSP
00:0000F00D   PT3_PSP
00:0000F00F   PT3_PrNote
00:0000F010   PT3_PrSlide
00:0000F012   PT3_AdInPtA
00:0000F014   PT3_AdInPtB
00:0000F016   PT3_AdInPtC
00:0000F018   PT3_LPosPtr
00:0000F01A   PT3_PatsPtr
00:0000F01C   PT3_Delay
00:0000F01D   PT3_AddToEn
00:0000F01E   PT3_Env_Del
00:0000F01F   PT3_ESldAdd
00:0000F021   PT3_NTL3
00:0000F023   VARS
00:0000F023   ChanA
00:0000F040   ChanB
00:0000F05D   ChanC
00:0000F07A   DelyCnt
00:0000F07B   CurESld
00:0000F07D   CurEDel
00:0000F07E   Ns_Base_AddToNs
00:0000F07E   Ns_Base
00:0000F07F   AddToNs
00:0000F080   NT_
00:0000F140   AYREGS
00:0000F140   VT_
00:0000F14E   EnvBase
00:0000F150   VAR0END
00:0000F150   T1_
00:0000F150   T_NEW_1
00:0000F150   T_OLD_1
00:0000F168   T_OLD_2
00:0000F180   T_NEW_3
00:0000F180   T_OLD_3
00:0000F182   T_OLD_0
00:0000F182   T_NEW_0
00:0000F19A   T_NEW_2
00:0000F240   ayFX_MODE
00:0000F241   ayFX_BANK
00:0000F243   ayFX_PRIORITY
00:0000F244   ayFX_POINTER
00:0000F246   ayFX_TONE
00:0000F248   ayFX_NOISE
00:0000F249   ayFX_VOLUME
00:0000F24A   ayFX_CHANNEL
00:00008C9B   EFECTOS_BAN_P
00:00009329   sanctuary_x
00:00009333   sanctuary_1
00:00009335   sanctuary_2
00:00009337   sanctuary_3
00:00009339   sanctuary_4
00:0000933B   sanctuary_5
00:0000933D   sanctuary_6
00:0000933F   sanctuary_7
00:00009341   sanctuary_8
00:00009343   sanctuary_9
00:00009345   sanctuary_10
00:00009347   sanctuary_11
00:00009349   sanctuary_12
00:0000934B   sanctuary_13
00:0000934D   sanctuary_14
00:0000934F   sanctuary_15
00:00009351   sanctuary_16
00:00009353   sanctuary_17
00:00009355   sanctuary_18
00:00009357   santuario_x
00:00009361   consejo_2
00:00009373   consejo_3
00:00009393   consejo_4
00:000093B1   consejo_5
00:000093D1   consejo_6
00:000093EF   consejo_7
00:0000940D   consejo_8
00:00009425   consejo_9
00:00009443   advice_2
00:00009455   advice_3
00:00009475   advice_4
00:00009493   advice_5
00:000094B3   advice_6
00:000094D1   advice_7
00:000094F1   advice_8
00:00009511   advice_9
00:0000952F   advice_9_1
00:00009532 X lo_has_logrado
00:00009551 X felicidades
00:0000956F   camino_a
00:0000958B   camino_a_ing
00:0000959F   fin_nivel_1_1
00:000095BC   fin_nivel_1_2
00:000095D6   fin_nivel_1_3
00:000095E6   end_level_1_1
00:000095FF   end_level_1_2
00:00009619   end_level_1_3
00:00009627   col_letras_5
00:0000962B   col_letras_7
00:0000962F   col_letras_8
00:00009633   col_letras_9
00:00009637   col_letras_10
00:0000963B   col_letras_12
00:0000963F   blanco
00:000096B8   mas_blanco
00:0000970D   marcador
00:00009727   trofeos
00:00009735   sprites
00:00009735   sprites13
00:00009795 X sprites14
00:000097F5 X sprites15
00:00009855 X sprites16
00:00009E55   sprites2
00:00009F55   sprites3
00:0000A015 X spritescaebom
00:0000A075   sprites4
00:0000A175   sprites5
00:0000A1D5 X sprites6
00:0000A235 X sprites7
00:0000A295 X sprites8
00:0000A2F5 X sprites17
00:0000A3B5   sprites9
00:0000A415 X sprites10
00:0000A475 X sprites11
00:0000A4D5 X sprites12
00:0000A535 X sprites18
00:0000A5F5   sprites_pet
00:0000A6F5 X sprites_exp
00:0000A8D5   sprites_bomb_a
00:0000AAB5   quemado_esp
00:0000AB15   pausa_sprit
00:0000ABD5   sprites_ojos
00:0000AC55   game_over
00:0000AC60   se__acabo
00:0000AC6B   continua_i
00:0000AC79   continua_e
00:0000AC87   pause
00:0000AC8C   ladrillos
00:0000AC91   empresa
00:0000ACAE   empresa_e
00:0000ACCB   titulo_1
00:0000ADAC   mensaje
00:0000ADB1   mensaje_ING
00:0000ADB6   teclado
00:0000ADBD   mando
00:0000ADC4   instrucciones
00:0000ADCF   teclado_e
00:0000ADD7   mando_e
00:0000ADE1   instruccion_e
00:0000ADEA   salir
00:0000ADF7   salir_e
00:0000AE01   copyright
00:0000AE1E   serp_1
00:0000AE20   nada
00:0000AE22   letras_A
00:0000AE42 X letras_E
00:0000AE62 X letras_I
00:0000AE72 X letras_K
00:0000AE7A X letras_L
00:0000AE8A X letras_N
00:0000AE92 X letras_O
00:0000AEB2 X letras_S
00:0000AED2 X letras_W
00:0000AEF2   titulo_centro1
00:0000AF2A   fueguito_1
00:0000AF32   fueguito_2
00:0000AF5A   flame_1
00:0000AF62   flame_2
00:0000AF6A X letras_A_acen
00:0000AF7A X letras_U_acen
00:0000AF82   fuego_quema
00:0000AF9A   fuego_quema_2
00:0000AFB2   parentesis_a
00:0000AFBA X parentesis_c
00:0000AFC2   guion
00:0000AFCA X punto
00:0000AFD2   numero0
00:0000AFF2 X numero4
00:0000B012 X numero8
00:0000B022 X dospuntos
00:0000B02A   agua_1
00:0000B032   chorro_1
00:0000B03A X grifo_1
00:0000B042   fuego_1_2
00:0000B04A   portal_1
00:0000B06A   cuchillo_1
00:0000B06B   bomba_1
00:0000B06C   salpic_1_1
00:0000B074   salpic_1_2
00:0000B07C   agua_2
00:0000B084   chorro_2
00:0000B08C X grifo_2
00:0000B094   fuego_2_2
00:0000B09C   portal_2
00:0000B0BC   cuchillo_2
00:0000B0BD   bomba_2
00:0000B0BE   salpic_2_1
00:0000B0C6   salpic_2_2
00:0000B0CE   color_gas_1
00:0000B0D0   color_mec_1
00:0000B0D2   color_gas_2
00:0000B0D4   color_mec_2
00:0000B0D6   color_gas_3
00:0000B0D8   color_mec_3
00:0000B0DA   color_gas_4
00:0000B0DC   color_mec_4
00:0000B0DE   color_gas_5
00:0000B0E0   color_mec_5
00:0000B0E2   color_gas_6
00:0000B0E4   color_mec_6
00:0000B0E6   color_gas_7
00:0000B0E8   color_mec_7
00:0000B0EA X color_gas_8
00:0000B0EB X color_mec_8
00:0000B0EC   setrompage0
00:0000B0F1   recbios
00:0000B0F4   setslotpage0
00:0000B135   setslotpage0.nocarry
00:0000B138   COLOR_FINAL
00:0000B17E   TILES_FINAL
00:0000B686 X setslotpage0_end
00:0000B686   paso_negro_izq
00:0000B6BC   entre_fases
00:0000B780   fase_17
00:0000B8A6   fase_18
00:0000B9D6   FINAL_ING
00:0000BBCB   FINAL
00:0000C000   inicio_ram
00:0000C001   idioma
00:0000C002   petiso_que_toca
00:0000C003   petisox
00:0000C004   petisoy
00:0000C005   espera_petiso
00:0000C006   espera_petiso_resta
00:0000C007   espera_petiso_resta_2
00:0000C008   y_exp
00:0000C009   valor_suma_resta_exp
00:0000C00A   direccion_exp
00:0000C00B   cuenta_gira_exp
00:0000C00C   retardo_exp
00:0000C00D   VIEJA_INTERR
00:0000C012   fuego_cambia
00:0000C014   fuego_cambiante
00:0000C015   y_serp
00:0000C016   nivel
00:0000C017   clock
00:0000C019   CLOCK
00:0000C01B   px
00:0000C01C   py
00:0000C01D   puede_cambiar_de_direccion
00:0000C01E   vidas_prota
00:0000C01F   color_prota
00:0000C020   color_lineas_prota
00:0000C021   muerto
00:0000C022   fase_en_la_que_esta
00:0000C023   estado_prota
00:0000C024   prev_dir_prota
00:0000C025   salto_pulsado
00:0000C026   pasos_de_salto
00:0000C027   dir_prota
00:0000C028   paso
00:0000C029   retard_anim
00:0000C02A   atributos_sprite_general
00:0000C05A   tiene_objeto
00:0000C05B   px_salida
00:0000C05C   py_salida
00:0000C05D   x_explosion
00:0000C05E   y_explosion
00:0000C05F   estado_de_explosion
00:0000C060   contador_retardo_explosion
00:0000C061   buffer_colisiones
00:0000C341   buffer_colisiones_2
00:0000C621   pantalla_activa
00:0000C622   estado_de_salto
00:0000C623   mechero
00:0000C624   gasolina
00:0000C625   posicion_puerta
00:0000C627   pantalla_puerta
00:0000C628   ya_ha_cambiado_puerta
00:0000C629   increm
00:0000C62A   tile_a_poner_agua
00:0000C62B   score
00:0000C62D   contador_para_puntuacion
00:0000C62F   posicion_del_punto_unidades
00:0000C630   posicion_del_punto_decenas
00:0000C631   posicion_del_punto_centenas
00:0000C632   posicion_del_punto_millares
00:0000C633   cuenta_puntos_o_no
00:0000C634   cuanto_sumamos_a_score
00:0000C635   variables_serpiente_1
00:0000C63F   variables_serpiente_2
00:0000C649   variables_serpiente_3
00:0000C653   variables_serpiente_4
00:0000C65D   colision_cuchillo_serp_real
00:0000C65E   serp1
00:0000C65F   serp2
00:0000C660   serp3
00:0000C661   serp4
00:0000C662   cont_no_salta_dos_seguidas
00:0000C663   pasamos_la_fase
00:0000C664   momento_lanzamiento
00:0000C665   pantalla_cuchillo
00:0000C666   contador_poses_lanzar
00:0000C667   recordar_lo_que_habia
00:0000C669   dir_cuchillo
00:0000C66A   cx
00:0000C66B   cy
00:0000C66C   escalera_activada
00:0000C66D   posicion_escalera
00:0000C66F   contador_escalera
00:0000C670   limite_escalera
00:0000C672   pantalla_escalera
00:0000C673   OUS_ACTIU
00:0000C674   trampa
00:0000C675   inmune_serp
00:0000C676   inmune_bomb
00:0000C677   grifo_estado
00:0000C678   ESTADO_MUSICA
00:0000C679   vision_estado
00:0000C67A   colision_bombero_prota_real
00:0000C67B   bombero_1
00:0000C67C   bombero_control
00:0000C689   toca_bombero
00:0000C68A   velocidad_paseo_fases
00:0000C68B   tile_grifo_balsa_1
00:0000C68D   tile_grifo_balsa_2
00:0000C68F   grifos_balsa_cerrados
00:0000C690   posicion_balsa_desde_grifo
00:0000C692   balsa_activa
00:0000C693   balsa_bacia
00:0000C694   pantalla_tile_grifo_balsa_1
00:0000C695   pantalla_tile_grifo_balsa_2
00:0000C696   pantalla_balsa
00:0000C697   GAME_OVER
00:0000C81D   MUTE
00:0000C892   MUERTO
00:0000CA07   clock_1
00:0000CA08   ENTRE_FASES
00:0000CBDE   sticky
00:0000CBDF   EFECTOS_BANCO
00:0000D372   posicion_brillo_items
00:0000D373   GEN_MUSIC
00:0000DEE0   sigue_pulsando
00:0000DEE1   VDPW99
00:0000DEE2   VDPW98
00:0000DEE3   valor_a_cambiar_en_tile_v


 Output: burnusexprom.out
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: *  Used: 00000000

    No output

 Output: BURNUSexp.rom
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: *  Used: 0000C000

   Address   Length Align   Label
   00000000   49152         instru_caste
